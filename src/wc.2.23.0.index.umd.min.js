/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/@walletconnect/ethereum-provider@2.23.0/dist/index.umd.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(e,t){"object"==typeof exports&&typeof module<"u"?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=typeof globalThis<"u"?globalThis:e||self)["@walletconnect/ethereum-provider"]={})}(this,(function(e){"use strict";var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function r(e){var t=e.default;if("function"==typeof t){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r}var n,i={exports:{}},s="object"==typeof Reflect?Reflect:null,o=s&&"function"==typeof s.apply?s.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=s&&"function"==typeof s.ownKeys?s.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function c(){c.init.call(this)}i.exports=c,i.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,s),n(r)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}w(e,t,s,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&w(e,"error",t,r)}(e,i,{once:!0})}))},c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var l=10;function d(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?c.defaultMaxListeners:e._maxListeners}function h(e,t,r,n){var i,s,o;if(d(r),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),o=s[t]),void 0===o)o=s[t]=r,++e._eventsCount;else if("function"==typeof o?o=s[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=u(e))>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,function(e){console&&console.warn&&console.warn(e)}(a)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=p.bind(n);return i.listener=r,n.wrapFn=i,i}function g(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):y(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function y(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function w(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(s){n.once&&e.removeEventListener(t,i),r(s)}))}}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),c.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},c.prototype.getMaxListeners=function(){return u(this)},c.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)o(c,this,t);else{var l=c.length,d=y(c,l);for(r=0;r<l;++r)o(d[r],this,t)}return!0},c.prototype.addListener=function(e,t){return h(this,e,t,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(e,t){return h(this,e,t,!0)},c.prototype.once=function(e,t){return d(t),this.on(e,f(this,e,t)),this},c.prototype.prependOnceListener=function(e,t){return d(t),this.prependListener(e,f(this,e,t)),this},c.prototype.removeListener=function(e,t){var r,n,i,s,o;if(d(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){o=r[s].listener,i=s;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},c.prototype.listeners=function(e){return g(this,e,!0)},c.prototype.rawListeners=function(e){return g(this,e,!1)},c.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},c.prototype.listenerCount=m,c.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};var b=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,s=t.length;i<s;i++)(n||!(i in t))&&(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},v=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},E=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},A=function(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"},x=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},C=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},S=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,I=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],_=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function k(e){return e?P(e):typeof document>"u"&&typeof navigator<"u"&&"ReactNative"===navigator.product?new C:typeof navigator<"u"?P(navigator.userAgent):function(){var e=typeof process<"u"&&process.version;return e?new E(process.version.slice(1)):null}()}function P(e){var t=function(e){return""!==e&&I.reduce((function(t,r){var n=r[0],i=r[1];if(t)return t;var s=i.exec(e);return!!s&&[n,s]}),!1)}(e);if(!t)return null;var r=t[0],n=t[1];if("searchbot"===r)return new x;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<3&&(i=b(b([],i,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(3-i.length),!0)):i=[];var s=i.join("."),o=function(e){for(var t=0,r=_.length;t<r;t++){var n=_[t],i=n[0];if(n[1].exec(e))return i}return null}(e),a=S.exec(e);return a&&a[1]?new A(r,s,o,a[1]):new v(r,s,o)}var T={},O=function(e,t){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};
/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var N=function(){return N=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},N.apply(this,arguments)};function R(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function $(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function B(e){return this instanceof B?(this.v=e,this):new B(e)}var M,U=Object.freeze({__proto__:null,__extends:function(e,t){function r(){this.constructor=e}O(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},get __assign(){return N},__rest:function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},__decorate:function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},__param:function(e,t){return function(r,n){t(r,n,e)}},__metadata:function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter:function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(o,a)}c((n=n.apply(e,t||[])).next())}))},__generator:function(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},__createBinding:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},__exportStar:function(e,t){for(var r in e)"default"!==r&&!t.hasOwnProperty(r)&&(t[r]=e[r])},__values:R,__read:$,__spread:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat($(arguments[t]));return e},__spreadArrays:function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n},__await:B,__asyncGenerator:function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){s.push([e,t,r,n])>1||a(e,t)}))})}function a(e,t){try{!function(e){e.value instanceof B?Promise.resolve(e.value.v).then(c,l):d(s[0][2],e)}(i[e](t))}catch(e){d(s[0][3],e)}}function c(e){a("next",e)}function l(e){a("throw",e)}function d(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}},__asyncDelegator:function(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:B(e[n](t)),done:"return"===n}:i?i(t):t}:i}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=R(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},__importDefault:function(e){return e&&e.__esModule?e:{default:e}},__classPrivateFieldGet:function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet:function(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}}),L=r(U),D={},j={};var H,z={},F={},V={};var Z,q,W,K,G={};function Y(){return q||(q=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=L;t.__exportStar((H||(H=1,Object.defineProperty(V,"__esModule",{value:!0}),V.ONE_THOUSAND=V.ONE_HUNDRED=void 0,V.ONE_HUNDRED=100,V.ONE_THOUSAND=1e3),V),e),t.__exportStar(function(){return Z||(Z=1,e=G,Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=5*e.ONE_MINUTE,e.TEN_MINUTES=10*e.ONE_MINUTE,e.THIRTY_MINUTES=30*e.ONE_MINUTE,e.SIXTY_MINUTES=60*e.ONE_MINUTE,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=3*e.ONE_HOUR,e.SIX_HOURS=6*e.ONE_HOUR,e.TWELVE_HOURS=12*e.ONE_HOUR,e.TWENTY_FOUR_HOURS=24*e.ONE_HOUR,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=3*e.ONE_DAY,e.FIVE_DAYS=5*e.ONE_DAY,e.SEVEN_DAYS=7*e.ONE_DAY,e.THIRTY_DAYS=30*e.ONE_DAY,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=2*e.ONE_WEEK,e.THREE_WEEKS=3*e.ONE_WEEK,e.FOUR_WEEKS=4*e.ONE_WEEK,e.ONE_YEAR=365*e.ONE_DAY),G;var e}(),e)}(F)),F}function J(){return K||(K=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=L;t.__exportStar((M||(M=1,Object.defineProperty(j,"__esModule",{value:!0}),j.delay=void 0,j.delay=function(e){return new Promise((t=>{setTimeout((()=>{t(!0)}),e)}))}),j),e),t.__exportStar(function(){if(W)return z;W=1,Object.defineProperty(z,"__esModule",{value:!0}),z.fromMiliseconds=z.toMiliseconds=void 0;const e=Y();return z.toMiliseconds=function(t){return t*e.ONE_THOUSAND},z.fromMiliseconds=function(t){return Math.floor(t/e.ONE_THOUSAND)},z}(),e)}(D)),D}var X,Q={};var ee,te,re={},ne={};function ie(){return te||(te=1,e=re,Object.defineProperty(e,"__esModule",{value:!0}),L.__exportStar((ee||(ee=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.IWatch=void 0,ne.IWatch=class{}),ne),e)),re;var e}!function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=L;t.__exportStar(J(),e),t.__exportStar(function(){if(X)return Q;X=1,Object.defineProperty(Q,"__esModule",{value:!0}),Q.Watch=void 0;class e{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){const t=this.get(e);if(typeof t.elapsed<"u")throw new Error(`Watch already stopped for label: ${e}`);const r=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:r})}get(e){const t=this.timestamps.get(e);if(typeof t>"u")throw new Error(`No timestamp found for label: ${e}`);return t}elapsed(e){const t=this.get(e);return t.elapsed||Date.now()-t.started}}return Q.Watch=e,Q.default=e,Q}(),e),t.__exportStar(ie(),e),t.__exportStar(Y(),e)}(T);var se={};function oe(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}function ae(e){const t=oe(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}Object.defineProperty(se,"__esModule",{value:!0}),se.getLocalStorage=se.getLocalStorageOrThrow=se.getCrypto=se.getCryptoOrThrow=de=se.getLocation=se.getLocationOrThrow=le=se.getNavigator=se.getNavigatorOrThrow=ce=se.getDocument=se.getDocumentOrThrow=se.getFromWindowOrThrow=se.getFromWindow=void 0,se.getFromWindow=oe,se.getFromWindowOrThrow=ae,se.getDocumentOrThrow=function(){return ae("document")};var ce=se.getDocument=function(){return oe("document")};se.getNavigatorOrThrow=function(){return ae("navigator")};var le=se.getNavigator=function(){return oe("navigator")};se.getLocationOrThrow=function(){return ae("location")};var de=se.getLocation=function(){return oe("location")};se.getCryptoOrThrow=function(){return ae("crypto")},se.getCrypto=function(){return oe("crypto")},se.getLocalStorageOrThrow=function(){return ae("localStorage")},se.getLocalStorage=function(){return oe("localStorage")};var ue={};Object.defineProperty(ue,"__esModule",{value:!0});var he=ue.getWindowMetadata=void 0;const pe=se;he=ue.getWindowMetadata=function(){let e,t;try{e=pe.getDocumentOrThrow(),t=pe.getLocationOrThrow()}catch{return null}function r(...t){const r=e.getElementsByTagName("meta");for(let e=0;e<r.length;e++){const n=r[e],i=["itemprop","property","name"].map((e=>n.getAttribute(e))).filter((e=>!!e&&t.includes(e)));if(i.length&&i){const e=n.getAttribute("content");if(e)return e}}return""}const n=function(){let t=r("name","og:site_name","og:title","twitter:title");return t||(t=e.title),t}();return{description:r("description","og:description","twitter:description","keywords"),url:t.origin,icons:function(){const r=e.getElementsByTagName("link"),n=[];for(let e=0;e<r.length;e++){const i=r[e],s=i.getAttribute("rel");if(s&&s.toLowerCase().indexOf("icon")>-1){const e=i.getAttribute("href");if(e)if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let r=t.protocol+"//"+t.host;if(0===e.indexOf("/"))r+=e;else{const n=t.pathname.split("/");n.pop();r+=n.join("/")+"/"+e}n.push(r)}else if(0===e.indexOf("//")){const r=t.protocol+e;n.push(r)}else n.push(e)}}return n}(),name:n}};class fe extends Error{constructor(e,t={}){const r=(()=>{if(t.cause instanceof fe){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&"string"==typeof t.cause.details?t.cause.details:t.cause?.message?t.cause.message:t.details})(),n=t.cause instanceof fe&&t.cause.docsPath||t.docsPath,i=`https://oxlib.sh${n??""}`;super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...r||n?["",r?`Details: ${r}`:void 0,n?`See: ${i}`:void 0]:[]].filter((e=>"string"==typeof e)).join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@0.1.1"}),this.cause=t.cause,this.details=r,this.docs=i,this.docsPath=n,this.shortMessage=e}walk(e){return ge(this,e)}}function ge(e,t){return t?.(e)?e:e&&"object"==typeof e&&"cause"in e&&e.cause?ge(e.cause,t):t?null:e}const me="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function ye(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function we(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function be(e,...t){if(!ye(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function ve(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.createHasher");we(e.outputLen),we(e.blockLen)}function Ee(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ae(e,t){be(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function xe(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Ce(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Se(e,t){return e<<32-t|e>>>t}function Ie(e,t){return e<<t|e>>>32-t>>>0}function _e(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const ke=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=_e(e[t]);return e},Pe="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,Te=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Oe(e){if(be(e),Pe)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=Te[e[r]];return t}const Ne=48,Re=57,$e=65,Be=70,Me=97,Ue=102;function Le(e){return e>=Ne&&e<=Re?e-Ne:e>=$e&&e<=Be?e-($e-10):e>=Me&&e<=Ue?e-(Me-10):void 0}function De(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(Pe)return Uint8Array.fromHex(e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=Le(e.charCodeAt(i)),s=Le(e.charCodeAt(i+1));if(void 0===r||void 0===s){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+s}return n}function je(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}function He(e){return"string"==typeof e&&(e=je(e)),be(e),e}function ze(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];be(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}class Fe{}function Ve(e){const t=t=>e().update(He(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function Ze(e=32){if(me&&"function"==typeof me.getRandomValues)return me.getRandomValues(new Uint8Array(e));if(me&&"function"==typeof me.randomBytes)return Uint8Array.from(me.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function qe(e,t,r){return e&t^~e&r}function We(e,t,r){return e&t^e&r^t&r}class Ke extends Fe{constructor(e,t,r,n){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.buffer=new Uint8Array(e),this.view=Ce(this.buffer)}update(e){Ee(this),be(e=He(e));const{view:t,buffer:r,blockLen:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o!==n)r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=Ce(e);for(;n<=i-s;s+=n)this.process(t,s)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ee(this),Ae(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:s}=this;t[s++]=128,xe(this.buffer.subarray(s)),this.padOffset>n-s&&(this.process(r,0),s=0);for(let e=s;e<n;e++)t[e]=0;(function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+l,a,n)})(r,n-8,BigInt(8*this.length),i),this.process(r,0);const o=Ce(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)o.setUint32(4*e,l[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return e.destroyed=s,e.finished=i,e.length=n,e.pos=o,n%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Ge=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ye=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Je=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Xe=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Qe=Uint8Array.from(new Array(16).fill(0).map(((e,t)=>t))),et=Qe.map((e=>(9*e+5)%16)),tt=(()=>{const e=[[Qe],[et]];for(let t=0;t<4;t++)for(let r of e)r.push(r[t].map((e=>Xe[e])));return e})(),rt=tt[0],nt=tt[1],it=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>Uint8Array.from(e))),st=rt.map(((e,t)=>e.map((e=>it[t][e])))),ot=nt.map(((e,t)=>e.map((e=>it[t][e])))),at=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),ct=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function lt(e,t,r,n){return 0===e?t^r^n:1===e?t&r|~t&n:2===e?(t|~r)^n:3===e?t&n|r&~n:t^(r|~n)}const dt=new Uint32Array(16);class ut extends Ke{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:r,h3:n,h4:i}=this;return[e,t,r,n,i]}set(e,t,r,n,i){this.h0=0|e,this.h1=0|t,this.h2=0|r,this.h3=0|n,this.h4=0|i}process(e,t){for(let r=0;r<16;r++,t+=4)dt[r]=e.getUint32(t,!0);let r=0|this.h0,n=r,i=0|this.h1,s=i,o=0|this.h2,a=o,c=0|this.h3,l=c,d=0|this.h4,u=d;for(let e=0;e<5;e++){const t=4-e,h=at[e],p=ct[e],f=rt[e],g=nt[e],m=st[e],y=ot[e];for(let t=0;t<16;t++){const n=Ie(r+lt(e,i,o,c)+dt[f[t]]+h,m[t])+d|0;r=d,d=c,c=0|Ie(o,10),o=i,i=n}for(let e=0;e<16;e++){const r=Ie(n+lt(t,s,a,l)+dt[g[e]]+p,y[e])+u|0;n=u,u=l,l=0|Ie(a,10),a=s,s=r}}this.set(this.h1+o+l|0,this.h2+c+u|0,this.h3+d+n|0,this.h4+r+s|0,this.h0+i+a|0)}roundClean(){xe(dt)}destroy(){this.destroyed=!0,xe(this.buffer),this.set(0,0,0,0,0)}}const ht=Ve((()=>new ut)),pt=BigInt(2**32-1),ft=BigInt(32);function gt(e,t=!1){return t?{h:Number(e&pt),l:Number(e>>ft&pt)}:{h:0|Number(e>>ft&pt),l:0|Number(e&pt)}}function mt(e,t=!1){const r=e.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:r,l:o}=gt(e[s],t);[n[s],i[s]]=[r,o]}return[n,i]}const yt=(e,t,r)=>e>>>r,wt=(e,t,r)=>e<<32-r|t>>>r,bt=(e,t,r)=>e>>>r|t<<32-r,vt=(e,t,r)=>e<<32-r|t>>>r,Et=(e,t,r)=>e<<64-r|t>>>r-32,At=(e,t,r)=>e>>>r-32|t<<64-r;function xt(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}}const Ct=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),St=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,It=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),_t=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,kt=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),Pt=(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0,Tt=BigInt(0),Ot=BigInt(1),Nt=BigInt(2),Rt=BigInt(7),$t=BigInt(256),Bt=BigInt(113),Mt=[],Ut=[],Lt=[];for(let e=0,t=Ot,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],Mt.push(2*(5*n+r)),Ut.push((e+1)*(e+2)/2%64);let i=Tt;for(let e=0;e<7;e++)t=(t<<Ot^(t>>Rt)*Bt)%$t,t&Nt&&(i^=Ot<<(Ot<<BigInt(e))-Ot);Lt.push(i)}const Dt=mt(Lt,!0),jt=Dt[0],Ht=Dt[1],zt=(e,t,r)=>r>32?((e,t,r)=>t<<r-32|e>>>64-r)(e,t,r):((e,t,r)=>e<<r|t>>>32-r)(e,t,r),Ft=(e,t,r)=>r>32?((e,t,r)=>e<<r-32|t>>>64-r)(e,t,r):((e,t,r)=>t<<r|e>>>32-r)(e,t,r);class Vt extends Fe{constructor(e,t,r,n=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,we(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");var s;this.state=new Uint8Array(200),this.state32=(s=this.state,new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4)))}clone(){return this._cloneInto()}keccak(){ke(this.state32),function(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const n=(t+8)%10,i=(t+2)%10,s=r[i],o=r[i+1],a=zt(s,o,1)^r[n],c=Ft(s,o,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){const n=Ut[r],s=zt(t,i,n),o=Ft(t,i,n),a=Mt[r];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=jt[n],e[1]^=Ht[n]}xe(r)}(this.state32,this.rounds),ke(this.state32),this.posOut=0,this.pos=0}update(e){Ee(this),be(e=He(e));const{blockLen:t,state:r}=this,n=e.length;for(let i=0;i<n;){const s=Math.min(t-this.pos,n-i);for(let t=0;t<s;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,!!(128&t)&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){Ee(this,!1),be(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return we(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ae(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,xe(this.state)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new Vt(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}const Zt=(Kt=1,Gt=136,Yt=32,Ve((()=>new Vt(Gt,Kt,Yt)))),qt=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Wt=new Uint32Array(64);var Kt,Gt,Yt;class Jt extends Ke{constructor(e=32){super(64,e,8,!1),this.A=0|Ge[0],this.B=0|Ge[1],this.C=0|Ge[2],this.D=0|Ge[3],this.E=0|Ge[4],this.F=0|Ge[5],this.G=0|Ge[6],this.H=0|Ge[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[e,t,r,n,i,s,o,a]}set(e,t,r,n,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)Wt[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=Wt[e-15],r=Wt[e-2],n=Se(t,7)^Se(t,18)^t>>>3,i=Se(r,17)^Se(r,19)^r>>>10;Wt[e]=i+Wt[e-7]+n+Wt[e-16]|0}let{A:r,B:n,C:i,D:s,E:o,F:a,G:c,H:l}=this;for(let e=0;e<64;e++){const t=l+(Se(o,6)^Se(o,11)^Se(o,25))+qe(o,a,c)+qt[e]+Wt[e]|0,d=(Se(r,2)^Se(r,13)^Se(r,22))+We(r,n,i)|0;l=c,c=a,a=o,o=s+t|0,s=i,i=n,n=r,r=t+d|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(r,n,i,s,o,a,c,l)}roundClean(){xe(Wt)}destroy(){this.set(0,0,0,0,0,0,0,0),xe(this.buffer)}}const Xt=mt(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),Qt=Xt[0],er=Xt[1],tr=new Uint32Array(80),rr=new Uint32Array(80);class nr extends Ke{constructor(e=64){super(128,e,16,!1),this.Ah=0|Je[0],this.Al=0|Je[1],this.Bh=0|Je[2],this.Bl=0|Je[3],this.Ch=0|Je[4],this.Cl=0|Je[5],this.Dh=0|Je[6],this.Dl=0|Je[7],this.Eh=0|Je[8],this.El=0|Je[9],this.Fh=0|Je[10],this.Fl=0|Je[11],this.Gh=0|Je[12],this.Gl=0|Je[13],this.Hh=0|Je[14],this.Hl=0|Je[15]}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:l,Fh:d,Fl:u,Gh:h,Gl:p,Hh:f,Hl:g}=this;return[e,t,r,n,i,s,o,a,c,l,d,u,h,p,f,g]}set(e,t,r,n,i,s,o,a,c,l,d,u,h,p,f,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|d,this.Fl=0|u,this.Gh=0|h,this.Gl=0|p,this.Hh=0|f,this.Hl=0|g}process(e,t){for(let r=0;r<16;r++,t+=4)tr[r]=e.getUint32(t),rr[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|tr[e-15],r=0|rr[e-15],n=bt(t,r,1)^bt(t,r,8)^yt(t,0,7),i=vt(t,r,1)^vt(t,r,8)^wt(t,r,7),s=0|tr[e-2],o=0|rr[e-2],a=bt(s,o,19)^Et(s,o,61)^yt(s,0,6),c=vt(s,o,19)^At(s,o,61)^wt(s,o,6),l=It(i,c,rr[e-7],rr[e-16]),d=_t(l,n,a,tr[e-7],tr[e-16]);tr[e]=0|d,rr[e]=0|l}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:l,Eh:d,El:u,Fh:h,Fl:p,Gh:f,Gl:g,Hh:m,Hl:y}=this;for(let e=0;e<80;e++){const t=bt(d,u,14)^bt(d,u,18)^Et(d,u,41),w=vt(d,u,14)^vt(d,u,18)^At(d,u,41),b=d&h^~d&f,v=kt(y,w,u&p^~u&g,er[e],rr[e]),E=Pt(v,m,t,b,Qt[e],tr[e]),A=0|v,x=bt(r,n,28)^Et(r,n,34)^Et(r,n,39),C=vt(r,n,28)^At(r,n,34)^At(r,n,39),S=r&i^r&o^i&o,I=n&s^n&a^s&a;m=0|f,y=0|g,f=0|h,g=0|p,h=0|d,p=0|u,({h:d,l:u}=xt(0|c,0|l,0|E,0|A)),c=0|o,l=0|a,o=0|i,a=0|s,i=0|r,s=0|n;const _=Ct(A,C,I);r=St(_,E,x,S),n=0|_}({h:r,l:n}=xt(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=xt(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=xt(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l:l}=xt(0|this.Dh,0|this.Dl,0|c,0|l)),({h:d,l:u}=xt(0|this.Eh,0|this.El,0|d,0|u)),({h:h,l:p}=xt(0|this.Fh,0|this.Fl,0|h,0|p)),({h:f,l:g}=xt(0|this.Gh,0|this.Gl,0|f,0|g)),({h:m,l:y}=xt(0|this.Hh,0|this.Hl,0|m,0|y)),this.set(r,n,i,s,o,a,c,l,d,u,h,p,f,g,m,y)}roundClean(){xe(tr,rr)}destroy(){xe(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class ir extends nr{constructor(){super(48),this.Ah=0|Ye[0],this.Al=0|Ye[1],this.Bh=0|Ye[2],this.Bl=0|Ye[3],this.Ch=0|Ye[4],this.Cl=0|Ye[5],this.Dh=0|Ye[6],this.Dl=0|Ye[7],this.Eh=0|Ye[8],this.El=0|Ye[9],this.Fh=0|Ye[10],this.Fl=0|Ye[11],this.Gh=0|Ye[12],this.Gl=0|Ye[13],this.Hh=0|Ye[14],this.Hl=0|Ye[15]}}const sr=Ve((()=>new Jt)),or=Ve((()=>new nr)),ar=Ve((()=>new ir)),cr=sr,lr=BigInt(0),dr=BigInt(1);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ur(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function hr(e){if(!ur(e))throw new Error("Uint8Array expected")}function pr(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)}function fr(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function gr(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?lr:BigInt("0x"+e)}const mr="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,yr=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function wr(e){if(hr(e),mr)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=yr[e[r]];return t}const br=48,vr=57,Er=65,Ar=70,xr=97,Cr=102;function Sr(e){return e>=br&&e<=vr?e-br:e>=Er&&e<=Ar?e-(Er-10):e>=xr&&e<=Cr?e-(xr-10):void 0}function Ir(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(mr)return Uint8Array.fromHex(e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=Sr(e.charCodeAt(i)),s=Sr(e.charCodeAt(i+1));if(void 0===r||void 0===s){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+s}return n}function _r(e){return gr(wr(e))}function kr(e){return hr(e),gr(wr(Uint8Array.from(e).reverse()))}function Pr(e,t){return Ir(e.toString(16).padStart(2*t,"0"))}function Tr(e,t){return Pr(e,t).reverse()}function Or(e,t,r){let n;if("string"==typeof t)try{n=Ir(t)}catch(t){throw new Error(e+" must be hex string or Uint8Array, cause: "+t)}else{if(!ur(t))throw new Error(e+" must be hex string or Uint8Array");n=Uint8Array.from(t)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(e+" of length "+r+" expected, got "+i);return n}function Nr(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];hr(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}function Rr(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}const $r=e=>"bigint"==typeof e&&lr<=e;function Br(e,t,r){return $r(e)&&$r(t)&&$r(r)&&t<=e&&e<r}function Mr(e,t,r,n){if(!Br(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function Ur(e){let t;for(t=0;e>lr;e>>=dr,t+=1);return t}function Lr(e,t){return e>>BigInt(t)&dr}const Dr=e=>(dr<<BigInt(e))-dr,jr=e=>new Uint8Array(e),Hr=e=>Uint8Array.from(e);const zr={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||ur(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function Fr(e,t,r={}){const n=(t,r,n)=>{const i=zr[r];if("function"!=typeof i)throw new Error("invalid validator function");const s=e[t];if(!(n&&void 0===s||i(s,e)))throw new Error("param "+String(t)+" is invalid. Expected "+r+", got "+s)};for(const[e,r]of Object.entries(t))n(e,r,!1);for(const[e,t]of Object.entries(r))n(e,t,!0);return e}const Vr=()=>{throw new Error("not implemented")};function Zr(e){const t=new WeakMap;return(r,...n)=>{const i=t.get(r);if(void 0!==i)return i;const s=e(r,...n);return t.set(r,s),s}}const qr=48,Wr=57,Kr=65,Gr=70,Yr=97,Jr=102;function Xr(e){return e>=qr&&e<=Wr?e-qr:e>=Kr&&e<=Gr?e-(Kr-10):e>=Yr&&e<=Jr?e-(Yr-10):void 0}function Qr(e,t){if(hn(e)>t)throw new yn({givenSize:hn(e),maxSize:t})}function en(e,t={}){const{dir:r,size:n=32}=t;if(0===n)return e;const i=e.replace("0x","");if(i.length>2*n)throw new bn({size:Math.ceil(i.length/2),targetSize:n,type:"Hex"});return`0x${i["right"===r?"padEnd":"padStart"](2*n,"0")}`}function tn(e,t,r){return JSON.stringify(e,((e,r)=>"function"==typeof t?t(e,r):"bigint"==typeof r?r.toString()+"#__bigint":r),r)}const rn=new TextEncoder,nn=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function sn(...e){return`0x${e.reduce(((e,t)=>e+t.replace("0x","")),"")}`}function on(e){return e instanceof Uint8Array?an(e):Array.isArray(e)?an(new Uint8Array(e)):e}function an(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=nn[e[t]];const n=`0x${r}`;return"number"==typeof t.size?(Qr(n,t.size),dn(n,t.size)):n}function cn(e,t={}){const{signed:r,size:n}=t,i=BigInt(e);let s;n?s=r?(1n<<8n*BigInt(n)-1n)-1n:2n**(8n*BigInt(n))-1n:"number"==typeof e&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o="bigint"==typeof s&&r?-s-1n:0;if(s&&i>s||i<o){const t="bigint"==typeof e?"n":"";throw new fn({max:s?`${s}${t}`:void 0,min:`${o}${t}`,signed:r,size:n,value:`${e}${t}`})}const a=`0x${(r&&i<0?(1n<<BigInt(8*n))+BigInt(i):i).toString(16)}`;return n?ln(a,n):a}function ln(e,t){return en(e,{dir:"left",size:t})}function dn(e,t){return en(e,{dir:"right",size:t})}function un(e,t,r,n={}){const{strict:i}=n;!function(e,t){if("number"==typeof t&&t>0&&t>hn(e)-1)throw new wn({offset:t,position:"start",size:hn(e)})}(e,t);const s=`0x${e.replace("0x","").slice(2*(t??0),2*(r??e.length))}`;return i&&function(e,t,r){if("number"==typeof t&&"number"==typeof r&&hn(e)!==r-t)throw new wn({offset:r,position:"end",size:hn(e)})}(s,t,r),s}function hn(e){return Math.ceil((e.length-2)/2)}function pn(e,t={}){const{strict:r=!1}=t;try{return function(e,t={}){const{strict:r=!1}=t;if(!e)throw new gn(e);if("string"!=typeof e)throw new gn(e);if(r&&!/^0x[0-9a-fA-F]*$/.test(e))throw new mn(e);if(!e.startsWith("0x"))throw new mn(e)}(e,{strict:r}),!0}catch{return!1}}class fn extends fe{constructor({max:e,min:t,signed:r,size:n,value:i}){super(`Number \`${i}\` is not in safe${n?` ${8*n}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${t}\` to \`${e}\`)`:`(above \`${t}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class gn extends fe{constructor(e){super(`Value \`${"object"==typeof e?tn(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class mn extends fe{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class yn extends fe{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class wn extends fe{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class bn extends fe{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}const vn=new TextEncoder;function En(e){return e instanceof Uint8Array?e:"string"==typeof e?function(e,t={}){const{size:r}=t;let n=e;r&&(Qr(e,r),n=dn(e,r));let i=n.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let e=0,t=0;e<s;e++){const r=Xr(i.charCodeAt(t++)),n=Xr(i.charCodeAt(t++));if(void 0===r||void 0===n)throw new fe(`Invalid byte sequence ("${i[t-2]}${i[t-1]}" in "${i}").`);o[e]=16*r+n}return o}(e):function(e){return e instanceof Uint8Array?e:new Uint8Array(e)}(e)}function An(e,t={}){const{size:r}=t,n=vn.encode(e);return"number"==typeof r?(function(e,t){if(xn(e)>t)throw new In({givenSize:xn(e),maxSize:t})}(n,r),function(e,t){return function(e,t={}){const{dir:r,size:n=32}=t;if(0===n)return e;if(e.length>n)throw new _n({size:e.length,targetSize:n,type:"Bytes"});const i=new Uint8Array(n);for(let t=0;t<n;t++){const s="right"===r;i[s?t:n-t-1]=e[s?t:e.length-t-1]}return i}(e,{dir:"right",size:t})}(n,r)):n}function xn(e){return e.length}function Cn(e){try{return function(e){if(!(e instanceof Uint8Array)){if(!e)throw new Sn(e);if("object"!=typeof e)throw new Sn(e);if(!("BYTES_PER_ELEMENT"in e))throw new Sn(e);if(1!==e.BYTES_PER_ELEMENT||"Uint8Array"!==e.constructor.name)throw new Sn(e)}}(e),!0}catch{return!1}}class Sn extends fe{constructor(e){super(`Value \`${"object"==typeof e?tn(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class In extends fe{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class _n extends fe{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}function kn(e,t={}){const{as:r=("string"==typeof e?"Hex":"Bytes")}=t,n=Zt(En(e));return"Bytes"===r?n:an(n)}class Pn extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const e=this.keys().next().value;e&&this.delete(e)}return this}}const Tn=new Pn(8192);function On(e,t={}){const{compressed:r}=t,{prefix:n,x:i,y:s}=e;if(!1===r||"bigint"==typeof i&&"bigint"==typeof s){if(4!==n)throw new Bn({prefix:n,cause:new Un})}else{if(!(!0===r||"bigint"==typeof i&&typeof s>"u"))throw new $n({publicKey:e});if(3!==n&&2!==n)throw new Bn({prefix:n,cause:new Mn})}}function Nn(e){const t=(()=>{if(pn(e))return Rn(e);if(Cn(e))return function(e){return Rn(an(e))}(e);const{prefix:t,x:r,y:n}=e;return"bigint"==typeof r&&"bigint"==typeof n?{prefix:t??4,x:r,y:n}:{prefix:t,x:r}})();return On(t),t}function Rn(e){if(132!==e.length&&130!==e.length&&68!==e.length)throw new Ln({publicKey:e});if(130===e.length){return{prefix:4,x:BigInt(un(e,0,32)),y:BigInt(un(e,32,64))}}if(132===e.length){return{prefix:Number(un(e,0,1)),x:BigInt(un(e,1,33)),y:BigInt(un(e,33,65))}}return{prefix:Number(un(e,0,1)),x:BigInt(un(e,1,33))}}class $n extends fe{constructor({publicKey:e}){super(`Value \`${tn(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class Bn extends fe{constructor({prefix:e,cause:t}){super(`Prefix "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class Mn extends fe{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class Un extends fe{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}class Ln extends fe{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${hn(on(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}const Dn=/^0x[a-fA-F0-9]{40}$/;function jn(e,t={}){const{strict:r=!0}=t;if(!Dn.test(e))throw new Fn({address:e,cause:new Vn});if(r){if(e.toLowerCase()===e)return;if(Hn(e)!==e)throw new Fn({address:e,cause:new Zn})}}function Hn(e){if(Tn.has(e))return Tn.get(e);jn(e,{strict:!1});const t=e.substring(2).toLowerCase(),r=kn(An(t),{as:"Bytes"}),n=t.split("");for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&n[e]&&(n[e]=n[e].toUpperCase()),(15&r[e>>1])>=8&&n[e+1]&&(n[e+1]=n[e+1].toUpperCase());const i=`0x${n.join("")}`;return Tn.set(e,i),i}function zn(e,t={}){const r=kn(`0x${function(e,t={}){On(e);const{prefix:r,x:n,y:i}=e,{includePrefix:s=!0}=t;return sn(s?cn(r,{size:1}):"0x",cn(n,{size:32}),"bigint"==typeof i?cn(i,{size:32}):"0x")}(e).slice(4)}`).substring(26);return function(e,t={}){const{checksum:r=!1}=t;return jn(e),r?Hn(e):e}(`0x${r}`,t)}class Fn extends fe{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Vn extends fe{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Zn extends fe{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const qn=/^(.*)\[([0-9]*)\]$/,Wn=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Kn=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Gn(e,t){if(e.length!==t.length)throw new Jn({expectedLength:e.length,givenLength:t.length});const r=[];for(let n=0;n<e.length;n++){const i=e[n],s=t[n];r.push(Gn.encode(i,s))}return sn(...r)}!function(e){e.encode=function e(t,r,n=!1){if("address"===t){const e=r;return jn(e),ln(e.toLowerCase(),n?32:0)}if("string"===t)return function(e,t={}){return an(rn.encode(e),t)}(r);if("bytes"===t)return r;if("bool"===t)return ln(function(e,t={}){const r=`0x${Number(e)}`;return"number"==typeof t.size?(Qr(r,t.size),ln(r,t.size)):r}(r),n?32:1);const i=t.match(Kn);if(i){const[e,t,s="256"]=i,o=Number.parseInt(s,10)/8;return cn(r,{size:n?32:o,signed:"int"===t})}const s=t.match(Wn);if(s){const[e,t]=s;if(Number.parseInt(t,10)!==(r.length-2)/2)throw new Yn({expectedSize:Number.parseInt(t,10),value:r});return dn(r,n?32:0)}const o=t.match(qn);if(o&&Array.isArray(r)){const[t,n]=o,i=[];for(let t=0;t<r.length;t++)i.push(e(n,r[t],!0));return 0===i.length?"0x":sn(...i)}throw new Xn(t)}}(Gn||(Gn={}));class Yn extends fe{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${hn(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Jn extends fe{constructor({expectedLength:e,givenLength:t}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${t}`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Xn extends fe{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class Qn extends Fe{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,ve(e);const r=He(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),xe(i)}update(e){return Ee(this),this.iHash.update(e),this}digestInto(e){Ee(this),be(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ei=(e,t,r)=>new Qn(e,t).update(r).digest();ei.create=(e,t)=>new Qn(e,t);const ti=BigInt(0),ri=BigInt(1),ni=BigInt(2),ii=BigInt(3),si=BigInt(4),oi=BigInt(5),ai=BigInt(8);function ci(e,t){const r=e%t;return r>=ti?r:t+r}function li(e,t,r){let n=e;for(;t-- >ti;)n*=n,n%=r;return n}function di(e,t){if(e===ti)throw new Error("invert: expected non-zero number");if(t<=ti)throw new Error("invert: expected positive modulus, got "+t);let r=ci(e,t),n=t,i=ti,s=ri;for(;r!==ti;){const e=n%r,t=i-s*(n/r);n=r,r=e,i=s,s=t}if(n!==ri)throw new Error("invert: does not exist");return ci(i,t)}function ui(e,t){const r=(e.ORDER+ri)/si,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw new Error("Cannot find square root");return n}function hi(e,t){const r=(e.ORDER-oi)/ai,n=e.mul(t,ni),i=e.pow(n,r),s=e.mul(t,i),o=e.mul(e.mul(s,ni),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function pi(e){return e%si===ii?ui:e%ai===oi?hi:function(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-ri,r=0;for(;t%ni===ti;)t/=ni,r++;let n=ni;const i=vi(e);for(;1===wi(i,n);)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===r)return ui;let s=i.pow(n,t);const o=(t+ri)/ni;return function(e,n){if(e.is0(n))return n;if(1!==wi(e,n))throw new Error("Cannot find square root");let i=r,a=e.mul(e.ONE,s),c=e.pow(n,t),l=e.pow(n,o);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,r=e.sqr(c);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===i)throw new Error("Cannot find square root");const n=ri<<BigInt(i-t-1),s=e.pow(a,n);i=t,a=e.sqr(s),c=e.mul(c,a),l=e.mul(l,s)}return l}}(e)}const fi=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function gi(e){return Fr(e,fi.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}function mi(e,t,r){if(r<ti)throw new Error("invalid exponent, negatives unsupported");if(r===ti)return e.ONE;if(r===ri)return t;let n=e.ONE,i=t;for(;r>ti;)r&ri&&(n=e.mul(n,i)),i=e.sqr(i),r>>=ri;return n}function yi(e,t,r=!1){const n=new Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),s=e.inv(i);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),s),n}function wi(e,t){const r=(e.ORDER-ri)/ni,n=e.pow(t,r),i=e.eql(n,e.ONE),s=e.eql(n,e.ZERO),o=e.eql(n,e.neg(e.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function bi(e,t){void 0!==t&&we(t);const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function vi(e,t,r=!1,n={}){if(e<=ti)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=bi(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:r,BITS:i,BYTES:s,MASK:Dr(i),ZERO:ti,ONE:ri,create:t=>ci(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return ti<=t&&t<e},is0:e=>e===ti,isOdd:e=>(e&ri)===ri,neg:t=>ci(-t,e),eql:(e,t)=>e===t,sqr:t=>ci(t*t,e),add:(t,r)=>ci(t+r,e),sub:(t,r)=>ci(t-r,e),mul:(t,r)=>ci(t*r,e),pow:(e,t)=>mi(a,e,t),div:(t,r)=>ci(t*di(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>di(t,e),sqrt:n.sqrt||(t=>(o||(o=pi(e)),o(a,t))),toBytes:e=>r?Tr(e,s):Pr(e,s),fromBytes:e=>{if(e.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return r?kr(e):_r(e)},invertBatch:e=>yi(a,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(a)}function Ei(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Ai(e){const t=Ei(e);return t+Math.ceil(t/2)}function xi(e,t,r=!1){const n=e.length,i=Ei(t),s=Ai(t);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=ci(r?kr(e):_r(e),t-ri)+ri;return r?Tr(o,i):Pr(o,i)}const Ci=BigInt(0),Si=BigInt(1);function Ii(e,t){const r=t.negate();return e?r:t}function _i(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function ki(e,t){_i(e,t);const r=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:Dr(e),maxNumber:r,shiftBy:BigInt(e)}}function Pi(e,t,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(e&i),c=e>>o;a>n&&(a-=s,c+=Si);const l=t*n;return{nextN:c,offset:l+Math.abs(a)-1,isZero:0===a,isNeg:a<0,isNegF:t%2!=0,offsetF:l}}const Ti=new WeakMap,Oi=new WeakMap;function Ni(e){return Oi.get(e)||1}function Ri(e,t,r,n){(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach(((e,r)=>{if(!(e instanceof t))throw new Error("invalid point at index "+r)}))})(r,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach(((e,r)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+r)}))}(n,t);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=Ur(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=Dr(c),d=new Array(Number(l)+1).fill(o);let u=o;for(let e=Math.floor((t.BITS-1)/c)*c;e>=0;e-=c){d.fill(o);for(let t=0;t<s;t++){const i=n[t],s=Number(i>>BigInt(e)&l);d[s]=d[s].add(r[t])}let t=o;for(let e=d.length-1,r=o;e>0;e--)r=r.add(d[e]),t=t.add(r);if(u=u.add(t),0!==e)for(let e=0;e<c;e++)u=u.double()}return u}function $i(e){return gi(e.Fp),Fr(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...bi(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function Bi(e){void 0!==e.lowS&&pr("lowS",e.lowS),void 0!==e.prehash&&pr("prehash",e.prehash)}class Mi extends Error{constructor(e=""){super(e)}}const Ui={Err:Mi,_tlv:{encode:(e,t)=>{const{Err:r}=Ui;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");const n=t.length/2,i=fr(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?fr(i.length/2|128):"";return fr(e)+s+i+t},decode(e,t){const{Err:r}=Ui;let n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");const i=t[n++];let s=0;if(!!(128&i)){const e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");const o=t.subarray(n,n+e);if(o.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===o[0])throw new r("tlv.decode(long): zero leftmost byte");for(const e of o)s=s<<8|e;if(n+=e,s<128)throw new r("tlv.decode(long): not minimal encoding")}else s=i;const o=t.subarray(n,n+s);if(o.length!==s)throw new r("tlv.decode: wrong value length");return{v:o,l:t.subarray(n+s)}}},_int:{encode(e){const{Err:t}=Ui;if(e<Di)throw new t("integer: negative integers are not allowed");let r=fr(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){const{Err:t}=Ui;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return _r(e)}},toSig(e){const{Err:t,_int:r,_tlv:n}=Ui,i=Or("signature",e),{v:s,l:o}=n.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,s),{v:l,l:d}=n.decode(2,c);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(e){const{_tlv:t,_int:r}=Ui,n=t.encode(2,r.encode(e.r))+t.encode(2,r.encode(e.s));return t.encode(48,n)}};function Li(e,t){return wr(Pr(e,t))}const Di=BigInt(0),ji=BigInt(1),Hi=BigInt(2),zi=BigInt(3),Fi=BigInt(4);function Vi(e){const t=function(e){const t=$i(e);Fr(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}(e),{Fp:r}=t,n=vi(t.n,t.nBitLength),i=t.toBytes||((e,t,n)=>{const i=t.toAffine();return Nr(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),s=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function o(e){const{a:n,b:i}=t,s=r.sqr(e),o=r.mul(s,e);return r.add(r.add(o,r.mul(e,n)),i)}function a(e,t){const n=r.sqr(t),i=o(e);return r.eql(n,i)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=r.mul(r.pow(t.a,zi),Fi),l=r.mul(r.sqr(t.b),BigInt(27));if(r.is0(r.add(c,l)))throw new Error("bad curve params: a or b");function d(e){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:i,n:s}=t;if(r&&"bigint"!=typeof e){if(ur(e)&&(e=wr(e)),"string"!=typeof e||!r.includes(e.length))throw new Error("invalid private key");e=e.padStart(2*n,"0")}let o;try{o="bigint"==typeof e?e:_r(Or("private key",e,n))}catch{throw new Error("invalid private key, expected hex or "+n+" bytes, got "+typeof e)}return i&&(o=ci(o,s)),Mr("private key",o,ji,s),o}function u(e){if(!(e instanceof f))throw new Error("ProjectivePoint expected")}const h=Zr(((e,t)=>{const{px:n,py:i,pz:s}=e;if(r.eql(s,r.ONE))return{x:n,y:i};const o=e.is0();null==t&&(t=o?r.ONE:r.inv(s));const a=r.mul(n,t),c=r.mul(i,t),l=r.mul(s,t);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(l,r.ONE))throw new Error("invZ was invalid");return{x:a,y:c}})),p=Zr((e=>{if(e.is0()){if(t.allowInfinityPoint&&!r.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:n,y:i}=e.toAffine();if(!r.isValid(n)||!r.isValid(i))throw new Error("bad point: x or y not FE");if(!a(n,i))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0}));class f{constructor(e,t,n){if(null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t)||r.is0(t))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required");this.px=e,this.py=t,this.pz=n,Object.freeze(this)}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof f)throw new Error("projective point not allowed");const i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?f.ZERO:new f(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=yi(r,e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(f.fromAffine)}static fromHex(e){const t=f.fromAffine(s(Or("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return f.BASE.multiply(d(e))}static msm(e,t){return Ri(f,n,e,t)}_setWindowSize(e){y.setWindowSize(this,e)}assertValidity(){p(this)}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){u(e);const{px:t,py:n,pz:i}=this,{px:s,py:o,pz:a}=e,c=r.eql(r.mul(t,a),r.mul(s,i)),l=r.eql(r.mul(n,a),r.mul(o,i));return c&&l}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:n}=t,i=r.mul(n,zi),{px:s,py:o,pz:a}=this;let c=r.ZERO,l=r.ZERO,d=r.ZERO,u=r.mul(s,s),h=r.mul(o,o),p=r.mul(a,a),g=r.mul(s,o);return g=r.add(g,g),d=r.mul(s,a),d=r.add(d,d),c=r.mul(e,d),l=r.mul(i,p),l=r.add(c,l),c=r.sub(h,l),l=r.add(h,l),l=r.mul(c,l),c=r.mul(g,c),d=r.mul(i,d),p=r.mul(e,p),g=r.sub(u,p),g=r.mul(e,g),g=r.add(g,d),d=r.add(u,u),u=r.add(d,u),u=r.add(u,p),u=r.mul(u,g),l=r.add(l,u),p=r.mul(o,a),p=r.add(p,p),u=r.mul(p,g),c=r.sub(c,u),d=r.mul(p,h),d=r.add(d,d),d=r.add(d,d),new f(c,l,d)}add(e){u(e);const{px:n,py:i,pz:s}=this,{px:o,py:a,pz:c}=e;let l=r.ZERO,d=r.ZERO,h=r.ZERO;const p=t.a,g=r.mul(t.b,zi);let m=r.mul(n,o),y=r.mul(i,a),w=r.mul(s,c),b=r.add(n,i),v=r.add(o,a);b=r.mul(b,v),v=r.add(m,y),b=r.sub(b,v),v=r.add(n,s);let E=r.add(o,c);return v=r.mul(v,E),E=r.add(m,w),v=r.sub(v,E),E=r.add(i,s),l=r.add(a,c),E=r.mul(E,l),l=r.add(y,w),E=r.sub(E,l),h=r.mul(p,v),l=r.mul(g,w),h=r.add(l,h),l=r.sub(y,h),h=r.add(y,h),d=r.mul(l,h),y=r.add(m,m),y=r.add(y,m),w=r.mul(p,w),v=r.mul(g,v),y=r.add(y,w),w=r.sub(m,w),w=r.mul(p,w),v=r.add(v,w),m=r.mul(y,v),d=r.add(d,m),m=r.mul(E,v),l=r.mul(b,l),l=r.sub(l,m),m=r.mul(b,y),h=r.mul(E,h),h=r.add(h,m),new f(l,d,h)}subtract(e){return this.add(e.negate())}is0(){return this.equals(f.ZERO)}wNAF(e){return y.wNAFCached(this,e,f.normalizeZ)}multiplyUnsafe(e){const{endo:n,n:i}=t;Mr("scalar",e,Di,i);const s=f.ZERO;if(e===Di)return s;if(this.is0()||e===ji)return this;if(!n||y.hasPrecomputes(this))return y.wNAFCachedUnsafe(this,e,f.normalizeZ);let{k1neg:o,k1:a,k2neg:c,k2:l}=n.splitScalar(e),d=s,u=s,h=this;for(;a>Di||l>Di;)a&ji&&(d=d.add(h)),l&ji&&(u=u.add(h)),h=h.double(),a>>=ji,l>>=ji;return o&&(d=d.negate()),c&&(u=u.negate()),u=new f(r.mul(u.px,n.beta),u.py,u.pz),d.add(u)}multiply(e){const{endo:n,n:i}=t;let s,o;if(Mr("scalar",e,ji,i),n){const{k1neg:t,k1:i,k2neg:a,k2:c}=n.splitScalar(e);let{p:l,f:d}=this.wNAF(i),{p:u,f:h}=this.wNAF(c);l=y.constTimeNegate(t,l),u=y.constTimeNegate(a,u),u=new f(r.mul(u.px,n.beta),u.py,u.pz),s=l.add(u),o=d.add(h)}else{const{p:t,f:r}=this.wNAF(e);s=t,o=r}return f.normalizeZ([s,o])[0]}multiplyAndAddUnsafe(e,t,r){const n=f.BASE,i=(e,t)=>t!==Di&&t!==ji&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,r));return s.is0()?void 0:s}toAffine(e){return h(this,e)}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===ji)return!0;if(r)return r(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===ji?this:r?r(f,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return pr("isCompressed",e),this.assertValidity(),i(f,this,e)}toHex(e=!0){return pr("isCompressed",e),wr(this.toRawBytes(e))}}f.BASE=new f(t.Gx,t.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);const{endo:g,nBitLength:m}=t,y=function(e,t){return{constTimeNegate:Ii,hasPrecomputes:e=>1!==Ni(e),unsafeLadder(t,r,n=e.ZERO){let i=t;for(;r>Ci;)r&Si&&(n=n.add(i)),i=i.double(),r>>=Si;return n},precomputeWindow(e,r){const{windows:n,windowSize:i}=ki(r,t),s=[];let o=e,a=o;for(let e=0;e<n;e++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(r,n,i){let s=e.ZERO,o=e.BASE;const a=ki(r,t);for(let e=0;e<a.windows;e++){const{nextN:t,offset:r,isZero:c,isNeg:l,isNegF:d,offsetF:u}=Pi(i,e,a);i=t,c?o=o.add(Ii(d,n[u])):s=s.add(Ii(l,n[r]))}return{p:s,f:o}},wNAFUnsafe(r,n,i,s=e.ZERO){const o=ki(r,t);for(let e=0;e<o.windows&&i!==Ci;e++){const{nextN:t,offset:r,isZero:a,isNeg:c}=Pi(i,e,o);if(i=t,!a){const e=n[r];s=s.add(c?e.negate():e)}}return s},getPrecomputes(e,t,r){let n=Ti.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&Ti.set(t,r(n))),n},wNAFCached(e,t,r){const n=Ni(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){const i=Ni(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){_i(r,t),Oi.set(e,r),Ti.delete(e)}}}(f,g?Math.ceil(m/2):m);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:function(e){return Br(e,ji,t.n)}}}function Zi(e){const t=function(e){const t=$i(e);return Fr(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n,nByteLength:i,nBitLength:s}=t,o=r.BYTES+1,a=2*r.BYTES+1;function c(e){return ci(e,n)}function l(e){return di(e,n)}const{ProjectivePoint:d,normPrivateKeyToScalar:u,weierstrassEquation:h,isWithinCurveOrder:p}=Vi({...t,toBytes(e,t,n){const i=t.toAffine(),s=r.toBytes(i.x),o=Nr;return pr("isCompressed",n),n?o(Uint8Array.from([t.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,r.toBytes(i.y))},fromBytes(e){const t=e.length,n=e[0],i=e.subarray(1);if(t!==o||2!==n&&3!==n){if(t===a&&4===n){return{x:r.fromBytes(i.subarray(0,r.BYTES)),y:r.fromBytes(i.subarray(r.BYTES,2*r.BYTES))}}throw new Error("invalid Point, expected length of "+o+", or uncompressed "+a+", got "+t)}{const e=_r(i);if(!Br(e,ji,r.ORDER))throw new Error("Point is not on curve");const t=h(e);let s;try{s=r.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+t)}return!(1&~n)!==((s&ji)===ji)&&(s=r.neg(s)),{x:e,y:s}}}});function f(e){return e>n>>ji}const g=(e,t,r)=>_r(e.slice(t,r));class m{constructor(e,t,r){Mr("r",e,ji,n),Mr("s",t,ji,n),this.r=e,this.s=t,null!=r&&(this.recovery=r),Object.freeze(this)}static fromCompact(e){const t=i;return e=Or("compactSignature",e,2*t),new m(g(e,0,t),g(e,t,2*t))}static fromDER(e){const{r:t,s:r}=Ui.toSig(Or("DER",e));return new m(t,r)}assertValidity(){}addRecoveryBit(e){return new m(this.r,this.s,e)}recoverPublicKey(e){const{r:n,s:i,recovery:s}=this,o=v(Or("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const a=2===s||3===s?n+t.n:n;if(a>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const u=1&s?"03":"02",h=d.fromHex(u+Li(a,r.BYTES)),p=l(a),f=c(-o*p),g=c(i*p),m=d.BASE.multiplyAndAddUnsafe(h,f,g);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Ir(this.toDERHex())}toDERHex(){return Ui.hexFromSig(this)}toCompactRawBytes(){return Ir(this.toCompactHex())}toCompactHex(){const e=i;return Li(this.r,e)+Li(this.s,e)}}const y={isValidPrivateKey(e){try{return u(e),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const e=Ai(t.n);return xi(t.randomBytes(e),t.n)},precompute:(e=8,t=d.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function w(e){if("bigint"==typeof e)return!1;if(e instanceof d)return!0;const n=Or("key",e).length,s=r.BYTES,o=s+1,a=2*s+1;return t.allowedPrivateKeyLengths||i===o?void 0:n===o||n===a}const b=t.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const t=_r(e),r=8*e.length-s;return r>0?t>>BigInt(r):t},v=t.bits2int_modN||function(e){return c(b(e))},E=Dr(s);function A(e){return Mr("num < 2^"+s,e,Di,E),Pr(e,i)}function x(e,n,i=C){if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:o}=t;let{lowS:a,prehash:h,extraEntropy:g}=i;null==a&&(a=!0),e=Or("msgHash",e),Bi(i),h&&(e=Or("prehashed msgHash",s(e)));const y=v(e),w=u(n),E=[A(w),A(y)];if(null!=g&&!1!==g){const e=!0===g?o(r.BYTES):g;E.push(Or("extraEntropy",e))}const x=Nr(...E),S=y;return{seed:x,k2sig:function(e){const t=b(e);if(!p(t))return;const r=l(t),n=d.BASE.multiply(t).toAffine(),i=c(n.x);if(i===Di)return;const s=c(r*c(S+i*w));if(s===Di)return;let o=(n.x===i?0:2)|Number(n.y&ji),u=s;return a&&f(s)&&(u=function(e){return f(e)?c(-e):e}(s),o^=1),new m(i,u,o)}}}const C={lowS:t.lowS,prehash:!1},S={lowS:t.lowS,prehash:!1};return d.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return d.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(!0===w(e))throw new Error("first arg must be private key");if(!1===w(t))throw new Error("second arg must be public key");return d.fromHex(t).multiply(u(e)).toRawBytes(r)},sign:function(e,r,n=C){const{seed:i,k2sig:s}=x(e,r,n),o=t;return function(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=jr(e),i=jr(e),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...e)=>r(i,n,...e),c=(e=jr(0))=>{i=a(Hr([0]),e),n=a(),0!==e.length&&(i=a(Hr([1]),e),n=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){n=a();const t=n.slice();r.push(t),e+=n.length}return Nr(...r)};return(e,t)=>{let r;for(o(),c(e);!(r=t(l()));)c();return o(),r}}(o.hash.outputLen,o.nByteLength,o.hmac)(i,s)},verify:function(e,r,n,i=S){const s=e;r=Or("msgHash",r),n=Or("publicKey",n);const{lowS:o,prehash:a,format:u}=i;if(Bi(i),"strict"in i)throw new Error("options.strict was renamed to lowS");if(void 0!==u&&"compact"!==u&&"der"!==u)throw new Error("format must be compact or der");const h="string"==typeof s||ur(s),p=!h&&!u&&"object"==typeof s&&null!==s&&"bigint"==typeof s.r&&"bigint"==typeof s.s;if(!h&&!p)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let f,g;try{if(p&&(f=new m(s.r,s.s)),h){try{"compact"!==u&&(f=m.fromDER(s))}catch(e){if(!(e instanceof Ui.Err))throw e}!f&&"der"!==u&&(f=m.fromCompact(s))}g=d.fromHex(n)}catch{return!1}if(!f||o&&f.hasHighS())return!1;a&&(r=t.hash(r));const{r:y,s:w}=f,b=v(r),E=l(w),A=c(b*E),x=c(y*E),C=d.BASE.multiplyAndAddUnsafe(g,A,x)?.toAffine();return!!C&&c(C.x)===y},ProjectivePoint:d,Signature:m,utils:y}}function qi(e,t){if(gi(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const r=function(e,t){const r=e.ORDER;let n=Di;for(let e=r-ji;e%Hi===Di;e/=Hi)n+=ji;const i=n,s=Hi<<i-ji-ji,o=s*Hi,a=(r-ji)/o,c=(a-ji)/Hi,l=o-ji,d=s,u=e.pow(t,a),h=e.pow(t,(a+ji)/Hi);let p=(t,r)=>{let n=u,s=e.pow(r,l),o=e.sqr(s);o=e.mul(o,r);let a=e.mul(t,o);a=e.pow(a,c),a=e.mul(a,s),s=e.mul(a,r),o=e.mul(a,t);let p=e.mul(o,s);a=e.pow(p,d);let f=e.eql(a,e.ONE);s=e.mul(o,h),a=e.mul(p,n),o=e.cmov(s,o,f),p=e.cmov(a,p,f);for(let t=i;t>ji;t--){let r=t-Hi;r=Hi<<r-ji;let i=e.pow(p,r);const a=e.eql(i,e.ONE);s=e.mul(o,n),n=e.mul(n,n),i=e.mul(p,n),o=e.cmov(s,o,a),p=e.cmov(i,p,a)}return{isValid:f,value:o}};if(e.ORDER%Fi===zi){const r=(e.ORDER-zi)/Fi,n=e.sqrt(e.neg(t));p=(t,i)=>{let s=e.sqr(i);const o=e.mul(t,i);s=e.mul(s,o);let a=e.pow(s,r);a=e.mul(a,o);const c=e.mul(a,n),l=e.mul(e.sqr(a),i),d=e.eql(l,t);return{isValid:d,value:e.cmov(c,a,d)}}}return p}(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,s,o,a,c,l,d,u;i=e.sqr(n),i=e.mul(i,t.Z),s=e.sqr(i),s=e.add(s,i),o=e.add(s,e.ONE),o=e.mul(o,t.B),a=e.cmov(t.Z,e.neg(s),!e.eql(s,e.ZERO)),a=e.mul(a,t.A),s=e.sqr(o),l=e.sqr(a),c=e.mul(l,t.A),s=e.add(s,c),s=e.mul(s,o),l=e.mul(l,a),c=e.mul(l,t.B),s=e.add(s,c),d=e.mul(i,o);const{isValid:h,value:p}=r(s,l);u=e.mul(i,n),u=e.mul(u,p),d=e.cmov(d,o,h),u=e.cmov(u,p,h);const f=e.isOdd(n)===e.isOdd(u);u=e.cmov(e.neg(u),u,f);const g=yi(e,[a],!0)[0];return d=e.mul(d,g),{x:d,y:u}}}function Wi(e){return{hash:e,hmac:(t,...r)=>ei(e,t,ze(...r)),randomBytes:Ze}}function Ki(e,t){const r=t=>Zi({...e,...Wi(t)});return{...r(t),create:r}}const Gi=_r;function Yi(e,t){if(Xi(e),Xi(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=255&e,e>>>=8;return new Uint8Array(r)}function Ji(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function Xi(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function Qi(e,t,r){Fr(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:n,k:i,m:s,hash:o,expand:a,DST:c}=r;hr(e),Xi(t);const l="string"==typeof c?Rr(c):c,d=n.toString(2).length,u=Math.ceil((d+i)/8),h=t*s*u;let p;if("xmd"===a)p=function(e,t,r,n){hr(e),hr(t),Xi(r),t.length>255&&(t=n(Nr(Rr("H2C-OVERSIZE-DST-"),t)));const{outputLen:i,blockLen:s}=n,o=Math.ceil(r/i);if(r>65535||o>255)throw new Error("expand_message_xmd: invalid lenInBytes");const a=Nr(t,Yi(t.length,1)),c=Yi(0,s),l=Yi(r,2),d=new Array(o),u=n(Nr(c,e,l,Yi(0,1),a));d[0]=n(Nr(u,Yi(1,1),a));for(let e=1;e<=o;e++){const t=[Ji(u,d[e-1]),Yi(e+1,1),a];d[e]=n(Nr(...t))}return Nr(...d).slice(0,r)}(e,l,h,o);else if("xof"===a)p=function(e,t,r,n,i){if(hr(e),hr(t),Xi(r),t.length>255){const e=Math.ceil(2*n/8);t=i.create({dkLen:e}).update(Rr("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(e).update(Yi(r,2)).update(t).update(Yi(t.length,1)).digest()}(e,l,h,i,o);else{if("_internal_pass"!==a)throw new Error('expand must be "xmd" or "xof"');p=e}const f=new Array(t);for(let e=0;e<t;e++){const t=new Array(s);for(let r=0;r<s;r++){const i=u*(r+e*s),o=p.subarray(i,i+u);t[r]=ci(Gi(o),n)}f[e]=t}return f}function es(e,t){const r=t.map((e=>Array.from(e).reverse()));return(t,n)=>{const[i,s,o,a]=r.map((r=>r.reduce(((r,n)=>e.add(e.mul(r,t),n))))),[c,l]=yi(e,[s,a],!0);return t=e.mul(i,c),n=e.mul(n,e.mul(o,l)),{x:t,y:n}}}function ts(e,t,r){if("function"!=typeof t)throw new Error("mapToCurve() must be defined");function n(r){return e.fromAffine(t(r))}function i(t){const r=t.clearCofactor();return r.equals(e.ZERO)?e.ZERO:(r.assertValidity(),r)}return{defaults:r,hashToCurve(e,t){const s=Qi(e,2,{...r,DST:r.DST,...t}),o=n(s[0]),a=n(s[1]);return i(o.add(a))},encodeToCurve:(e,t)=>i(n(Qi(e,1,{...r,DST:r.encodeDST,...t})[0])),mapToCurve(e){if(!Array.isArray(e))throw new Error("expected array of bigints");for(const t of e)if("bigint"!=typeof t)throw new Error("expected array of bigints");return i(n(e))}}}const rs=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ns=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),is=BigInt(0),ss=BigInt(1),os=BigInt(2),as=(e,t)=>(e+t/os)/t;const cs=vi(rs,void 0,void 0,{sqrt:function(e){const t=rs,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,d=l*l*e%t,u=li(d,r,t)*d%t,h=li(u,r,t)*d%t,p=li(h,os,t)*l%t,f=li(p,i,t)*p%t,g=li(f,s,t)*f%t,m=li(g,a,t)*g%t,y=li(m,c,t)*m%t,w=li(y,a,t)*g%t,b=li(w,r,t)*d%t,v=li(b,o,t)*f%t,E=li(v,n,t)*l%t,A=li(E,os,t);if(!cs.eql(cs.sqr(A),e))throw new Error("Cannot find square root");return A}}),ls=Ki({a:is,b:BigInt(7),Fp:cs,n:ns,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=ns,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-ss*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=as(s*e,t),c=as(-n*e,t);let l=ci(e-a*r-c*i,t),d=ci(-a*n-c*s,t);const u=l>o,h=d>o;if(u&&(l=t-l),h&&(d=t-d),l>o||d>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:u,k1:l,k2neg:h,k2:d}}}},sr);function ds(e){if(130!==e.length&&132!==e.length)throw new us({signature:e});const t=BigInt(un(e,0,32)),r=BigInt(un(e,32,64)),n=(()=>{const t=+`0x${e.slice(130)}`;if(!Number.isNaN(t))try{return function(e){if(0===e||27===e)return 0;if(1===e||28===e)return 1;if(e>=35)return e%2==0?1:0;throw new ps({value:e})}(t)}catch{throw new hs({value:t})}})();return typeof n>"u"?{r:t,s:r}:{r:t,s:r,yParity:n}}class us extends fe{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${hn(on(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class hs extends fe{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class ps extends fe{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}Object.freeze({1:0n,2:1n,3:2n,4:3n,5:4n,6:5n,7:6n,8:7n,9:8n,A:9n,B:10n,C:11n,D:12n,E:13n,F:14n,G:15n,H:16n,J:17n,K:18n,L:19n,M:20n,N:21n,P:22n,Q:23n,R:24n,S:25n,T:26n,U:27n,V:28n,W:29n,X:30n,Y:31n,Z:32n,a:33n,b:34n,c:35n,d:36n,e:37n,f:38n,g:39n,h:40n,i:41n,j:42n,k:43n,m:44n,n:45n,o:46n,p:47n,q:48n,r:49n,s:50n,t:51n,u:52n,v:53n,w:54n,x:55n,y:56n,z:57n}),Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/").map(((e,t)=>[t,e.charCodeAt(0)])),Object.fromEntries(Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/").map(((e,t)=>[e.charCodeAt(0),t]))),Ge.slice();const fs=BigInt(0),gs=BigInt(1),ms=BigInt(2),ys=BigInt(3);const ws=BigInt(0),bs=BigInt(1),vs=BigInt(2),Es=BigInt(3);function As(e,t,r,n,i=1,s){const o=BigInt(void 0===s?n:s),a=r**BigInt(n),c=[];for(let s=0;s<i;s++){const i=BigInt(s+1),l=[];for(let s=0,c=bs;s<n;s++){const n=(i*c-i)/o%a;l.push(e.pow(t,n)),c*=r}c.push(l)}return c}const xs=BigInt(0),Cs=BigInt(1),Ss=BigInt(2),Is=BigInt(3),_s=BigInt(4),ks=BigInt("0xd201000000010000"),Ps=Ur(ks),{Fp:Ts,Fp2:Os,Fp6:Ns,Fp4Square:Rs,Fp12:$s}=function(e){const{ORDER:t}=e,r=vi(t),n=r.create(e.NONRESIDUE||BigInt(-1)),i=r.div(r.ONE,vs),s=As(r,n,r.ORDER,2)[0],o=({c0:e,c1:t},{c0:n,c1:i})=>({c0:r.add(e,n),c1:r.add(t,i)}),a=({c0:e,c1:t},{c0:n,c1:i})=>({c0:r.sub(e,n),c1:r.sub(t,i)}),c=({c0:e,c1:t},n)=>{if("bigint"==typeof n)return{c0:r.mul(e,n),c1:r.mul(t,n)};const{c0:i,c1:s}=n;let o=r.mul(e,i),a=r.mul(t,s);return{c0:r.sub(o,a),c1:r.sub(r.mul(r.add(e,t),r.add(i,s)),r.add(o,a))}},l=({c0:e,c1:t})=>{const n=r.add(e,t),i=r.sub(e,t),s=r.add(e,e);return{c0:r.mul(n,i),c1:r.mul(s,t)}},d=e=>{if(2!==e.length)throw new Error("invalid tuple");const t=e.map((e=>r.create(e)));return{c0:t[0],c1:t[1]}},u=t*t,h=d(e.FP2_NONRESIDUE),p={ORDER:u,isLE:r.isLE,NONRESIDUE:h,BITS:Ur(u),BYTES:Math.ceil(Ur(u)/8),MASK:Dr(Ur(u)),ZERO:{c0:r.ZERO,c1:r.ZERO},ONE:{c0:r.ONE,c1:r.ZERO},create:e=>e,isValid:({c0:e,c1:t})=>"bigint"==typeof e&&"bigint"==typeof t,is0:({c0:e,c1:t})=>r.is0(e)&&r.is0(t),eql:({c0:e,c1:t},{c0:n,c1:i})=>r.eql(e,n)&&r.eql(t,i),neg:({c0:e,c1:t})=>({c0:r.neg(e),c1:r.neg(t)}),pow:(e,t)=>mi(p,e,t),invertBatch:e=>yi(p,e),add:o,sub:a,mul:c,sqr:l,addN:o,subN:a,mulN:c,sqrN:l,div:(e,t)=>p.mul(e,"bigint"==typeof t?r.inv(r.create(t)):p.inv(t)),inv:({c0:e,c1:t})=>{const n=r.inv(r.create(e*e+t*t));return{c0:r.mul(n,r.create(e)),c1:r.mul(n,r.create(-t))}},sqrt:t=>{if(e.Fp2sqrt)return e.Fp2sqrt(t);const{c0:s,c1:o}=t;if(r.is0(o))return 1===wi(r,s)?p.create({c0:r.sqrt(s),c1:r.ZERO}):p.create({c0:r.ZERO,c1:r.sqrt(r.div(s,n))});const a=r.sqrt(r.sub(r.sqr(s),r.mul(r.sqr(o),n)));let c=r.mul(r.add(a,s),i);-1===wi(r,c)&&(c=r.sub(c,a));const l=r.sqrt(c),d=p.create({c0:l,c1:r.div(r.mul(o,i),l)});if(!p.eql(p.sqr(d),t))throw new Error("Cannot find square root");const u=d,h=p.neg(u),{re:f,im:g}=p.reim(u),{re:m,im:y}=p.reim(h);return g>y||g===y&&f>m?u:h},isOdd:e=>{const{re:t,im:r}=p.reim(e);return BigInt(t%vs||t===ws&&r%vs)==bs},fromBytes(e){if(e.length!==p.BYTES)throw new Error("fromBytes invalid length="+e.length);return{c0:r.fromBytes(e.subarray(0,r.BYTES)),c1:r.fromBytes(e.subarray(r.BYTES))}},toBytes:({c0:e,c1:t})=>Nr(r.toBytes(e),r.toBytes(t)),cmov:({c0:e,c1:t},{c0:n,c1:i},s)=>({c0:r.cmov(e,n,s),c1:r.cmov(t,i,s)}),reim:({c0:e,c1:t})=>({re:e,im:t}),mulByNonresidue:({c0:e,c1:t})=>p.mul({c0:e,c1:t},h),mulByB:e.Fp2mulByB,fromBigTuple:d,frobeniusMap:({c0:e,c1:t},n)=>({c0:e,c1:r.mul(t,s[n%2])})},f=({c0:e,c1:t,c2:r},{c0:n,c1:i,c2:s})=>({c0:p.add(e,n),c1:p.add(t,i),c2:p.add(r,s)}),g=({c0:e,c1:t,c2:r},{c0:n,c1:i,c2:s})=>({c0:p.sub(e,n),c1:p.sub(t,i),c2:p.sub(r,s)}),m=({c0:e,c1:t,c2:r},n)=>{if("bigint"==typeof n)return{c0:p.mul(e,n),c1:p.mul(t,n),c2:p.mul(r,n)};const{c0:i,c1:s,c2:o}=n,a=p.mul(e,i),c=p.mul(t,s),l=p.mul(r,o);return{c0:p.add(a,p.mulByNonresidue(p.sub(p.mul(p.add(t,r),p.add(s,o)),p.add(c,l)))),c1:p.add(p.sub(p.mul(p.add(e,t),p.add(i,s)),p.add(a,c)),p.mulByNonresidue(l)),c2:p.sub(p.add(c,p.mul(p.add(e,r),p.add(i,o))),p.add(a,l))}},y=({c0:e,c1:t,c2:r})=>{let n=p.sqr(e),i=p.mul(p.mul(e,t),vs),s=p.mul(p.mul(t,r),vs),o=p.sqr(r);return{c0:p.add(p.mulByNonresidue(s),n),c1:p.add(p.mulByNonresidue(o),i),c2:p.sub(p.sub(p.add(p.add(i,p.sqr(p.add(p.sub(e,t),r))),s),n),o)}},[w,b]=As(p,h,r.ORDER,6,2,3),v={ORDER:p.ORDER,isLE:p.isLE,BITS:3*p.BITS,BYTES:3*p.BYTES,MASK:Dr(3*p.BITS),ZERO:{c0:p.ZERO,c1:p.ZERO,c2:p.ZERO},ONE:{c0:p.ONE,c1:p.ZERO,c2:p.ZERO},create:e=>e,isValid:({c0:e,c1:t,c2:r})=>p.isValid(e)&&p.isValid(t)&&p.isValid(r),is0:({c0:e,c1:t,c2:r})=>p.is0(e)&&p.is0(t)&&p.is0(r),neg:({c0:e,c1:t,c2:r})=>({c0:p.neg(e),c1:p.neg(t),c2:p.neg(r)}),eql:({c0:e,c1:t,c2:r},{c0:n,c1:i,c2:s})=>p.eql(e,n)&&p.eql(t,i)&&p.eql(r,s),sqrt:Vr,div:(e,t)=>v.mul(e,"bigint"==typeof t?r.inv(r.create(t)):v.inv(t)),pow:(e,t)=>mi(v,e,t),invertBatch:e=>yi(v,e),add:f,sub:g,mul:m,sqr:y,addN:f,subN:g,mulN:m,sqrN:y,inv:({c0:e,c1:t,c2:r})=>{let n=p.sub(p.sqr(e),p.mulByNonresidue(p.mul(r,t))),i=p.sub(p.mulByNonresidue(p.sqr(r)),p.mul(e,t)),s=p.sub(p.sqr(t),p.mul(e,r)),o=p.inv(p.add(p.mulByNonresidue(p.add(p.mul(r,i),p.mul(t,s))),p.mul(e,n)));return{c0:p.mul(o,n),c1:p.mul(o,i),c2:p.mul(o,s)}},fromBytes:e=>{if(e.length!==v.BYTES)throw new Error("fromBytes invalid length="+e.length);return{c0:p.fromBytes(e.subarray(0,p.BYTES)),c1:p.fromBytes(e.subarray(p.BYTES,2*p.BYTES)),c2:p.fromBytes(e.subarray(2*p.BYTES))}},toBytes:({c0:e,c1:t,c2:r})=>Nr(p.toBytes(e),p.toBytes(t),p.toBytes(r)),cmov:({c0:e,c1:t,c2:r},{c0:n,c1:i,c2:s},o)=>({c0:p.cmov(e,n,o),c1:p.cmov(t,i,o),c2:p.cmov(r,s,o)}),fromBigSix:e=>{if(!Array.isArray(e)||6!==e.length)throw new Error("invalid Fp6 usage");return{c0:p.fromBigTuple(e.slice(0,2)),c1:p.fromBigTuple(e.slice(2,4)),c2:p.fromBigTuple(e.slice(4,6))}},frobeniusMap:({c0:e,c1:t,c2:r},n)=>({c0:p.frobeniusMap(e,n),c1:p.mul(p.frobeniusMap(t,n),w[n%6]),c2:p.mul(p.frobeniusMap(r,n),b[n%6])}),mulByFp2:({c0:e,c1:t,c2:r},n)=>({c0:p.mul(e,n),c1:p.mul(t,n),c2:p.mul(r,n)}),mulByNonresidue:({c0:e,c1:t,c2:r})=>({c0:p.mulByNonresidue(r),c1:e,c2:t}),mul1:({c0:e,c1:t,c2:r},n)=>({c0:p.mulByNonresidue(p.mul(r,n)),c1:p.mul(e,n),c2:p.mul(t,n)}),mul01({c0:e,c1:t,c2:r},n,i){let s=p.mul(e,n),o=p.mul(t,i);return{c0:p.add(p.mulByNonresidue(p.sub(p.mul(p.add(t,r),i),o)),s),c1:p.sub(p.sub(p.mul(p.add(n,i),p.add(e,t)),s),o),c2:p.add(p.sub(p.mul(p.add(e,r),n),s),o)}}},E=As(p,h,r.ORDER,12,1,6)[0],A=({c0:e,c1:t},{c0:r,c1:n})=>({c0:v.add(e,r),c1:v.add(t,n)}),x=({c0:e,c1:t},{c0:r,c1:n})=>({c0:v.sub(e,r),c1:v.sub(t,n)}),C=({c0:e,c1:t},r)=>{if("bigint"==typeof r)return{c0:v.mul(e,r),c1:v.mul(t,r)};let{c0:n,c1:i}=r,s=v.mul(e,n),o=v.mul(t,i);return{c0:v.add(s,v.mulByNonresidue(o)),c1:v.sub(v.mul(v.add(e,t),v.add(n,i)),v.add(s,o))}},S=({c0:e,c1:t})=>{let r=v.mul(e,t);return{c0:v.sub(v.sub(v.mul(v.add(v.mulByNonresidue(t),e),v.add(e,t)),r),v.mulByNonresidue(r)),c1:v.add(r,r)}},I={ORDER:p.ORDER,isLE:v.isLE,BITS:2*v.BITS,BYTES:2*v.BYTES,MASK:Dr(2*v.BITS),ZERO:{c0:v.ZERO,c1:v.ZERO},ONE:{c0:v.ONE,c1:v.ZERO},create:e=>e,isValid:({c0:e,c1:t})=>v.isValid(e)&&v.isValid(t),is0:({c0:e,c1:t})=>v.is0(e)&&v.is0(t),neg:({c0:e,c1:t})=>({c0:v.neg(e),c1:v.neg(t)}),eql:({c0:e,c1:t},{c0:r,c1:n})=>v.eql(e,r)&&v.eql(t,n),sqrt:Vr,inv:({c0:e,c1:t})=>{let r=v.inv(v.sub(v.sqr(e),v.mulByNonresidue(v.sqr(t))));return{c0:v.mul(e,r),c1:v.neg(v.mul(t,r))}},div:(e,t)=>I.mul(e,"bigint"==typeof t?r.inv(r.create(t)):I.inv(t)),pow:(e,t)=>mi(I,e,t),invertBatch:e=>yi(I,e),add:A,sub:x,mul:C,sqr:S,addN:A,subN:x,mulN:C,sqrN:S,fromBytes:e=>{if(e.length!==I.BYTES)throw new Error("fromBytes invalid length="+e.length);return{c0:v.fromBytes(e.subarray(0,v.BYTES)),c1:v.fromBytes(e.subarray(v.BYTES))}},toBytes:({c0:e,c1:t})=>Nr(v.toBytes(e),v.toBytes(t)),cmov:({c0:e,c1:t},{c0:r,c1:n},i)=>({c0:v.cmov(e,r,i),c1:v.cmov(t,n,i)}),fromBigTwelve:e=>({c0:v.fromBigSix(e.slice(0,6)),c1:v.fromBigSix(e.slice(6,12))}),frobeniusMap(e,t){const{c0:r,c1:n,c2:i}=v.frobeniusMap(e.c1,t),s=E[t%12];return{c0:v.frobeniusMap(e.c0,t),c1:v.create({c0:p.mul(r,s),c1:p.mul(n,s),c2:p.mul(i,s)})}},mulByFp2:({c0:e,c1:t},r)=>({c0:v.mulByFp2(e,r),c1:v.mulByFp2(t,r)}),conjugate:({c0:e,c1:t})=>({c0:e,c1:v.neg(t)}),mul014:({c0:e,c1:t},r,n,i)=>{let s=v.mul01(e,r,n),o=v.mul1(t,i);return{c0:v.add(v.mulByNonresidue(o),s),c1:v.sub(v.sub(v.mul01(v.add(t,e),r,p.add(n,i)),s),o)}},mul034:({c0:e,c1:t},r,n,i)=>{const s=v.create({c0:p.mul(e.c0,r),c1:p.mul(e.c1,r),c2:p.mul(e.c2,r)}),o=v.mul01(t,n,i),a=v.mul01(v.add(e,t),p.add(r,n),i);return{c0:v.add(v.mulByNonresidue(o),s),c1:v.sub(a,v.add(s,o))}},_cyclotomicSquare:e.Fp12cyclotomicSquare,_cyclotomicExp:e.Fp12cyclotomicExp,finalExponentiate:e.Fp12finalExponentiate};return{Fp:r,Fp2:p,Fp6:v,Fp4Square:function(e,t){const r=p.sqr(e),n=p.sqr(t);return{first:p.add(p.mulByNonresidue(n),r),second:p.sub(p.sub(p.sqr(p.add(e,t)),r),n)}},Fp12:I}}({ORDER:BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),FP2_NONRESIDUE:[Cs,Cs],Fp2mulByB:({c0:e,c1:t})=>{const r=Ts.mul(e,_s),n=Ts.mul(t,_s);return{c0:Ts.sub(r,n),c1:Ts.add(r,n)}},Fp12cyclotomicSquare:({c0:e,c1:t})=>{const{c0:r,c1:n,c2:i}=e,{c0:s,c1:o,c2:a}=t,{first:c,second:l}=Rs(r,o),{first:d,second:u}=Rs(s,i),{first:h,second:p}=Rs(n,a),f=Os.mulByNonresidue(p);return{c0:Ns.create({c0:Os.add(Os.mul(Os.sub(c,r),Ss),c),c1:Os.add(Os.mul(Os.sub(d,n),Ss),d),c2:Os.add(Os.mul(Os.sub(h,i),Ss),h)}),c1:Ns.create({c0:Os.add(Os.mul(Os.add(f,s),Ss),f),c1:Os.add(Os.mul(Os.add(l,o),Ss),l),c2:Os.add(Os.mul(Os.add(u,a),Ss),u)})}},Fp12cyclotomicExp(e,t){let r=$s.ONE;for(let n=Ps-1;n>=0;n--)r=$s._cyclotomicSquare(r),Lr(t,n)&&(r=$s.mul(r,e));return r},Fp12finalExponentiate:e=>{const t=ks,r=$s.div($s.frobeniusMap(e,6),e),n=$s.mul($s.frobeniusMap(r,2),r),i=$s.conjugate($s._cyclotomicExp(n,t)),s=$s.mul($s.conjugate($s._cyclotomicSquare(n)),i),o=$s.conjugate($s._cyclotomicExp(s,t)),a=$s.conjugate($s._cyclotomicExp(o,t)),c=$s.mul($s.conjugate($s._cyclotomicExp(a,t)),$s._cyclotomicSquare(i)),l=$s.conjugate($s._cyclotomicExp(c,t)),d=$s.frobeniusMap($s.mul(i,a),2),u=$s.frobeniusMap($s.mul(o,n),3),h=$s.frobeniusMap($s.mul(c,$s.conjugate(n)),1),p=$s.mul($s.mul(l,$s.conjugate(s)),n);return $s.mul($s.mul($s.mul(d,u),h),p)}}),Bs=vi(BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001")),Ms=es(Os,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map((e=>e.map((e=>Os.fromBigTuple(e.map(BigInt))))))),Us=es(Ts,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map((e=>e.map((e=>BigInt(e)))))),Ls=qi(Os,{A:Os.create({c0:Ts.create(xs),c1:Ts.create(BigInt(240))}),B:Os.create({c0:Ts.create(BigInt(1012)),c1:Ts.create(BigInt(1012))}),Z:Os.create({c0:Ts.create(BigInt(-2)),c1:Ts.create(BigInt(-1))})}),Ds=qi(Ts,{A:Ts.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:Ts.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:Ts.create(BigInt(11))}),{G2psi:js,G2psi2:Hs}=function(e,t,r){const n=t.pow(r,(e.ORDER-bs)/Es),i=t.pow(r,(e.ORDER-bs)/vs);function s(e,r){return[t.mul(t.frobeniusMap(e,1),n),t.mul(t.frobeniusMap(r,1),i)]}const o=t.pow(r,(e.ORDER**vs-bs)/Es),a=t.pow(r,(e.ORDER**vs-bs)/vs);if(!t.eql(a,t.neg(t.ONE)))throw new Error("psiFrobenius: PSI2_Y!==-1");function c(e,r){return[t.mul(e,o),t.neg(r)]}const l=e=>(t,r)=>{const n=r.toAffine(),i=e(n.x,n.y);return t.fromAffine({x:i[0],y:i[1]})};return{psi:s,psi2:c,G2psi:l(s),G2psi2:l(c),PSI_X:n,PSI_Y:i,PSI2_X:o,PSI2_Y:a}}(Ts,Os,Os.div(Os.ONE,Os.NONRESIDUE)),zs=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:Ts.ORDER,m:2,k:128,expand:"xmd",hash:sr}),Fs=Zs(Ts.toBytes(xs),{infinity:!0,compressed:!0});function Vs(e){const t=224&(e=e.slice())[0],r=!!(t>>7&1),n=!!(t>>6&1),i=!!(t>>5&1);return e[0]&=31,{compressed:r,infinity:n,sort:i,value:e}}function Zs(e,t){if(224&e[0])throw new Error("setMask: non-empty mask");return t.compressed&&(e[0]|=128),t.infinity&&(e[0]|=64),t.sort&&(e[0]|=32),e}function qs(e){e.assertValidity();const t=e.equals(Ks.G1.ProjectivePoint.ZERO),{x:r,y:n}=e.toAffine();if(t)return Fs.slice();const i=Ts.ORDER,s=!!(n*Ss/i);return Zs(Pr(r,Ts.BYTES),{compressed:!0,sort:s})}function Ws(e){e.assertValidity();const t=Ts.BYTES;if(e.equals(Ks.G2.ProjectivePoint.ZERO))return Nr(Fs,Pr(xs,t));const{x:r,y:n}=e.toAffine(),{re:i,im:s}=Os.reim(r),{re:o,im:a}=Os.reim(n),c=!!((a>xs?a*Ss:o*Ss)/Ts.ORDER&Cs),l=i;return Nr(Zs(Pr(s,t),{sort:c,compressed:!0}),Pr(l,t))}const Ks=function(e){const{Fp:t,Fr:r,Fp2:n,Fp6:i,Fp12:s}=e.fields,o=e.params.xNegative,a=e.params.twistType,c=Vi({n:r.ORDER,...e.G1}),l=Object.assign(c,ts(c.ProjectivePoint,e.G1.mapToCurve,{...e.htfDefaults,...e.G1.htfDefaults})),d=Vi({n:r.ORDER,...e.G2}),u=Object.assign(d,ts(d.ProjectivePoint,e.G2.mapToCurve,{...e.htfDefaults,...e.G2.htfDefaults}));let h;if("multiplicative"===a)h=(e,t,r,i,o,a)=>s.mul014(i,e,n.mul(t,o),n.mul(r,a));else{if("divisive"!==a)throw new Error("bls: unknown twist type");h=(e,t,r,i,o,a)=>s.mul034(i,n.mul(r,a),n.mul(t,o),e)}const p=n.div(n.ONE,n.mul(n.ONE,ms));function f(e,t,r,i){const s=n.sqr(r),o=n.sqr(i),a=n.mulByB(n.mul(o,ys)),c=n.mul(a,ys),l=n.sub(n.sub(n.sqr(n.add(r,i)),o),s),d=n.sub(a,s),u=n.mul(n.sqr(t),ys),h=n.neg(l);return e.push([d,u,h]),{Rx:t=n.mul(n.mul(n.mul(n.sub(s,c),t),r),p),Ry:r=n.sub(n.sqr(n.mul(n.add(s,c),p)),n.mul(n.sqr(a),ys)),Rz:i=n.mul(s,l)}}function g(e,t,r,i,s,o){const a=n.sub(r,n.mul(o,i)),c=n.sub(t,n.mul(s,i)),l=n.sub(n.mul(a,s),n.mul(c,o)),d=n.neg(a),u=c;e.push([l,d,u]);const h=n.sqr(c),p=n.mul(h,c),f=n.mul(h,t),g=n.add(n.sub(p,n.mul(f,ms)),n.mul(n.sqr(a),i));return{Rx:t=n.mul(c,g),Ry:r=n.sub(n.mul(n.sub(f,g),a),n.mul(p,r)),Rz:i=n.mul(i,p)}}const m=function(e){const t=[];for(;e>gs;e>>=gs)(e&gs)===fs?t.unshift(0):(e&ys)===ys?(t.unshift(-1),e+=gs):t.unshift(1);return t}(e.params.ateLoopSize),y=Zr((t=>{const r=t,{x:i,y:s}=r.toAffine(),o=i,a=s,c=n.neg(s);let l=o,d=a,u=n.ONE;const h=[];for(const e of m){const t=[];({Rx:l,Ry:d,Rz:u}=f(t,l,d,u)),e&&({Rx:l,Ry:d,Rz:u}=g(t,l,d,u,o,-1===e?c:a)),h.push(t)}if(e.postPrecompute){const t=h[h.length-1];e.postPrecompute(l,d,u,o,a,g.bind(null,t))}return h}));function w(e,t=!1){let r=s.ONE;if(e.length){const t=e[0][0].length;for(let n=0;n<t;n++){r=s.sqr(r);for(const[t,i,s]of e)for(const[e,o,a]of t[n])r=h(e,o,a,r,i,s)}}return o&&(r=s.conjugate(r)),t?s.finalExponentiate(r):r}function b(e,t=!0){const r=[];l.ProjectivePoint.normalizeZ(e.map((({g1:e})=>e))),u.ProjectivePoint.normalizeZ(e.map((({g2:e})=>e)));for(const{g1:t,g2:n}of e){if(t.equals(l.ProjectivePoint.ZERO)||n.equals(u.ProjectivePoint.ZERO))throw new Error("pairing is not available for ZERO point");t.assertValidity(),n.assertValidity();const e=t.toAffine();r.push([y(n),e.x,e.y])}return w(r,t)}const v={randomPrivateKey:()=>{const t=Ai(r.ORDER);return xi(e.randomBytes(t),r.ORDER)},calcPairingPrecomputes:y},{ShortSignature:E}=e.G1,{Signature:A}=e.G2;function x(e){return e instanceof l.ProjectivePoint?e:l.ProjectivePoint.fromHex(e)}function C(e,t){return e instanceof l.ProjectivePoint?e:l.hashToCurve(Or("point",e),t)}function S(e){return e instanceof u.ProjectivePoint?e:A.fromHex(e)}function I(e,t){return e instanceof u.ProjectivePoint?e:u.hashToCurve(Or("point",e),t)}function _(e){if(!Array.isArray(e)||0===e.length)throw new Error("expected non-empty array")}return l.ProjectivePoint.BASE._setWindowSize(4),{getPublicKey:function(e){return l.ProjectivePoint.fromPrivateKey(e).toRawBytes(!0)},getPublicKeyForShortSignatures:function(e){return u.ProjectivePoint.fromPrivateKey(e).toRawBytes(!0)},sign:function(e,t,r){const n=I(e,r);n.assertValidity();const i=n.multiply(l.normPrivateKeyToScalar(t));return e instanceof u.ProjectivePoint?i:A.toRawBytes(i)},signShortSignature:function(e,t,r){const n=C(e,r);n.assertValidity();const i=n.multiply(l.normPrivateKeyToScalar(t));return e instanceof l.ProjectivePoint?i:E.toRawBytes(i)},verify:function(e,t,r,n){const i=x(r),o=I(t,n),a=l.ProjectivePoint.BASE,c=S(e),d=b([{g1:i.negate(),g2:o},{g1:a,g2:c}]);return s.eql(d,s.ONE)},verifyBatch:function(e,t,r,n){if(_(t),r.length!==t.length)throw new Error("amount of public keys and messages should be equal");const i=S(e),o=t.map((e=>I(e,n))),a=r.map(x),c=new Map;for(let e=0;e<a.length;e++){const t=a[e],r=o[e];let n=c.get(r);void 0===n&&(n=[],c.set(r,n)),n.push(t)}const d=[];try{for(const[e,t]of c){const r=t.reduce(((e,t)=>e.add(t)));d.push({g1:r,g2:e})}return d.push({g1:l.ProjectivePoint.BASE.negate(),g2:i}),s.eql(b(d),s.ONE)}catch{return!1}},verifyShortSignature:function(e,t,r,n){const i=S(r),o=C(t,n),a=u.ProjectivePoint.BASE,c=b([{g1:o,g2:i},{g1:x(e),g2:a.negate()}]);return s.eql(c,s.ONE)},aggregatePublicKeys:function(e){_(e);const t=e.map(x).reduce(((e,t)=>e.add(t)),l.ProjectivePoint.ZERO);return e[0]instanceof l.ProjectivePoint?(t.assertValidity(),t):t.toRawBytes(!0)},aggregateSignatures:function(e){_(e);const t=e.map(S).reduce(((e,t)=>e.add(t)),u.ProjectivePoint.ZERO);return e[0]instanceof u.ProjectivePoint?(t.assertValidity(),t):A.toRawBytes(t)},aggregateShortSignatures:function(e){_(e);const t=e.map(x).reduce(((e,t)=>e.add(t)),l.ProjectivePoint.ZERO);return e[0]instanceof l.ProjectivePoint?(t.assertValidity(),t):E.toRawBytes(t)},millerLoopBatch:w,pairing:function(e,t,r=!0){return b([{g1:e,g2:t}],r)},pairingBatch:b,G1:l,G2:u,Signature:A,ShortSignature:E,fields:{Fr:r,Fp:t,Fp2:n,Fp6:i,Fp12:s},params:{ateLoopSize:e.params.ateLoopSize,r:e.params.r,G1b:e.G1.b,G2b:e.G2.b},utils:v}}({fields:{Fp:Ts,Fp2:Os,Fp6:Ns,Fp12:$s,Fr:Bs},G1:{Fp:Ts,h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1"),a:Ts.ZERO,b:_s,htfDefaults:{...zs,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(e,t)=>{const r=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),n=new e(Ts.mul(t.px,r),t.py,t.pz);return t.multiplyUnsafe(ks).negate().multiplyUnsafe(ks).equals(n)},clearCofactor:(e,t)=>t.multiplyUnsafe(ks).add(t),mapToCurve:e=>{const{x:t,y:r}=Ds(Ts.create(e[0]));return Us(t,r)},fromBytes:e=>{const{compressed:t,infinity:r,sort:n,value:i}=Vs(e);if(48===i.length&&t){const e=Ts.ORDER,t=_r(i),s=Ts.create(t&Ts.MASK);if(r){if(s!==xs)throw new Error("G1: non-empty compressed point at infinity");return{x:xs,y:xs}}const o=Ts.add(Ts.pow(s,Is),Ts.create(Ks.params.G1b));let a=Ts.sqrt(o);if(!a)throw new Error("invalid compressed G1 point");return a*Ss/e!==BigInt(n)&&(a=Ts.neg(a)),{x:Ts.create(s),y:Ts.create(a)}}if(96!==i.length||t)throw new Error("invalid point G1, expected 48/96 bytes");{const e=_r(i.subarray(0,Ts.BYTES)),t=_r(i.subarray(Ts.BYTES));if(r){if(e!==xs||t!==xs)throw new Error("G1: non-empty point at infinity");return Ks.G1.ProjectivePoint.ZERO.toAffine()}return{x:Ts.create(e),y:Ts.create(t)}}},toBytes:(e,t,r)=>{const n=t.equals(e.ZERO),{x:i,y:s}=t.toAffine();if(r){if(n)return Fs.slice();const e=Ts.ORDER,t=!!(s*Ss/e);return Zs(Pr(i,Ts.BYTES),{compressed:!0,sort:t})}return n?Nr(new Uint8Array([64]),new Uint8Array(2*Ts.BYTES-1)):Nr(Pr(i,Ts.BYTES),Pr(s,Ts.BYTES))},ShortSignature:{fromHex(e){const{infinity:t,sort:r,value:n}=Vs(Or("signatureHex",e,48)),i=Ts.ORDER,s=_r(n);if(t)return Ks.G1.ProjectivePoint.ZERO;const o=Ts.create(s&Ts.MASK),a=Ts.add(Ts.pow(o,Is),Ts.create(Ks.params.G1b));let c=Ts.sqrt(a);if(!c)throw new Error("invalid compressed G1 point");const l=BigInt(r);c*Ss/i!==l&&(c=Ts.neg(c));const d=Ks.G1.ProjectivePoint.fromAffine({x:o,y:c});return d.assertValidity(),d},toRawBytes:e=>qs(e),toHex:e=>wr(qs(e))}},G2:{Fp:Os,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),Gx:Os.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:Os.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")]),a:Os.ZERO,b:Os.fromBigTuple([_s,_s]),hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...zs},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:e=>{const{x:t,y:r}=Ls(Os.fromBigTuple(e));return Ms(t,r)},isTorsionFree:(e,t)=>t.multiplyUnsafe(ks).negate().equals(js(e,t)),clearCofactor:(e,t)=>{const r=ks;let n=t.multiplyUnsafe(r).negate(),i=js(e,t),s=t.double();return s=Hs(e,s),s=s.subtract(i),i=n.add(i),i=i.multiplyUnsafe(r).negate(),s=s.add(i),s=s.subtract(n),s.subtract(t)},fromBytes:e=>{const{compressed:t,infinity:r,sort:n,value:i}=Vs(e);if(!t&&!r&&n||!t&&r&&n||n&&r&&t)throw new Error("invalid encoding flag: "+(224&e[0]));const s=Ts.BYTES,o=(e,t,r)=>_r(e.slice(t,r));if(96===i.length&&t){const e=Ks.params.G2b,t=Ts.ORDER;if(r){if(i.reduce(((e,t)=>0!==e?t+1:t),0)>0)throw new Error("invalid compressed G2 point");return{x:Os.ZERO,y:Os.ZERO}}const a=o(i,0,s),c=o(i,s,2*s),l=Os.create({c0:Ts.create(c),c1:Ts.create(a)}),d=Os.add(Os.pow(l,Is),e);let u=Os.sqrt(d);const h=u.c1===xs?u.c0*Ss/t:u.c1*Ss/t?Cs:xs;return u=n&&h>0?u:Os.neg(u),{x:l,y:u}}if(192!==i.length||t)throw new Error("invalid point G2, expected 96/192 bytes");{if(r){if(i.reduce(((e,t)=>0!==e?t+1:t),0)>0)throw new Error("invalid uncompressed G2 point");return{x:Os.ZERO,y:Os.ZERO}}const e=o(i,0,s),t=o(i,s,2*s),n=o(i,2*s,3*s),a=o(i,3*s,4*s);return{x:Os.fromBigTuple([t,e]),y:Os.fromBigTuple([a,n])}}},toBytes:(e,t,r)=>{const{BYTES:n,ORDER:i}=Ts,s=t.equals(e.ZERO),{x:o,y:a}=t.toAffine();if(r){if(s)return Nr(Fs,Pr(xs,n));const e=!!(a.c1===xs?a.c0*Ss/i:a.c1*Ss/i);return Nr(Zs(Pr(o.c1,n),{compressed:!0,sort:e}),Pr(o.c0,n))}{if(s)return Nr(new Uint8Array([64]),new Uint8Array(4*n-1));const{re:e,im:t}=Os.reim(o),{re:r,im:i}=Os.reim(a);return Nr(Pr(t,n),Pr(e,n),Pr(i,n),Pr(r,n))}},Signature:{fromHex(e){const{infinity:t,sort:r,value:n}=Vs(Or("signatureHex",e)),i=Ts.ORDER,s=n.length/2;if(48!==s&&96!==s)throw new Error("invalid compressed signature length, must be 96 or 192");const o=_r(n.slice(0,s)),a=_r(n.slice(s));if(t)return Ks.G2.ProjectivePoint.ZERO;const c=Ts.create(o&Ts.MASK),l=Ts.create(a),d=Os.create({c0:l,c1:c}),u=Os.add(Os.pow(d,Is),Ks.params.G2b);let h=Os.sqrt(u);if(!h)throw new Error("Failed to find a square root");const{re:p,im:f}=Os.reim(h),g=BigInt(r);(f>xs&&f*Ss/i!==g||f===xs&&p*Ss/i!==g)&&(h=Os.neg(h));const m=Ks.G2.ProjectivePoint.fromAffine({x:d,y:h});return m.assertValidity(),m},toRawBytes:e=>Ws(e),toHex:e=>wr(Ws(e))}},params:{ateLoopSize:ks,r:Bs.ORDER,xNegative:!0,twistType:"multiplicative"},htfDefaults:zs,hash:sr,randomBytes:Ze});BigInt(0),BigInt(1),BigInt(2),BigInt(8),BigInt(0),BigInt(1),BigInt(2),BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),BigInt(0),BigInt(1),BigInt(2),BigInt(3),BigInt(5),BigInt(8);const Gs=BigInt(0),Ys=BigInt(1);function Js(e,t=""){if("boolean"!=typeof e){throw new Error((t&&`"${t}"`)+"expected boolean, got type="+typeof e)}return e}function Xs(e,t,r=""){const n=ye(e),i=e?.length,s=void 0!==t;if(!n||s&&i!==t){throw new Error((r&&`"${r}" `)+"expected Uint8Array"+(s?` of length ${t}`:"")+", got "+(n?`length=${i}`:"type="+typeof e))}return e}function Qs(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function eo(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?Gs:BigInt("0x"+e)}function to(e){return eo(Oe(e))}function ro(e){return be(e),eo(Oe(Uint8Array.from(e).reverse()))}function no(e,t){return De(e.toString(16).padStart(2*t,"0"))}function io(e,t){return no(e,t).reverse()}function so(e,t,r){let n;if("string"==typeof t)try{n=De(t)}catch(t){throw new Error(e+" must be hex string or Uint8Array, cause: "+t)}else{if(!ye(t))throw new Error(e+" must be hex string or Uint8Array");n=Uint8Array.from(t)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(e+" of length "+r+" expected, got "+i);return n}const oo=e=>"bigint"==typeof e&&Gs<=e;function ao(e,t,r,n){if(!function(e,t,r){return oo(e)&&oo(t)&&oo(r)&&t<=e&&e<r}(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function co(e){let t;for(t=0;e>Gs;e>>=Ys,t+=1);return t}const lo=e=>(Ys<<BigInt(e))-Ys;function uo(e,t,r={}){if(!e||"object"!=typeof e)throw new Error("expected valid options object");function n(t,r,n){const i=e[t];if(n&&void 0===i)return;const s=typeof i;if(s!==r||null===i)throw new Error(`param "${t}" is invalid: expected ${r}, got ${s}`)}Object.entries(t).forEach((([e,t])=>n(e,t,!1))),Object.entries(r).forEach((([e,t])=>n(e,t,!0)))}function ho(e){const t=new WeakMap;return(r,...n)=>{const i=t.get(r);if(void 0!==i)return i;const s=e(r,...n);return t.set(r,s),s}}const po=BigInt(0),fo=BigInt(1),go=BigInt(2),mo=BigInt(3),yo=BigInt(4),wo=BigInt(5),bo=BigInt(7),vo=BigInt(8),Eo=BigInt(9),Ao=BigInt(16);function xo(e,t){const r=e%t;return r>=po?r:t+r}function Co(e,t,r){let n=e;for(;t-- >po;)n*=n,n%=r;return n}function So(e,t){if(e===po)throw new Error("invert: expected non-zero number");if(t<=po)throw new Error("invert: expected positive modulus, got "+t);let r=xo(e,t),n=t,i=po,s=fo;for(;r!==po;){const e=n%r,t=i-s*(n/r);n=r,r=e,i=s,s=t}if(n!==fo)throw new Error("invert: does not exist");return xo(i,t)}function Io(e,t,r){if(!e.eql(e.sqr(t),r))throw new Error("Cannot find square root")}function _o(e,t){const r=(e.ORDER+fo)/yo,n=e.pow(t,r);return Io(e,n,t),n}function ko(e,t){const r=(e.ORDER-wo)/vo,n=e.mul(t,go),i=e.pow(n,r),s=e.mul(t,i),o=e.mul(e.mul(s,go),i),a=e.mul(s,e.sub(o,e.ONE));return Io(e,a,t),a}function Po(e){if(e<mo)throw new Error("sqrt is not defined for small field");let t=e-fo,r=0;for(;t%go===po;)t/=go,r++;let n=go;const i=Bo(e);for(;1===Ro(i,n);)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===r)return _o;let s=i.pow(n,t);const o=(t+fo)/go;return function(e,n){if(e.is0(n))return n;if(1!==Ro(e,n))throw new Error("Cannot find square root");let i=r,a=e.mul(e.ONE,s),c=e.pow(n,t),l=e.pow(n,o);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,r=e.sqr(c);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===i)throw new Error("Cannot find square root");const n=fo<<BigInt(i-t-1),s=e.pow(a,n);i=t,a=e.sqr(s),c=e.mul(c,a),l=e.mul(l,s)}return l}}function To(e){return e%yo===mo?_o:e%vo===wo?ko:e%Ao===Eo?function(e){const t=Bo(e),r=Po(e),n=r(t,t.neg(t.ONE)),i=r(t,n),s=r(t,t.neg(n)),o=(e+bo)/Ao;return(e,t)=>{let r=e.pow(t,o),a=e.mul(r,n);const c=e.mul(r,i),l=e.mul(r,s),d=e.eql(e.sqr(a),t),u=e.eql(e.sqr(c),t);r=e.cmov(r,a,d),a=e.cmov(l,c,u);const h=e.eql(e.sqr(a),t),p=e.cmov(r,a,h);return Io(e,p,t),p}}(e):Po(e)}const Oo=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function No(e,t,r=!1){const n=new Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),s=e.inv(i);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),s),n}function Ro(e,t){const r=(e.ORDER-fo)/go,n=e.pow(t,r),i=e.eql(n,e.ONE),s=e.eql(n,e.ZERO),o=e.eql(n,e.neg(e.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function $o(e,t){void 0!==t&&we(t);const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function Bo(e,t,r=!1,n={}){if(e<=po)throw new Error("invalid field: expected ORDER > 0, got "+e);let i,s,o,a=!1;if("object"==typeof t&&null!=t){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const e=t;e.BITS&&(i=e.BITS),e.sqrt&&(s=e.sqrt),"boolean"==typeof e.isLE&&(r=e.isLE),"boolean"==typeof e.modFromBytes&&(a=e.modFromBytes),o=e.allowedLengths}else"number"==typeof t&&(i=t),n.sqrt&&(s=n.sqrt);const{nBitLength:c,nByteLength:l}=$o(e,i);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let d;const u=Object.freeze({ORDER:e,isLE:r,BITS:c,BYTES:l,MASK:lo(c),ZERO:po,ONE:fo,allowedLengths:o,create:t=>xo(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return po<=t&&t<e},is0:e=>e===po,isValidNot0:e=>!u.is0(e)&&u.isValid(e),isOdd:e=>(e&fo)===fo,neg:t=>xo(-t,e),eql:(e,t)=>e===t,sqr:t=>xo(t*t,e),add:(t,r)=>xo(t+r,e),sub:(t,r)=>xo(t-r,e),mul:(t,r)=>xo(t*r,e),pow:(e,t)=>function(e,t,r){if(r<po)throw new Error("invalid exponent, negatives unsupported");if(r===po)return e.ONE;if(r===fo)return t;let n=e.ONE,i=t;for(;r>po;)r&fo&&(n=e.mul(n,i)),i=e.sqr(i),r>>=fo;return n}(u,e,t),div:(t,r)=>xo(t*So(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>So(t,e),sqrt:s||(t=>(d||(d=To(e)),d(u,t))),toBytes:e=>r?io(e,l):no(e,l),fromBytes:(t,n=!0)=>{if(o){if(!o.includes(t.length)||t.length>l)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+t.length);const e=new Uint8Array(l);e.set(t,r?0:e.length-t.length),t=e}if(t.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+t.length);let i=r?ro(t):to(t);if(a&&(i=xo(i,e)),!n&&!u.isValid(i))throw new Error("invalid field element: outside of range 0..ORDER");return i},invertBatch:e=>No(u,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(u)}function Mo(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Uo(e){const t=Mo(e);return t+Math.ceil(t/2)}const Lo=BigInt(0),Do=BigInt(1);function jo(e,t){const r=t.negate();return e?r:t}function Ho(e,t){const r=No(e.Fp,t.map((e=>e.Z)));return t.map(((t,n)=>e.fromAffine(t.toAffine(r[n]))))}function zo(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Fo(e,t){zo(e,t);const r=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:lo(e),maxNumber:r,shiftBy:BigInt(e)}}function Vo(e,t,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(e&i),c=e>>o;a>n&&(a-=s,c+=Do);const l=t*n;return{nextN:c,offset:l+Math.abs(a)-1,isZero:0===a,isNeg:a<0,isNegF:t%2!=0,offsetF:l}}const Zo=new WeakMap,qo=new WeakMap;function Wo(e){return qo.get(e)||1}function Ko(e){if(e!==Lo)throw new Error("invalid wNAF")}class Go{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,r=this.ZERO){let n=e;for(;t>Lo;)t&Do&&(r=r.add(n)),n=n.double(),t>>=Do;return r}precomputeWindow(e,t){const{windows:r,windowSize:n}=Fo(t,this.bits),i=[];let s=e,o=s;for(let e=0;e<r;e++){o=s,i.push(o);for(let e=1;e<n;e++)o=o.add(s),i.push(o);s=o.double()}return i}wNAF(e,t,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let n=this.ZERO,i=this.BASE;const s=Fo(e,this.bits);for(let e=0;e<s.windows;e++){const{nextN:o,offset:a,isZero:c,isNeg:l,isNegF:d,offsetF:u}=Vo(r,e,s);r=o,c?i=i.add(jo(d,t[u])):n=n.add(jo(l,t[a]))}return Ko(r),{p:n,f:i}}wNAFUnsafe(e,t,r,n=this.ZERO){const i=Fo(e,this.bits);for(let e=0;e<i.windows&&r!==Lo;e++){const{nextN:s,offset:o,isZero:a,isNeg:c}=Vo(r,e,i);if(r=s,!a){const e=t[o];n=n.add(c?e.negate():e)}}return Ko(r),n}getPrecomputes(e,t,r){let n=Zo.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&("function"==typeof r&&(n=r(n)),Zo.set(t,n))),n}cached(e,t,r){const n=Wo(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)}unsafe(e,t,r,n){const i=Wo(e);return 1===i?this._unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)}createCache(e,t){zo(t,this.bits),qo.set(e,t),Zo.delete(e)}hasCache(e){return 1!==Wo(e)}}function Yo(e,t,r,n){(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach(((e,r)=>{if(!(e instanceof t))throw new Error("invalid point at index "+r)}))})(r,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach(((e,r)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+r)}))}(n,t);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=co(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=lo(c),d=new Array(Number(l)+1).fill(o);let u=o;for(let e=Math.floor((t.BITS-1)/c)*c;e>=0;e-=c){d.fill(o);for(let t=0;t<s;t++){const i=n[t],s=Number(i>>BigInt(e)&l);d[s]=d[s].add(r[t])}let t=o;for(let e=d.length-1,r=o;e>0;e--)r=r.add(d[e]),t=t.add(r);if(u=u.add(t),0!==e)for(let e=0;e<c;e++)u=u.double()}return u}function Jo(e,t,r){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return function(e){uo(e,Oo.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"}))}(t),t}return Bo(e,{isLE:r})}const Xo=(e,t)=>(e+(e>=0?t:-t)/sa)/t;function Qo(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function ea(e,t){const r={};for(let n of Object.keys(t))r[n]=void 0===e[n]?t[n]:e[n];return Js(r.lowS,"lowS"),Js(r.prehash,"prehash"),void 0!==r.format&&Qo(r.format),r}class ta extends Error{constructor(e=""){super(e)}}const ra={Err:ta,_tlv:{encode:(e,t)=>{const{Err:r}=ra;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");const n=t.length/2,i=Qs(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?Qs(i.length/2|128):"";return Qs(e)+s+i+t},decode(e,t){const{Err:r}=ra;let n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");const i=t[n++];let s=0;if(!!(128&i)){const e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");const o=t.subarray(n,n+e);if(o.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===o[0])throw new r("tlv.decode(long): zero leftmost byte");for(const e of o)s=s<<8|e;if(n+=e,s<128)throw new r("tlv.decode(long): not minimal encoding")}else s=i;const o=t.subarray(n,n+s);if(o.length!==s)throw new r("tlv.decode: wrong value length");return{v:o,l:t.subarray(n+s)}}},_int:{encode(e){const{Err:t}=ra;if(e<na)throw new t("integer: negative integers are not allowed");let r=Qs(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){const{Err:t}=ra;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return to(e)}},toSig(e){const{Err:t,_int:r,_tlv:n}=ra,i=so("signature",e),{v:s,l:o}=n.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,s),{v:l,l:d}=n.decode(2,c);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(e){const{_tlv:t,_int:r}=ra,n=t.encode(2,r.encode(e.r))+t.encode(2,r.encode(e.s));return t.encode(48,n)}},na=BigInt(0),ia=BigInt(1),sa=BigInt(2),oa=BigInt(3),aa=BigInt(4);function ca(e,t){const{BYTES:r}=e;let n;if("bigint"==typeof t)n=t;else{let i=so("private key",t);try{n=e.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof t}`)}}if(!e.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function la(e,t={}){const r=function(e,t,r={},n){if(void 0===n&&(n="edwards"===e),!t||"object"!=typeof t)throw new Error(`expected valid ${e} CURVE object`);for(const e of["p","n","h"]){const r=t[e];if(!("bigint"==typeof r&&r>Lo))throw new Error(`CURVE.${e} must be positive bigint`)}const i=Jo(t.p,r.Fp,n),s=Jo(t.n,r.Fn,n),o=["Gx","Gy","a","weierstrass"===e?"b":"d"];for(const e of o)if(!i.isValid(t[e]))throw new Error(`CURVE.${e} must be valid field element of CURVE.Fp`);return{CURVE:t=Object.freeze(Object.assign({},t)),Fp:i,Fn:s}}("weierstrass",e,t),{Fp:n,Fn:i}=r;let s=r.CURVE;const{h:o,n:a}=s;uo(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=t;if(c&&(!n.is0(s.a)||"bigint"!=typeof c.beta||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=ua(n,i);function d(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}const u=t.toBytes||function(e,t,r){const{x:i,y:s}=t.toAffine(),o=n.toBytes(i);if(Js(r,"isCompressed"),r){d();return ze(da(!n.isOdd(s)),o)}return ze(Uint8Array.of(4),o,n.toBytes(s))},h=t.fromBytes||function(e){Xs(e,void 0,"Point");const{publicKey:t,publicKeyUncompressed:r}=l,i=e.length,s=e[0],o=e.subarray(1);if(i!==t||2!==s&&3!==s){if(i===r&&4===s){const e=n.BYTES,t=n.fromBytes(o.subarray(0,e)),r=n.fromBytes(o.subarray(e,2*e));if(!f(t,r))throw new Error("bad point: is not on curve");return{x:t,y:r}}throw new Error(`bad point: got length ${i}, expected compressed=${t} or uncompressed=${r}`)}{const e=n.fromBytes(o);if(!n.isValid(e))throw new Error("bad point: is not on curve, wrong x");const t=p(e);let r;try{r=n.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("bad point: is not on curve, sqrt error"+t)}d();return!(1&~s)!==n.isOdd(r)&&(r=n.neg(r)),{x:e,y:r}}};function p(e){const t=n.sqr(e),r=n.mul(t,e);return n.add(n.add(r,n.mul(e,s.a)),s.b)}function f(e,t){const r=n.sqr(t),i=p(e);return n.eql(r,i)}if(!f(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const g=n.mul(n.pow(s.a,oa),aa),m=n.mul(n.sqr(s.b),BigInt(27));if(n.is0(n.add(g,m)))throw new Error("bad curve params: a or b");function y(e,t,r=!1){if(!n.isValid(t)||r&&n.is0(t))throw new Error(`bad point coordinate ${e}`);return t}function w(e){if(!(e instanceof x))throw new Error("ProjectivePoint expected")}function b(e){if(!c||!c.basises)throw new Error("no endo");return function(e,t,r){const[[n,i],[s,o]]=t,a=Xo(o*e,r),c=Xo(-i*e,r);let l=e-a*n-c*s,d=-a*i-c*o;const u=l<na,h=d<na;u&&(l=-l),h&&(d=-d);const p=lo(Math.ceil(co(r)/2))+ia;if(l<na||l>=p||d<na||d>=p)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:u,k1:l,k2neg:h,k2:d}}(e,c.basises,i.ORDER)}const v=ho(((e,t)=>{const{X:r,Y:i,Z:s}=e;if(n.eql(s,n.ONE))return{x:r,y:i};const o=e.is0();null==t&&(t=o?n.ONE:n.inv(s));const a=n.mul(r,t),c=n.mul(i,t),l=n.mul(s,t);if(o)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw new Error("invZ was invalid");return{x:a,y:c}})),E=ho((e=>{if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.Y))return;throw new Error("bad point: ZERO")}const{x:r,y:i}=e.toAffine();if(!n.isValid(r)||!n.isValid(i))throw new Error("bad point: x or y not field elements");if(!f(r,i))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0}));function A(e,t,r,i,s){return r=new x(n.mul(r.X,e),r.Y,r.Z),t=jo(i,t),r=jo(s,r),t.add(r)}class x{constructor(e,t,r){this.X=y("x",e),this.Y=y("y",t,!0),this.Z=y("z",r),Object.freeze(this)}static CURVE(){return s}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof x)throw new Error("projective point not allowed");return n.is0(t)&&n.is0(r)?x.ZERO:new x(t,r,n.ONE)}static fromBytes(e){const t=x.fromAffine(h(Xs(e,void 0,"point")));return t.assertValidity(),t}static fromHex(e){return x.fromBytes(so("pointHex",e))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return S.createCache(this,e),t||this.multiply(oa),this}assertValidity(){E(this)}hasEvenY(){const{y:e}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(e)}equals(e){w(e);const{X:t,Y:r,Z:i}=this,{X:s,Y:o,Z:a}=e,c=n.eql(n.mul(t,a),n.mul(s,i)),l=n.eql(n.mul(r,a),n.mul(o,i));return c&&l}negate(){return new x(this.X,n.neg(this.Y),this.Z)}double(){const{a:e,b:t}=s,r=n.mul(t,oa),{X:i,Y:o,Z:a}=this;let c=n.ZERO,l=n.ZERO,d=n.ZERO,u=n.mul(i,i),h=n.mul(o,o),p=n.mul(a,a),f=n.mul(i,o);return f=n.add(f,f),d=n.mul(i,a),d=n.add(d,d),c=n.mul(e,d),l=n.mul(r,p),l=n.add(c,l),c=n.sub(h,l),l=n.add(h,l),l=n.mul(c,l),c=n.mul(f,c),d=n.mul(r,d),p=n.mul(e,p),f=n.sub(u,p),f=n.mul(e,f),f=n.add(f,d),d=n.add(u,u),u=n.add(d,u),u=n.add(u,p),u=n.mul(u,f),l=n.add(l,u),p=n.mul(o,a),p=n.add(p,p),u=n.mul(p,f),c=n.sub(c,u),d=n.mul(p,h),d=n.add(d,d),d=n.add(d,d),new x(c,l,d)}add(e){w(e);const{X:t,Y:r,Z:i}=this,{X:o,Y:a,Z:c}=e;let l=n.ZERO,d=n.ZERO,u=n.ZERO;const h=s.a,p=n.mul(s.b,oa);let f=n.mul(t,o),g=n.mul(r,a),m=n.mul(i,c),y=n.add(t,r),b=n.add(o,a);y=n.mul(y,b),b=n.add(f,g),y=n.sub(y,b),b=n.add(t,i);let v=n.add(o,c);return b=n.mul(b,v),v=n.add(f,m),b=n.sub(b,v),v=n.add(r,i),l=n.add(a,c),v=n.mul(v,l),l=n.add(g,m),v=n.sub(v,l),u=n.mul(h,b),l=n.mul(p,m),u=n.add(l,u),l=n.sub(g,u),u=n.add(g,u),d=n.mul(l,u),g=n.add(f,f),g=n.add(g,f),m=n.mul(h,m),b=n.mul(p,b),g=n.add(g,m),m=n.sub(f,m),m=n.mul(h,m),b=n.add(b,m),f=n.mul(g,b),d=n.add(d,f),f=n.mul(v,b),l=n.mul(y,l),l=n.sub(l,f),f=n.mul(y,g),u=n.mul(v,u),u=n.add(u,f),new x(l,d,u)}subtract(e){return this.add(e.negate())}is0(){return this.equals(x.ZERO)}multiply(e){const{endo:r}=t;if(!i.isValidNot0(e))throw new Error("invalid scalar: out of range");let n,s;const o=e=>S.cached(this,e,(e=>Ho(x,e)));if(r){const{k1neg:t,k1:i,k2neg:a,k2:c}=b(e),{p:l,f:d}=o(i),{p:u,f:h}=o(c);s=d.add(h),n=A(r.beta,l,u,t,a)}else{const{p:t,f:r}=o(e);n=t,s=r}return Ho(x,[n,s])[0]}multiplyUnsafe(e){const{endo:r}=t,n=this;if(!i.isValid(e))throw new Error("invalid scalar: out of range");if(e===na||n.is0())return x.ZERO;if(e===ia)return n;if(S.hasCache(this))return this.multiply(e);if(r){const{k1neg:t,k1:i,k2neg:s,k2:o}=b(e),{p1:a,p2:c}=function(e,t,r,n){let i=t,s=e.ZERO,o=e.ZERO;for(;r>Lo||n>Lo;)r&Do&&(s=s.add(i)),n&Do&&(o=o.add(i)),i=i.double(),r>>=Do,n>>=Do;return{p1:s,p2:o}}(x,n,i,o);return A(r.beta,a,c,t,s)}return S.unsafe(n,e)}multiplyAndAddUnsafe(e,t,r){const n=this.multiplyUnsafe(t).add(e.multiplyUnsafe(r));return n.is0()?void 0:n}toAffine(e){return v(this,e)}isTorsionFree(){const{isTorsionFree:e}=t;return o===ia||(e?e(x,this):S.unsafe(this,a).is0())}clearCofactor(){const{clearCofactor:e}=t;return o===ia?this:e?e(x,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(e=!0){return Js(e,"isCompressed"),this.assertValidity(),u(x,this,e)}toHex(e=!0){return Oe(this.toBytes(e))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(e=!0){return this.toBytes(e)}_setWindowSize(e){this.precompute(e)}static normalizeZ(e){return Ho(x,e)}static msm(e,t){return Yo(x,i,e,t)}static fromPrivateKey(e){return x.BASE.multiply(ca(i,e))}}x.BASE=new x(s.Gx,s.Gy,n.ONE),x.ZERO=new x(n.ZERO,n.ONE,n.ZERO),x.Fp=n,x.Fn=i;const C=i.BITS,S=new Go(x,t.endo?Math.ceil(C/2):C);return x.BASE.precompute(8),x}function da(e){return Uint8Array.of(e?2:3)}function ua(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function ha(e,t={}){const{Fn:r}=e,n=t.randomBytes||Ze,i=Object.assign(ua(e.Fp,r),{seed:Uo(r.ORDER)});function s(e){try{return!!ca(r,e)}catch{return!1}}function o(e=n(i.seed)){return function(e,t,r=!1){const n=e.length,i=Mo(t),s=Uo(t);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=xo(r?ro(e):to(e),t-fo)+fo;return r?io(o,i):no(o,i)}(Xs(e,i.seed,"seed"),r.ORDER)}function a(t,n=!0){return e.BASE.multiply(ca(r,t)).toBytes(n)}function c(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;const{secretKey:n,publicKey:s,publicKeyUncompressed:o}=i;if(r.allowedLengths||n===s)return;const a=so("key",t).length;return a===s||a===o}return Object.freeze({getPublicKey:a,getSharedSecret:function(t,n,i=!0){if(!0===c(t))throw new Error("first arg must be private key");if(!1===c(n))throw new Error("second arg must be public key");const s=ca(r,t);return e.fromHex(n).multiply(s).toBytes(i)},keygen:function(e){const t=o(e);return{secretKey:t,publicKey:a(t)}},Point:e,utils:{isValidSecretKey:s,isValidPublicKey:function(t,r){const{publicKey:n,publicKeyUncompressed:s}=i;try{const i=t.length;return!(!0===r&&i!==n||!1===r&&i!==s)&&!!e.fromBytes(t)}catch{return!1}},randomSecretKey:o,isValidPrivateKey:s,randomPrivateKey:o,normPrivateKeyToScalar:e=>ca(r,e),precompute:(t=8,r=e.BASE)=>r.precompute(t,!1)},lengths:i})}function pa(e,t,r={}){ve(t),uo(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=r.randomBytes||Ze,i=r.hmac||((e,...r)=>ei(t,e,ze(...r))),{Fp:s,Fn:o}=e,{ORDER:a,BITS:c}=o,{keygen:l,getPublicKey:d,getSharedSecret:u,utils:h,lengths:p}=ha(e,r),f={prehash:!1,lowS:"boolean"==typeof r.lowS&&r.lowS,format:void 0,extraEntropy:!1},g="compact";function m(e){return e>a>>ia}function y(e,t){if(!o.isValidNot0(t))throw new Error(`invalid signature ${e}: out of range 1..Point.Fn.ORDER`);return t}class w{constructor(e,t,r){this.r=y("r",e),this.s=y("s",t),null!=r&&(this.recovery=r),Object.freeze(this)}static fromBytes(e,t=g){let r;if(function(e,t){Qo(t);const r=p.signature;Xs(e,"compact"===t?r:"recovered"===t?r+1:void 0,`${t} signature`)}(e,t),"der"===t){const{r:t,s:r}=ra.toSig(Xs(e));return new w(t,r)}"recovered"===t&&(r=e[0],t="compact",e=e.subarray(1));const n=o.BYTES,i=e.subarray(0,n),s=e.subarray(n,2*n);return new w(o.fromBytes(i),o.fromBytes(s),r)}static fromHex(e,t){return this.fromBytes(De(e),t)}addRecoveryBit(e){return new w(this.r,this.s,e)}recoverPublicKey(t){const r=s.ORDER,{r:n,s:i,recovery:c}=this;if(null==c||![0,1,2,3].includes(c))throw new Error("recovery id invalid");if(a*sa<r&&c>1)throw new Error("recovery id is ambiguous for h>1 curve");const l=2===c||3===c?n+a:n;if(!s.isValid(l))throw new Error("recovery id 2 or 3 invalid");const d=s.toBytes(l),u=e.fromBytes(ze(da(!(1&c)),d)),h=o.inv(l),p=v(so("msgHash",t)),f=o.create(-p*h),g=o.create(i*h),m=e.BASE.multiplyUnsafe(f).add(u.multiplyUnsafe(g));if(m.is0())throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return m(this.s)}toBytes(e=g){if(Qo(e),"der"===e)return De(ra.hexFromSig(this));const t=o.toBytes(this.r),r=o.toBytes(this.s);if("recovered"===e){if(null==this.recovery)throw new Error("recovery bit must be present");return ze(Uint8Array.of(this.recovery),t,r)}return ze(t,r)}toHex(e){return Oe(this.toBytes(e))}assertValidity(){}static fromCompact(e){return w.fromBytes(so("sig",e),"compact")}static fromDER(e){return w.fromBytes(so("sig",e),"der")}normalizeS(){return this.hasHighS()?new w(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Oe(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Oe(this.toBytes("compact"))}}const b=r.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const t=to(e),r=8*e.length-c;return r>0?t>>BigInt(r):t},v=r.bits2int_modN||function(e){return o.create(b(e))},E=lo(c);function A(e){return ao("num < 2^"+c,e,na,E),o.toBytes(e)}function x(e,r){return Xs(e,void 0,"message"),r?Xs(t(e),void 0,"prehashed message"):e}return Object.freeze({keygen:l,getPublicKey:d,getSharedSecret:u,utils:h,lengths:p,Point:e,sign:function(r,s,a={}){r=so("message",r);const{seed:c,k2sig:l}=function(t,r,i){if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{lowS:s,prehash:a,extraEntropy:c}=ea(i,f);t=x(t,a);const l=v(t),d=ca(o,r),u=[A(d),A(l)];if(null!=c&&!1!==c){const e=!0===c?n(p.secretKey):c;u.push(so("extraEntropy",e))}const h=ze(...u),g=l;return{seed:h,k2sig:function(t){const r=b(t);if(!o.isValidNot0(r))return;const n=o.inv(r),i=e.BASE.multiply(r).toAffine(),a=o.create(i.x);if(a===na)return;const c=o.create(n*o.create(g+a*d));if(c===na)return;let l=(i.x===a?0:2)|Number(i.y&ia),u=c;return s&&m(c)&&(u=o.neg(c),l^=1),new w(a,u,l)}}}(r,s,a);return function(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");const n=e=>new Uint8Array(e),i=e=>Uint8Array.of(e);let s=n(e),o=n(e),a=0;const c=()=>{s.fill(1),o.fill(0),a=0},l=(...e)=>r(o,s,...e),d=(e=n(0))=>{o=l(i(0),e),s=l(),0!==e.length&&(o=l(i(1),e),s=l())},u=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){s=l();const t=s.slice();r.push(t),e+=s.length}return ze(...r)};return(e,t)=>{let r;for(c(),d(e);!(r=t(u()));)d();return c(),r}}(t.outputLen,o.BYTES,i)(c,l)},verify:function(t,r,n,i={}){const{lowS:s,prehash:a,format:c}=ea(i,f);if(n=so("publicKey",n),r=x(so("message",r),a),"strict"in i)throw new Error("options.strict was renamed to lowS");const l=void 0===c?function(e){let t;const r="string"==typeof e||ye(e),n=!r&&null!==e&&"object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!r&&!n)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(n)t=new w(e.r,e.s);else if(r){try{t=w.fromBytes(so("sig",e),"der")}catch(e){if(!(e instanceof ra.Err))throw e}if(!t)try{t=w.fromBytes(so("sig",e),"compact")}catch{return!1}}return t||!1}(t):w.fromBytes(so("sig",t),c);if(!1===l)return!1;try{const t=e.fromBytes(n);if(s&&l.hasHighS())return!1;const{r:i,s:a}=l,c=v(r),d=o.inv(a),u=o.create(c*d),h=o.create(i*d),p=e.BASE.multiplyUnsafe(u).add(t.multiplyUnsafe(h));return!p.is0()&&o.create(p.x)===i}catch{return!1}},recoverPublicKey:function(e,t,r={}){const{prehash:n}=ea(r,f);return t=x(t,n),w.fromBytes(e,"recovered").recoverPublicKey(t).toBytes()},Signature:w,hash:t})}function fa(e){const{CURVE:t,curveOpts:r}=function(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp;let n=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map((e=>Math.ceil(e/2))))):void 0;return{CURVE:t,curveOpts:{Fp:r,Fn:Bo(t.n,{BITS:e.nBitLength,allowedLengths:n,modFromBytes:e.wrapPrivateKey}),allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes}}}(e),n={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:r,hash:e.hash,ecdsaOpts:n}}function ga(e){const{CURVE:t,curveOpts:r,hash:n,ecdsaOpts:i}=fa(e);return function(e,t){const r=t.Point;return Object.assign({},t,{ProjectivePoint:r,CURVE:Object.assign({},e,$o(r.Fn.ORDER,r.Fn.BITS))})}(e,pa(la(t,r),n,i))}je("HashToScalar-");const ma={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},ya={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},wa=BigInt(2);const ba=Bo(ma.p,{sqrt:function(e){const t=ma.p,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,d=l*l*e%t,u=Co(d,r,t)*d%t,h=Co(u,r,t)*d%t,p=Co(h,wa,t)*l%t,f=Co(p,i,t)*p%t,g=Co(f,s,t)*f%t,m=Co(g,a,t)*g%t,y=Co(m,c,t)*m%t,w=Co(y,a,t)*g%t,b=Co(w,r,t)*d%t,v=Co(b,o,t)*f%t,E=Co(v,n,t)*l%t,A=Co(E,wa,t);if(!ba.eql(ba.sqr(A),e))throw new Error("Cannot find square root");return A}});/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function va(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function Ea(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every((e=>"string"==typeof e)):t.every((e=>Number.isSafeInteger(e)))))}function Aa(e){if("function"!=typeof e)throw new Error("function expected");return!0}function xa(e,t){if("string"!=typeof t)throw new Error(`${e}: string expected`);return!0}function Ca(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function Sa(e){if(!Array.isArray(e))throw new Error("array expected")}function Ia(e,t){if(!Ea(!0,t))throw new Error(`${e}: array of strings expected`)}function _a(e,t){if(!Ea(!1,t))throw new Error(`${e}: array of numbers expected`)}function ka(...e){const t=e=>e,r=(e,t)=>r=>e(t(r));return{encode:e.map((e=>e.encode)).reduceRight(r,t),decode:e.map((e=>e.decode)).reduce(r,t)}}function Pa(e){const t="string"==typeof e?e.split(""):e,r=t.length;Ia("alphabet",t);const n=new Map(t.map(((e,t)=>[e,t])));return{encode:n=>(Sa(n),n.map((n=>{if(!Number.isSafeInteger(n)||n<0||n>=r)throw new Error(`alphabet.encode: digit index outside alphabet "${n}". Allowed: ${e}`);return t[n]}))),decode:t=>(Sa(t),t.map((t=>{xa("alphabet.decode",t);const r=n.get(t);if(void 0===r)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return r})))}}function Ta(e=""){return xa("join",e),{encode:t=>(Ia("join.decode",t),t.join(e)),decode:t=>(xa("join.decode",t),t.split(e))}}function Oa(e,t,r){if(t<2)throw new Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: invalid to=${r}, base cannot be less than 2`);if(Sa(e),!e.length)return[];let n=0;const i=[],s=Array.from(e,(e=>{if(Ca(e),e<0||e>=t)throw new Error(`invalid integer: ${e}`);return e})),o=s.length;for(;;){let e=0,a=!0;for(let i=n;i<o;i++){const o=s[i],c=t*e,l=c+o;if(!Number.isSafeInteger(l)||c/t!==e||l-o!==c)throw new Error("convertRadix: carry overflow");const d=l/r;e=l%r;const u=Math.floor(d);if(s[i]=u,!Number.isSafeInteger(u)||u*r+e!==l)throw new Error("convertRadix: carry overflow");a&&(u?a=!1:n=i)}if(i.push(e),a)break}for(let t=0;t<e.length-1&&0===e[t];t++)i.push(0);return i.reverse()}!function(e,t){const r=t=>ga({...e,hash:t});r(t)}({...ma,Fp:ba,lowS:!0,endo:ya},sr);const Na=(e,t)=>0===t?e:Na(t,e%t),Ra=(e,t)=>e+(t-Na(e,t)),$a=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function Ba(e,t,r,n){if(Sa(e),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(Ra(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${Ra(t,r)}`);let i=0,s=0;const o=$a[t],a=$a[r]-1,c=[];for(const n of e){if(Ca(n),n>=o)throw new Error(`convertRadix2: invalid data word=${n} from=${t}`);if(i=i<<t|n,s+t>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=r;s-=r)c.push((i>>s-r&a)>>>0);const e=$a[s];if(void 0===e)throw new Error("invalid carry");i&=e-1}if(i=i<<r-s&a,!n&&s>=t)throw new Error("Excess padding");if(!n&&i>0)throw new Error(`Non-zero padding: ${i}`);return n&&s>0&&c.push(i>>>0),c}function Ma(e,t=!1){if(Ca(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(Ra(8,e)>32||Ra(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!va(r))throw new Error("radix2.encode input should be Uint8Array");return Ba(Array.from(r),8,e,!t)},decode:r=>(_a("radix2.decode",r),Uint8Array.from(Ba(r,e,8,t)))}}const Ua=ka(Ma(5),Pa("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),function(e,t="="){return Ca(e),xa("padding",t),{encode(r){for(Ia("padding.encode",r);r.length*e%8;)r.push(t);return r},decode(r){Ia("padding.decode",r);let n=r.length;if(n*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if((n-1)*e%8==0)throw new Error("padding: invalid, string has too much padding");return r.slice(0,n)}}}(5),Ta("")),La=("function"==typeof Uint8Array.from([]).toBase64&&Uint8Array.fromBase64,(e=>ka(function(e){return Ca(e),{encode:t=>{if(!va(t))throw new Error("radix.encode input should be Uint8Array");return Oa(Array.from(t),256,e)},decode:t=>(_a("radix.decode",t),Uint8Array.from(Oa(t,e,256)))}}(58),Pa(e),Ta("")))("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"));ka(Pa("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Ta(""));"function"==typeof Uint8Array.from([]).toHex&&Uint8Array.fromHex;function Da(e){return zn(function(e){const{payload:t,signature:r}=e,{r:n,s:i,yParity:s}=r,o=new ls.Signature(BigInt(n),BigInt(i)).addRecoveryBit(s).recoverPublicKey(on(t).substring(2));return Nn(o)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */(e))}function ja(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function Ha(e,...t){if(!ja(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function za(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Fa(e,t){Ha(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Va(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Za(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function qa(e){if("string"==typeof e)e=function(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}(e);else{if(!ja(e))throw new Error("Uint8Array expected, got "+typeof e);e=Wa(e)}return e}function Wa(e){return Uint8Array.from(e)}(e=>{ka(function(e,t){return Ca(e),Aa(t),{encode(r){if(!va(r))throw new Error("checksum.encode: input should be Uint8Array");const n=t(r).slice(0,e),i=new Uint8Array(r.length+e);return i.set(r),i.set(n,r.length),i},decode(r){if(!va(r))throw new Error("checksum.decode: input should be Uint8Array");const n=r.slice(0,-e),i=r.slice(-e),s=t(n).slice(0,e);for(let t=0;t<e;t++)if(s[t]!==i[t])throw new Error("Invalid checksum");return n}}}(4,(t=>e(e(t)))),La)})(sr),je("Bitcoin seed");const Ka=16,Ga=new Uint8Array(16),Ya=Va(Ga),Ja=(e,t,r,n)=>({s3:r<<31|n>>>1,s2:t<<31|r>>>1,s1:e<<31|t>>>1,s0:e>>>1^225<<24&-(1&(1&n))}),Xa=e=>(e>>>0&255)<<24|(e>>>8&255)<<16|(e>>>16&255)<<8|e>>>24&255;class Qa{constructor(e,t){this.blockLen=Ka,this.outputLen=Ka,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,Ha(e=qa(e),16);const r=function(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}(e);let n=r.getUint32(0,!1),i=r.getUint32(4,!1),s=r.getUint32(8,!1),o=r.getUint32(12,!1);const a=[];for(let e=0;e<128;e++)a.push({s0:Xa(n),s1:Xa(i),s2:Xa(s),s3:Xa(o)}),({s0:n,s1:i,s2:s,s3:o}=Ja(n,i,s,o));const c=(e=>e>65536?8:e>1024?4:2)(t||1024);if(![1,2,4,8].includes(c))throw new Error("ghash: invalid window size, expected 2, 4 or 8");this.W=c;const l=128/c,d=this.windowSize=2**c,u=[];for(let e=0;e<l;e++)for(let t=0;t<d;t++){let r=0,n=0,i=0,s=0;for(let o=0;o<c;o++){if(!(t>>>c-o-1&1))continue;const{s0:l,s1:d,s2:u,s3:h}=a[c*e+o];r^=l,n^=d,i^=u,s^=h}u.push({s0:r,s1:n,s2:i,s3:s})}this.t=u}_updateBlock(e,t,r,n){e^=this.s0,t^=this.s1,r^=this.s2,n^=this.s3;const{W:i,t:s,windowSize:o}=this;let a=0,c=0,l=0,d=0;const u=(1<<i)-1;let h=0;for(const p of[e,t,r,n])for(let e=0;e<4;e++){const t=p>>>8*e&255;for(let e=8/i-1;e>=0;e--){const r=t>>>i*e&u,{s0:n,s1:p,s2:f,s3:g}=s[h*o+r];a^=n,c^=p,l^=f,d^=g,h+=1}}this.s0=a,this.s1=c,this.s2=l,this.s3=d}update(e){za(this),Ha(e=qa(e));const t=Va(e),r=Math.floor(e.length/Ka),n=e.length%Ka;for(let e=0;e<r;e++)this._updateBlock(t[4*e+0],t[4*e+1],t[4*e+2],t[4*e+3]);return n&&(Ga.set(e.subarray(r*Ka)),this._updateBlock(Ya[0],Ya[1],Ya[2],Ya[3]),Za(Ya)),this}destroy(){const{t:e}=this;for(const t of e)t.s0=0,t.s1=0,t.s2=0,t.s3=0}digestInto(e){za(this),Fa(e,this),this.finished=!0;const{s0:t,s1:r,s2:n,s3:i}=this,s=Va(e);return s[0]=t,s[1]=r,s[2]=n,s[3]=i,e}digest(){const e=new Uint8Array(Ka);return this.digestInto(e),this.destroy(),e}}class ec extends Qa{constructor(e,t){Ha(e=qa(e));const r=function(e){e.reverse();const t=1&e[15];let r=0;for(let t=0;t<e.length;t++){const n=e[t];e[t]=n>>>1|r,r=(1&n)<<7}return e[0]^=225&-t,e}(Wa(e));super(r,t),Za(r)}update(e){e=qa(e),za(this);const t=Va(e),r=e.length%Ka,n=Math.floor(e.length/Ka);for(let e=0;e<n;e++)this._updateBlock(Xa(t[4*e+3]),Xa(t[4*e+2]),Xa(t[4*e+1]),Xa(t[4*e+0]));return r&&(Ga.set(e.subarray(n*Ka)),this._updateBlock(Xa(Ya[3]),Xa(Ya[2]),Xa(Ya[1]),Xa(Ya[0])),Za(Ya)),this}digestInto(e){za(this),Fa(e,this),this.finished=!0;const{s0:t,s1:r,s2:n,s3:i}=this,s=Va(e);return s[0]=t,s[1]=r,s[2]=n,s[3]=i,e.reverse()}}function tc(e){const t=(t,r)=>e(r,t.length).update(qa(t)).digest(),r=e(new Uint8Array(16),0);return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=(t,r)=>e(t,r),t}tc(((e,t)=>new Qa(e,t))),tc(((e,t)=>new ec(e,t)));const rc=vi(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"));Ki({a:rc.create(BigInt("-3")),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Fp:rc,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},sr);const nc=vi(BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"));Ki({a:nc.create(BigInt("-3")),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Fp:nc,n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f"),h:BigInt(1),lowS:!1},ar);const ic=vi(BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"));Ki({a:ic.create(BigInt("-3")),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Fp:ic,n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650"),h:BigInt(1),lowS:!1,allowedPrivateKeyLengths:[130,131,132]},or);!function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,n,s,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,s||e,o),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o},a.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,i,s,o){var a=r?r+e:e;if(!this._events[a])return!1;var c,l,d=this._events[a],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,i),!0;case 5:return d.fn.call(d.context,t,n,i,s),!0;case 6:return d.fn.call(d.context,t,n,i,s,o),!0}for(l=1,c=new Array(u-1);l<u;l++)c[l-1]=arguments[l];d.fn.apply(d.context,c)}else{var h,p=d.length;for(l=0;l<p;l++)switch(d[l].once&&this.removeListener(e,d[l].fn,void 0,!0),u){case 1:d[l].fn.call(d[l].context);break;case 2:d[l].fn.call(d[l].context,t);break;case 3:d[l].fn.call(d[l].context,t,n);break;case 4:d[l].fn.call(d[l].context,t,n,i);break;default:if(!c)for(h=1,c=new Array(u-1);h<u;h++)c[h-1]=arguments[h];d[l].fn.apply(d[l].context,c)}}return!0},a.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,n,i){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn===t&&(!i||a.once)&&(!n||a.context===n)&&o(this,s);else{for(var c=0,l=[],d=a.length;c<d;c++)(a[c].fn!==t||i&&!a[c].once||n&&a[c].context!==n)&&l.push(a[c]);l.length?this._events[s]=1===l.length?l[0]:l:o(this,s)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a}({exports:{}});var sc=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let e=0;e<t.length;e++)t[e]=255;for(let r=0;r<e.length;r++){const n=e.charAt(r),i=n.charCodeAt(0);if(255!==t[i])throw new TypeError(n+" is ambiguous");t[i]=r}const r=e.length,n=e.charAt(0),i=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function o(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;let s=0,o=0,a=0;for(;e[s]===n;)o++,s++;const c=(e.length-s)*i+1>>>0,l=new Uint8Array(c);for(;s<e.length;){const n=e.charCodeAt(s);if(n>255)return;let i=t[n];if(255===i)return;let o=0;for(let e=c-1;(0!==i||o<a)&&-1!==e;e--,o++)i+=r*l[e]>>>0,l[e]=i%256>>>0,i=i/256>>>0;if(0!==i)throw new Error("Non-zero carry");a=o,s++}let d=c-a;for(;d!==c&&0===l[d];)d++;const u=new Uint8Array(o+(c-d));let h=o;for(;d!==c;)u[h++]=l[d++];return u}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";let i=0,o=0,a=0;const c=t.length;for(;a!==c&&0===t[a];)a++,i++;const l=(c-a)*s+1>>>0,d=new Uint8Array(l);for(;a!==c;){let e=t[a],n=0;for(let t=l-1;(0!==e||n<o)&&-1!==t;t--,n++)e+=256*d[t]>>>0,d[t]=e%r>>>0,e=e/r>>>0;if(0!==e)throw new Error("Non-zero carry");o=n,a++}let u=l-o;for(;u!==l&&0===d[u];)u++;let h=n.repeat(i);for(;u<l;++u)h+=e.charAt(d[u]);return h},decodeUnsafe:o,decode:function(e){const t=o(e);if(t)return t;throw new Error("Non-base"+r+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");const oc=new TextEncoder;function ac(e,t,r){e.length>50?function(e,t,r){oc.encodeInto(e,t.subarray(r))}(e,t,r):function(e,t,r){const n=e.length;let i=r,s=0;for(;s<n;){let r=e.charCodeAt(s++);if(4294967168&r){if(4294965248&r){if(r>=55296&&r<=56319&&s<n){const t=e.charCodeAt(s);56320==(64512&t)&&(++s,r=((1023&r)<<10)+(1023&t)+65536)}4294901760&r?(t[i++]=r>>18&7|240,t[i++]=r>>12&63|128,t[i++]=r>>6&63|128):(t[i++]=r>>12&15|224,t[i++]=r>>6&63|128)}else t[i++]=r>>6&31|192;t[i++]=63&r|128}else t[i++]=r}}(e,t,r)}function cc(e,t,r){let n=t;const i=n+r,s=[];let o="";for(;n<i;){const t=e[n++];if(128&t)if(192==(224&t)){const r=63&e[n++];s.push((31&t)<<6|r)}else if(224==(240&t)){const r=63&e[n++],i=63&e[n++];s.push((31&t)<<12|r<<6|i)}else if(240==(248&t)){let r=(7&t)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++];r>65535&&(r-=65536,s.push(r>>>10&1023|55296),r=56320|1023&r),s.push(r)}else s.push(t);else s.push(t);s.length>=4096&&(o+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(o+=String.fromCharCode(...s)),o}const lc=new TextDecoder;function dc(e,t,r){return r>200?function(e,t,r){const n=e.subarray(t,t+r);return lc.decode(n)}(e,t,r):cc(e,t,r)}class uc{constructor(e,t){this.type=e,this.data=t}}class hc extends Error{constructor(e){super(e);const t=Object.create(hc.prototype);Object.setPrototypeOf(this,t),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:hc.name})}}const pc=4294967295;function fc(e,t,r){const n=Math.floor(r/4294967296),i=r;e.setUint32(t,n),e.setUint32(t+4,i)}function gc(e,t){return 4294967296*e.getInt32(t)+e.getUint32(t+4)}const mc={type:-1,encode:function(e){if(e instanceof Date){const t=function(e){const t=e.getTime(),r=Math.floor(t/1e3),n=1e6*(t-1e3*r),i=Math.floor(n/1e9);return{sec:r+i,nsec:n-1e9*i}}(e);return function({sec:e,nsec:t}){if(e>=0&&t>=0&&e<=17179869183){if(0===t&&e<=4294967295){const t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e),t}{const r=e/4294967296,n=4294967295&e,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,t<<2|3&r),s.setUint32(4,n),i}}{const r=new Uint8Array(12),n=new DataView(r.buffer);return n.setUint32(0,t),fc(n,4,e),r}}(t)}return null},decode:function(e){const t=function(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:{const e=t.getUint32(0);return{sec:4294967296*(3&e)+t.getUint32(4),nsec:e>>>2}}case 12:return{sec:gc(t,4),nsec:t.getUint32(0)};default:throw new hc(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${e.length}`)}}(e);return new Date(1e3*t.sec+t.nsec/1e6)}};class yc{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(mc)}register({type:e,encode:t,decode:r}){if(e>=0)this.encoders[e]=t,this.decoders[e]=r;else{const n=-1-e;this.builtInEncoders[n]=t,this.builtInDecoders[n]=r}}tryToEncode(e,t){for(let r=0;r<this.builtInEncoders.length;r++){const n=this.builtInEncoders[r];if(null!=n){const i=n(e,t);if(null!=i){return new uc(-1-r,i)}}}for(let r=0;r<this.encoders.length;r++){const n=this.encoders[r];if(null!=n){const i=n(e,t);if(null!=i){return new uc(r,i)}}}return e instanceof uc?e:null}decode(e,t,r){const n=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return n?n(e,t,r):new uc(t,e)}}function wc(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):function(e){return e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer}(e)?new Uint8Array(e):Uint8Array.from(e)}yc.defaultCodec=new yc;class bc{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??yc.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??100,this.initialBufferSize=e?.initialBufferSize??2048,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new bc({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,t){if(t>this.maxDepth)throw new Error(`Too deep objects in depth ${t}`);null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.useBigInt64&&"bigint"==typeof e?this.encodeBigInt64(e):this.encodeObject(e,t)}ensureBufferSizeToWrite(e){const t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)}resizeBuffer(e){const t=new ArrayBuffer(e),r=new Uint8Array(t),n=new DataView(t);r.set(this.bytes),this.view=n,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){!1===e?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else{if(!(e<4294967296))throw new Error(`Too long string: ${e} bytes in UTF-8`);this.writeU8(219),this.writeU32(e)}}encodeString(e){const t=function(e){const t=e.length;let r=0,n=0;for(;n<t;){let i=e.charCodeAt(n++);if(4294967168&i)if(4294965248&i){if(i>=55296&&i<=56319&&n<t){const t=e.charCodeAt(n);56320==(64512&t)&&(++n,i=((1023&i)<<10)+(1023&t)+65536)}r+=4294901760&i?4:3}else r+=2;else r++}return r}(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),ac(e,this.bytes,this.pos),this.pos+=t}encodeObject(e,t){const r=this.extensionCodec.tryToEncode(e,this.context);if(null!=r)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else{if("object"!=typeof e)throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`);this.encodeMap(e,t)}}encodeBinary(e){const t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else{if(!(t<4294967296))throw new Error(`Too large binary: ${t}`);this.writeU8(198),this.writeU32(t)}const r=wc(e);this.writeU8a(r)}encodeArray(e,t){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else{if(!(r<4294967296))throw new Error(`Too large array: ${r}`);this.writeU8(221),this.writeU32(r)}for(const r of e)this.doEncode(r,t+1)}countWithoutUndefined(e,t){let r=0;for(const n of t)void 0!==e[n]&&r++;return r}encodeMap(e,t){const r=Object.keys(e);this.sortKeys&&r.sort();const n=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(n<16)this.writeU8(128+n);else if(n<65536)this.writeU8(222),this.writeU16(n);else{if(!(n<4294967296))throw new Error(`Too large map object: ${n}`);this.writeU8(223),this.writeU32(n)}for(const n of r){const r=e[n];this.ignoreUndefined&&void 0===r||(this.encodeString(n),this.doEncode(r,t+1))}}encodeExtension(e){if("function"==typeof e.data){const t=e.data(this.pos+6),r=t.length;if(r>=4294967296)throw new Error(`Too large extension object: ${r}`);return this.writeU8(201),this.writeU32(r),this.writeI8(e.type),void this.writeU8a(t)}const t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else{if(!(t<4294967296))throw new Error(`Too large extension object: ${t}`);this.writeU8(201),this.writeU32(t)}this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),function(e,t,r){const n=r/4294967296,i=r;e.setUint32(t,n),e.setUint32(t+4,i)}(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),fc(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}}function vc(e){return`${e<0?"-":""}0x${Math.abs(e).toString(16).padStart(2,"0")}`}const Ec="array",Ac="map_key",xc="map_value",Cc=e=>{if("string"==typeof e||"number"==typeof e)return e;throw new hc("The type of key must be string or number but "+typeof e)};class Sc{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const t=this.getUninitializedStateFromPool();t.type=Ec,t.position=0,t.size=e,t.array=new Array(e)}pushMapState(e){const t=this.getUninitializedStateFromPool();t.type=Ac,t.readCount=0,t.size=e,t.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===Ec){const t=e;t.size=0,t.array=void 0,t.position=0,t.type=void 0}if(e.type===Ac||e.type===xc){const t=e;t.size=0,t.map=void 0,t.readCount=0,t.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const Ic=new DataView(new ArrayBuffer(0)),_c=new Uint8Array(Ic.buffer);try{Ic.getInt8(0)}catch(Kt){if(!(Kt instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const kc=new RangeError("Insufficient data"),Pc=new class{constructor(e=16,t=16){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=t,this.caches=[];for(let e=0;e<this.maxKeyLength;e++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,t,r){const n=this.caches[r-1];e:for(const i of n){const n=i.bytes;for(let i=0;i<r;i++)if(n[i]!==e[t+i])continue e;return i.str}return null}store(e,t){const r=this.caches[e.length-1],n={bytes:e,str:t};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=n:r.push(n)}decode(e,t,r){const n=this.find(e,t,r);if(null!=n)return this.hit++,n;this.miss++;const i=cc(e,t,r),s=Uint8Array.prototype.slice.call(e,t,t+r);return this.store(s,i),i}};class Tc{constructor(e){this.totalPos=0,this.pos=0,this.view=Ic,this.bytes=_c,this.headByte=-1,this.stack=new Sc,this.entered=!1,this.extensionCodec=e?.extensionCodec??yc.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??pc,this.maxBinLength=e?.maxBinLength??pc,this.maxArrayLength=e?.maxArrayLength??pc,this.maxMapLength=e?.maxMapLength??pc,this.maxExtLength=e?.maxExtLength??pc,this.keyDecoder=void 0!==e?.keyDecoder?e.keyDecoder:Pc,this.mapKeyConverter=e?.mapKeyConverter??Cc}clone(){return new Tc({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=-1,this.stack.reset()}setBuffer(e){const t=wc(e);this.bytes=t,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.pos=0}appendBuffer(e){if(-1!==this.headByte||this.hasRemaining(1)){const t=this.bytes.subarray(this.pos),r=wc(e),n=new Uint8Array(t.length+r.length);n.set(t),n.set(r,t.length),this.setBuffer(n)}else this.setBuffer(e)}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:t,pos:r}=this;return new RangeError(`Extra ${t.byteLength-r} of ${t.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t}finally{this.entered=!1}}*decodeMulti(e){if(this.entered)yield*this.clone().decodeMulti(e);else try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let t,r=!1;for await(const n of e){if(r)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(n);try{t=this.doDecodeSync(),r=!0}catch(e){if(!(e instanceof RangeError))throw e}this.totalPos+=this.pos}if(r){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return t}const{headByte:n,pos:i,totalPos:s}=this;throw new RangeError(`Insufficient data in parsing ${vc(n)} at ${s} (${i} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,t){if(this.entered)yield*this.clone().decodeMultiAsync(e,t);else try{this.entered=!0;let r=t,n=-1;for await(const i of e){if(t&&0===n)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),r&&(n=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),0!=--n;);}catch(e){if(!(e instanceof RangeError))throw e}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let t;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){const r=e-128;if(0!==r){this.pushMapState(r),this.complete();continue e}t={}}else if(e<160){const r=e-144;if(0!==r){this.pushArrayState(r),this.complete();continue e}t=[]}else{const r=e-160;t=this.decodeString(r,0)}else if(192===e)t=null;else if(194===e)t=!1;else if(195===e)t=!0;else if(202===e)t=this.readF32();else if(203===e)t=this.readF64();else if(204===e)t=this.readU8();else if(205===e)t=this.readU16();else if(206===e)t=this.readU32();else if(207===e)t=this.useBigInt64?this.readU64AsBigInt():this.readU64();else if(208===e)t=this.readI8();else if(209===e)t=this.readI16();else if(210===e)t=this.readI32();else if(211===e)t=this.useBigInt64?this.readI64AsBigInt():this.readI64();else if(217===e){const e=this.lookU8();t=this.decodeString(e,1)}else if(218===e){const e=this.lookU16();t=this.decodeString(e,2)}else if(219===e){const e=this.lookU32();t=this.decodeString(e,4)}else if(220===e){const e=this.readU16();if(0!==e){this.pushArrayState(e),this.complete();continue e}t=[]}else if(221===e){const e=this.readU32();if(0!==e){this.pushArrayState(e),this.complete();continue e}t=[]}else if(222===e){const e=this.readU16();if(0!==e){this.pushMapState(e),this.complete();continue e}t={}}else if(223===e){const e=this.readU32();if(0!==e){this.pushMapState(e),this.complete();continue e}t={}}else if(196===e){const e=this.lookU8();t=this.decodeBinary(e,1)}else if(197===e){const e=this.lookU16();t=this.decodeBinary(e,2)}else if(198===e){const e=this.lookU32();t=this.decodeBinary(e,4)}else if(212===e)t=this.decodeExtension(1,0);else if(213===e)t=this.decodeExtension(2,0);else if(214===e)t=this.decodeExtension(4,0);else if(215===e)t=this.decodeExtension(8,0);else if(216===e)t=this.decodeExtension(16,0);else if(199===e){const e=this.lookU8();t=this.decodeExtension(e,1)}else if(200===e){const e=this.lookU16();t=this.decodeExtension(e,2)}else{if(201!==e)throw new hc(`Unrecognized type byte: ${vc(e)}`);{const e=this.lookU32();t=this.decodeExtension(e,4)}}this.complete();const r=this.stack;for(;r.length>0;){const e=r.top();if(e.type===Ec){if(e.array[e.position]=t,e.position++,e.position!==e.size)continue e;t=e.array,r.release(e)}else{if(e.type===Ac){if("__proto__"===t)throw new hc("The key __proto__ is not allowed");e.key=this.mapKeyConverter(t),e.type=xc;continue e}if(e.map[e.key]=t,e.readCount++,e.readCount!==e.size){e.key=null,e.type=Ac;continue e}t=e.map,r.release(e)}}return t}}readHeadByte(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=-1}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new hc(`Unrecognized array type byte: ${vc(e)}`)}}pushMapState(e){if(e>this.maxMapLength)throw new hc(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new hc(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,t){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,t):this.decodeBinary(e,t)}decodeUtf8String(e,t){if(e>this.maxStrLength)throw new hc(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+t+e)throw kc;const r=this.pos+t;let n;return n=this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?this.keyDecoder.decode(this.bytes,r,e):dc(this.bytes,r,e),this.pos+=t+e,n}stateIsMapKey(){return this.stack.length>0&&this.stack.top().type===Ac}decodeBinary(e,t){if(e>this.maxBinLength)throw new hc(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+t))throw kc;const r=this.pos+t,n=this.bytes.subarray(r,r+e);return this.pos+=t+e,n}decodeExtension(e,t){if(e>this.maxExtLength)throw new hc(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+t),n=this.decodeBinary(e,t+1);return this.extensionCodec.decode(n,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=function(e,t){return 4294967296*e.getUint32(t)+e.getUint32(t+4)}(this.view,this.pos);return this.pos+=8,e}readI64(){const e=gc(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}}function Oc(e){if("string"!=typeof e)throw new Error("Cannot safe json parse value of type "+typeof e);try{return(e=>{const t=e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(t,((e,t)=>"string"==typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t))})(e)}catch{return e}}function Nc(e){return"string"==typeof e?e:(e=>JSON.stringify(e,((e,t)=>"bigint"==typeof t?t.toString()+"n":t)))(e)||""}function Rc(e,...t){if(!function(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function $c(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const Bc="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Mc=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Uc(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),Rc(e),e}class Lc{clone(){return this._cloneInto()}}function Dc(e=32){if(Bc&&"function"==typeof Bc.getRandomValues)return Bc.getRandomValues(new Uint8Array(e));if(Bc&&"function"==typeof Bc.randomBytes)return Bc.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}class jc extends Lc{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Mc(this.buffer)}update(e){$c(this);const{view:t,buffer:r,blockLen:n}=this,i=(e=Uc(e)).length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o!==n)r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=Mc(e);for(;n<=i-s;s+=n)this.process(t,s)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){$c(this),function(e,t){Rc(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(r,0),s=0);for(let e=s;e<n;e++)t[e]=0;(function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+l,a,n)})(r,n-8,BigInt(8*this.length),i),this.process(r,0);const o=Mc(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)o.setUint32(4*e,l[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return e.length=n,e.pos=o,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}}const Hc=BigInt(2**32-1),zc=BigInt(32);function Fc(e,t=!1){return t?{h:Number(e&Hc),l:Number(e>>zc&Hc)}:{h:0|Number(e>>zc&Hc),l:0|Number(e&Hc)}}const Vc={fromBig:Fc,split:function(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=Fc(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]},toBig:(e,t)=>BigInt(e>>>0)<<zc|BigInt(t>>>0),shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,r)=>e<<r|t>>>32-r,rotlSL:(e,t,r)=>t<<r|e>>>32-r,rotlBH:(e,t,r)=>t<<r-32|e>>>64-r,rotlBL:(e,t,r)=>e<<r-32|t>>>64-r,add:function(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/2**32|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,add5H:(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)},[Zc,qc]=Vc.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),Wc=new Uint32Array(80),Kc=new Uint32Array(80);class Gc extends jc{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:l,Fh:d,Fl:u,Gh:h,Gl:p,Hh:f,Hl:g}=this;return[e,t,r,n,i,s,o,a,c,l,d,u,h,p,f,g]}set(e,t,r,n,i,s,o,a,c,l,d,u,h,p,f,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|d,this.Fl=0|u,this.Gh=0|h,this.Gl=0|p,this.Hh=0|f,this.Hl=0|g}process(e,t){for(let r=0;r<16;r++,t+=4)Wc[r]=e.getUint32(t),Kc[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|Wc[e-15],r=0|Kc[e-15],n=Vc.rotrSH(t,r,1)^Vc.rotrSH(t,r,8)^Vc.shrSH(t,r,7),i=Vc.rotrSL(t,r,1)^Vc.rotrSL(t,r,8)^Vc.shrSL(t,r,7),s=0|Wc[e-2],o=0|Kc[e-2],a=Vc.rotrSH(s,o,19)^Vc.rotrBH(s,o,61)^Vc.shrSH(s,o,6),c=Vc.rotrSL(s,o,19)^Vc.rotrBL(s,o,61)^Vc.shrSL(s,o,6),l=Vc.add4L(i,c,Kc[e-7],Kc[e-16]),d=Vc.add4H(l,n,a,Wc[e-7],Wc[e-16]);Wc[e]=0|d,Kc[e]=0|l}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:l,Eh:d,El:u,Fh:h,Fl:p,Gh:f,Gl:g,Hh:m,Hl:y}=this;for(let e=0;e<80;e++){const t=Vc.rotrSH(d,u,14)^Vc.rotrSH(d,u,18)^Vc.rotrBH(d,u,41),w=Vc.rotrSL(d,u,14)^Vc.rotrSL(d,u,18)^Vc.rotrBL(d,u,41),b=d&h^~d&f,v=u&p^~u&g,E=Vc.add5L(y,w,v,qc[e],Kc[e]),A=Vc.add5H(E,m,t,b,Zc[e],Wc[e]),x=0|E,C=Vc.rotrSH(r,n,28)^Vc.rotrBH(r,n,34)^Vc.rotrBH(r,n,39),S=Vc.rotrSL(r,n,28)^Vc.rotrBL(r,n,34)^Vc.rotrBL(r,n,39),I=r&i^r&o^i&o,_=n&s^n&a^s&a;m=0|f,y=0|g,f=0|h,g=0|p,h=0|d,p=0|u,({h:d,l:u}=Vc.add(0|c,0|l,0|A,0|x)),c=0|o,l=0|a,o=0|i,a=0|s,i=0|r,s=0|n;const k=Vc.add3L(x,S,_);r=Vc.add3H(k,A,C,I),n=0|k}({h:r,l:n}=Vc.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=Vc.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=Vc.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l:l}=Vc.add(0|this.Dh,0|this.Dl,0|c,0|l)),({h:d,l:u}=Vc.add(0|this.Eh,0|this.El,0|d,0|u)),({h:h,l:p}=Vc.add(0|this.Fh,0|this.Fl,0|h,0|p)),({h:f,l:g}=Vc.add(0|this.Gh,0|this.Gl,0|f,0|g)),({h:m,l:y}=Vc.add(0|this.Hh,0|this.Hl,0|m,0|y)),this.set(r,n,i,s,o,a,c,l,d,u,h,p,f,g,m,y)}roundClean(){Wc.fill(0),Kc.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Yc=function(e){const t=t=>e().update(Uc(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}((()=>new Gc)),Jc=BigInt(0),Xc=BigInt(1),Qc=BigInt(2);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function el(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function tl(e){if(!el(e))throw new Error("Uint8Array expected")}function rl(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)}const nl=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function il(e){tl(e);let t="";for(let r=0;r<e.length;r++)t+=nl[e[r]];return t}function sl(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?Jc:BigInt("0x"+e)}const ol=48,al=57,cl=65,ll=70,dl=97,ul=102;function hl(e){return e>=ol&&e<=al?e-ol:e>=cl&&e<=ll?e-(cl-10):e>=dl&&e<=ul?e-(dl-10):void 0}function pl(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=hl(e.charCodeAt(i)),s=hl(e.charCodeAt(i+1));if(void 0===r||void 0===s){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+s}return n}function fl(e){return tl(e),sl(il(Uint8Array.from(e).reverse()))}function gl(e,t){return pl(e.toString(16).padStart(2*t,"0"))}function ml(e,t){return gl(e,t).reverse()}function yl(e,t,r){let n;if("string"==typeof t)try{n=pl(t)}catch(t){throw new Error(e+" must be hex string or Uint8Array, cause: "+t)}else{if(!el(t))throw new Error(e+" must be hex string or Uint8Array");n=Uint8Array.from(t)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(e+" of length "+r+" expected, got "+i);return n}function wl(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];tl(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}const bl=e=>"bigint"==typeof e&&Jc<=e;function vl(e,t,r,n){if(!function(e,t,r){return bl(e)&&bl(t)&&bl(r)&&t<=e&&e<r}(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}const El=e=>(Qc<<BigInt(e-1))-Xc,Al={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||el(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function xl(e,t,r={}){const n=(t,r,n)=>{const i=Al[r];if("function"!=typeof i)throw new Error("invalid validator function");const s=e[t];if(!(n&&void 0===s||i(s,e)))throw new Error("param "+String(t)+" is invalid. Expected "+r+", got "+s)};for(const[e,r]of Object.entries(t))n(e,r,!1);for(const[e,t]of Object.entries(r))n(e,t,!0);return e}function Cl(e){const t=new WeakMap;return(r,...n)=>{const i=t.get(r);if(void 0!==i)return i;const s=e(r,...n);return t.set(r,s),s}}const Sl=BigInt(0),Il=BigInt(1),_l=BigInt(2),kl=BigInt(3),Pl=BigInt(4),Tl=BigInt(5),Ol=BigInt(8);function Nl(e,t){const r=e%t;return r>=Sl?r:t+r}function Rl(e,t,r){if(t<Sl)throw new Error("invalid exponent, negatives unsupported");if(r<=Sl)throw new Error("invalid modulus");if(r===Il)return Sl;let n=Il;for(;t>Sl;)t&Il&&(n=n*e%r),e=e*e%r,t>>=Il;return n}function $l(e,t,r){let n=e;for(;t-- >Sl;)n*=n,n%=r;return n}function Bl(e,t){if(e===Sl)throw new Error("invert: expected non-zero number");if(t<=Sl)throw new Error("invert: expected positive modulus, got "+t);let r=Nl(e,t),n=t,i=Sl,s=Il;for(;r!==Sl;){const e=n%r,t=i-s*(n/r);n=r,r=e,i=s,s=t}if(n!==Il)throw new Error("invert: does not exist");return Nl(i,t)}function Ml(e){if(e%Pl===kl){const t=(e+Il)/Pl;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%Ol===Tl){const t=(e-Tl)/Ol;return function(e,r){const n=e.mul(r,_l),i=e.pow(n,t),s=e.mul(r,i),o=e.mul(e.mul(s,_l),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),r))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-Il)/_l;let r,n,i;for(r=e-Il,n=0;r%_l===Sl;r/=_l,n++);for(i=_l;i<e&&Rl(i,t,e)!==e-Il;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===n){const t=(e+Il)/Pl;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const s=(r+Il)/_l;return function(e,o){if(e.pow(o,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=n,c=e.pow(e.mul(e.ONE,i),r),l=e.pow(o,s),d=e.pow(o,r);for(;!e.eql(d,e.ONE);){if(e.eql(d,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(d);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const r=e.pow(c,Il<<BigInt(a-t-1));c=e.sqr(r),l=e.mul(l,r),d=e.mul(d,c),a=t}return l}}(e)}const Ul=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ll(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function Dl(e,t,r=!1,n={}){if(e<=Sl)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=Ll(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:r,BITS:i,BYTES:s,MASK:El(i),ZERO:Sl,ONE:Il,create:t=>Nl(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return Sl<=t&&t<e},is0:e=>e===Sl,isOdd:e=>(e&Il)===Il,neg:t=>Nl(-t,e),eql:(e,t)=>e===t,sqr:t=>Nl(t*t,e),add:(t,r)=>Nl(t+r,e),sub:(t,r)=>Nl(t-r,e),mul:(t,r)=>Nl(t*r,e),pow:(e,t)=>function(e,t,r){if(r<Sl)throw new Error("invalid exponent, negatives unsupported");if(r===Sl)return e.ONE;if(r===Il)return t;let n=e.ONE,i=t;for(;r>Sl;)r&Il&&(n=e.mul(n,i)),i=e.sqr(i),r>>=Il;return n}(a,e,t),div:(t,r)=>Nl(t*Bl(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Bl(t,e),sqrt:n.sqrt||(t=>(o||(o=Ml(e)),o(a,t))),invertBatch:e=>function(e,t){const r=new Array(t.length),n=t.reduce(((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n))),e.ONE),i=e.inv(n);return t.reduceRight(((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n))),i),r}(a,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?ml(e,s):gl(e,s),fromBytes:e=>{if(e.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return r?fl(e):function(e){return sl(il(e))}(e)}});return Object.freeze(a)}const jl=BigInt(0),Hl=BigInt(1);function zl(e,t){const r=t.negate();return e?r:t}function Fl(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Vl(e,t){Fl(e,t);return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}const Zl=new WeakMap,ql=new WeakMap;function Wl(e){return ql.get(e)||1}function Kl(e,t,r,n){if(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach(((e,r)=>{if(!(e instanceof t))throw new Error("invalid point at index "+r)}))}(r,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach(((e,r)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+r)}))}(n,t),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,s=function(e){let t;for(t=0;e>Jc;e>>=Xc,t+=1);return t}(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i);let l=i;for(let e=Math.floor((t.BITS-1)/o)*o;e>=0;e-=o){c.fill(i);for(let t=0;t<n.length;t++){const i=n[t],s=Number(i>>BigInt(e)&BigInt(a));c[s]=c[s].add(r[t])}let t=i;for(let e=c.length-1,r=i;e>0;e--)r=r.add(c[e]),t=t.add(r);if(l=l.add(t),0!==e)for(let e=0;e<o;e++)l=l.double()}return l}function Gl(e){return function(e){xl(e,Ul.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(e.Fp),xl(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Ll(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const Yl=BigInt(0),Jl=BigInt(1),Xl=BigInt(2),Ql=BigInt(8),ed={zip215:!0};BigInt(0),BigInt(1);const td=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),rd=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const nd=BigInt(1),id=BigInt(2);BigInt(3);const sd=BigInt(5),od=BigInt(8);const ad=Dl(td,void 0,!0),cd={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:ad,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:od,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Yc,randomBytes:Dc,adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},uvRatio:function(e,t){const r=td,n=Nl(t*t*t,r),i=function(e){const t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=td,o=e*e%s*e%s,a=$l(o,id,s)*o%s,c=$l(a,nd,s)*e%s,l=$l(c,sd,s)*c%s,d=$l(l,t,s)*l%s,u=$l(d,r,s)*d%s,h=$l(u,n,s)*u%s,p=$l(h,i,s)*h%s,f=$l(p,i,s)*h%s,g=$l(f,t,s)*l%s;return{pow_p_5_8:$l(g,id,s)*e%s,b2:o}}(e*Nl(n*n*t,r)).pow_p_5_8;let s=Nl(e*n*i,r);const o=Nl(t*s*s,r),a=s,c=Nl(s*rd,r),l=o===e,d=o===Nl(-e,r),u=o===Nl(-e*rd,r);return l&&(s=a),(d||u)&&(s=c),((e,t)=>(Nl(e,t)&Il)===Il)(s,r)&&(s=Nl(-s,r)),{isValid:l||d,value:s}}},ld=function(e){const t=function(e){const t=Gl(e);return xl(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:r,n:n,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=t,l=Xl<<BigInt(8*a)-Jl,d=r.create,u=Dl(t.n,t.nBitLength),h=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:r.sqrt(e*r.inv(t))}}catch{return{isValid:!1,value:Yl}}}),p=t.adjustScalarBytes||(e=>e),f=t.domain||((e,t,r)=>{if(rl("phflag",r),t.length||r)throw new Error("Contexts/pre-hash are not supported");return e});function g(e,t){vl("coordinate "+e,t,Yl,l)}function m(e){if(!(e instanceof b))throw new Error("ExtendedPoint expected")}const y=Cl(((e,t)=>{const{ex:n,ey:i,ez:s}=e,o=e.is0();null==t&&(t=o?Ql:r.inv(s));const a=d(n*t),c=d(i*t),l=d(s*t);if(o)return{x:Yl,y:Jl};if(l!==Jl)throw new Error("invZ was invalid");return{x:a,y:c}})),w=Cl((e=>{const{a:r,d:n}=t;if(e.is0())throw new Error("bad point: ZERO");const{ex:i,ey:s,ez:o,et:a}=e,c=d(i*i),l=d(s*s),u=d(o*o),h=d(u*u),p=d(c*r);if(d(u*d(p+l))!==d(h+d(n*d(c*l))))throw new Error("bad point: equation left != right (1)");if(d(i*s)!==d(o*a))throw new Error("bad point: equation left != right (2)");return!0}));class b{constructor(e,t,r,n){this.ex=e,this.ey=t,this.ez=r,this.et=n,g("x",e),g("y",t),g("z",r),g("t",n),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof b)throw new Error("extended point not allowed");const{x:t,y:r}=e||{};return g("x",t),g("y",r),new b(t,r,Jl,d(t*r))}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.ez)));return e.map(((e,r)=>e.toAffine(t[r]))).map(b.fromAffine)}static msm(e,t){return Kl(b,u,e,t)}_setWindowSize(e){A.setWindowSize(this,e)}assertValidity(){w(this)}equals(e){m(e);const{ex:t,ey:r,ez:n}=this,{ex:i,ey:s,ez:o}=e,a=d(t*o),c=d(i*n),l=d(r*o),u=d(s*n);return a===c&&l===u}is0(){return this.equals(b.ZERO)}negate(){return new b(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){const{a:e}=t,{ex:r,ey:n,ez:i}=this,s=d(r*r),o=d(n*n),a=d(Xl*d(i*i)),c=d(e*s),l=r+n,u=d(d(l*l)-s-o),h=c+o,p=h-a,f=c-o,g=d(u*p),m=d(h*f),y=d(u*f),w=d(p*h);return new b(g,m,w,y)}add(e){m(e);const{a:r,d:n}=t,{ex:i,ey:s,ez:o,et:a}=this,{ex:c,ey:l,ez:u,et:h}=e;if(r===BigInt(-1)){const e=d((s-i)*(l+c)),t=d((s+i)*(l-c)),r=d(t-e);if(r===Yl)return this.double();const n=d(o*Xl*h),p=d(a*Xl*u),f=p+n,g=t+e,m=p-n,y=d(f*r),w=d(g*m),v=d(f*m),E=d(r*g);return new b(y,w,E,v)}const p=d(i*c),f=d(s*l),g=d(a*n*h),y=d(o*u),w=d((i+s)*(c+l)-p-f),v=y-g,E=y+g,A=d(f-r*p),x=d(w*v),C=d(E*A),S=d(w*A),I=d(v*E);return new b(x,C,I,S)}subtract(e){return this.add(e.negate())}wNAF(e){return A.wNAFCached(this,e,b.normalizeZ)}multiply(e){const t=e;vl("scalar",t,Jl,n);const{p:r,f:i}=this.wNAF(t);return b.normalizeZ([r,i])[0]}multiplyUnsafe(e,t=b.ZERO){const r=e;return vl("scalar",r,Yl,n),r===Yl?E:this.is0()||r===Jl?this:A.wNAFCachedUnsafe(this,r,b.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return A.unsafeLadder(this,n).is0()}toAffine(e){return y(this,e)}clearCofactor(){const{h:e}=t;return e===Jl?this:this.multiplyUnsafe(e)}static fromHex(e,n=!1){const{d:i,a:s}=t,o=r.BYTES;e=yl("pointHex",e,o),rl("zip215",n);const a=e.slice(),c=e[o-1];a[o-1]=-129&c;const u=fl(a),p=n?l:r.ORDER;vl("pointHex.y",u,Yl,p);const f=d(u*u),g=d(f-Jl),m=d(i*f-s);let{isValid:y,value:w}=h(g,m);if(!y)throw new Error("Point.fromHex: invalid y coordinate");const v=(w&Jl)===Jl,E=!!(128&c);if(!n&&w===Yl&&E)throw new Error("Point.fromHex: x=0 and x_0=1");return E!==v&&(w=d(-w)),b.fromAffine({x:w,y:u})}static fromPrivateKey(e){return S(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),n=ml(t,r.BYTES);return n[n.length-1]|=e&Jl?128:0,n}toHex(){return il(this.toRawBytes())}}b.BASE=new b(t.Gx,t.Gy,Jl,d(t.Gx*t.Gy)),b.ZERO=new b(Yl,Jl,Jl,Yl);const{BASE:v,ZERO:E}=b,A=function(e,t){return{constTimeNegate:zl,hasPrecomputes:e=>1!==Wl(e),unsafeLadder(t,r,n=e.ZERO){let i=t;for(;r>jl;)r&Hl&&(n=n.add(i)),i=i.double(),r>>=Hl;return n},precomputeWindow(e,r){const{windows:n,windowSize:i}=Vl(r,t),s=[];let o=e,a=o;for(let e=0;e<n;e++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(r,n,i){const{windows:s,windowSize:o}=Vl(r,t);let a=e.ZERO,c=e.BASE;const l=BigInt(2**r-1),d=2**r,u=BigInt(r);for(let e=0;e<s;e++){const t=e*o;let r=Number(i&l);i>>=u,r>o&&(r-=d,i+=Hl);const s=t,h=t+Math.abs(r)-1,p=e%2!=0,f=r<0;0===r?c=c.add(zl(p,n[s])):a=a.add(zl(f,n[h]))}return{p:a,f:c}},wNAFUnsafe(r,n,i,s=e.ZERO){const{windows:o,windowSize:a}=Vl(r,t),c=BigInt(2**r-1),l=2**r,d=BigInt(r);for(let e=0;e<o;e++){const t=e*a;if(i===jl)break;let r=Number(i&c);if(i>>=d,r>a&&(r-=l,i+=Hl),0===r)continue;let o=n[t+Math.abs(r)-1];r<0&&(o=o.negate()),s=s.add(o)}return s},getPrecomputes(e,t,r){let n=Zl.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&Zl.set(t,r(n))),n},wNAFCached(e,t,r){const n=Wl(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){const i=Wl(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){Fl(r,t),ql.set(e,r),Zl.delete(e)}}}(b,8*a);function x(e){return Nl(e,n)}function C(e){return x(fl(e))}function S(e){const t=r.BYTES;e=yl("private key",e,t);const n=yl("hashed private key",s(e),2*t),i=p(n.slice(0,t)),o=n.slice(t,2*t),a=C(i),c=v.multiply(a),l=c.toRawBytes();return{head:i,prefix:o,scalar:a,point:c,pointBytes:l}}function I(e=new Uint8Array,...t){const r=wl(...t);return C(s(f(r,yl("context",e),!!i)))}const _=ed;return v._setWindowSize(8),{CURVE:t,getPublicKey:function(e){return S(e).pointBytes},sign:function(e,t,s={}){e=yl("message",e),i&&(e=i(e));const{prefix:o,scalar:a,pointBytes:c}=S(t),l=I(s.context,o,e),d=v.multiply(l).toRawBytes(),u=x(l+I(s.context,d,c,e)*a);return vl("signature.s",u,Yl,n),yl("result",wl(d,ml(u,r.BYTES)),2*r.BYTES)},verify:function(e,t,n,s=_){const{context:o,zip215:a}=s,c=r.BYTES;e=yl("signature",e,2*c),t=yl("message",t),n=yl("publicKey",n,c),void 0!==a&&rl("zip215",a),i&&(t=i(t));const l=fl(e.slice(c,2*c));let d,u,h;try{d=b.fromHex(n,a),u=b.fromHex(e.slice(0,c),a),h=v.multiplyUnsafe(l)}catch{return!1}if(!a&&d.isSmallOrder())return!1;const p=I(o,u.toRawBytes(),d.toRawBytes(),t);return u.add(d.multiplyUnsafe(p)).subtract(h).clearCofactor().equals(b.ZERO)},ExtendedPoint:b,utils:{getExtendedPublicKey:S,randomPrivateKey:()=>o(r.BYTES),precompute:(e=8,t=b.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}(cd),dd=".",ud="base64url",hd="utf8",pd="utf8",fd="did",gd="key",md="base58btc";function yd(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function wd(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?yd(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function bd(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const r=wd(t);let n=0;for(const t of e)r.set(t,n),n+=t.length;return yd(r)}var vd=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==r[o])throw new TypeError(s+" is ambiguous");r[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function u(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var d=r[e.charCodeAt(t)];if(255===d)return;for(var u=0,h=s-1;(0!==d||u<i)&&-1!==h;h--,u++)d+=a*o[h]>>>0,o[h]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");i=u,t++}if(" "!==e[t]){for(var p=s-i;p!==s&&0===o[p];)p++;for(var f=new Uint8Array(n+(s-p)),g=n;p!==s;)f[g++]=o[p++];return f}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,s=t.length;i!==s&&0===t[i];)i++,r++;for(var o=(s-i)*d+1>>>0,l=new Uint8Array(o);i!==s;){for(var u=t[i],h=0,p=o-1;(0!==u||h<n)&&-1!==p;p--,h++)u+=256*l[p]>>>0,l[p]=u%a>>>0,u=u/a>>>0;if(0!==u)throw new Error("Non-zero carry");n=h,i++}for(var f=o-n;f!==o&&0===l[f];)f++;for(var g=c.repeat(r);f<o;++f)g+=e.charAt(l[f]);return g},decodeUnsafe:u,decode:function(e){var r=u(e);if(r)return r;throw new Error(`Non-${t} character`)}}},Ed=vd;const Ad=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class xd{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Cd{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return Id(this,e)}}class Sd{constructor(e){this.decoders=e}or(e){return Id(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Id=(e,t)=>new Sd({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class _d{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new xd(e,t,r),this.decoder=new Cd(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const kd=({name:e,prefix:t,encode:r,decode:n})=>new _d(e,t,r,n),Pd=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=Ed(r,t);return kd({prefix:e,name:t,encode:n,decode:e=>Ad(i(e))})},Td=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>kd({prefix:t,name:e,encode:e=>((e,t,r)=>{const n="="===t[t.length-1],i=(1<<r)-1;let s="",o=0,a=0;for(let n=0;n<e.length;++n)for(a=a<<8|e[n],o+=8;o>r;)o-=r,s+=t[i&a>>o];if(o&&(s+=t[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s})(e,n,r),decode:t=>((e,t,r,n)=>{const i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let t=0;t<s;++t){const s=i[e[t]];if(void 0===s)throw new SyntaxError(`Non-${n} character`);c=c<<r|s,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(t,n,r,e)}),Od=kd({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)});var Nd=Object.freeze({__proto__:null,identity:Od});const Rd=Td({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var $d=Object.freeze({__proto__:null,base2:Rd});const Bd=Td({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Md=Object.freeze({__proto__:null,base8:Bd});const Ud=Pd({prefix:"9",name:"base10",alphabet:"0123456789"});var Ld=Object.freeze({__proto__:null,base10:Ud});const Dd=Td({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),jd=Td({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Hd=Object.freeze({__proto__:null,base16:Dd,base16upper:jd});const zd=Td({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Fd=Td({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Vd=Td({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Zd=Td({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),qd=Td({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Wd=Td({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Kd=Td({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Gd=Td({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Yd=Td({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Jd=Object.freeze({__proto__:null,base32:zd,base32upper:Fd,base32pad:Vd,base32padupper:Zd,base32hex:qd,base32hexupper:Wd,base32hexpad:Kd,base32hexpadupper:Gd,base32z:Yd});const Xd=Pd({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Qd=Pd({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var eu=Object.freeze({__proto__:null,base36:Xd,base36upper:Qd});const tu=Pd({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),ru=Pd({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var nu=Object.freeze({__proto__:null,base58btc:tu,base58flickr:ru});const iu=Td({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),su=Td({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ou=Td({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),au=Td({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var cu=Object.freeze({__proto__:null,base64:iu,base64pad:su,base64url:ou,base64urlpad:au});const lu=Array.from(""),du=lu.reduce(((e,t,r)=>(e[r]=t,e)),[]),uu=lu.reduce(((e,t,r)=>(e[t.codePointAt(0)]=r,e)),[]);const hu=kd({prefix:"",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=du[t]),"")},decode:function(e){const t=[];for(const r of e){const e=uu[r.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}});var pu=Object.freeze({__proto__:null,base256emoji:hu}),fu=function e(t,r,n){r=r||[];for(var i=n=n||0;t>=yu;)r[n++]=255&t|gu,t/=128;for(;t&mu;)r[n++]=255&t|gu,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r},gu=128,mu=-128,yu=Math.pow(2,31);var wu=function e(t,r){var n,i=0,s=0,o=r=r||0,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");n=t[o++],i+=s<28?(n&vu)<<s:(n&vu)*Math.pow(2,s),s+=7}while(n>=bu);return e.bytes=o-r,i},bu=128,vu=127;var Eu=Math.pow(2,7),Au=Math.pow(2,14),xu=Math.pow(2,21),Cu=Math.pow(2,28),Su=Math.pow(2,35),Iu=Math.pow(2,42),_u=Math.pow(2,49),ku=Math.pow(2,56),Pu=Math.pow(2,63),Tu={encode:fu,decode:wu,encodingLength:function(e){return e<Eu?1:e<Au?2:e<xu?3:e<Cu?4:e<Su?5:e<Iu?6:e<_u?7:e<ku?8:e<Pu?9:10}},Ou=Tu;const Nu=(e,t,r=0)=>(Ou.encode(e,t,r),t),Ru=e=>Ou.encodingLength(e),$u=(e,t)=>{const r=t.byteLength,n=Ru(e),i=n+Ru(r),s=new Uint8Array(i+r);return Nu(e,s,0),Nu(r,s,n),s.set(t,i),new Bu(e,r,t,s)};class Bu{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}const Mu=({name:e,code:t,encode:r})=>new Uu(e,t,r);class Uu{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?$u(this.code,t):t.then((e=>$u(this.code,e)))}throw Error("Unknown type, must be binary type")}}const Lu=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Du=Mu({name:"sha2-256",code:18,encode:Lu("SHA-256")}),ju=Mu({name:"sha2-512",code:19,encode:Lu("SHA-512")});Object.freeze({__proto__:null,sha256:Du,sha512:ju});const Hu=Ad;Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:Hu,digest:e=>$u(0,Hu(e))}});new TextEncoder,new TextDecoder;const zu={...Nd,...$d,...Md,...Ld,...Hd,...Jd,...eu,...nu,...cu,...pu};function Fu(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const Vu=Fu("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),Zu=Fu("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{const t=wd((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),qu={utf8:Vu,"utf-8":Vu,hex:zu.base16,latin1:Zu,ascii:Zu,binary:Zu,...zu};function Wu(e,t="utf8"){const r=qu[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}function Ku(e,t="utf8"){const r=qu[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${e}`):yd(globalThis.Buffer.from(e,"utf-8"))}function Gu(e){return Oc(Wu(Ku(e,ud),hd))}function Yu(e){return Wu(Ku(Nc(e),hd),ud)}function Ju(e){const t="z"+Wu(bd([Ku("K36",md),e]),md);return[fd,gd,t].join(":")}function Xu(e){return Wu(e,ud)}function Qu(e){const t=e.split(dd),r=Gu(t[0]),n=Gu(t[1]),i=function(e){return Ku(e,ud)}(t[2]);return{header:r,payload:n,signature:i,data:Ku(t.slice(0,2).join(dd),pd)}}function eh(e=Dc(32)){const t=ld.getPublicKey(e);return{secretKey:bd([e,t]),publicKey:t}}async function th(e,t,r,n,i=T.fromMiliseconds(Date.now())){const s={alg:"EdDSA",typ:"JWT"},o={iss:Ju(n.publicKey),sub:e,aud:t,iat:i,exp:i+r},a=function(e){return Ku([Yu(e.header),Yu(e.payload)].join(dd),pd)}({header:s,payload:o});return function(e){return[Yu(e.header),Yu(e.payload),Xu(e.signature)].join(dd)}({header:s,payload:o,signature:ld.sign(a,n.secretKey.slice(0,32))})}function rh(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function nh(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?rh(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function ih(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const r=nh(t);let n=0;for(const t of e)r.set(t,n),n+=t.length;return rh(r)}var sh=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==r[o])throw new TypeError(s+" is ambiguous");r[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function u(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var d=r[e.charCodeAt(t)];if(255===d)return;for(var u=0,h=s-1;(0!==d||u<i)&&-1!==h;h--,u++)d+=a*o[h]>>>0,o[h]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");i=u,t++}if(" "!==e[t]){for(var p=s-i;p!==s&&0===o[p];)p++;for(var f=new Uint8Array(n+(s-p)),g=n;p!==s;)f[g++]=o[p++];return f}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,s=t.length;i!==s&&0===t[i];)i++,r++;for(var o=(s-i)*d+1>>>0,l=new Uint8Array(o);i!==s;){for(var u=t[i],h=0,p=o-1;(0!==u||h<n)&&-1!==p;p--,h++)u+=256*l[p]>>>0,l[p]=u%a>>>0,u=u/a>>>0;if(0!==u)throw new Error("Non-zero carry");n=h,i++}for(var f=o-n;f!==o&&0===l[f];)f++;for(var g=c.repeat(r);f<o;++f)g+=e.charAt(l[f]);return g},decodeUnsafe:u,decode:function(e){var r=u(e);if(r)return r;throw new Error(`Non-${t} character`)}}},oh=sh;const ah=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class ch{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class lh{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return uh(this,e)}}class dh{constructor(e){this.decoders=e}or(e){return uh(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const uh=(e,t)=>new dh({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class hh{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new ch(e,t,r),this.decoder=new lh(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const ph=({name:e,prefix:t,encode:r,decode:n})=>new hh(e,t,r,n),fh=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=oh(r,t);return ph({prefix:e,name:t,encode:n,decode:e=>ah(i(e))})},gh=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>ph({prefix:t,name:e,encode:e=>((e,t,r)=>{const n="="===t[t.length-1],i=(1<<r)-1;let s="",o=0,a=0;for(let n=0;n<e.length;++n)for(a=a<<8|e[n],o+=8;o>r;)o-=r,s+=t[i&a>>o];if(o&&(s+=t[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s})(e,n,r),decode:t=>((e,t,r,n)=>{const i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let t=0;t<s;++t){const s=i[e[t]];if(void 0===s)throw new SyntaxError(`Non-${n} character`);c=c<<r|s,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(t,n,r,e)}),mh=ph({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)});var yh=Object.freeze({__proto__:null,identity:mh});const wh=gh({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var bh=Object.freeze({__proto__:null,base2:wh});const vh=gh({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Eh=Object.freeze({__proto__:null,base8:vh});const Ah=fh({prefix:"9",name:"base10",alphabet:"0123456789"});var xh=Object.freeze({__proto__:null,base10:Ah});const Ch=gh({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Sh=gh({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Ih=Object.freeze({__proto__:null,base16:Ch,base16upper:Sh});const _h=gh({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),kh=gh({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Ph=gh({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Th=gh({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Oh=gh({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Nh=gh({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Rh=gh({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),$h=gh({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Bh=gh({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Mh=Object.freeze({__proto__:null,base32:_h,base32upper:kh,base32pad:Ph,base32padupper:Th,base32hex:Oh,base32hexupper:Nh,base32hexpad:Rh,base32hexpadupper:$h,base32z:Bh});const Uh=fh({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Lh=fh({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Dh=Object.freeze({__proto__:null,base36:Uh,base36upper:Lh});const jh=fh({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Hh=fh({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var zh=Object.freeze({__proto__:null,base58btc:jh,base58flickr:Hh});const Fh=gh({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Vh=gh({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Zh=gh({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),qh=gh({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Wh=Object.freeze({__proto__:null,base64:Fh,base64pad:Vh,base64url:Zh,base64urlpad:qh});const Kh=Array.from(""),Gh=Kh.reduce(((e,t,r)=>(e[r]=t,e)),[]),Yh=Kh.reduce(((e,t,r)=>(e[t.codePointAt(0)]=r,e)),[]);const Jh=ph({prefix:"",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=Gh[t]),"")},decode:function(e){const t=[];for(const r of e){const e=Yh[r.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}});var Xh=Object.freeze({__proto__:null,base256emoji:Jh}),Qh=function e(t,r,n){r=r||[];for(var i=n=n||0;t>=rp;)r[n++]=255&t|ep,t/=128;for(;t&tp;)r[n++]=255&t|ep,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r},ep=128,tp=-128,rp=Math.pow(2,31);var np=function e(t,r){var n,i=0,s=0,o=r=r||0,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");n=t[o++],i+=s<28?(n&sp)<<s:(n&sp)*Math.pow(2,s),s+=7}while(n>=ip);return e.bytes=o-r,i},ip=128,sp=127;var op=Math.pow(2,7),ap=Math.pow(2,14),cp=Math.pow(2,21),lp=Math.pow(2,28),dp=Math.pow(2,35),up=Math.pow(2,42),hp=Math.pow(2,49),pp=Math.pow(2,56),fp=Math.pow(2,63),gp={encode:Qh,decode:np,encodingLength:function(e){return e<op?1:e<ap?2:e<cp?3:e<lp?4:e<dp?5:e<up?6:e<hp?7:e<pp?8:e<fp?9:10}},mp=gp;const yp=(e,t,r=0)=>(mp.encode(e,t,r),t),wp=e=>mp.encodingLength(e),bp=(e,t)=>{const r=t.byteLength,n=wp(e),i=n+wp(r),s=new Uint8Array(i+r);return yp(e,s,0),yp(r,s,n),s.set(t,i),new vp(e,r,t,s)};class vp{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}const Ep=({name:e,code:t,encode:r})=>new Ap(e,t,r);class Ap{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?bp(this.code,t):t.then((e=>bp(this.code,e)))}throw Error("Unknown type, must be binary type")}}const xp=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Cp=Ep({name:"sha2-256",code:18,encode:xp("SHA-256")}),Sp=Ep({name:"sha2-512",code:19,encode:xp("SHA-512")});Object.freeze({__proto__:null,sha256:Cp,sha512:Sp});const Ip=ah;Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:Ip,digest:e=>bp(0,Ip(e))}});new TextEncoder,new TextDecoder;const _p={...yh,...bh,...Eh,...xh,...Ih,...Mh,...Dh,...zh,...Wh,...Xh};function kp(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const Pp=kp("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),Tp=kp("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{const t=nh((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),Op={utf8:Pp,"utf-8":Pp,hex:_p.base16,latin1:Tp,ascii:Tp,binary:Tp,..._p};function Np(e,t="utf8"){const r=Op[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${e}`):rh(globalThis.Buffer.from(e,"utf-8"))}function Rp(e,t="utf8"){const r=Op[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}const $p={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};function Bp(e){return(4294967296+e).toString(16).substring(1)}var Mp={normalizeInput:function(e){let t;if(e instanceof Uint8Array)t=e;else{if("string"!=typeof e)throw new Error("Input must be an string, Buffer or Uint8Array");t=(new TextEncoder).encode(e)}return t},toHex:function(e){return Array.prototype.map.call(e,(function(e){return(e<16?"0":"")+e.toString(16)})).join("")},debugPrint:function(e,t,r){let n="\n"+e+" = ";for(let i=0;i<t.length;i+=2){if(32===r)n+=Bp(t[i]).toUpperCase(),n+=" ",n+=Bp(t[i+1]).toUpperCase();else{if(64!==r)throw new Error("Invalid size "+r);n+=Bp(t[i+1]).toUpperCase(),n+=Bp(t[i]).toUpperCase()}i%6==4?n+="\n"+new Array(e.length+4).join(" "):i<t.length-2&&(n+=" ")}console.log(n)},testSpeed:function(e,t,r){let n=(new Date).getTime();const i=new Uint8Array(t);for(let e=0;e<t;e++)i[e]=e%256;const s=(new Date).getTime();console.log("Generated random input in "+(s-n)+"ms"),n=s;for(let s=0;s<r;s++){const r=e(i),s=(new Date).getTime(),o=s-n;n=s,console.log("Hashed in "+o+"ms: "+r.substring(0,20)+"..."),console.log(Math.round(t/(1<<20)/(o/1e3)*100)/100+" MB PER SECOND")}}};const Up=Mp;function Lp(e,t,r){const n=e[t]+e[r];let i=e[t+1]+e[r+1];n>=4294967296&&i++,e[t]=n,e[t+1]=i}function Dp(e,t,r,n){let i=e[t]+r;r<0&&(i+=4294967296);let s=e[t+1]+n;i>=4294967296&&s++,e[t]=i,e[t+1]=s}function jp(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function Hp(e,t,r,n,i,s){const o=Zp[i],a=Zp[i+1],c=Zp[s],l=Zp[s+1];Lp(Vp,e,t),Dp(Vp,e,o,a);let d=Vp[n]^Vp[e],u=Vp[n+1]^Vp[e+1];Vp[n]=u,Vp[n+1]=d,Lp(Vp,r,n),d=Vp[t]^Vp[r],u=Vp[t+1]^Vp[r+1],Vp[t]=d>>>24^u<<8,Vp[t+1]=u>>>24^d<<8,Lp(Vp,e,t),Dp(Vp,e,c,l),d=Vp[n]^Vp[e],u=Vp[n+1]^Vp[e+1],Vp[n]=d>>>16^u<<16,Vp[n+1]=u>>>16^d<<16,Lp(Vp,r,n),d=Vp[t]^Vp[r],u=Vp[t+1]^Vp[r+1],Vp[t]=u>>>31^d<<1,Vp[t+1]=d>>>31^u<<1}const zp=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Fp=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((function(e){return 2*e}))),Vp=new Uint32Array(32),Zp=new Uint32Array(32);function qp(e,t){let r=0;for(r=0;r<16;r++)Vp[r]=e.h[r],Vp[r+16]=zp[r];for(Vp[24]=Vp[24]^e.t,Vp[25]=Vp[25]^e.t/4294967296,t&&(Vp[28]=~Vp[28],Vp[29]=~Vp[29]),r=0;r<32;r++)Zp[r]=jp(e.b,4*r);for(r=0;r<12;r++)Hp(0,8,16,24,Fp[16*r+0],Fp[16*r+1]),Hp(2,10,18,26,Fp[16*r+2],Fp[16*r+3]),Hp(4,12,20,28,Fp[16*r+4],Fp[16*r+5]),Hp(6,14,22,30,Fp[16*r+6],Fp[16*r+7]),Hp(0,10,20,30,Fp[16*r+8],Fp[16*r+9]),Hp(2,12,22,24,Fp[16*r+10],Fp[16*r+11]),Hp(4,14,16,26,Fp[16*r+12],Fp[16*r+13]),Hp(6,8,18,28,Fp[16*r+14],Fp[16*r+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^Vp[r]^Vp[r+16]}const Wp=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function Kp(e,t,r,n){if(0===e||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(r&&16!==r.length)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(n&&16!==n.length)throw new Error("Illegal personal, expected Uint8Array with length is 16");const i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e};Wp.fill(0),Wp[0]=e,t&&(Wp[1]=t.length),Wp[2]=1,Wp[3]=1,r&&Wp.set(r,32),n&&Wp.set(n,48);for(let e=0;e<16;e++)i.h[e]=zp[e]^jp(Wp,4*e);return t&&(Gp(i,t),i.c=128),i}function Gp(e,t){for(let r=0;r<t.length;r++)128===e.c&&(e.t+=e.c,qp(e,!1),e.c=0),e.b[e.c++]=t[r]}function Yp(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;qp(e,!0);const t=new Uint8Array(e.outlen);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r);return t}function Jp(e,t,r,n,i){r=r||64,e=Up.normalizeInput(e),n&&(n=Up.normalizeInput(n)),i&&(i=Up.normalizeInput(i));const s=Kp(r,t,n,i);return Gp(s,e),Yp(s)}var Xp={blake2b:Jp,blake2bHex:function(e,t,r,n,i){const s=Jp(e,t,r,n,i);return Up.toHex(s)},blake2bInit:Kp,blake2bUpdate:Gp,blake2bFinal:Yp};const Qp=Mp;function ef(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function tf(e,t,r,n,i,s){of[e]=of[e]+of[t]+i,of[n]=rf(of[n]^of[e],16),of[r]=of[r]+of[n],of[t]=rf(of[t]^of[r],12),of[e]=of[e]+of[t]+s,of[n]=rf(of[n]^of[e],8),of[r]=of[r]+of[n],of[t]=rf(of[t]^of[r],7)}function rf(e,t){return e>>>t^e<<32-t}const nf=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),sf=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),of=new Uint32Array(16),af=new Uint32Array(16);function cf(e,t){let r=0;for(r=0;r<8;r++)of[r]=e.h[r],of[r+8]=nf[r];for(of[12]^=e.t,of[13]^=e.t/4294967296,t&&(of[14]=~of[14]),r=0;r<16;r++)af[r]=ef(e.b,4*r);for(r=0;r<10;r++)tf(0,4,8,12,af[sf[16*r+0]],af[sf[16*r+1]]),tf(1,5,9,13,af[sf[16*r+2]],af[sf[16*r+3]]),tf(2,6,10,14,af[sf[16*r+4]],af[sf[16*r+5]]),tf(3,7,11,15,af[sf[16*r+6]],af[sf[16*r+7]]),tf(0,5,10,15,af[sf[16*r+8]],af[sf[16*r+9]]),tf(1,6,11,12,af[sf[16*r+10]],af[sf[16*r+11]]),tf(2,7,8,13,af[sf[16*r+12]],af[sf[16*r+13]]),tf(3,4,9,14,af[sf[16*r+14]],af[sf[16*r+15]]);for(r=0;r<8;r++)e.h[r]^=of[r]^of[r+8]}function lf(e,t){if(!(e>0&&e<=32))throw new Error("Incorrect output length, should be in [1, 32]");const r=t?t.length:0;if(t&&!(r>0&&r<=32))throw new Error("Incorrect key length, should be in [1, 32]");const n={h:new Uint32Array(nf),b:new Uint8Array(64),c:0,t:0,outlen:e};return n.h[0]^=16842752^r<<8^e,r>0&&(df(n,t),n.c=64),n}function df(e,t){for(let r=0;r<t.length;r++)64===e.c&&(e.t+=e.c,cf(e,!1),e.c=0),e.b[e.c++]=t[r]}function uf(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;cf(e,!0);const t=new Uint8Array(e.outlen);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r)&255;return t}function hf(e,t,r){r=r||32,e=Qp.normalizeInput(e);const n=lf(r,t);return df(n,e),uf(n)}var pf={blake2s:hf,blake2sHex:function(e,t,r){const n=hf(e,t,r);return Qp.toHex(n)},blake2sInit:lf,blake2sUpdate:df,blake2sFinal:uf};var ff={blake2b:Xp.blake2b,blake2bHex:Xp.blake2bHex,blake2bInit:Xp.blake2bInit,blake2bUpdate:Xp.blake2bUpdate,blake2bFinal:Xp.blake2bFinal,blake2s:pf.blake2s,blake2sHex:pf.blake2sHex,blake2sInit:pf.blake2sInit,blake2sUpdate:pf.blake2sUpdate,blake2sFinal:pf.blake2sFinal},gf={exports:{}};function mf(e){try{return JSON.stringify(e)}catch{return'"[Circular]"'}}var yf=function(e,t,r){var n=r&&r.stringify||mf;if("object"==typeof e&&null!==e){var i=t.length+1;if(1===i)return e;var s=new Array(i);s[0]=n(e);for(var o=1;o<i;o++)s[o]=n(t[o]);return s.join(" ")}if("string"!=typeof e)return e;var a=t.length;if(0===a)return e;for(var c="",l=0,d=-1,u=e&&e.length||0,h=0;h<u;){if(37===e.charCodeAt(h)&&h+1<u){switch(d=d>-1?d:0,e.charCodeAt(h+1)){case 100:case 102:if(l>=a||null==t[l])break;d<h&&(c+=e.slice(d,h)),c+=Number(t[l]),d=h+2,h++;break;case 105:if(l>=a||null==t[l])break;d<h&&(c+=e.slice(d,h)),c+=Math.floor(Number(t[l])),d=h+2,h++;break;case 79:case 111:case 106:if(l>=a||void 0===t[l])break;d<h&&(c+=e.slice(d,h));var p=typeof t[l];if("string"===p){c+="'"+t[l]+"'",d=h+2,h++;break}if("function"===p){c+=t[l].name||"<anonymous>",d=h+2,h++;break}c+=n(t[l]),d=h+2,h++;break;case 115:if(l>=a)break;d<h&&(c+=e.slice(d,h)),c+=String(t[l]),d=h+2,h++;break;case 37:d<h&&(c+=e.slice(d,h)),c+="%",d=h+2,h++,l--}++l}++h}return-1===d?e:(d<u&&(c+=e.slice(d)),c)};const wf=yf;gf.exports=If;const bf=function(){function e(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return e(self)||e(window)||e(this)||{}}}().console||{},vf={mapHttpRequest:Nf,mapHttpResponse:Nf,wrapRequestSerializer:Rf,wrapResponseSerializer:Rf,wrapErrorSerializer:Rf,req:Nf,res:Nf,err:Tf,errWithCause:Tf};function Ef(e,t){return"silent"===e?1/0:t.levels.values[e]}const Af=Symbol("pino.logFuncs"),xf=Symbol("pino.hierarchy"),Cf={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function Sf(e,t){const r={logger:t,parent:e[xf]};t[xf]=r}function If(e){(e=e||{}).browser=e.browser||{};const t=e.browser.transmit;if(t&&"function"!=typeof t.send)throw Error("pino: transmit option must have a send function");const r=e.browser.write||bf;e.browser.write&&(e.browser.asObject=!0);const n=e.serializers||{},i=function(e,t){return Array.isArray(e)?e.filter((function(e){return"!stdSerializers.err"!==e})):!0===e&&Object.keys(t)}(e.browser.serialize,n);let s=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=Object.keys(e.customLevels||{}),a=["error","fatal","warn","info","debug","trace"].concat(o);"function"==typeof r&&a.forEach((function(e){r[e]=r})),(!1===e.enabled||e.browser.disabled)&&(e.level="silent");const c=e.level||"info",l=Object.create(r);l.log||(l.log=$f),function(e,t,r){const n={};t.forEach((e=>{n[e]=r[e]?r[e]:bf[e]||bf[Cf[e]||"log"]||$f})),e[Af]=n}(l,a,r),Sf({},l),Object.defineProperty(l,"levelVal",{get:function(){return Ef(this.level,this)}}),Object.defineProperty(l,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,_f(this,d,l,"error"),_f(this,d,l,"fatal"),_f(this,d,l,"warn"),_f(this,d,l,"info"),_f(this,d,l,"debug"),_f(this,d,l,"trace"),o.forEach((e=>{_f(this,d,l,e)}))}});const d={transmit:t,serialize:i,asObject:e.browser.asObject,asObjectBindingsOnly:e.browser.asObjectBindingsOnly,formatters:e.browser.formatters,levels:a,timestamp:Of(e),messageKey:e.messageKey||"msg",onChild:e.onChild||$f};function u(r,s,o){if(!s)throw new Error("missing bindings for child Pino");o=o||{},i&&s.serializers&&(o.serializers=s.serializers);const a=o.serializers;if(i&&a){var c=Object.assign({},n,a),l=!0===e.browser.serialize?Object.keys(c):i;delete s.serializers,kf([s],l,c,this._stdErrSerialize)}function d(e){this._childLevel=1+(0|e._childLevel),this.bindings=s,c&&(this.serializers=c,this._serialize=l),t&&(this._logEvent=Pf([].concat(e._logEvent.bindings,s)))}d.prototype=this;const h=new d(this);return Sf(this,h),h.child=function(...e){return u.call(this,r,...e)},h.level=o.level||this.level,r.onChild(h),h}return l.levels=function(e){const t=e.customLevels||{},r=Object.assign({},If.levels.values,t),n=Object.assign({},If.levels.labels,function(e){const t={};return Object.keys(e).forEach((function(r){t[e[r]]=r})),t}(t));return{values:r,labels:n}}(e),l.level=c,l.isLevelEnabled=function(e){return!!this.levels.values[e]&&this.levels.values[e]>=this.levels.values[this.level]},l.setMaxListeners=l.getMaxListeners=l.emit=l.addListener=l.on=l.prependListener=l.once=l.prependOnceListener=l.removeListener=l.removeAllListeners=l.listeners=l.listenerCount=l.eventNames=l.write=l.flush=$f,l.serializers=n,l._serialize=i,l._stdErrSerialize=s,l.child=function(...e){return u.call(this,d,...e)},t&&(l._logEvent=Pf()),l}function _f(e,t,r,n){if(Object.defineProperty(e,n,{value:Ef(e.level,r)>Ef(n,r)?$f:r[Af][n],writable:!0,enumerable:!0,configurable:!0}),e[n]===$f){if(!t.transmit)return;const i=Ef(t.transmit.level||e.level,r);if(Ef(n,r)<i)return}e[n]=function(e,t,r,n){return function(i){return function(){const s=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===bf?bf:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];var l=!1;if(t.serialize&&(kf(o,this._serialize,this.serializers,this._stdErrSerialize),l=!0),t.asObject||t.formatters?i.call(a,...function(e,t,r,n,i){const{level:s,log:o=e=>e}=i.formatters||{},a=r.slice();let c=a[0];const l={};let d=1+(0|e._childLevel);if(d<1&&(d=1),n&&(l.time=n),s){const r=s(t,e.levels.values[t]);Object.assign(l,r)}else l.level=e.levels.values[t];if(i.asObjectBindingsOnly){if(null!==c&&"object"==typeof c)for(;d--&&"object"==typeof a[0];)Object.assign(l,a.shift());return[o(l),...a]}if(null!==c&&"object"==typeof c){for(;d--&&"object"==typeof a[0];)Object.assign(l,a.shift());c=a.length?wf(a.shift(),a):void 0}else"string"==typeof c&&(c=wf(a.shift(),a));return void 0!==c&&(l[i.messageKey]=c),[o(l)]}(this,n,o,s,t)):i.apply(a,o),t.transmit){const i=t.transmit.level||e._level,a=Ef(i,r),c=Ef(n,r);if(c<a)return;!function(e,t,r,n=!1){const i=t.send,s=t.ts,o=t.methodLevel,a=t.methodValue,c=t.val,l=e._logEvent.bindings;n||kf(r,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=s,e._logEvent.messages=r.filter((function(e){return-1===l.indexOf(e)})),e._logEvent.level.label=o,e._logEvent.level.value=a,i(o,e._logEvent,c),e._logEvent=Pf(l)}(this,{ts:s,methodLevel:n,methodValue:c,transmitLevel:i,transmitValue:r.levels.values[t.transmit.level||e._level],send:t.transmit.send,val:Ef(e._level,r)},o,l)}}}(e[Af][n])}(e,t,r,n);const i=function(e){const t=[];e.bindings&&t.push(e.bindings);let r=e[xf];for(;r.parent;)r=r.parent,r.logger.bindings&&t.push(r.logger.bindings);return t.reverse()}(e);0!==i.length&&(e[n]=function(e,t){return function(){return t.apply(this,[...e,...arguments])}}(i,e[n]))}function kf(e,t,r,n){for(const i in e)if(n&&e[i]instanceof Error)e[i]=If.stdSerializers.err(e[i]);else if("object"==typeof e[i]&&!Array.isArray(e[i])&&t)for(const n in e[i])t.indexOf(n)>-1&&n in r&&(e[i][n]=r[n](e[i][n]))}function Pf(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function Tf(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const r in e)void 0===t[r]&&(t[r]=e[r]);return t}function Of(e){return"function"==typeof e.timestamp?e.timestamp:!1===e.timestamp?Bf:Mf}function Nf(){return{}}function Rf(e){return e}function $f(){}function Bf(){return!1}function Mf(){return Date.now()}If.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},If.stdSerializers=vf,If.stdTimeFunctions=Object.assign({},{nullTime:Bf,epochTime:Mf,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}}),gf.exports.default=If,gf.exports.pino=If;const Uf="info",Lf="custom_context",Df=1024e3;var jf=Object.defineProperty,Hf=(e,t,r)=>((e,t,r)=>t in e?jf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class zf{constructor(e){Hf(this,"nodeValue"),Hf(this,"sizeInBytes"),Hf(this,"next"),this.nodeValue=e,this.sizeInBytes=(new TextEncoder).encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class Ff{constructor(e){Hf(this,"lengthInNodes"),Hf(this,"sizeInBytes"),Hf(this,"head"),Hf(this,"tail"),Hf(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const t=new zf(e);if(t.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`);for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=t),this.tail=t):(this.head=t,this.tail=t),this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let t=this.head;for(;null!==t;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const t=e.value;return e=e.next,{done:!1,value:t}}}}}var Vf=Object.defineProperty,Zf=(e,t,r)=>((e,t,r)=>t in e?Vf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class qf{constructor(e,t=Df){Zf(this,"logs"),Zf(this,"level"),Zf(this,"levelValue"),Zf(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=e??"error",this.levelValue=gf.exports.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new Ff(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===gf.exports.levels.values.error?console.error(e):t===gf.exports.levels.values.warn?console.warn(e):t===gf.exports.levels.values.debug?console.debug(e):t===gf.exports.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Nc({timestamp:(new Date).toISOString(),log:e}));const t="string"==typeof e?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new Ff(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const t=this.getLogArray();return t.push(Nc({extraMetadata:e})),new Blob(t,{type:"application/json"})}}var Wf=Object.defineProperty,Kf=(e,t,r)=>((e,t,r)=>t in e?Wf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class Gf{constructor(e,t=Df){Kf(this,"baseChunkLogger"),this.baseChunkLogger=new qf(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const t=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=t,r.download=`walletconnect-logs-${(new Date).toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)}}var Yf=Object.defineProperty,Jf=(e,t,r)=>((e,t,r)=>t in e?Yf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class Xf{constructor(e,t=Df){Jf(this,"baseChunkLogger"),this.baseChunkLogger=new qf(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}}var Qf=Object.defineProperty,eg=Object.defineProperties,tg=Object.getOwnPropertyDescriptors,rg=Object.getOwnPropertySymbols,ng=Object.prototype.hasOwnProperty,ig=Object.prototype.propertyIsEnumerable,sg=(e,t,r)=>t in e?Qf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,og=(e,t)=>{for(var r in t||(t={}))ng.call(t,r)&&sg(e,r,t[r]);if(rg)for(var r of rg(t))ig.call(t,r)&&sg(e,r,t[r]);return e},ag=(e,t)=>eg(e,tg(t));function cg(e){return ag(og({},e),{level:e?.level||Uf})}function lg(e,t=Lf){return e[t]||""}function dg(e,t,r=Lf){const n=function(e,t,r=Lf){const n=lg(e,r);return n.trim()?`${n}/${t}`:t}(e,t,r);return function(e,t,r=Lf){return e[r]=t,e}(e.child({context:n}),n,r)}function ug(e){return typeof e.loggerOverride<"u"&&"string"!=typeof e.loggerOverride?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?function(e){var t,r;const n=new Gf(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:gf.exports(ag(og({},e.opts),{level:"trace",browser:ag(og({},null==(r=e.opts)?void 0:r.browser),{write:e=>n.write(e)})})),chunkLoggerController:n}}(e):function(e){var t;const r=new Xf(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:gf.exports(ag(og({},e.opts),{level:"trace"}),r),chunkLoggerController:r}}(e)}var hg=Object.defineProperty,pg=Object.defineProperties,fg=Object.getOwnPropertyDescriptors,gg=Object.getOwnPropertySymbols,mg=Object.prototype.hasOwnProperty,yg=Object.prototype.propertyIsEnumerable,wg=(e,t,r)=>t in e?hg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,bg=(e,t)=>{for(var r in t||(t={}))mg.call(t,r)&&wg(e,r,t[r]);if(gg)for(var r of gg(t))yg.call(t,r)&&wg(e,r,t[r]);return e},vg=(e,t)=>pg(e,fg(t));function Eg(e){const[t,r]=e.split(":");return{namespace:t,reference:r}}function Ag(e,t=[]){const r=[];return Object.keys(e).forEach((n=>{if(t.length&&!t.includes(n))return;const i=e[n];r.push(...i.accounts)})),r}function xg(e,t){return e.includes(":")?[e]:t.chains||[]}var Cg=Object.defineProperty,Sg=Object.defineProperties,Ig=Object.getOwnPropertyDescriptors,_g=Object.getOwnPropertySymbols,kg=Object.prototype.hasOwnProperty,Pg=Object.prototype.propertyIsEnumerable,Tg=(e,t,r)=>t in e?Cg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Og=(e,t)=>{for(var r in t||(t={}))kg.call(t,r)&&Tg(e,r,t[r]);if(_g)for(var r of _g(t))Pg.call(t,r)&&Tg(e,r,t[r]);return e},Ng=(e,t,r)=>Tg(e,"symbol"!=typeof t?t+"":t,r);const Rg="react-native",$g="node",Bg="browser",Mg="unknown",Ug="js";function Lg(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Dg(){return!ce()&&!!le()&&"ReactNative"===navigator.product}function jg(){return!Lg()&&!!le()&&!!ce()}function Hg(){return Dg()?Rg:Lg()?$g:jg()?Bg:Mg}function zg(){var e;try{return Dg()&&typeof global<"u"&&typeof(null==global?void 0:global.Application)<"u"?null==(e=global.Application)?void 0:e.applicationId:void 0}catch{return}}function Fg(e){var t,r;const n=Vg();try{return null!=e&&e.url&&n.url&&new URL(e.url).host!==new URL(n.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${e.url} differs from the actual page url:${n.url}. This is probably unintended and can lead to issues.`),e.url=n.url),null!=(t=e?.icons)&&t.length&&e.icons.length>0&&(e.icons=e.icons.filter((e=>""!==e))),((e,t)=>Sg(e,Ig(t)))(Og(Og({},n),e),{url:e?.url||n.url,name:e?.name||n.name,description:e?.description||n.description,icons:null!=(r=e?.icons)&&r.length&&e.icons.length>0?e.icons:n.icons})}catch(t){return console.warn("Error populating app metadata",t),e||n}}function Vg(){return he()||{name:"",description:"",url:"",icons:[""]}}function Zg(e,t,r){const n=function(){if(Hg()===Rg&&typeof global<"u"&&typeof(null==global?void 0:global.Platform)<"u"){const{OS:e,Version:t}=global.Platform;return[e,t].join("-")}const e=k();if(null===e)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return"browser"===e.type?[t,e.name,e.version].join("-"):[t,e.version].join("-")}(),i=function(){var e;const t=Hg();return t===Bg?[t,(null==(e=de())?void 0:e.host)||"unknown"].join(":"):t}();return[[e,t].join("-"),[Ug,r].join("-"),n,i].join("/")}function qg({protocol:e,version:t,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=r.split("?"),d={auth:i,ua:Zg(e,t,n),projectId:s,useOnCloseEvent:o||void 0,packageName:c||void 0,bundleId:a||void 0},u=function(e,t){const r=new URLSearchParams(e);return Object.entries(t).sort((([e],[t])=>e.localeCompare(t))).forEach((([e,t])=>{null!=t&&r.set(e,String(t))})),r.toString()}(l[1]||"",d);return l[0]+"?"+u}function Wg(e,t){return e.filter((e=>t.includes(e))).length===e.length}function Kg(e){return Object.fromEntries(e.entries())}function Gg(e){return new Map(Object.entries(e))}function Yg(e=T.FIVE_MINUTES,t){const r=T.toMiliseconds(e||T.FIVE_MINUTES);let n,i,s,o;return{resolve:e=>{s&&n&&(clearTimeout(s),n(e),o=Promise.resolve(e))},reject:e=>{s&&i&&(clearTimeout(s),i(e))},done:()=>new Promise(((e,a)=>{if(o)return e(o);s=setTimeout((()=>{const e=new Error(t);o=Promise.reject(e),a(e)}),r),n=e,i=a}))}}function Jg(e,t,r){return new Promise((async(n,i)=>{const s=setTimeout((()=>i(new Error(r))),t);try{n(await e)}catch(e){i(e)}clearTimeout(s)}))}function Xg(e,t){if("string"==typeof t&&t.startsWith(`${e}:`))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}if("id"===e.toLowerCase()){if("number"!=typeof t)throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function Qg(e){const[t,r]=e.split(":"),n={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof r)n.topic=r;else{if("id"!==t||!Number.isInteger(Number(r)))throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);n.id=Number(r)}return n}function em(e,t){return T.fromMiliseconds((t||Date.now())+T.toMiliseconds(e))}function tm(e){return Date.now()>=T.toMiliseconds(e)}function rm(e,t){return`${e}${t?`:${t}`:""}`}function nm(e=[],t=[]){return[...new Set([...e,...t])]}async function im({id:e,topic:t,wcDeepLink:r}){var n;try{if(!r)return;const i="string"==typeof r?JSON.parse(r):r,s=i?.href;if("string"!=typeof s)return;const o=function(e,t,r){const n=`requestId=${t}&sessionTopic=${r}`;e.endsWith("/")&&(e=e.slice(0,-1));let i=`${e}`;if(e.startsWith("https://t.me")){i=`${i}${e.includes("?")?"&startapp=":"?startapp="}${function(e,t=!1){const r=Buffer.from(e).toString("base64");return t?r.replace(/[=]/g,""):r}(n,!0)}`}else i=`${i}/wc?${n}`;return i}(s,e,t),a=Hg();if(a===Bg){if(null==(n=ce())||!n.hasFocus())return void console.warn("Document does not have focus, skipping deeplink.");!function(e){let t="_self";!function(){try{return window.self!==window.top}catch{return!1}}()?(typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)||e.startsWith("https://")||e.startsWith("http://"))&&(t="_blank"):t="_top",window.open(e,t,"noreferrer noopener")}(o)}else a===Rg&&typeof(null==global?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(e){console.error(e)}}function sm(e,t){if(!e.includes(t))return null;const r=e.split(/([&,?,=])/),n=r.indexOf(t);return r[n+2]}function om(){return typeof crypto<"u"&&null!=crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function am(){return typeof process<"u"&&"true"===process.env.IS_VITEST}function cm(e){return Buffer.from(e,"base64").toString("utf-8")}class lm{constructor({limit:e}){Ng(this,"limit"),Ng(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const e=this.set.values().next().value;e&&this.set.delete(e)}this.set.add(e)}}has(e){return this.set.has(e)}}const dm=BigInt(2**32-1),um=BigInt(32);function hm(e,t=!1){return t?{h:Number(e&dm),l:Number(e>>um&dm)}:{h:0|Number(e>>um&dm),l:0|Number(e&dm)}}function pm(e,t=!1){const r=e.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:r,l:o}=hm(e[s],t);[n[s],i[s]]=[r,o]}return[n,i]}const fm=(e,t,r)=>e>>>r,gm=(e,t,r)=>e<<32-r|t>>>r,mm=(e,t,r)=>e>>>r|t<<32-r,ym=(e,t,r)=>e<<32-r|t>>>r,wm=(e,t,r)=>e<<64-r|t>>>r-32,bm=(e,t,r)=>e>>>r-32|t<<64-r,vm=(e,t)=>t,Em=(e,t)=>e;function Am(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}}const xm=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),Cm=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,Sm=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),Im=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,_m=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),km=(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0,Pm="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function Tm(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function Om(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Nm(e,...t){if(!Tm(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Rm(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.createHasher");Om(e.outputLen),Om(e.blockLen)}function $m(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Bm(e,t){Nm(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Mm(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Um(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Lm(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Dm(e,t){return e<<32-t|e>>>t}const jm=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function Hm(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const zm=jm?e=>e:e=>Hm(e);const Fm=jm?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=Hm(e[t]);return e},Vm="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,Zm=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function qm(e){if(Nm(e),Vm)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=Zm[e[r]];return t}const Wm=48,Km=57,Gm=65,Ym=70,Jm=97,Xm=102;function Qm(e){return e>=Wm&&e<=Km?e-Wm:e>=Gm&&e<=Ym?e-(Gm-10):e>=Jm&&e<=Xm?e-(Jm-10):void 0}function ey(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(Vm)return Uint8Array.fromHex(e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=Qm(e.charCodeAt(i)),s=Qm(e.charCodeAt(i+1));if(void 0===r||void 0===s){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+s}return n}function ty(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}function ry(e){return"string"==typeof e&&(e=ty(e)),Nm(e),e}function ny(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];Nm(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}class iy{}function sy(e){const t=t=>e().update(ry(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function oy(e=32){if(Pm&&"function"==typeof Pm.getRandomValues)return Pm.getRandomValues(new Uint8Array(e));if(Pm&&"function"==typeof Pm.randomBytes)return Uint8Array.from(Pm.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const ay=BigInt(0),cy=BigInt(1),ly=BigInt(2),dy=BigInt(7),uy=BigInt(256),hy=BigInt(113),py=[],fy=[],gy=[];for(let e=0,t=cy,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],py.push(2*(5*n+r)),fy.push((e+1)*(e+2)/2%64);let i=ay;for(let e=0;e<7;e++)t=(t<<cy^(t>>dy)*hy)%uy,t&ly&&(i^=cy<<(cy<<BigInt(e))-cy);gy.push(i)}const my=pm(gy,!0),yy=my[0],wy=my[1],by=(e,t,r)=>r>32?((e,t,r)=>t<<r-32|e>>>64-r)(e,t,r):((e,t,r)=>e<<r|t>>>32-r)(e,t,r),vy=(e,t,r)=>r>32?((e,t,r)=>e<<r-32|t>>>64-r)(e,t,r):((e,t,r)=>t<<r|e>>>32-r)(e,t,r);class Ey extends iy{constructor(e,t,r,n=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,Om(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Mm(this.state)}clone(){return this._cloneInto()}keccak(){Fm(this.state32),function(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const n=(t+8)%10,i=(t+2)%10,s=r[i],o=r[i+1],a=by(s,o,1)^r[n],c=vy(s,o,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){const n=fy[r],s=by(t,i,n),o=vy(t,i,n),a=py[r];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=yy[n],e[1]^=wy[n]}Um(r)}(this.state32,this.rounds),Fm(this.state32),this.posOut=0,this.pos=0}update(e){$m(this),Nm(e=ry(e));const{blockLen:t,state:r}=this,n=e.length;for(let i=0;i<n;){const s=Math.min(t-this.pos,n-i);for(let t=0;t<s;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,!!(128&t)&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){$m(this,!1),Nm(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Om(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Bm(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Um(this.state)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new Ey(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}const Ay=((e,t,r)=>sy((()=>new Ey(t,e,r))))(1,136,32);function xy(e,t,r){return e&t^~e&r}function Cy(e,t,r){return e&t^e&r^t&r}class Sy extends iy{constructor(e,t,r,n){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.buffer=new Uint8Array(e),this.view=Lm(this.buffer)}update(e){$m(this),Nm(e=ry(e));const{view:t,buffer:r,blockLen:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o!==n)r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=Lm(e);for(;n<=i-s;s+=n)this.process(t,s)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){$m(this),Bm(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:s}=this;t[s++]=128,Um(this.buffer.subarray(s)),this.padOffset>n-s&&(this.process(r,0),s=0);for(let e=s;e<n;e++)t[e]=0;(function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+l,a,n)})(r,n-8,BigInt(8*this.length),i),this.process(r,0);const o=Lm(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)o.setUint32(4*e,l[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return e.destroyed=s,e.finished=i,e.length=n,e.pos=o,n%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const Iy=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),_y=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),ky=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Py=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ty=new Uint32Array(64);class Oy extends Sy{constructor(e=32){super(64,e,8,!1),this.A=0|Iy[0],this.B=0|Iy[1],this.C=0|Iy[2],this.D=0|Iy[3],this.E=0|Iy[4],this.F=0|Iy[5],this.G=0|Iy[6],this.H=0|Iy[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[e,t,r,n,i,s,o,a]}set(e,t,r,n,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)Ty[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=Ty[e-15],r=Ty[e-2],n=Dm(t,7)^Dm(t,18)^t>>>3,i=Dm(r,17)^Dm(r,19)^r>>>10;Ty[e]=i+Ty[e-7]+n+Ty[e-16]|0}let{A:r,B:n,C:i,D:s,E:o,F:a,G:c,H:l}=this;for(let e=0;e<64;e++){const t=l+(Dm(o,6)^Dm(o,11)^Dm(o,25))+xy(o,a,c)+Py[e]+Ty[e]|0,d=(Dm(r,2)^Dm(r,13)^Dm(r,22))+Cy(r,n,i)|0;l=c,c=a,a=o,o=s+t|0,s=i,i=n,n=r,r=t+d|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(r,n,i,s,o,a,c,l)}roundClean(){Um(Ty)}destroy(){this.set(0,0,0,0,0,0,0,0),Um(this.buffer)}}const Ny=pm(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),Ry=Ny[0],$y=Ny[1],By=new Uint32Array(80),My=new Uint32Array(80);class Uy extends Sy{constructor(e=64){super(128,e,16,!1),this.Ah=0|ky[0],this.Al=0|ky[1],this.Bh=0|ky[2],this.Bl=0|ky[3],this.Ch=0|ky[4],this.Cl=0|ky[5],this.Dh=0|ky[6],this.Dl=0|ky[7],this.Eh=0|ky[8],this.El=0|ky[9],this.Fh=0|ky[10],this.Fl=0|ky[11],this.Gh=0|ky[12],this.Gl=0|ky[13],this.Hh=0|ky[14],this.Hl=0|ky[15]}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:l,Fh:d,Fl:u,Gh:h,Gl:p,Hh:f,Hl:g}=this;return[e,t,r,n,i,s,o,a,c,l,d,u,h,p,f,g]}set(e,t,r,n,i,s,o,a,c,l,d,u,h,p,f,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|d,this.Fl=0|u,this.Gh=0|h,this.Gl=0|p,this.Hh=0|f,this.Hl=0|g}process(e,t){for(let r=0;r<16;r++,t+=4)By[r]=e.getUint32(t),My[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|By[e-15],r=0|My[e-15],n=mm(t,r,1)^mm(t,r,8)^fm(t,0,7),i=ym(t,r,1)^ym(t,r,8)^gm(t,r,7),s=0|By[e-2],o=0|My[e-2],a=mm(s,o,19)^wm(s,o,61)^fm(s,0,6),c=ym(s,o,19)^bm(s,o,61)^gm(s,o,6),l=Sm(i,c,My[e-7],My[e-16]),d=Im(l,n,a,By[e-7],By[e-16]);By[e]=0|d,My[e]=0|l}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:l,Eh:d,El:u,Fh:h,Fl:p,Gh:f,Gl:g,Hh:m,Hl:y}=this;for(let e=0;e<80;e++){const t=mm(d,u,14)^mm(d,u,18)^wm(d,u,41),w=ym(d,u,14)^ym(d,u,18)^bm(d,u,41),b=d&h^~d&f,v=_m(y,w,u&p^~u&g,$y[e],My[e]),E=km(v,m,t,b,Ry[e],By[e]),A=0|v,x=mm(r,n,28)^wm(r,n,34)^wm(r,n,39),C=ym(r,n,28)^bm(r,n,34)^bm(r,n,39),S=r&i^r&o^i&o,I=n&s^n&a^s&a;m=0|f,y=0|g,f=0|h,g=0|p,h=0|d,p=0|u,({h:d,l:u}=Am(0|c,0|l,0|E,0|A)),c=0|o,l=0|a,o=0|i,a=0|s,i=0|r,s=0|n;const _=xm(A,C,I);r=Cm(_,E,x,S),n=0|_}({h:r,l:n}=Am(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=Am(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=Am(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l:l}=Am(0|this.Dh,0|this.Dl,0|c,0|l)),({h:d,l:u}=Am(0|this.Eh,0|this.El,0|d,0|u)),({h:h,l:p}=Am(0|this.Fh,0|this.Fl,0|h,0|p)),({h:f,l:g}=Am(0|this.Gh,0|this.Gl,0|f,0|g)),({h:m,l:y}=Am(0|this.Hh,0|this.Hl,0|m,0|y)),this.set(r,n,i,s,o,a,c,l,d,u,h,p,f,g,m,y)}roundClean(){Um(By,My)}destroy(){Um(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Ly extends Uy{constructor(){super(48),this.Ah=0|_y[0],this.Al=0|_y[1],this.Bh=0|_y[2],this.Bl=0|_y[3],this.Ch=0|_y[4],this.Cl=0|_y[5],this.Dh=0|_y[6],this.Dl=0|_y[7],this.Eh=0|_y[8],this.El=0|_y[9],this.Fh=0|_y[10],this.Fl=0|_y[11],this.Gh=0|_y[12],this.Gl=0|_y[13],this.Hh=0|_y[14],this.Hl=0|_y[15]}}const Dy=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class jy extends Uy{constructor(){super(32),this.Ah=0|Dy[0],this.Al=0|Dy[1],this.Bh=0|Dy[2],this.Bl=0|Dy[3],this.Ch=0|Dy[4],this.Cl=0|Dy[5],this.Dh=0|Dy[6],this.Dl=0|Dy[7],this.Eh=0|Dy[8],this.El=0|Dy[9],this.Fh=0|Dy[10],this.Fl=0|Dy[11],this.Gh=0|Dy[12],this.Gl=0|Dy[13],this.Hh=0|Dy[14],this.Hl=0|Dy[15]}}const Hy=sy((()=>new Oy)),zy=sy((()=>new Uy)),Fy=sy((()=>new Ly)),Vy=sy((()=>new jy)),Zy=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),qy=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Wy=new Uint32Array(32);function Ky(e,t,r,n,i,s){const o=i[s],a=i[s+1];let c=Wy[2*e],l=Wy[2*e+1],d=Wy[2*t],u=Wy[2*t+1],h=Wy[2*r],p=Wy[2*r+1],f=Wy[2*n],g=Wy[2*n+1],m=xm(c,d,o);l=Cm(m,l,u,a),c=0|m,({Dh:g,Dl:f}={Dh:g^l,Dl:f^c}),({Dh:g,Dl:f}={Dh:vm(0,f),Dl:Em(g)}),({h:p,l:h}=Am(p,h,g,f)),({Bh:u,Bl:d}={Bh:u^p,Bl:d^h}),({Bh:u,Bl:d}={Bh:mm(u,d,24),Bl:ym(u,d,24)}),Wy[2*e]=c,Wy[2*e+1]=l,Wy[2*t]=d,Wy[2*t+1]=u,Wy[2*r]=h,Wy[2*r+1]=p,Wy[2*n]=f,Wy[2*n+1]=g}function Gy(e,t,r,n,i,s){const o=i[s],a=i[s+1];let c=Wy[2*e],l=Wy[2*e+1],d=Wy[2*t],u=Wy[2*t+1],h=Wy[2*r],p=Wy[2*r+1],f=Wy[2*n],g=Wy[2*n+1],m=xm(c,d,o);l=Cm(m,l,u,a),c=0|m,({Dh:g,Dl:f}={Dh:g^l,Dl:f^c}),({Dh:g,Dl:f}={Dh:mm(g,f,16),Dl:ym(g,f,16)}),({h:p,l:h}=Am(p,h,g,f)),({Bh:u,Bl:d}={Bh:u^p,Bl:d^h}),({Bh:u,Bl:d}={Bh:wm(u,d,63),Bl:bm(u,d,63)}),Wy[2*e]=c,Wy[2*e+1]=l,Wy[2*t]=d,Wy[2*t+1]=u,Wy[2*r]=h,Wy[2*r+1]=p,Wy[2*n]=f,Wy[2*n+1]=g}class Yy extends iy{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Om(e),Om(t),this.blockLen=e,this.outputLen=t,this.buffer=new Uint8Array(e),this.buffer32=Mm(this.buffer)}update(e){$m(this),Nm(e=ry(e));const{blockLen:t,buffer:r,buffer32:n}=this,i=e.length,s=e.byteOffset,o=e.buffer;for(let a=0;a<i;){this.pos===t&&(Fm(n),this.compress(n,0,!1),Fm(n),this.pos=0);const c=Math.min(t-this.pos,i-a),l=s+a;if(c!==t||l%4||!(a+c<i))r.set(e.subarray(a,a+c),this.pos),this.pos+=c,this.length+=c,a+=c;else{const e=new Uint32Array(o,l,Math.floor((i-a)/4));Fm(e);for(let r=0;a+t<i;r+=n.length,a+=t)this.length+=t,this.compress(e,r,!1);Fm(e)}}return this}digestInto(e){$m(this),Bm(e,this);const{pos:t,buffer32:r}=this;this.finished=!0,Um(this.buffer.subarray(t)),Fm(r),this.compress(r,0,!0),Fm(r);const n=Mm(e);this.get().forEach(((e,t)=>n[t]=zm(e)))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){const{buffer:t,length:r,finished:n,destroyed:i,outputLen:s,pos:o}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.buffer.set(t),e.destroyed=i,e.finished=n,e.length=r,e.pos=o,e.outputLen=s,e}clone(){return this._cloneInto()}}class Jy extends Yy{constructor(e={}){const t=void 0===e.dkLen?64:e.dkLen;super(128,t),this.v0l=0|qy[0],this.v0h=0|qy[1],this.v1l=0|qy[2],this.v1h=0|qy[3],this.v2l=0|qy[4],this.v2h=0|qy[5],this.v3l=0|qy[6],this.v3h=0|qy[7],this.v4l=0|qy[8],this.v4h=0|qy[9],this.v5l=0|qy[10],this.v5h=0|qy[11],this.v6l=0|qy[12],this.v6h=0|qy[13],this.v7l=0|qy[14],this.v7h=0|qy[15],function(e,t={},r,n,i){if(Om(r),e<0||e>r)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=t;if(void 0!==s&&(s.length<1||s.length>r))throw new Error("key length must be undefined or 1.."+r);if(void 0!==o&&o.length!==n)throw new Error("salt must be undefined or "+n);if(void 0!==a&&a.length!==i)throw new Error("personalization must be undefined or "+i)}(t,e,64,16,16);let{key:r,personalization:n,salt:i}=e,s=0;if(void 0!==r&&(r=ry(r),s=r.length),this.v0l^=this.outputLen|s<<8|65536|1<<24,void 0!==i){i=ry(i);const e=Mm(i);this.v4l^=zm(e[0]),this.v4h^=zm(e[1]),this.v5l^=zm(e[2]),this.v5h^=zm(e[3])}if(void 0!==n){n=ry(n);const e=Mm(n);this.v6l^=zm(e[0]),this.v6h^=zm(e[1]),this.v7l^=zm(e[2]),this.v7h^=zm(e[3])}if(void 0!==r){const e=new Uint8Array(this.blockLen);e.set(r),this.update(e)}}get(){let{v0l:e,v0h:t,v1l:r,v1h:n,v2l:i,v2h:s,v3l:o,v3h:a,v4l:c,v4h:l,v5l:d,v5h:u,v6l:h,v6h:p,v7l:f,v7h:g}=this;return[e,t,r,n,i,s,o,a,c,l,d,u,h,p,f,g]}set(e,t,r,n,i,s,o,a,c,l,d,u,h,p,f,g){this.v0l=0|e,this.v0h=0|t,this.v1l=0|r,this.v1h=0|n,this.v2l=0|i,this.v2h=0|s,this.v3l=0|o,this.v3h=0|a,this.v4l=0|c,this.v4h=0|l,this.v5l=0|d,this.v5h=0|u,this.v6l=0|h,this.v6h=0|p,this.v7l=0|f,this.v7h=0|g}compress(e,t,r){this.get().forEach(((e,t)=>Wy[t]=e)),Wy.set(qy,16);let{h:n,l:i}=hm(BigInt(this.length));Wy[24]=qy[8]^i,Wy[25]=qy[9]^n,r&&(Wy[28]=~Wy[28],Wy[29]=~Wy[29]);let s=0;const o=Zy;for(let r=0;r<12;r++)Ky(0,4,8,12,e,t+2*o[s++]),Gy(0,4,8,12,e,t+2*o[s++]),Ky(1,5,9,13,e,t+2*o[s++]),Gy(1,5,9,13,e,t+2*o[s++]),Ky(2,6,10,14,e,t+2*o[s++]),Gy(2,6,10,14,e,t+2*o[s++]),Ky(3,7,11,15,e,t+2*o[s++]),Gy(3,7,11,15,e,t+2*o[s++]),Ky(0,5,10,15,e,t+2*o[s++]),Gy(0,5,10,15,e,t+2*o[s++]),Ky(1,6,11,12,e,t+2*o[s++]),Gy(1,6,11,12,e,t+2*o[s++]),Ky(2,7,8,13,e,t+2*o[s++]),Gy(2,7,8,13,e,t+2*o[s++]),Ky(3,4,9,14,e,t+2*o[s++]),Gy(3,4,9,14,e,t+2*o[s++]);this.v0l^=Wy[0]^Wy[16],this.v0h^=Wy[1]^Wy[17],this.v1l^=Wy[2]^Wy[18],this.v1h^=Wy[3]^Wy[19],this.v2l^=Wy[4]^Wy[20],this.v2h^=Wy[5]^Wy[21],this.v3l^=Wy[6]^Wy[22],this.v3h^=Wy[7]^Wy[23],this.v4l^=Wy[8]^Wy[24],this.v4h^=Wy[9]^Wy[25],this.v5l^=Wy[10]^Wy[26],this.v5h^=Wy[11]^Wy[27],this.v6l^=Wy[12]^Wy[28],this.v6h^=Wy[13]^Wy[29],this.v7l^=Wy[14]^Wy[30],this.v7h^=Wy[15]^Wy[31],Um(Wy)}destroy(){this.destroyed=!0,Um(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Xy=function(e){const t=(t,r)=>e(r).update(ry(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}((e=>new Jy(e))),Qy="https://rpc.walletconnect.org/v1";function ew(e){const t=`Ethereum Signed Message:\n${e.length}`,r=(new TextEncoder).encode(t+e);return"0x"+Buffer.from(Ay(r)).toString("hex")}async function tw(e,t,r,n,i,s){switch(r.t){case"eip191":return await function(e,t,r){const n=ds(r);return Da({payload:ew(t),signature:n}).toLowerCase()===e.toLowerCase()}(e,t,r.s);case"eip1271":return await async function(e,t,r,n,i,s){const o=Eg(n);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{const o="0x1626ba7e",a="0000000000000000000000000000000000000000000000000000000000000040",c=r.substring(2),l=(c.length/2).toString(16).padStart(64,"0"),d=o+(t.startsWith("0x")?t:ew(t)).substring(2)+a+l+c,u=await fetch(`${s||Qy}/?chainId=${n}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:rw(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:d},"latest"]})}),{result:h}=await u.json();return!!h&&h.slice(0,o.length).toLowerCase()===o.toLowerCase()}catch(e){return console.error("isValidEip1271Signature: ",e),!1}}(e,t,r.s,n,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}function rw(){return Date.now()+Math.floor(1e3*Math.random())}function nw(e){const t=new Uint8Array(Buffer.from(e,"base64")),r=Array.from("TransactionData::").map((e=>e.charCodeAt(0))),n=new Uint8Array(r.length+t.length);n.set(r),n.set(t,r.length);const i=Xy(n,{dkLen:32});return sc.encode(i)}function iw(e){const t=new Uint8Array(Hy(function(e){if(e instanceof Uint8Array)return e;if(Array.isArray(e))return new Uint8Array(e);if("object"==typeof e&&null!=e&&e.data)return new Uint8Array(Object.values(e.data));if("object"==typeof e&&e)return new Uint8Array(Object.values(e));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}(e)));return sc.encode(t)}function sw(e){const t=function(e,t){return new Tc(t).decode(e)}(Buffer.from(e,"base64")).txn;if(!t)throw new Error("Invalid signed transaction: missing 'txn' field");const r=function(e,t){return new bc(t).encodeSharedRef(e)}(t),n=Buffer.from("TX"),i=Buffer.concat([n,Buffer.from(r)]),s=Vy(i);return Ua.encode(s).replace(/=+$/,"")}function ow(e){const t=[];let r=BigInt(e);for(;r>=BigInt(128);)t.push(Number(r&BigInt(127)|BigInt(128))),r>>=BigInt(7);return t.push(Number(r)),Buffer.from(t)}function aw(e){const t=Buffer.from(e.signed.bodyBytes,"base64"),r=Buffer.from(e.signed.authInfoBytes,"base64"),n=Buffer.from(e.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(ow(t.length)),i.push(t),i.push(Buffer.from([18])),i.push(ow(r.length)),i.push(r),i.push(Buffer.from([26])),i.push(ow(n.length)),i.push(n);const s=Buffer.concat(i),o=Hy(s);return Buffer.from(o).toString("hex").toUpperCase()}var cw=Object.defineProperty,lw=Object.defineProperties,dw=Object.getOwnPropertyDescriptors,uw=Object.getOwnPropertySymbols,hw=Object.prototype.hasOwnProperty,pw=Object.prototype.propertyIsEnumerable,fw=(e,t,r)=>t in e?cw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const gw="did:pkh:",mw={eip155:"Ethereum",solana:"Solana",bip122:"Bitcoin"},yw=e=>e?.split(":"),ww=e=>{const t=e&&yw(e);if(t)return t[2]+":"+t[3]},bw=e=>{const t=e&&yw(e);if(t)return t.pop()};async function vw(e){const{cacao:t,projectId:r}=e,{s:n,p:i}=t,s=Ew(i,i.iss),o=bw(i.iss);return await tw(o,s,n,ww(i.iss),r)}const Ew=(e,t)=>{const r=(e=>{const t=e&&yw(e);if(t)return e.includes(gw)?t[2]:t[0]})(t);if(!r)throw new Error("Invalid issuer: "+t);const n=`${e.domain} wants you to sign in with your ${(e=>e?mw[e]||e:"")(r)} account:`,i=bw(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=e.statement||void 0;const o=`URI: ${e.aud||e.uri}`,a=`Version: ${e.version}`,c=`Chain ID: ${(e=>{const t=e&&yw(e);if(t)return e.includes(gw)?t[3]:t[1]})(t)}`,l=`Nonce: ${e.nonce}`,d=`Issued At: ${e.iat}`,u=e.exp?`Expiration Time: ${e.exp}`:void 0,h=e.nbf?`Not Before: ${e.nbf}`:void 0,p=e.requestId?`Request ID: ${e.requestId}`:void 0,f=e.resources?`Resources:${e.resources.map((e=>`\n- ${e}`)).join("")}`:void 0,g=Tw(e.resources);if(g){s=function(e="",t){Aw(t);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(r))return e;const n=[];let i=0;Object.keys(t.att).forEach((e=>{const r=Object.keys(t.att[e]).map((e=>({ability:e.split("/")[0],action:e.split("/")[1]})));r.sort(((e,t)=>e.action.localeCompare(t.action)));const s={};r.forEach((e=>{s[e.ability]||(s[e.ability]=[]),s[e.ability].push(e.action)}));const o=Object.keys(s).map((t=>(i++,`(${i}) '${t}': '${s[t].join("', '")}' for '${e}'.`)));n.push(o.join(", ").replace(".,","."))}));const s=n.join(" "),o=`${r}${s}`;return`${e?e+" ":""}${o}`}(s,Sw(g))}return[n,i,"",s,"",o,a,c,l,d,u,h,p,f].filter((e=>null!=e)).join("\n")};function Aw(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(null==t||!t.length)throw new Error("No resources found in `att` property");t.forEach((t=>{const r=e.att[t];if(Array.isArray(r))throw new Error(`Resource must be an object: ${t}`);if("object"!=typeof r)throw new Error(`Resource must be an object: ${t}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${t}`);Object.keys(r).forEach((e=>{const t=r[e];if(!Array.isArray(t))throw new Error(`Ability limits ${e} must be an array of objects, found: ${t}`);if(!t.length)throw new Error(`Value of ${e} is empty array, must be an array with objects`);t.forEach((t=>{if("object"!=typeof t)throw new Error(`Ability limits (${e}) must be an array of objects, found: ${t}`)}))}))}))}function xw(e,t,r={}){t=t?.sort(((e,t)=>e.localeCompare(t)));const n=t.map((t=>({[`${e}/${t}`]:[r]})));return Object.assign({},...n)}function Cw(e){return Aw(e),`urn:recap:${function(e){return Buffer.from(JSON.stringify(e)).toString("base64")}(e).replace(/=/g,"")}`}function Sw(e){const t=function(e){return JSON.parse(Buffer.from(e,"base64").toString("utf-8"))}(e.replace("urn:recap:",""));return Aw(t),t}function Iw(e,t,r){const n=function(e,t,r,n={}){return r?.sort(((e,t)=>e.localeCompare(t))),{att:{[e]:xw(t,r,n)}}}(e,t,r);return Cw(n)}function _w(e,t){const r=function(e,t){Aw(e),Aw(t);const r=Object.keys(e.att).concat(Object.keys(t.att)).sort(((e,t)=>e.localeCompare(t))),n={att:{}};return r.forEach((r=>{var i,s;Object.keys((null==(i=e.att)?void 0:i[r])||{}).concat(Object.keys((null==(s=t.att)?void 0:s[r])||{})).sort(((e,t)=>e.localeCompare(t))).forEach((i=>{var s,o;n.att[r]=((e,t)=>lw(e,dw(t)))(((e,t)=>{for(var r in t||(t={}))hw.call(t,r)&&fw(e,r,t[r]);if(uw)for(var r of uw(t))pw.call(t,r)&&fw(e,r,t[r]);return e})({},n.att[r]),{[i]:(null==(s=e.att[r])?void 0:s[i])||(null==(o=t.att[r])?void 0:o[i])})}))})),n}(Sw(e),Sw(t));return Cw(r)}function kw(e){var t;const r=Sw(e);Aw(r);const n=null==(t=r.att)?void 0:t.eip155;return n?Object.keys(n).map((e=>e.split("/")[1])):[]}function Pw(e){const t=Sw(e);Aw(t);const r=[];return Object.values(t.att).forEach((e=>{Object.values(e).forEach((e=>{var t;null!=(t=e?.[0])&&t.chains&&r.push(e[0].chains)}))})),[...new Set(r.flat())]}function Tw(e){if(!e)return;const t=e?.[e.length-1];return function(e){return e&&e.includes("urn:recap:")}(t)?t:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function Ow(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function Nw(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)}function Rw(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function $w(e,...t){if(!Ow(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Bw(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Mw(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Uw(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}const Lw=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function Dw(e){if("string"==typeof e)e=function(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}(e);else{if(!Ow(e))throw new Error("Uint8Array expected, got "+typeof e);e=Fw(e)}return e}function jw(e,t,r=!0){if(void 0===t)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(r&&!function(e){return e.byteOffset%4==0}(t))throw new Error("invalid output, must be aligned");return t}function Hw(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+l,a,n)}function zw(e,t,r){Nw(r);const n=new Uint8Array(16),i=function(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}(n);return Hw(i,0,BigInt(t),r),Hw(i,8,BigInt(e),r),n}function Fw(e){return Uint8Array.from(e)}const Vw=e=>Uint8Array.from(e.split("").map((e=>e.charCodeAt(0)))),Zw=Vw("expand 16-byte k"),qw=Vw("expand 32-byte k"),Ww=Mw(Zw),Kw=Mw(qw);function Gw(e,t){return e<<t|e>>>32-t}function Yw(e){return e.byteOffset%4==0}const Jw=2**32-1,Xw=new Uint32Array;const Qw=(e,t)=>255&e[t++]|(255&e[t++])<<8;class eb{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,$w(e=Dw(e),32);const t=Qw(e,0),r=Qw(e,2),n=Qw(e,4),i=Qw(e,6),s=Qw(e,8),o=Qw(e,10),a=Qw(e,12),c=Qw(e,14);this.r[0]=8191&t,this.r[1]=8191&(t>>>13|r<<3),this.r[2]=7939&(r>>>10|n<<6),this.r[3]=8191&(n>>>7|i<<9),this.r[4]=255&(i>>>4|s<<12),this.r[5]=s>>>1&8190,this.r[6]=8191&(s>>>14|o<<2),this.r[7]=8065&(o>>>11|a<<5),this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127;for(let t=0;t<8;t++)this.pad[t]=Qw(e,16+2*t)}process(e,t,r=!1){const n=r?0:2048,{h:i,r:s}=this,o=s[0],a=s[1],c=s[2],l=s[3],d=s[4],u=s[5],h=s[6],p=s[7],f=s[8],g=s[9],m=Qw(e,t+0),y=Qw(e,t+2),w=Qw(e,t+4),b=Qw(e,t+6),v=Qw(e,t+8),E=Qw(e,t+10),A=Qw(e,t+12),x=Qw(e,t+14);let C=i[0]+(8191&m),S=i[1]+(8191&(m>>>13|y<<3)),I=i[2]+(8191&(y>>>10|w<<6)),_=i[3]+(8191&(w>>>7|b<<9)),k=i[4]+(8191&(b>>>4|v<<12)),P=i[5]+(v>>>1&8191),T=i[6]+(8191&(v>>>14|E<<2)),O=i[7]+(8191&(E>>>11|A<<5)),N=i[8]+(8191&(A>>>8|x<<8)),R=i[9]+(x>>>5|n),$=0,B=$+C*o+S*(5*g)+I*(5*f)+_*(5*p)+k*(5*h);$=B>>>13,B&=8191,B+=P*(5*u)+T*(5*d)+O*(5*l)+N*(5*c)+R*(5*a),$+=B>>>13,B&=8191;let M=$+C*a+S*o+I*(5*g)+_*(5*f)+k*(5*p);$=M>>>13,M&=8191,M+=P*(5*h)+T*(5*u)+O*(5*d)+N*(5*l)+R*(5*c),$+=M>>>13,M&=8191;let U=$+C*c+S*a+I*o+_*(5*g)+k*(5*f);$=U>>>13,U&=8191,U+=P*(5*p)+T*(5*h)+O*(5*u)+N*(5*d)+R*(5*l),$+=U>>>13,U&=8191;let L=$+C*l+S*c+I*a+_*o+k*(5*g);$=L>>>13,L&=8191,L+=P*(5*f)+T*(5*p)+O*(5*h)+N*(5*u)+R*(5*d),$+=L>>>13,L&=8191;let D=$+C*d+S*l+I*c+_*a+k*o;$=D>>>13,D&=8191,D+=P*(5*g)+T*(5*f)+O*(5*p)+N*(5*h)+R*(5*u),$+=D>>>13,D&=8191;let j=$+C*u+S*d+I*l+_*c+k*a;$=j>>>13,j&=8191,j+=P*o+T*(5*g)+O*(5*f)+N*(5*p)+R*(5*h),$+=j>>>13,j&=8191;let H=$+C*h+S*u+I*d+_*l+k*c;$=H>>>13,H&=8191,H+=P*a+T*o+O*(5*g)+N*(5*f)+R*(5*p),$+=H>>>13,H&=8191;let z=$+C*p+S*h+I*u+_*d+k*l;$=z>>>13,z&=8191,z+=P*c+T*a+O*o+N*(5*g)+R*(5*f),$+=z>>>13,z&=8191;let F=$+C*f+S*p+I*h+_*u+k*d;$=F>>>13,F&=8191,F+=P*l+T*c+O*a+N*o+R*(5*g),$+=F>>>13,F&=8191;let V=$+C*g+S*f+I*p+_*h+k*u;$=V>>>13,V&=8191,V+=P*d+T*l+O*c+N*a+R*o,$+=V>>>13,V&=8191,$=($<<2)+$|0,$=$+B|0,B=8191&$,$>>>=13,M+=$,i[0]=B,i[1]=M,i[2]=U,i[3]=L,i[4]=D,i[5]=j,i[6]=H,i[7]=z,i[8]=F,i[9]=V}finalize(){const{h:e,pad:t}=this,r=new Uint16Array(10);let n=e[1]>>>13;e[1]&=8191;for(let t=2;t<10;t++)e[t]+=n,n=e[t]>>>13,e[t]&=8191;e[0]+=5*n,n=e[0]>>>13,e[0]&=8191,e[1]+=n,n=e[1]>>>13,e[1]&=8191,e[2]+=n,r[0]=e[0]+5,n=r[0]>>>13,r[0]&=8191;for(let t=1;t<10;t++)r[t]=e[t]+n,n=r[t]>>>13,r[t]&=8191;r[9]-=8192;let i=(1^n)-1;for(let e=0;e<10;e++)r[e]&=i;i=~i;for(let t=0;t<10;t++)e[t]=e[t]&i|r[t];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let s=e[0]+t[0];e[0]=65535&s;for(let r=1;r<8;r++)s=(e[r]+t[r]|0)+(s>>>16)|0,e[r]=65535&s;Uw(r)}update(e){Bw(this),$w(e=Dw(e));const{buffer:t,blockLen:r}=this,n=e.length;for(let i=0;i<n;){const s=Math.min(r-this.pos,n-i);if(s!==r)t.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===r&&(this.process(t,0,!1),this.pos=0);else for(;r<=n-i;i+=r)this.process(e,i)}return this}destroy(){Uw(this.h,this.r,this.buffer,this.pad)}digestInto(e){Bw(this),function(e,t){$w(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}(e,this),this.finished=!0;const{buffer:t,h:r}=this;let{pos:n}=this;if(n){for(t[n++]=1;n<16;n++)t[n]=0;this.process(t,0,!0)}this.finalize();let i=0;for(let t=0;t<8;t++)e[i++]=r[t]>>>0,e[i++]=r[t]>>>8;return e}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}}const tb=function(e){const t=(t,r)=>e(r).update(Dw(t)).digest(),r=e(new Uint8Array(32));return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}((e=>new eb(e)));const rb=function(e,t){const{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:s,rounds:o}=function(e,t){if(null==t||"object"!=typeof t)throw new Error("options must be defined");return Object.assign(e,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof e)throw new Error("core must be a function");return Rw(i),Rw(o),Nw(s),Nw(r),(t,a,c,l,d=0)=>{$w(t),$w(a),$w(c);const u=c.length;if(void 0===l&&(l=new Uint8Array(u)),$w(l),Rw(d),d<0||d>=Jw)throw new Error("arx: counter overflow");if(l.length<u)throw new Error(`arx: output (${l.length}) is shorter than data (${u})`);const h=[];let p,f,g=t.length;if(32===g)h.push(p=Fw(t)),f=Kw;else{if(16!==g||!r)throw new Error(`arx: invalid 32-byte key, got length=${g}`);p=new Uint8Array(32),p.set(t),p.set(t,16),f=Ww,h.push(p)}Yw(a)||h.push(a=Fw(a));const m=Mw(p);if(n){if(24!==a.length)throw new Error("arx: extended nonce must be 24 bytes");n(f,m,Mw(a.subarray(0,16)),m),a=a.subarray(16)}const y=16-i;if(y!==a.length)throw new Error(`arx: nonce must be ${y} or 16 bytes`);if(12!==y){const e=new Uint8Array(12);e.set(a,s?0:12-a.length),a=e,h.push(a)}const w=Mw(a);return function(e,t,r,n,i,s,o,a){const c=i.length,l=new Uint8Array(64),d=Mw(l),u=Yw(i)&&Yw(s),h=u?Mw(i):Xw,p=u?Mw(s):Xw;for(let f=0;f<c;o++){if(e(t,r,n,d,o,a),o>=Jw)throw new Error("arx: counter overflow");const g=Math.min(64,c-f);if(u&&64===g){const e=f/4;if(f%4!=0)throw new Error("arx: invalid block position");for(let t,r=0;r<16;r++)t=e+r,p[t]=h[t]^d[r];f+=64}else{for(let e,t=0;t<g;t++)e=f+t,s[e]=i[e]^l[t];f+=g}}}(e,f,m,w,c,l,d,o),Uw(...h),l}}((function(e,t,r,n,i,s=20){let o=e[0],a=e[1],c=e[2],l=e[3],d=t[0],u=t[1],h=t[2],p=t[3],f=t[4],g=t[5],m=t[6],y=t[7],w=i,b=r[0],v=r[1],E=r[2],A=o,x=a,C=c,S=l,I=d,_=u,k=h,P=p,T=f,O=g,N=m,R=y,$=w,B=b,M=v,U=E;for(let e=0;e<s;e+=2)A=A+I|0,$=Gw($^A,16),T=T+$|0,I=Gw(I^T,12),A=A+I|0,$=Gw($^A,8),T=T+$|0,I=Gw(I^T,7),x=x+_|0,B=Gw(B^x,16),O=O+B|0,_=Gw(_^O,12),x=x+_|0,B=Gw(B^x,8),O=O+B|0,_=Gw(_^O,7),C=C+k|0,M=Gw(M^C,16),N=N+M|0,k=Gw(k^N,12),C=C+k|0,M=Gw(M^C,8),N=N+M|0,k=Gw(k^N,7),S=S+P|0,U=Gw(U^S,16),R=R+U|0,P=Gw(P^R,12),S=S+P|0,U=Gw(U^S,8),R=R+U|0,P=Gw(P^R,7),A=A+_|0,U=Gw(U^A,16),N=N+U|0,_=Gw(_^N,12),A=A+_|0,U=Gw(U^A,8),N=N+U|0,_=Gw(_^N,7),x=x+k|0,$=Gw($^x,16),R=R+$|0,k=Gw(k^R,12),x=x+k|0,$=Gw($^x,8),R=R+$|0,k=Gw(k^R,7),C=C+P|0,B=Gw(B^C,16),T=T+B|0,P=Gw(P^T,12),C=C+P|0,B=Gw(B^C,8),T=T+B|0,P=Gw(P^T,7),S=S+I|0,M=Gw(M^S,16),O=O+M|0,I=Gw(I^O,12),S=S+I|0,M=Gw(M^S,8),O=O+M|0,I=Gw(I^O,7);let L=0;n[L++]=o+A|0,n[L++]=a+x|0,n[L++]=c+C|0,n[L++]=l+S|0,n[L++]=d+I|0,n[L++]=u+_|0,n[L++]=h+k|0,n[L++]=p+P|0,n[L++]=f+T|0,n[L++]=g+O|0,n[L++]=m+N|0,n[L++]=y+R|0,n[L++]=w+$|0,n[L++]=b+B|0,n[L++]=v+M|0,n[L++]=E+U|0}),{counterRight:!1,counterLength:4,allowShortKeys:!1}),nb=new Uint8Array(16),ib=(e,t)=>{e.update(t);const r=t.length%16;r&&e.update(nb.subarray(r))},sb=new Uint8Array(32);function ob(e,t,r,n,i){const s=e(t,r,sb),o=tb.create(s);i&&ib(o,i),ib(o,n);const a=zw(n.length,i?i.length:0,!0);o.update(a);const c=o.digest();return Uw(s,a),c}const ab=((e,t)=>{function r(r,...n){if($w(r),!Lw)throw new Error("Non little-endian hardware is not yet supported");if(void 0!==e.nonceLength){const t=n[0];if(!t)throw new Error("nonce / iv required");e.varSizeNonce?$w(t):$w(t,e.nonceLength)}const i=e.tagLength;i&&void 0!==n[1]&&$w(n[1]);const s=t(r,...n),o=(e,t)=>{if(void 0!==t){if(2!==e)throw new Error("cipher output not supported");$w(t)}};let a=!1;return{encrypt(e,t){if(a)throw new Error("cannot encrypt() twice with same key + nonce");return a=!0,$w(e),o(s.encrypt.length,t),s.encrypt(e,t)},decrypt(e,t){if($w(e),i&&e.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return o(s.decrypt.length,t),s.decrypt(e,t)}}}return Object.assign(r,e),r})({blockSize:64,nonceLength:12,tagLength:16},(e=>(t,r,n)=>({encrypt(i,s){const o=i.length;(s=jw(o+16,s,!1)).set(i);const a=s.subarray(0,-16);e(t,r,a,a,1);const c=ob(e,t,r,a,n);return s.set(c,o),Uw(c),s},decrypt(i,s){s=jw(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=ob(e,t,r,o,n);if(!function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r}(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),e(t,r,s,s,1),Uw(c),s}}))(rb));class cb extends iy{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Rm(e);const r=ry(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),Um(i)}update(e){return $m(this),this.iHash.update(e),this}digestInto(e){$m(this),Nm(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const lb=(e,t,r)=>new cb(e,t).update(r).digest();lb.create=(e,t)=>new cb(e,t);const db=Uint8Array.from([0]),ub=Uint8Array.of();const hb=(e,t,r,n,i)=>function(e,t,r,n=32){Rm(e),Om(n);const i=e.outputLen;if(n>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(n/i);void 0===r&&(r=ub);const o=new Uint8Array(s*i),a=lb.create(e,t),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let e=0;e<s;e++)db[0]=e+1,c.update(0===e?ub:l).update(r).update(db).digestInto(l),o.set(l,i*e),a._cloneInto(c);return a.destroy(),c.destroy(),Um(l,db),o.slice(0,n)}(e,function(e,t,r){return Rm(e),void 0===r&&(r=new Uint8Array(e.outputLen)),lb(e,ry(r),ry(t))}(e,t,r),n,i),pb=Hy,fb=BigInt(0),gb=BigInt(1);function mb(e,t=""){if("boolean"!=typeof e){throw new Error((t&&`"${t}"`)+"expected boolean, got type="+typeof e)}return e}function yb(e,t,r=""){const n=Tm(e),i=e?.length,s=void 0!==t;if(!n||s&&i!==t){throw new Error((r&&`"${r}" `)+"expected Uint8Array"+(s?` of length ${t}`:"")+", got "+(n?`length=${i}`:"type="+typeof e))}return e}function wb(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function bb(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?fb:BigInt("0x"+e)}function vb(e){return bb(qm(e))}function Eb(e){return Nm(e),bb(qm(Uint8Array.from(e).reverse()))}function Ab(e,t){return ey(e.toString(16).padStart(2*t,"0"))}function xb(e,t){return Ab(e,t).reverse()}function Cb(e,t,r){let n;if("string"==typeof t)try{n=ey(t)}catch(t){throw new Error(e+" must be hex string or Uint8Array, cause: "+t)}else{if(!Tm(t))throw new Error(e+" must be hex string or Uint8Array");n=Uint8Array.from(t)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(e+" of length "+r+" expected, got "+i);return n}const Sb=e=>"bigint"==typeof e&&fb<=e;function Ib(e,t,r,n){if(!function(e,t,r){return Sb(e)&&Sb(t)&&Sb(r)&&t<=e&&e<r}(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function _b(e){let t;for(t=0;e>fb;e>>=gb,t+=1);return t}const kb=e=>(gb<<BigInt(e))-gb;function Pb(e,t,r={}){if(!e||"object"!=typeof e)throw new Error("expected valid options object");function n(t,r,n){const i=e[t];if(n&&void 0===i)return;const s=typeof i;if(s!==r||null===i)throw new Error(`param "${t}" is invalid: expected ${r}, got ${s}`)}Object.entries(t).forEach((([e,t])=>n(e,t,!1))),Object.entries(r).forEach((([e,t])=>n(e,t,!0)))}function Tb(e){const t=new WeakMap;return(r,...n)=>{const i=t.get(r);if(void 0!==i)return i;const s=e(r,...n);return t.set(r,s),s}}const Ob=BigInt(0),Nb=BigInt(1),Rb=BigInt(2),$b=BigInt(3),Bb=BigInt(4),Mb=BigInt(5),Ub=BigInt(7),Lb=BigInt(8),Db=BigInt(9),jb=BigInt(16);function Hb(e,t){const r=e%t;return r>=Ob?r:t+r}function zb(e,t,r){let n=e;for(;t-- >Ob;)n*=n,n%=r;return n}function Fb(e,t){if(e===Ob)throw new Error("invert: expected non-zero number");if(t<=Ob)throw new Error("invert: expected positive modulus, got "+t);let r=Hb(e,t),n=t,i=Ob,s=Nb;for(;r!==Ob;){const e=n%r,t=i-s*(n/r);n=r,r=e,i=s,s=t}if(n!==Nb)throw new Error("invert: does not exist");return Hb(i,t)}function Vb(e,t,r){if(!e.eql(e.sqr(t),r))throw new Error("Cannot find square root")}function Zb(e,t){const r=(e.ORDER+Nb)/Bb,n=e.pow(t,r);return Vb(e,n,t),n}function qb(e,t){const r=(e.ORDER-Mb)/Lb,n=e.mul(t,Rb),i=e.pow(n,r),s=e.mul(t,i),o=e.mul(e.mul(s,Rb),i),a=e.mul(s,e.sub(o,e.ONE));return Vb(e,a,t),a}function Wb(e){if(e<$b)throw new Error("sqrt is not defined for small field");let t=e-Nb,r=0;for(;t%Rb===Ob;)t/=Rb,r++;let n=Rb;const i=Qb(e);for(;1===Jb(i,n);)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===r)return Zb;let s=i.pow(n,t);const o=(t+Nb)/Rb;return function(e,n){if(e.is0(n))return n;if(1!==Jb(e,n))throw new Error("Cannot find square root");let i=r,a=e.mul(e.ONE,s),c=e.pow(n,t),l=e.pow(n,o);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,r=e.sqr(c);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===i)throw new Error("Cannot find square root");const n=Nb<<BigInt(i-t-1),s=e.pow(a,n);i=t,a=e.sqr(s),c=e.mul(c,a),l=e.mul(l,s)}return l}}function Kb(e){return e%Bb===$b?Zb:e%Lb===Mb?qb:e%jb===Db?function(e){const t=Qb(e),r=Wb(e),n=r(t,t.neg(t.ONE)),i=r(t,n),s=r(t,t.neg(n)),o=(e+Ub)/jb;return(e,t)=>{let r=e.pow(t,o),a=e.mul(r,n);const c=e.mul(r,i),l=e.mul(r,s),d=e.eql(e.sqr(a),t),u=e.eql(e.sqr(c),t);r=e.cmov(r,a,d),a=e.cmov(l,c,u);const h=e.eql(e.sqr(a),t),p=e.cmov(r,a,h);return Vb(e,p,t),p}}(e):Wb(e)}const Gb=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Yb(e,t,r=!1){const n=new Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),s=e.inv(i);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),s),n}function Jb(e,t){const r=(e.ORDER-Nb)/Rb,n=e.pow(t,r),i=e.eql(n,e.ONE),s=e.eql(n,e.ZERO),o=e.eql(n,e.neg(e.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function Xb(e,t){void 0!==t&&Om(t);const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function Qb(e,t,r=!1,n={}){if(e<=Ob)throw new Error("invalid field: expected ORDER > 0, got "+e);let i,s,o,a=!1;if("object"==typeof t&&null!=t){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const e=t;e.BITS&&(i=e.BITS),e.sqrt&&(s=e.sqrt),"boolean"==typeof e.isLE&&(r=e.isLE),"boolean"==typeof e.modFromBytes&&(a=e.modFromBytes),o=e.allowedLengths}else"number"==typeof t&&(i=t),n.sqrt&&(s=n.sqrt);const{nBitLength:c,nByteLength:l}=Xb(e,i);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let d;const u=Object.freeze({ORDER:e,isLE:r,BITS:c,BYTES:l,MASK:kb(c),ZERO:Ob,ONE:Nb,allowedLengths:o,create:t=>Hb(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return Ob<=t&&t<e},is0:e=>e===Ob,isValidNot0:e=>!u.is0(e)&&u.isValid(e),isOdd:e=>(e&Nb)===Nb,neg:t=>Hb(-t,e),eql:(e,t)=>e===t,sqr:t=>Hb(t*t,e),add:(t,r)=>Hb(t+r,e),sub:(t,r)=>Hb(t-r,e),mul:(t,r)=>Hb(t*r,e),pow:(e,t)=>function(e,t,r){if(r<Ob)throw new Error("invalid exponent, negatives unsupported");if(r===Ob)return e.ONE;if(r===Nb)return t;let n=e.ONE,i=t;for(;r>Ob;)r&Nb&&(n=e.mul(n,i)),i=e.sqr(i),r>>=Nb;return n}(u,e,t),div:(t,r)=>Hb(t*Fb(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Fb(t,e),sqrt:s||(t=>(d||(d=Kb(e)),d(u,t))),toBytes:e=>r?xb(e,l):Ab(e,l),fromBytes:(t,n=!0)=>{if(o){if(!o.includes(t.length)||t.length>l)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+t.length);const e=new Uint8Array(l);e.set(t,r?0:e.length-t.length),t=e}if(t.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+t.length);let i=r?Eb(t):vb(t);if(a&&(i=Hb(i,e)),!n&&!u.isValid(i))throw new Error("invalid field element: outside of range 0..ORDER");return i},invertBatch:e=>Yb(u,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(u)}function ev(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function tv(e){const t=ev(e);return t+Math.ceil(t/2)}const rv=BigInt(0),nv=BigInt(1);function iv(e,t){const r=t.negate();return e?r:t}function sv(e,t){const r=Yb(e.Fp,t.map((e=>e.Z)));return t.map(((t,n)=>e.fromAffine(t.toAffine(r[n]))))}function ov(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function av(e,t){ov(e,t);const r=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:kb(e),maxNumber:r,shiftBy:BigInt(e)}}function cv(e,t,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(e&i),c=e>>o;a>n&&(a-=s,c+=nv);const l=t*n;return{nextN:c,offset:l+Math.abs(a)-1,isZero:0===a,isNeg:a<0,isNegF:t%2!=0,offsetF:l}}const lv=new WeakMap,dv=new WeakMap;function uv(e){return dv.get(e)||1}function hv(e){if(e!==rv)throw new Error("invalid wNAF")}class pv{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,r=this.ZERO){let n=e;for(;t>rv;)t&nv&&(r=r.add(n)),n=n.double(),t>>=nv;return r}precomputeWindow(e,t){const{windows:r,windowSize:n}=av(t,this.bits),i=[];let s=e,o=s;for(let e=0;e<r;e++){o=s,i.push(o);for(let e=1;e<n;e++)o=o.add(s),i.push(o);s=o.double()}return i}wNAF(e,t,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let n=this.ZERO,i=this.BASE;const s=av(e,this.bits);for(let e=0;e<s.windows;e++){const{nextN:o,offset:a,isZero:c,isNeg:l,isNegF:d,offsetF:u}=cv(r,e,s);r=o,c?i=i.add(iv(d,t[u])):n=n.add(iv(l,t[a]))}return hv(r),{p:n,f:i}}wNAFUnsafe(e,t,r,n=this.ZERO){const i=av(e,this.bits);for(let e=0;e<i.windows&&r!==rv;e++){const{nextN:s,offset:o,isZero:a,isNeg:c}=cv(r,e,i);if(r=s,!a){const e=t[o];n=n.add(c?e.negate():e)}}return hv(r),n}getPrecomputes(e,t,r){let n=lv.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&("function"==typeof r&&(n=r(n)),lv.set(t,n))),n}cached(e,t,r){const n=uv(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)}unsafe(e,t,r,n){const i=uv(e);return 1===i?this._unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)}createCache(e,t){ov(t,this.bits),dv.set(e,t),lv.delete(e)}hasCache(e){return 1!==uv(e)}}function fv(e,t,r,n){(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach(((e,r)=>{if(!(e instanceof t))throw new Error("invalid point at index "+r)}))})(r,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach(((e,r)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+r)}))}(n,t);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=_b(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=kb(c),d=new Array(Number(l)+1).fill(o);let u=o;for(let e=Math.floor((t.BITS-1)/c)*c;e>=0;e-=c){d.fill(o);for(let t=0;t<s;t++){const i=n[t],s=Number(i>>BigInt(e)&l);d[s]=d[s].add(r[t])}let t=o;for(let e=d.length-1,r=o;e>0;e--)r=r.add(d[e]),t=t.add(r);if(u=u.add(t),0!==e)for(let e=0;e<c;e++)u=u.double()}return u}function gv(e,t,r){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return function(e){Pb(e,Gb.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"}))}(t),t}return Qb(e,{isLE:r})}BigInt(0),BigInt(1),BigInt(2),BigInt(8),ty("HashToScalar-");const mv=BigInt(0),yv=BigInt(1),wv=BigInt(2);function bv(e){const t=function(e){return Pb(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze(bg({},e))}(e),{P:r,type:n,adjustScalarBytes:i,powPminus2:s,randomBytes:o}=t,a="x25519"===n;if(!a&&"x448"!==n)throw new Error("invalid type");const c=o||oy,l=a?255:448,d=a?32:56,u=BigInt(a?9:5),h=BigInt(a?121665:39081),p=a?wv**BigInt(254):wv**BigInt(447),f=a?BigInt(8)*wv**BigInt(251)-yv:BigInt(4)*wv**BigInt(445)-yv,g=p+f+yv,m=e=>Hb(e,r),y=w(u);function w(e){return xb(m(e),d)}function b(e,t){const n=function(e,t){Ib("u",e,mv,r),Ib("scalar",t,p,g);const n=t,i=e;let o=yv,a=mv,c=e,d=yv,u=mv;for(let e=BigInt(l-1);e>=mv;e--){const t=n>>e&yv;u^=t,({x_2:o,x_3:c}=E(u,o,c)),({x_2:a,x_3:d}=E(u,a,d)),u=t;const r=o+a,s=m(r*r),l=o-a,p=m(l*l),f=s-p,g=c+d,y=m((c-d)*r),w=m(g*l),b=y+w,v=y-w;c=m(b*b),d=m(i*m(v*v)),o=m(s*p),a=m(f*(s+m(h*f)))}({x_2:o,x_3:c}=E(u,o,c)),({x_2:a,x_3:d}=E(u,a,d));const f=s(a);return m(o*f)}(function(e){const t=Cb("u coordinate",e,d);return a&&(t[31]&=127),m(Eb(t))}(t),function(e){return Eb(i(Cb("scalar",e,d)))}(e));if(n===mv)throw new Error("invalid private or public key received");return w(n)}function v(e){return b(e,y)}function E(e,t,r){const n=m(e*(t-r));return{x_2:t=m(t-n),x_3:r=m(r+n)}}const A={secretKey:d,publicKey:d,seed:d},x=(e=c(d))=>(Nm(e,A.seed),e);return{keygen:function(e){const t=x(e);return{secretKey:t,publicKey:v(t)}},getSharedSecret:(e,t)=>b(e,t),getPublicKey:e=>v(e),scalarMult:b,scalarMultBase:v,utils:{randomSecretKey:x,randomPrivateKey:x},GuBytes:y.slice(),lengths:A}}const vv=BigInt(1),Ev=BigInt(2),Av=BigInt(3),xv=BigInt(5),Cv=BigInt(8),Sv=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed");function Iv(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const _v=Qb({p:Sv,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Cv,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")}.p,{isLE:!0}),kv=(()=>{const e=_v.ORDER;return bv({P:e,type:"x25519",powPminus2:t=>{const{pow_p_5_8:r,b2:n}=function(e){const t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=Sv,o=e*e%s*e%s,a=zb(o,Ev,s)*o%s,c=zb(a,vv,s)*e%s,l=zb(c,xv,s)*c%s,d=zb(l,t,s)*l%s,u=zb(d,r,s)*d%s,h=zb(u,n,s)*u%s,p=zb(h,i,s)*h%s,f=zb(p,i,s)*h%s,g=zb(f,t,s)*l%s;return{pow_p_5_8:zb(g,Ev,s)*e%s,b2:o}}(t);return Hb(zb(r,Av,e)*n,e)},adjustScalarBytes:Iv})})(),Pv=(e,t)=>(e+(e>=0?t:-t)/Mv)/t;function Tv(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function Ov(e,t){const r={};for(let n of Object.keys(t))r[n]=void 0===e[n]?t[n]:e[n];return mb(r.lowS,"lowS"),mb(r.prehash,"prehash"),void 0!==r.format&&Tv(r.format),r}class Nv extends Error{constructor(e=""){super(e)}}const Rv={Err:Nv,_tlv:{encode:(e,t)=>{const{Err:r}=Rv;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");const n=t.length/2,i=wb(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?wb(i.length/2|128):"";return wb(e)+s+i+t},decode(e,t){const{Err:r}=Rv;let n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");const i=t[n++];let s=0;if(!!(128&i)){const e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");const o=t.subarray(n,n+e);if(o.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===o[0])throw new r("tlv.decode(long): zero leftmost byte");for(const e of o)s=s<<8|e;if(n+=e,s<128)throw new r("tlv.decode(long): not minimal encoding")}else s=i;const o=t.subarray(n,n+s);if(o.length!==s)throw new r("tlv.decode: wrong value length");return{v:o,l:t.subarray(n+s)}}},_int:{encode(e){const{Err:t}=Rv;if(e<$v)throw new t("integer: negative integers are not allowed");let r=wb(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){const{Err:t}=Rv;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return vb(e)}},toSig(e){const{Err:t,_int:r,_tlv:n}=Rv,i=Cb("signature",e),{v:s,l:o}=n.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,s),{v:l,l:d}=n.decode(2,c);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(e){const{_tlv:t,_int:r}=Rv,n=t.encode(2,r.encode(e.r))+t.encode(2,r.encode(e.s));return t.encode(48,n)}},$v=BigInt(0),Bv=BigInt(1),Mv=BigInt(2),Uv=BigInt(3),Lv=BigInt(4);function Dv(e,t){const{BYTES:r}=e;let n;if("bigint"==typeof t)n=t;else{let i=Cb("private key",t);try{n=e.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof t}`)}}if(!e.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function jv(e,t={}){const r=function(e,t,r={},n){if(void 0===n&&(n="edwards"===e),!t||"object"!=typeof t)throw new Error(`expected valid ${e} CURVE object`);for(const e of["p","n","h"]){const r=t[e];if(!("bigint"==typeof r&&r>rv))throw new Error(`CURVE.${e} must be positive bigint`)}const i=gv(t.p,r.Fp,n),s=gv(t.n,r.Fn,n),o=["Gx","Gy","a","weierstrass"===e?"b":"d"];for(const e of o)if(!i.isValid(t[e]))throw new Error(`CURVE.${e} must be valid field element of CURVE.Fp`);return{CURVE:t=Object.freeze(Object.assign({},t)),Fp:i,Fn:s}}("weierstrass",e,t),{Fp:n,Fn:i}=r;let s=r.CURVE;const{h:o,n:a}=s;Pb(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=t;if(c&&(!n.is0(s.a)||"bigint"!=typeof c.beta||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=zv(n,i);function d(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}const u=t.toBytes||function(e,t,r){const{x:i,y:s}=t.toAffine(),o=n.toBytes(i);if(mb(r,"isCompressed"),r){d();return ny(Hv(!n.isOdd(s)),o)}return ny(Uint8Array.of(4),o,n.toBytes(s))},h=t.fromBytes||function(e){yb(e,void 0,"Point");const{publicKey:t,publicKeyUncompressed:r}=l,i=e.length,s=e[0],o=e.subarray(1);if(i!==t||2!==s&&3!==s){if(i===r&&4===s){const e=n.BYTES,t=n.fromBytes(o.subarray(0,e)),r=n.fromBytes(o.subarray(e,2*e));if(!f(t,r))throw new Error("bad point: is not on curve");return{x:t,y:r}}throw new Error(`bad point: got length ${i}, expected compressed=${t} or uncompressed=${r}`)}{const e=n.fromBytes(o);if(!n.isValid(e))throw new Error("bad point: is not on curve, wrong x");const t=p(e);let r;try{r=n.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("bad point: is not on curve, sqrt error"+t)}d();return!(1&~s)!==n.isOdd(r)&&(r=n.neg(r)),{x:e,y:r}}};function p(e){const t=n.sqr(e),r=n.mul(t,e);return n.add(n.add(r,n.mul(e,s.a)),s.b)}function f(e,t){const r=n.sqr(t),i=p(e);return n.eql(r,i)}if(!f(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const g=n.mul(n.pow(s.a,Uv),Lv),m=n.mul(n.sqr(s.b),BigInt(27));if(n.is0(n.add(g,m)))throw new Error("bad curve params: a or b");function y(e,t,r=!1){if(!n.isValid(t)||r&&n.is0(t))throw new Error(`bad point coordinate ${e}`);return t}function w(e){if(!(e instanceof x))throw new Error("ProjectivePoint expected")}function b(e){if(!c||!c.basises)throw new Error("no endo");return function(e,t,r){const[[n,i],[s,o]]=t,a=Pv(o*e,r),c=Pv(-i*e,r);let l=e-a*n-c*s,d=-a*i-c*o;const u=l<$v,h=d<$v;u&&(l=-l),h&&(d=-d);const p=kb(Math.ceil(_b(r)/2))+Bv;if(l<$v||l>=p||d<$v||d>=p)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:u,k1:l,k2neg:h,k2:d}}(e,c.basises,i.ORDER)}const v=Tb(((e,t)=>{const{X:r,Y:i,Z:s}=e;if(n.eql(s,n.ONE))return{x:r,y:i};const o=e.is0();null==t&&(t=o?n.ONE:n.inv(s));const a=n.mul(r,t),c=n.mul(i,t),l=n.mul(s,t);if(o)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw new Error("invZ was invalid");return{x:a,y:c}})),E=Tb((e=>{if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.Y))return;throw new Error("bad point: ZERO")}const{x:r,y:i}=e.toAffine();if(!n.isValid(r)||!n.isValid(i))throw new Error("bad point: x or y not field elements");if(!f(r,i))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0}));function A(e,t,r,i,s){return r=new x(n.mul(r.X,e),r.Y,r.Z),t=iv(i,t),r=iv(s,r),t.add(r)}class x{constructor(e,t,r){this.X=y("x",e),this.Y=y("y",t,!0),this.Z=y("z",r),Object.freeze(this)}static CURVE(){return s}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof x)throw new Error("projective point not allowed");return n.is0(t)&&n.is0(r)?x.ZERO:new x(t,r,n.ONE)}static fromBytes(e){const t=x.fromAffine(h(yb(e,void 0,"point")));return t.assertValidity(),t}static fromHex(e){return x.fromBytes(Cb("pointHex",e))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return S.createCache(this,e),t||this.multiply(Uv),this}assertValidity(){E(this)}hasEvenY(){const{y:e}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(e)}equals(e){w(e);const{X:t,Y:r,Z:i}=this,{X:s,Y:o,Z:a}=e,c=n.eql(n.mul(t,a),n.mul(s,i)),l=n.eql(n.mul(r,a),n.mul(o,i));return c&&l}negate(){return new x(this.X,n.neg(this.Y),this.Z)}double(){const{a:e,b:t}=s,r=n.mul(t,Uv),{X:i,Y:o,Z:a}=this;let c=n.ZERO,l=n.ZERO,d=n.ZERO,u=n.mul(i,i),h=n.mul(o,o),p=n.mul(a,a),f=n.mul(i,o);return f=n.add(f,f),d=n.mul(i,a),d=n.add(d,d),c=n.mul(e,d),l=n.mul(r,p),l=n.add(c,l),c=n.sub(h,l),l=n.add(h,l),l=n.mul(c,l),c=n.mul(f,c),d=n.mul(r,d),p=n.mul(e,p),f=n.sub(u,p),f=n.mul(e,f),f=n.add(f,d),d=n.add(u,u),u=n.add(d,u),u=n.add(u,p),u=n.mul(u,f),l=n.add(l,u),p=n.mul(o,a),p=n.add(p,p),u=n.mul(p,f),c=n.sub(c,u),d=n.mul(p,h),d=n.add(d,d),d=n.add(d,d),new x(c,l,d)}add(e){w(e);const{X:t,Y:r,Z:i}=this,{X:o,Y:a,Z:c}=e;let l=n.ZERO,d=n.ZERO,u=n.ZERO;const h=s.a,p=n.mul(s.b,Uv);let f=n.mul(t,o),g=n.mul(r,a),m=n.mul(i,c),y=n.add(t,r),b=n.add(o,a);y=n.mul(y,b),b=n.add(f,g),y=n.sub(y,b),b=n.add(t,i);let v=n.add(o,c);return b=n.mul(b,v),v=n.add(f,m),b=n.sub(b,v),v=n.add(r,i),l=n.add(a,c),v=n.mul(v,l),l=n.add(g,m),v=n.sub(v,l),u=n.mul(h,b),l=n.mul(p,m),u=n.add(l,u),l=n.sub(g,u),u=n.add(g,u),d=n.mul(l,u),g=n.add(f,f),g=n.add(g,f),m=n.mul(h,m),b=n.mul(p,b),g=n.add(g,m),m=n.sub(f,m),m=n.mul(h,m),b=n.add(b,m),f=n.mul(g,b),d=n.add(d,f),f=n.mul(v,b),l=n.mul(y,l),l=n.sub(l,f),f=n.mul(y,g),u=n.mul(v,u),u=n.add(u,f),new x(l,d,u)}subtract(e){return this.add(e.negate())}is0(){return this.equals(x.ZERO)}multiply(e){const{endo:r}=t;if(!i.isValidNot0(e))throw new Error("invalid scalar: out of range");let n,s;const o=e=>S.cached(this,e,(e=>sv(x,e)));if(r){const{k1neg:t,k1:i,k2neg:a,k2:c}=b(e),{p:l,f:d}=o(i),{p:u,f:h}=o(c);s=d.add(h),n=A(r.beta,l,u,t,a)}else{const{p:t,f:r}=o(e);n=t,s=r}return sv(x,[n,s])[0]}multiplyUnsafe(e){const{endo:r}=t,n=this;if(!i.isValid(e))throw new Error("invalid scalar: out of range");if(e===$v||n.is0())return x.ZERO;if(e===Bv)return n;if(S.hasCache(this))return this.multiply(e);if(r){const{k1neg:t,k1:i,k2neg:s,k2:o}=b(e),{p1:a,p2:c}=function(e,t,r,n){let i=t,s=e.ZERO,o=e.ZERO;for(;r>rv||n>rv;)r&nv&&(s=s.add(i)),n&nv&&(o=o.add(i)),i=i.double(),r>>=nv,n>>=nv;return{p1:s,p2:o}}(x,n,i,o);return A(r.beta,a,c,t,s)}return S.unsafe(n,e)}multiplyAndAddUnsafe(e,t,r){const n=this.multiplyUnsafe(t).add(e.multiplyUnsafe(r));return n.is0()?void 0:n}toAffine(e){return v(this,e)}isTorsionFree(){const{isTorsionFree:e}=t;return o===Bv||(e?e(x,this):S.unsafe(this,a).is0())}clearCofactor(){const{clearCofactor:e}=t;return o===Bv?this:e?e(x,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(e=!0){return mb(e,"isCompressed"),this.assertValidity(),u(x,this,e)}toHex(e=!0){return qm(this.toBytes(e))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(e=!0){return this.toBytes(e)}_setWindowSize(e){this.precompute(e)}static normalizeZ(e){return sv(x,e)}static msm(e,t){return fv(x,i,e,t)}static fromPrivateKey(e){return x.BASE.multiply(Dv(i,e))}}x.BASE=new x(s.Gx,s.Gy,n.ONE),x.ZERO=new x(n.ZERO,n.ONE,n.ZERO),x.Fp=n,x.Fn=i;const C=i.BITS,S=new pv(x,t.endo?Math.ceil(C/2):C);return x.BASE.precompute(8),x}function Hv(e){return Uint8Array.of(e?2:3)}function zv(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function Fv(e,t={}){const{Fn:r}=e,n=t.randomBytes||oy,i=Object.assign(zv(e.Fp,r),{seed:tv(r.ORDER)});function s(e){try{return!!Dv(r,e)}catch{return!1}}function o(e=n(i.seed)){return function(e,t,r=!1){const n=e.length,i=ev(t),s=tv(t);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=Hb(r?Eb(e):vb(e),t-Nb)+Nb;return r?xb(o,i):Ab(o,i)}(yb(e,i.seed,"seed"),r.ORDER)}function a(t,n=!0){return e.BASE.multiply(Dv(r,t)).toBytes(n)}function c(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;const{secretKey:n,publicKey:s,publicKeyUncompressed:o}=i;if(r.allowedLengths||n===s)return;const a=Cb("key",t).length;return a===s||a===o}return Object.freeze({getPublicKey:a,getSharedSecret:function(t,n,i=!0){if(!0===c(t))throw new Error("first arg must be private key");if(!1===c(n))throw new Error("second arg must be public key");const s=Dv(r,t);return e.fromHex(n).multiply(s).toBytes(i)},keygen:function(e){const t=o(e);return{secretKey:t,publicKey:a(t)}},Point:e,utils:{isValidSecretKey:s,isValidPublicKey:function(t,r){const{publicKey:n,publicKeyUncompressed:s}=i;try{const i=t.length;return!(!0===r&&i!==n||!1===r&&i!==s)&&!!e.fromBytes(t)}catch{return!1}},randomSecretKey:o,isValidPrivateKey:s,randomPrivateKey:o,normPrivateKeyToScalar:e=>Dv(r,e),precompute:(t=8,r=e.BASE)=>r.precompute(t,!1)},lengths:i})}function Vv(e,t,r={}){Rm(t),Pb(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=r.randomBytes||oy,i=r.hmac||((e,...r)=>lb(t,e,ny(...r))),{Fp:s,Fn:o}=e,{ORDER:a,BITS:c}=o,{keygen:l,getPublicKey:d,getSharedSecret:u,utils:h,lengths:p}=Fv(e,r),f={prehash:!1,lowS:"boolean"==typeof r.lowS&&r.lowS,format:void 0,extraEntropy:!1},g="compact";function m(e){return e>a>>Bv}function y(e,t){if(!o.isValidNot0(t))throw new Error(`invalid signature ${e}: out of range 1..Point.Fn.ORDER`);return t}class w{constructor(e,t,r){this.r=y("r",e),this.s=y("s",t),null!=r&&(this.recovery=r),Object.freeze(this)}static fromBytes(e,t=g){let r;if(function(e,t){Tv(t);const r=p.signature;yb(e,"compact"===t?r:"recovered"===t?r+1:void 0,`${t} signature`)}(e,t),"der"===t){const{r:t,s:r}=Rv.toSig(yb(e));return new w(t,r)}"recovered"===t&&(r=e[0],t="compact",e=e.subarray(1));const n=o.BYTES,i=e.subarray(0,n),s=e.subarray(n,2*n);return new w(o.fromBytes(i),o.fromBytes(s),r)}static fromHex(e,t){return this.fromBytes(ey(e),t)}addRecoveryBit(e){return new w(this.r,this.s,e)}recoverPublicKey(t){const r=s.ORDER,{r:n,s:i,recovery:c}=this;if(null==c||![0,1,2,3].includes(c))throw new Error("recovery id invalid");if(a*Mv<r&&c>1)throw new Error("recovery id is ambiguous for h>1 curve");const l=2===c||3===c?n+a:n;if(!s.isValid(l))throw new Error("recovery id 2 or 3 invalid");const d=s.toBytes(l),u=e.fromBytes(ny(Hv(!(1&c)),d)),h=o.inv(l),p=v(Cb("msgHash",t)),f=o.create(-p*h),g=o.create(i*h),m=e.BASE.multiplyUnsafe(f).add(u.multiplyUnsafe(g));if(m.is0())throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return m(this.s)}toBytes(e=g){if(Tv(e),"der"===e)return ey(Rv.hexFromSig(this));const t=o.toBytes(this.r),r=o.toBytes(this.s);if("recovered"===e){if(null==this.recovery)throw new Error("recovery bit must be present");return ny(Uint8Array.of(this.recovery),t,r)}return ny(t,r)}toHex(e){return qm(this.toBytes(e))}assertValidity(){}static fromCompact(e){return w.fromBytes(Cb("sig",e),"compact")}static fromDER(e){return w.fromBytes(Cb("sig",e),"der")}normalizeS(){return this.hasHighS()?new w(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return qm(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return qm(this.toBytes("compact"))}}const b=r.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const t=vb(e),r=8*e.length-c;return r>0?t>>BigInt(r):t},v=r.bits2int_modN||function(e){return o.create(b(e))},E=kb(c);function A(e){return Ib("num < 2^"+c,e,$v,E),o.toBytes(e)}function x(e,r){return yb(e,void 0,"message"),r?yb(t(e),void 0,"prehashed message"):e}return Object.freeze({keygen:l,getPublicKey:d,getSharedSecret:u,utils:h,lengths:p,Point:e,sign:function(r,s,a={}){r=Cb("message",r);const{seed:c,k2sig:l}=function(t,r,i){if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{lowS:s,prehash:a,extraEntropy:c}=Ov(i,f);t=x(t,a);const l=v(t),d=Dv(o,r),u=[A(d),A(l)];if(null!=c&&!1!==c){const e=!0===c?n(p.secretKey):c;u.push(Cb("extraEntropy",e))}const h=ny(...u),g=l;return{seed:h,k2sig:function(t){const r=b(t);if(!o.isValidNot0(r))return;const n=o.inv(r),i=e.BASE.multiply(r).toAffine(),a=o.create(i.x);if(a===$v)return;const c=o.create(n*o.create(g+a*d));if(c===$v)return;let l=(i.x===a?0:2)|Number(i.y&Bv),u=c;return s&&m(c)&&(u=o.neg(c),l^=1),new w(a,u,l)}}}(r,s,a);return function(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");const n=e=>new Uint8Array(e),i=e=>Uint8Array.of(e);let s=n(e),o=n(e),a=0;const c=()=>{s.fill(1),o.fill(0),a=0},l=(...e)=>r(o,s,...e),d=(e=n(0))=>{o=l(i(0),e),s=l(),0!==e.length&&(o=l(i(1),e),s=l())},u=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){s=l();const t=s.slice();r.push(t),e+=s.length}return ny(...r)};return(e,t)=>{let r;for(c(),d(e);!(r=t(u()));)d();return c(),r}}(t.outputLen,o.BYTES,i)(c,l)},verify:function(t,r,n,i={}){const{lowS:s,prehash:a,format:c}=Ov(i,f);if(n=Cb("publicKey",n),r=x(Cb("message",r),a),"strict"in i)throw new Error("options.strict was renamed to lowS");const l=void 0===c?function(e){let t;const r="string"==typeof e||Tm(e),n=!r&&null!==e&&"object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!r&&!n)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(n)t=new w(e.r,e.s);else if(r){try{t=w.fromBytes(Cb("sig",e),"der")}catch(e){if(!(e instanceof Rv.Err))throw e}if(!t)try{t=w.fromBytes(Cb("sig",e),"compact")}catch{return!1}}return t||!1}(t):w.fromBytes(Cb("sig",t),c);if(!1===l)return!1;try{const t=e.fromBytes(n);if(s&&l.hasHighS())return!1;const{r:i,s:a}=l,c=v(r),d=o.inv(a),u=o.create(c*d),h=o.create(i*d),p=e.BASE.multiplyUnsafe(u).add(t.multiplyUnsafe(h));return!p.is0()&&o.create(p.x)===i}catch{return!1}},recoverPublicKey:function(e,t,r={}){const{prehash:n}=Ov(r,f);return t=x(t,n),w.fromBytes(e,"recovered").recoverPublicKey(t).toBytes()},Signature:w,hash:t})}function Zv(e){const{CURVE:t,curveOpts:r}=function(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp;let n=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map((e=>Math.ceil(e/2))))):void 0;return{CURVE:t,curveOpts:{Fp:r,Fn:Qb(t.n,{BITS:e.nBitLength,allowedLengths:n,modFromBytes:e.wrapPrivateKey}),allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes}}}(e),n={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:r,hash:e.hash,ecdsaOpts:n}}function qv(e){const{CURVE:t,curveOpts:r,hash:n,ecdsaOpts:i}=Zv(e);return function(e,t){const r=t.Point;return Object.assign({},t,{ProjectivePoint:r,CURVE:Object.assign({},e,Xb(r.Fn.ORDER,r.Fn.BITS))})}(e,Vv(jv(t,r),n,i))}function Wv(e,t){const r=t=>qv(vg(bg({},e),{hash:t}));return vg(bg({},r(t)),{create:r})}const Kv={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},Gv={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},Yv={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},Jv=Qb(Kv.p),Xv=Qb(Gv.p),Qv=Qb(Yv.p),eE=Wv(vg(bg({},Kv),{Fp:Jv,lowS:!1}),Hy);Wv(vg(bg({},Gv),{Fp:Xv,lowS:!1}),Fy),Wv(vg(bg({},Yv),{Fp:Qv,lowS:!1,allowedPrivateKeyLengths:[130,131,132]}),zy);const tE=eE,rE="base10",nE="base16",iE="base64pad",sE="base64url",oE="utf8";function aE(){return Rp(oy(32),nE)}function cE(e){return Rp(pb(Np(e,nE)),nE)}function lE(e){return Rp(pb(Np(e,oE)),nE)}function dE(e){return Np(`${e}`,rE)}function uE(e){return Number(Rp(e,rE))}function hE(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function pE(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),r=(4-t.length%4)%4;return t+"=".repeat(r)}function fE(e){if(2===uE(e.type))return Rp(ih([e.type,e.sealed]),iE);if(1===uE(e.type)){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Rp(ih([e.type,e.senderPublicKey,e.iv,e.sealed]),iE)}return Rp(ih([e.type,e.iv,e.sealed]),iE)}function gE(e){const t=Np((e.encoding||iE)===sE?pE(e.encoded):e.encoded,iE),r=t.slice(0,1);if(1===uE(r)){const e=33,n=e+12,i=t.slice(1,e),s=t.slice(e,n);return{type:r,sealed:t.slice(n),iv:s,senderPublicKey:i}}if(2===uE(r)){return{type:r,sealed:t.slice(1),iv:oy(12)}}const n=t.slice(1,13);return{type:r,sealed:t.slice(13),iv:n}}function mE(e){const t=e?.type||0;if(1===t){if(typeof e?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function yE(e){return 1===e.type&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}function wE(e){return 2===e.type}function bE(e,t){const[r,n,i]=e.split("."),s=Buffer.from(pE(i),"base64");if(64!==s.length)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c=pb(`${r}.${n}`),l=function(e){const t=Buffer.from(e.x,"base64"),r=Buffer.from(e.y,"base64");return ih([new Uint8Array([4]),t,r])}(t);if(!tE.verify(ih([o,a]),c,l))throw new Error("Invalid signature");return Qu(e).payload}function vE(e){return e?.relay||{protocol:"irn"}}function EE(e){const t=$p[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}var AE=Object.defineProperty,xE=Object.defineProperties,CE=Object.getOwnPropertyDescriptors,SE=Object.getOwnPropertySymbols,IE=Object.prototype.hasOwnProperty,_E=Object.prototype.propertyIsEnumerable,kE=(e,t,r)=>t in e?AE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,PE=(e,t)=>{for(var r in t||(t={}))IE.call(t,r)&&kE(e,r,t[r]);if(SE)for(var r of SE(t))_E.call(t,r)&&kE(e,r,t[r]);return e};function TE(e,t="-"){const r={},n="relay"+t;return Object.keys(e).forEach((t=>{if(t.startsWith(n)){const i=t.replace(n,""),s=e[t];r[i]=s}})),r}function OE(e){if(!e.includes("wc:")){const t=cm(e);null!=t&&t.includes("wc:")&&(e=t)}const t=(e=(e=e.includes("wc://")?e.replace("wc://",""):e).includes("wc:")?e.replace("wc:",""):e).indexOf(":"),r=-1!==e.indexOf("?")?e.indexOf("?"):void 0,n=e.substring(0,t),i=e.substring(t+1,r).split("@"),s=typeof r<"u"?e.substring(r):"",o=new URLSearchParams(s),a=Object.fromEntries(o.entries()),c="string"==typeof a.methods?a.methods.split(","):void 0;return{protocol:n,topic:NE(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:TE(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function NE(e){return e.startsWith("//")?e.substring(2):e}function RE(e){const t=new URLSearchParams,r=PE(PE(((e,t)=>xE(e,CE(t)))(PE({},function(e,t="-"){const r={};return Object.keys(e).forEach((n=>{const i=n,s="relay"+t+i;e[i]&&(r[s]=e[i])})),r}(e.relay)),{symKey:e.symKey}),e.expiryTimestamp&&{expiryTimestamp:e.expiryTimestamp.toString()}),e.methods&&{methods:e.methods.join(",")});return Object.entries(r).sort((([e],[t])=>e.localeCompare(t))).forEach((([e,r])=>{void 0!==r&&t.append(e,String(r))})),`${e.protocol}:${e.topic}@${e.version}?${t}`}function $E(e,t,r){return`${e}?wc_ev=${r}&topic=${t}`}var BE=Object.defineProperty,ME=Object.defineProperties,UE=Object.getOwnPropertyDescriptors,LE=Object.getOwnPropertySymbols,DE=Object.prototype.hasOwnProperty,jE=Object.prototype.propertyIsEnumerable,HE=(e,t,r)=>t in e?BE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,zE=(e,t)=>{for(var r in t||(t={}))DE.call(t,r)&&HE(e,r,t[r]);if(LE)for(var r of LE(t))jE.call(t,r)&&HE(e,r,t[r]);return e},FE=(e,t)=>ME(e,UE(t));function VE(e){const t=[];return e.forEach((e=>{const[r,n]=e.split(":");t.push(`${r}:${n}`)})),t}function ZE(e){const t=[];return Object.values(e).forEach((e=>{t.push(...VE(e.accounts))})),[...new Set(t)]}function qE(e){return e.includes(":")}function WE(e){return qE(e)?e.split(":")[0]:e}function KE(e){var t,r,n;const i={};if(!tA(e))return i;for(const[s,o]of Object.entries(e)){const e=qE(s)?[s]:o.chains,a=o.methods||[],c=o.events||[],l=WE(s);i[l]=FE(zE({},i[l]),{chains:nm(e,null==(t=i[l])?void 0:t.chains),methods:nm(a,null==(r=i[l])?void 0:r.methods),events:nm(c,null==(n=i[l])?void 0:n.events)})}return i}function GE(e,t){const r=function(e){const t={};return e?.forEach((e=>{var r;const[n,i]=e.split(":");t[n]||(t[n]={accounts:[],chains:[],events:[],methods:[]}),t[n].accounts.push(e),null==(r=t[n].chains)||r.push(`${n}:${i}`)})),t}(t=t.map((e=>e.replace("did:pkh:",""))));for(const[t,n]of Object.entries(r))n.methods?n.methods=nm(n.methods,e):n.methods=e,n.events=["chainChanged","accountsChanged"];return r}const YE={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},JE={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function XE(e,t){const{message:r,code:n}=JE[e];return{message:t?`${r} ${t}`:r,code:n}}function QE(e,t){const{message:r,code:n}=YE[e];return{message:t?`${r} ${t}`:r,code:n}}function eA(e,t){return!!Array.isArray(e)&&(!(typeof t<"u"&&e.length)||e.every(t))}function tA(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function rA(e){return typeof e>"u"}function nA(e,t){return!(!t||!rA(e))||"string"==typeof e&&!!e.trim().length}function iA(e,t){return!(!t||!rA(e))||"number"==typeof e&&!isNaN(e)}function sA(e){return!(!nA(e,!1)||!e.includes(":"))&&2===e.split(":").length}function oA(e){let t=!0;return eA(e)?e.length&&(t=e.every((e=>nA(e,!1)))):t=!1,t}function aA(e,t,r){let n=null;return Object.entries(e).forEach((([e,i])=>{if(n)return;const s=function(e,t,r){let n=null;return eA(t)&&t.length?t.forEach((e=>{n||sA(e)||(n=QE("UNSUPPORTED_CHAINS",`${r}, chain ${e} should be a string and conform to "namespace:chainId" format`))})):sA(e)||(n=QE("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}(e,xg(e,i),`${t} ${r}`);s&&(n=s)})),n}function cA(e,t){let r=null;return eA(e)?e.forEach((e=>{r||function(e){if(nA(e,!1)&&e.includes(":")){const t=e.split(":");if(3===t.length){const e=t[0]+":"+t[1];return!!t[2]&&sA(e)}}return!1}(e)||(r=QE("UNSUPPORTED_ACCOUNTS",`${t}, account ${e} should be a string and conform to "namespace:chainId:address" format`))})):r=QE("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function lA(e,t){let r=null;return Object.values(e).forEach((e=>{if(r)return;const n=function(e,t){let r=null;return oA(e?.methods)?oA(e?.events)||(r=QE("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):r=QE("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),r}(e,`${t}, namespace`);n&&(r=n)})),r}function dA(e,t){let r=null;if(e&&tA(e)){const n=lA(e,t);n&&(r=n);const i=function(e,t){let r=null;return Object.values(e).forEach((e=>{if(r)return;const n=cA(e?.accounts,`${t} namespace`);n&&(r=n)})),r}(e,t);i&&(r=i)}else r=XE("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function uA(e){return nA(e.protocol,!0)}function hA(e){return typeof e<"u"&&null!==typeof e}function pA(e,t){return!(!sA(t)||!ZE(e).includes(t))}function fA(e,t,r){return!!nA(r,!1)&&function(e,t){const r=[];return Object.values(e).forEach((e=>{VE(e.accounts).includes(t)&&r.push(...e.methods)})),r}(e,t).includes(r)}function gA(e,t,r){return!!nA(r,!1)&&function(e,t){const r=[];return Object.values(e).forEach((e=>{VE(e.accounts).includes(t)&&r.push(...e.events)})),r}(e,t).includes(r)}function mA(e,t,r){let n=null;const i=function(e){const t={};return Object.keys(e).forEach((r=>{var n;r.includes(":")?t[r]=e[r]:null==(n=e[r].chains)||n.forEach((n=>{t[n]={methods:e[r].methods,events:e[r].events}}))})),t}(e),s=function(e){const t={};return Object.keys(e).forEach((r=>{if(r.includes(":"))t[r]=e[r];else{const n=VE(e[r].accounts);n?.forEach((n=>{t[n]={accounts:e[r].accounts.filter((e=>e.includes(`${n}:`))),methods:e[r].methods,events:e[r].events}}))}})),t}(t),o=Object.keys(i),a=Object.keys(s),c=yA(Object.keys(e)),l=yA(Object.keys(t)),d=c.filter((e=>!l.includes(e)));return d.length&&(n=XE("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${d.toString()}\n      Received: ${Object.keys(t).toString()}`)),Wg(o,a)||(n=XE("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.\n      Required: ${o.toString()}\n      Approved: ${a.toString()}`)),Object.keys(t).forEach((e=>{if(!e.includes(":")||n)return;const i=VE(t[e].accounts);i.includes(e)||(n=XE("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${e}\n        Required: ${e}\n        Approved: ${i.toString()}`))})),o.forEach((e=>{n||(Wg(i[e].methods,s[e].methods)?Wg(i[e].events,s[e].events)||(n=XE("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${e}`)):n=XE("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${e}`))})),n}function yA(e){return[...new Set(e.map((e=>e.includes(":")?e.split(":")[0]:e)))]}function wA(){const e=Hg();return new Promise((t=>{switch(e){case Bg:t(jg()&&navigator?.onLine);break;case Rg:t(async function(){if(Dg()&&typeof global<"u"&&null!=global&&global.NetInfo){const e=await(null==global?void 0:global.NetInfo.fetch());return e?.isConnected}return!0}());break;default:t(!0)}}))}function bA(e){switch(Hg()){case Bg:!function(e){!Dg()&&jg()&&(window.addEventListener("online",(()=>e(!0))),window.addEventListener("offline",(()=>e(!1))))}(e);break;case Rg:!function(e){Dg()&&typeof global<"u"&&null!=global&&global.NetInfo&&global?.NetInfo.addEventListener((t=>e(t?.isConnected)))}(e)}}const vA={};class EA{static get(e){return vA[e]}static set(e,t){vA[e]=t}static delete(e){delete vA[e]}}function AA({publicKey:e,signature:t,payload:r}){var n;const i=xA(r.method),s=128|parseInt((null==(n=r.version)?void 0:n.toString())||"4"),o=function(e){const t=sc.decode(e)[0];return 42===t?0:60===t?2:1}(r.address),a="00"===r.era?new Uint8Array([0]):xA(r.era);if(1!==a.length&&2!==a.length)throw new Error("Invalid era length");const c=parseInt(r.nonce,16),l=new Uint8Array([255&c,c>>8&255]),d=BigInt(`0x${function(e){return e.startsWith("0x")?e.slice(2):e}(r.tip)}`),u=function(e){if(e<BigInt(1)<<BigInt(6))return new Uint8Array([Number(e<<BigInt(2))]);if(e<BigInt(1)<<BigInt(14)){const t=e<<BigInt(2)|BigInt(1);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255))])}if(e<BigInt(1)<<BigInt(30)){const t=e<<BigInt(2)|BigInt(2);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255)),Number(t>>BigInt(16)&BigInt(255)),Number(t>>BigInt(24)&BigInt(255))])}throw new Error("BigInt compact encoding not supported > 2^30")}(d),h=new Uint8Array([0,...e,o,...t,...a,...l,...u,...i]),p=function(e){if(e<64)return new Uint8Array([e<<2]);if(e<16384){const t=e<<2|1;return new Uint8Array([255&t,t>>8&255])}if(e<1<<30){const t=e<<2|2;return new Uint8Array([255&t,t>>8&255,t>>16&255,t>>24&255])}throw new Error("Compact encoding > 2^30 not supported")}(h.length+1);return new Uint8Array([...p,s,...h])}function xA(e){return new Uint8Array(e.replace(/^0x/,"").match(/.{1,2}/g).map((e=>parseInt(e,16))))}function CA(e){const t=Uint8Array.from(Buffer.from(e.signature,"hex")),r=function(e){const t=sc.decode(e);if(t.length<33)throw new Error("Too short to contain a public key");return t.slice(1,33)}(e.transaction.address),n=AA({publicKey:r,signature:t,payload:e.transaction});return function(e){const t=xA(e),r=ff.blake2b(t,void 0,32);return"0x"+Buffer.from(r).toString("hex")}(Buffer.from(n).toString("hex"))}function SA({logger:e,name:t}){const r="string"==typeof e?ug({opts:{level:e,name:t}}).logger:e;return r.level="string"==typeof e?e:e.level,r}class IA{}class _A extends IA{constructor(e){super()}}const kA=T.FIVE_SECONDS,PA="heartbeat_pulse";class TA extends _A{constructor(e){super(e),this.events=new i.exports.EventEmitter,this.interval=kA,this.interval=e?.interval||kA}static async init(e){const t=new TA(e);return await t.init(),t}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async initialize(){this.intervalRef=setInterval((()=>this.pulse()),T.toMiliseconds(this.interval))}pulse(){this.events.emit(PA)}}const OA=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,NA=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,RA=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function $A(e,t){if(!("__proto__"===e||"constructor"===e&&t&&"object"==typeof t&&"prototype"in t))return t;!function(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}(e)}function BA(e,t={}){if("string"!=typeof e)return e;if('"'===e[0]&&'"'===e[e.length-1]&&-1===e.indexOf("\\"))return e.slice(1,-1);const r=e.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!RA.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(OA.test(e)||NA.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,$A)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}function MA(e,...t){try{return function(e){return e&&"function"==typeof e.then?e:Promise.resolve(e)}(e(...t))}catch(e){return Promise.reject(e)}}function UA(e){if(function(e){const t=typeof e;return null===e||"object"!==t&&"function"!==t}(e))return String(e);if(function(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}(e)||Array.isArray(e))return JSON.stringify(e);if("function"==typeof e.toJSON)return UA(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const LA="base64:";function DA(e){return"string"==typeof e?e:LA+function(e){return globalThis.Buffer?Buffer.from(e).toString("base64"):globalThis.btoa(String.fromCodePoint(...e))}(e)}function jA(e){return"string"==typeof e&&e.startsWith(LA)?function(e){return globalThis.Buffer?Buffer.from(e,"base64"):Uint8Array.from(globalThis.atob(e),(e=>e.codePointAt(0)))}(e.slice(7)):e}function HA(e){return e&&e.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function zA(...e){return HA(e.join(":"))}function FA(e){return(e=HA(e))?e+":":""}const VA=()=>{const e=new Map;return{name:"memory",getInstance:()=>e,hasItem:t=>e.has(t),getItem:t=>e.get(t)??null,getItemRaw:t=>e.get(t)??null,setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys:()=>[...e.keys()],clear(){e.clear()},dispose(){e.clear()}}};function ZA(e={}){const t={mounts:{"":e.driver||VA()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=e=>{for(const r of t.mountpoints)if(e.startsWith(r))return{base:r,relativeKey:e.slice(r.length),driver:t.mounts[r]};return{base:"",relativeKey:e,driver:t.mounts[""]}},n=(e,r)=>t.mountpoints.filter((t=>t.startsWith(e)||r&&e.startsWith(t))).map((r=>({relativeBase:e.length>r.length?e.slice(r.length):void 0,mountpoint:r,driver:t.mounts[r]}))),i=(e,r)=>{if(t.watching){r=HA(r);for(const n of t.watchListeners)n(e,r)}},s=async()=>{if(t.watching){for(const e in t.unwatch)await t.unwatch[e]();t.unwatch={},t.watching=!1}},o=(e,t,n)=>{const i=new Map,s=e=>{let t=i.get(e.base);return t||(t={driver:e.driver,base:e.base,items:[]},i.set(e.base,t)),t};for(const n of e){const e="string"==typeof n,i=HA(e?n:n.key),o=e?void 0:n.value,a=e||!n.options?t:{...t,...n.options},c=r(i);s(c).items.push({key:i,value:o,relativeKey:c.relativeKey,options:a})}return Promise.all([...i.values()].map((e=>n(e)))).then((e=>e.flat()))},a={hasItem(e,t={}){e=HA(e);const{relativeKey:n,driver:i}=r(e);return MA(i.hasItem,n,t)},getItem(e,t={}){e=HA(e);const{relativeKey:n,driver:i}=r(e);return MA(i.getItem,n,t).then((e=>BA(e)))},getItems:(e,t={})=>o(e,t,(e=>e.driver.getItems?MA(e.driver.getItems,e.items.map((e=>({key:e.relativeKey,options:e.options}))),t).then((t=>t.map((t=>({key:zA(e.base,t.key),value:BA(t.value)}))))):Promise.all(e.items.map((t=>MA(e.driver.getItem,t.relativeKey,t.options).then((e=>({key:t.key,value:BA(e)})))))))),getItemRaw(e,t={}){e=HA(e);const{relativeKey:n,driver:i}=r(e);return i.getItemRaw?MA(i.getItemRaw,n,t):MA(i.getItem,n,t).then((e=>jA(e)))},async setItem(e,t,n={}){if(void 0===t)return a.removeItem(e);e=HA(e);const{relativeKey:s,driver:o}=r(e);o.setItem&&(await MA(o.setItem,s,UA(t),n),o.watch||i("update",e))},async setItems(e,t){await o(e,t,(async e=>{if(e.driver.setItems)return MA(e.driver.setItems,e.items.map((e=>({key:e.relativeKey,value:UA(e.value),options:e.options}))),t);e.driver.setItem&&await Promise.all(e.items.map((t=>MA(e.driver.setItem,t.relativeKey,UA(t.value),t.options))))}))},async setItemRaw(e,t,n={}){if(void 0===t)return a.removeItem(e,n);e=HA(e);const{relativeKey:s,driver:o}=r(e);if(o.setItemRaw)await MA(o.setItemRaw,s,t,n);else{if(!o.setItem)return;await MA(o.setItem,s,DA(t),n)}o.watch||i("update",e)},async removeItem(e,t={}){"boolean"==typeof t&&(t={removeMeta:t}),e=HA(e);const{relativeKey:n,driver:s}=r(e);s.removeItem&&(await MA(s.removeItem,n,t),(t.removeMeta||t.removeMata)&&await MA(s.removeItem,n+"$",t),s.watch||i("remove",e))},async getMeta(e,t={}){"boolean"==typeof t&&(t={nativeOnly:t}),e=HA(e);const{relativeKey:n,driver:i}=r(e),s=Object.create(null);if(i.getMeta&&Object.assign(s,await MA(i.getMeta,n,t)),!t.nativeOnly){const e=await MA(i.getItem,n+"$",t).then((e=>BA(e)));e&&"object"==typeof e&&("string"==typeof e.atime&&(e.atime=new Date(e.atime)),"string"==typeof e.mtime&&(e.mtime=new Date(e.mtime)),Object.assign(s,e))}return s},setMeta(e,t,r={}){return this.setItem(e+"$",t,r)},removeMeta(e,t={}){return this.removeItem(e+"$",t)},async getKeys(e,t={}){e=FA(e);const r=n(e,!0);let i=[];const s=[];let o=!0;for(const e of r){e.driver.flags?.maxDepth||(o=!1);const r=await MA(e.driver.getKeys,e.relativeBase,t);for(const t of r){const r=e.mountpoint+HA(t);i.some((e=>r.startsWith(e)))||s.push(r)}i=[e.mountpoint,...i.filter((t=>!t.startsWith(e.mountpoint)))]}const a=void 0!==t.maxDepth&&!o;return s.filter((r=>(!a||function(e,t){if(void 0===t)return!0;let r=0,n=e.indexOf(":");for(;n>-1;)r++,n=e.indexOf(":",n+1);return r<=t}(r,t.maxDepth))&&function(e,t){return t?e.startsWith(t)&&"$"!==e[e.length-1]:"$"!==e[e.length-1]}(r,e)))},async clear(e,t={}){e=FA(e),await Promise.all(n(e,!1).map((async e=>{if(e.driver.clear)return MA(e.driver.clear,e.relativeBase,t);if(e.driver.removeItem){const r=await e.driver.getKeys(e.relativeBase||"",t);return Promise.all(r.map((r=>e.driver.removeItem(r,t))))}})))},async dispose(){await Promise.all(Object.values(t.mounts).map((e=>WA(e))))},watch:async e=>(await(async()=>{if(!t.watching){t.watching=!0;for(const e in t.mounts)t.unwatch[e]=await qA(t.mounts[e],i,e)}})(),t.watchListeners.push(e),async()=>{t.watchListeners=t.watchListeners.filter((t=>t!==e)),0===t.watchListeners.length&&await s()}),async unwatch(){t.watchListeners=[],await s()},mount(e,r){if((e=FA(e))&&t.mounts[e])throw new Error(`already mounted at ${e}`);return e&&(t.mountpoints.push(e),t.mountpoints.sort(((e,t)=>t.length-e.length))),t.mounts[e]=r,t.watching&&Promise.resolve(qA(r,i,e)).then((r=>{t.unwatch[e]=r})).catch(console.error),a},async unmount(e,r=!0){(e=FA(e))&&t.mounts[e]&&(t.watching&&e in t.unwatch&&(t.unwatch[e]?.(),delete t.unwatch[e]),r&&await WA(t.mounts[e]),t.mountpoints=t.mountpoints.filter((t=>t!==e)),delete t.mounts[e])},getMount(e=""){e=HA(e)+":";const t=r(e);return{driver:t.driver,base:t.base}},getMounts:(e="",t={})=>(e=HA(e),n(e,t.parents).map((e=>({driver:e.driver,base:e.mountpoint})))),keys:(e,t={})=>a.getKeys(e,t),get:(e,t={})=>a.getItem(e,t),set:(e,t,r={})=>a.setItem(e,t,r),has:(e,t={})=>a.hasItem(e,t),del:(e,t={})=>a.removeItem(e,t),remove:(e,t={})=>a.removeItem(e,t)};return a}function qA(e,t,r){return e.watch?e.watch(((e,n)=>t(e,r+n))):()=>{}}async function WA(e){"function"==typeof e.dispose&&await MA(e.dispose)}function KA(e){return new Promise(((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)}))}function GA(e,t){const r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);const n=KA(r);return(e,r)=>n.then((n=>r(n.transaction(t,e).objectStore(t))))}let YA;function JA(){return YA||(YA=GA("keyval-store","keyval")),YA}function XA(e,t=JA()){return t("readonly",(t=>KA(t.get(e))))}function QA(e=JA()){return e("readonly",(e=>{if(e.getAllKeys)return KA(e.getAllKeys());const t=[];return function(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},KA(e.transaction)}(e,(e=>t.push(e.key))).then((()=>t))}))}var ex=(e={})=>{const t=e.base&&e.base.length>0?`${e.base}:`:"",r=e=>t+e;let n;return e.dbName&&e.storeName&&(n=GA(e.dbName,e.storeName)),{name:"idb-keyval",options:e,hasItem:async e=>!(typeof await XA(r(e),n)>"u"),getItem:async e=>await XA(r(e),n)??null,setItem:(e,t)=>function(e,t,r=JA()){return r("readwrite",(r=>(r.put(t,e),KA(r.transaction))))}(r(e),t,n),removeItem:e=>function(e,t=JA()){return t("readwrite",(t=>(t.delete(e),KA(t.transaction))))}(r(e),n),getKeys:()=>QA(n),clear:()=>function(e=JA()){return e("readwrite",(e=>(e.clear(),KA(e.transaction))))}(n)}};class tx{constructor(){this.indexedDb=ZA({driver:ex({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map((e=>[e.key,e.value]))}async getItem(e){const t=await this.indexedDb.getItem(e);if(null!==t)return t}async setItem(e,t){await this.indexedDb.setItem(e,Nc(t))}async removeItem(e){await this.indexedDb.removeItem(e)}}var rx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nx={exports:{}};function ix(e){var t;return[e[0],Oc(null!=(t=e[1])?t:"")]}!function(){let e;function t(){}e=t,e.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},e.prototype.setItem=function(e,t){this[e]=String(t)},e.prototype.removeItem=function(e){delete this[e]},e.prototype.clear=function(){const e=this;Object.keys(e).forEach((function(t){e[t]=void 0,delete e[t]}))},e.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},e.prototype.__defineGetter__("length",(function(){return Object.keys(this).length})),typeof rx<"u"&&rx.localStorage?nx.exports=rx.localStorage:typeof window<"u"&&window.localStorage?nx.exports=window.localStorage:nx.exports=new t}();class sx{constructor(){this.localStorage=nx.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(ix)}async getItem(e){const t=this.localStorage.getItem(e);if(null!==t)return Oc(t)}async setItem(e,t){this.localStorage.setItem(e,Nc(t))}async removeItem(e){this.localStorage.removeItem(e)}}const ox=async(e,t)=>{t.length&&t.forEach((async t=>{await e.removeItem(t)}))};class ax{constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};const e=new sx;this.storage=e;try{(async(e,t,r)=>{const n="wc_storage_version",i=await t.getItem(n);if(i&&i>=1)return void r(t);const s=await e.getKeys();if(!s.length)return void r(t);const o=[];for(;s.length;){const r=s.shift();if(!r)continue;const n=r.toLowerCase();if(n.includes("wc@")||n.includes("walletconnect")||n.includes("wc_")||n.includes("wallet_connect")){const n=await e.getItem(r);await t.setItem(r,n),o.push(r)}}await t.setItem(n,1),r(t),ox(e,o)})(e,new tx,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise((e=>{const t=setInterval((()=>{this.initialized&&(clearInterval(t),e())}),20)}))}}var cx=Object.defineProperty,lx=(e,t,r)=>((e,t,r)=>t in e?cx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class dx extends IA{constructor(e){super(),this.opts=e,lx(this,"protocol","wc"),lx(this,"version",2)}}var ux=Object.defineProperty,hx=(e,t,r)=>((e,t,r)=>t in e?ux(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class px extends IA{constructor(e,t){super(),this.core=e,this.logger=t,hx(this,"records",new Map)}}class fx{constructor(e,t){this.logger=e,this.core=t}}class gx extends IA{constructor(e,t){super(),this.relayer=e,this.logger=t}}class mx extends IA{constructor(e){super()}}class yx{constructor(e,t,r,n){this.core=e,this.logger=t,this.name=r}}class wx extends IA{constructor(e,t){super(),this.relayer=e,this.logger=t}}class bx extends IA{constructor(e,t){super(),this.core=e,this.logger=t}}class vx{constructor(e,t,r){this.core=e,this.logger=t,this.store=r}}class Ex{constructor(e,t){this.projectId=e,this.logger=t}}class Ax{constructor(e,t,r){this.core=e,this.logger=t,this.telemetryEnabled=r}}var xx=Object.defineProperty,Cx=(e,t,r)=>((e,t,r)=>t in e?xx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class Sx{constructor(e){this.opts=e,Cx(this,"protocol","wc"),Cx(this,"version",2)}}class Ix{constructor(e){this.client=e}}const _x="PARSE_ERROR",kx="INVALID_REQUEST",Px="METHOD_NOT_FOUND",Tx="INVALID_PARAMS",Ox="INTERNAL_ERROR",Nx="SERVER_ERROR",Rx=[-32700,-32600,-32601,-32602,-32603],$x={[_x]:{code:-32700,message:"Parse error"},[kx]:{code:-32600,message:"Invalid Request"},[Px]:{code:-32601,message:"Method not found"},[Tx]:{code:-32602,message:"Invalid params"},[Ox]:{code:-32603,message:"Internal error"},[Nx]:{code:-32e3,message:"Server error"}},Bx=Nx;function Mx(e){return Object.keys($x).includes(e)?$x[e]:$x[Bx]}function Ux(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${t}`):e}var Lx={},Dx=function(e,t){return Dx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Dx(e,t)};
/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var jx=function(){return jx=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},jx.apply(this,arguments)};function Hx(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function zx(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function Fx(e){return this instanceof Fx?(this.v=e,this):new Fx(e)}var Vx,Zx=Object.freeze({__proto__:null,__extends:function(e,t){function r(){this.constructor=e}Dx(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},get __assign(){return jx},__rest:function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},__decorate:function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},__param:function(e,t){return function(r,n){t(r,n,e)}},__metadata:function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter:function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(o,a)}c((n=n.apply(e,t||[])).next())}))},__generator:function(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},__createBinding:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},__exportStar:function(e,t){for(var r in e)"default"!==r&&!t.hasOwnProperty(r)&&(t[r]=e[r])},__values:Hx,__read:zx,__spread:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(zx(arguments[t]));return e},__spreadArrays:function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n},__await:Fx,__asyncGenerator:function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){s.push([e,t,r,n])>1||a(e,t)}))})}function a(e,t){try{!function(e){e.value instanceof Fx?Promise.resolve(e.value.v).then(c,l):d(s[0][2],e)}(i[e](t))}catch(e){d(s[0][3],e)}}function c(e){a("next",e)}function l(e){a("throw",e)}function d(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}},__asyncDelegator:function(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:Fx(e[n](t)),done:"return"===n}:i?i(t):t}:i}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=Hx(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},__importDefault:function(e){return e&&e.__esModule?e:{default:e}},__classPrivateFieldGet:function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet:function(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}}),qx=r(Zx),Wx={};var Kx,Gx={};function Yx(e=3){return Date.now()*Math.pow(10,e)+Math.floor(Math.random()*Math.pow(10,e))}function Jx(e=6){return BigInt(Yx(e))}function Xx(e,t,r){return{id:r||Yx(),jsonrpc:"2.0",method:e,params:t}}function Qx(e,t){return{id:e,jsonrpc:"2.0",result:t}}function eC(e,t,r){return{id:e,jsonrpc:"2.0",error:tC(t,r)}}function tC(e,t){return typeof e>"u"?Mx(Ox):("string"==typeof e&&(e=Object.assign(Object.assign({},Mx(Nx)),{message:e})),typeof t<"u"&&(e.data=t),function(e){return Rx.includes(e)}(e.code)&&(e=function(e){const t=Object.values($x).find((t=>t.code===e));return t||$x[Bx]}(e.code)),e)}!function(e){Object.defineProperty(e,"__esModule",{value:!0});const r=qx;r.__exportStar(function(){if(Vx)return Wx;function e(){return t?.crypto||t?.msCrypto||{}}function r(){const t=e();return t.subtle||t.webkitSubtle}return Vx=1,Object.defineProperty(Wx,"__esModule",{value:!0}),Wx.isBrowserCryptoAvailable=Wx.getSubtleCrypto=Wx.getBrowerCrypto=void 0,Wx.getBrowerCrypto=e,Wx.getSubtleCrypto=r,Wx.isBrowserCryptoAvailable=function(){return!!e()&&!!r()},Wx}(),e),r.__exportStar(function(){if(Kx)return Gx;function e(){return typeof document>"u"&&typeof navigator<"u"&&"ReactNative"===navigator.product}function t(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}return Kx=1,Object.defineProperty(Gx,"__esModule",{value:!0}),Gx.isBrowser=Gx.isNode=Gx.isReactNative=void 0,Gx.isReactNative=e,Gx.isNode=t,Gx.isBrowser=function(){return!e()&&!t()},Gx}(),e)}(Lx);class rC{}class nC extends rC{constructor(){super()}}class iC extends nC{constructor(e){super()}}function sC(e,t){const r=function(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return!(typeof r>"u")&&new RegExp(t).test(r)}function oC(e){return sC(e,"^https?:")}function aC(e){return sC(e,"^wss?:")}function cC(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}function lC(e){return"object"==typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function dC(e){return lC(e)&&"method"in e}function uC(e){return lC(e)&&(hC(e)||pC(e))}function hC(e){return"result"in e}function pC(e){return"error"in e}class fC extends iC{constructor(e){super(e),this.events=new i.exports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(Xx(e.method,e.params||[],e.id||Jx().toString()),t)}async requestStrict(e,t){return new Promise((async(r,n)=>{if(!this.connection.connected)try{await this.open()}catch(e){n(e)}this.events.on(`${e.id}`,(e=>{pC(e)?n(e.error):r(e.result)}));try{await this.connection.send(e,t)}catch(e){n(e)}}))}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),uC(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof e&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",(e=>this.onPayload(e))),this.connection.on("close",(e=>this.onClose(e))),this.connection.on("error",(e=>this.events.emit("error",e))),this.connection.on("register_error",(e=>this.onClose())),this.hasRegisteredEventListeners=!0)}}const gC=e=>e.split("?")[0],mC=typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws");class yC{constructor(e){if(this.url=e,this.events=new i.exports.EventEmitter,this.registering=!1,!aC(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise(((e,t)=>{typeof this.socket>"u"?t(new Error("Connection already closed")):(this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close())}))}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Nc(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!aC(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise(((e,t)=>{this.events.once("register_error",(e=>{this.resetMaxListeners(),t(e)})),this.events.once("open",(()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return t(new Error("WebSocket connection is missing or invalid"));e(this.socket)}))}))}return this.url=e,this.registering=!0,new Promise(((t,r)=>{const n=Lx.isReactNative()?void 0:{rejectUnauthorized:!cC(e)},i=new mC(e,[],n);typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u"?i.onerror=e=>{const t=e;r(this.emitError(t.error))}:i.on("error",(e=>{r(this.emitError(e))})),i.onopen=()=>{this.onOpen(i),t(i)}}))}onOpen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t="string"==typeof e.data?Oc(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const r=this.parseError(t),n=eC(e,r.message||r.toString());this.events.emit("payload",n)}parseError(e,t=this.url){return Ux(e,gC(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){const t=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${gC(this.url)}`));return this.events.emit("register_error",t),t}}var wC=Object.defineProperty,bC=Object.getOwnPropertySymbols,vC=Object.prototype.hasOwnProperty,EC=Object.prototype.propertyIsEnumerable,AC=(e,t,r)=>t in e?wC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,xC=(e,t)=>{for(var r in t||(t={}))vC.call(t,r)&&AC(e,r,t[r]);if(bC)for(var r of bC(t))EC.call(t,r)&&AC(e,r,t[r]);return e};const CC="core",SC=`wc@2:${CC}:`,IC="error",_C={database:":memory:"},kC="client_ed25519_seed",PC=T.ONE_DAY,TC=T.SIX_HOURS,OC="wss://relay.walletconnect.org",NC="relayer_message",RC="relayer_message_ack",$C="relayer_connect",BC="relayer_disconnect",MC="relayer_error",UC="relayer_connection_stalled",LC="relayer_publish",DC="payload",jC="connect",HC="disconnect",zC="error",FC="2.23.0",VC={link_mode:"link_mode",relay:"relay"},ZC="inbound",qC="outbound",WC="WALLETCONNECT_LINK_MODE_APPS",KC="subscription_created",GC="subscription_deleted",YC="subscription_sync",JC="subscription_resubscribed",XC={wc_pairingDelete:{req:{ttl:T.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:T.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:T.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:T.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:T.ONE_DAY,prompt:!1,tag:0},res:{ttl:T.ONE_DAY,prompt:!1,tag:0}}},QC="pairing_create",eS="pairing_expire",tS="pairing_delete",rS="pairing_ping",nS="history_created",iS="history_updated",sS="history_deleted",oS="history_sync",aS="expirer_created",cS="expirer_deleted",lS="expirer_expired",dS="expirer_sync",uS="https://verify.walletconnect.org",hS=uS,pS=`${hS}/v3`,fS=["https://verify.walletconnect.com",uS],gS="pairing_started",mS="pairing_uri_validation_success",yS="pairing_uri_not_expired",wS="store_new_pairing",bS="subscribing_pairing_topic",vS="subscribe_pairing_topic_success",ES="existing_pairing",AS="pairing_not_expired",xS="emit_inactive_pairing",CS="emit_session_proposal",SS="no_internet_connection",IS="malformed_pairing_uri",_S="active_pairing_already_exists",kS="subscribe_pairing_topic_failure",PS="pairing_expired",TS="proposal_listener_not_found",OS="session_approve_started",NS="session_namespaces_validation_success",RS="subscribing_session_topic",$S="subscribe_session_topic_success",BS="session_approve_publish_success",MS="store_session",US="session_request_response_started",LS="session_request_response_validation_success",DS="session_request_response_publish_started",jS="no_internet_connection",HS="proposal_expired",zS="subscribe_session_topic_failure",FS="session_approve_namespace_validation_failure",VS="proposal_not_found",ZS="session_request_response_validation_failure",qS="session_request_response_publish_failure",WS="authenticated_session_approve_started",KS="create_authenticated_session_topic",GS="cacaos_verified",YS="store_authenticated_session",JS="subscribing_authenticated_session_topic",XS="subscribe_authenticated_session_topic_success",QS="publishing_authenticated_session_approve",eI="no_internet_connection",tI="invalid_cacao",rI="subscribe_authenticated_session_topic_failure",nI="authenticated_session_approve_publish_failure",iI="authenticated_session_pending_request_not_found";var sI=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==r[o])throw new TypeError(s+" is ambiguous");r[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function u(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var d=r[e.charCodeAt(t)];if(255===d)return;for(var u=0,h=s-1;(0!==d||u<i)&&-1!==h;h--,u++)d+=a*o[h]>>>0,o[h]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");i=u,t++}if(" "!==e[t]){for(var p=s-i;p!==s&&0===o[p];)p++;for(var f=new Uint8Array(n+(s-p)),g=n;p!==s;)f[g++]=o[p++];return f}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,s=t.length;i!==s&&0===t[i];)i++,r++;for(var o=(s-i)*d+1>>>0,l=new Uint8Array(o);i!==s;){for(var u=t[i],h=0,p=o-1;(0!==u||h<n)&&-1!==p;p--,h++)u+=256*l[p]>>>0,l[p]=u%a>>>0,u=u/a>>>0;if(0!==u)throw new Error("Non-zero carry");n=h,i++}for(var f=o-n;f!==o&&0===l[f];)f++;for(var g=c.repeat(r);f<o;++f)g+=e.charAt(l[f]);return g},decodeUnsafe:u,decode:function(e){var r=u(e);if(r)return r;throw new Error(`Non-${t} character`)}}},oI=sI;const aI=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class cI{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class lI{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return uI(this,e)}}class dI{constructor(e){this.decoders=e}or(e){return uI(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const uI=(e,t)=>new dI(xC(xC({},e.decoders||{[e.prefix]:e}),t.decoders||{[t.prefix]:t}));class hI{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new cI(e,t,r),this.decoder=new lI(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const pI=({name:e,prefix:t,encode:r,decode:n})=>new hI(e,t,r,n),fI=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=oI(r,t);return pI({prefix:e,name:t,encode:n,decode:e=>aI(i(e))})},gI=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>pI({prefix:t,name:e,encode:e=>((e,t,r)=>{const n="="===t[t.length-1],i=(1<<r)-1;let s="",o=0,a=0;for(let n=0;n<e.length;++n)for(a=a<<8|e[n],o+=8;o>r;)o-=r,s+=t[i&a>>o];if(o&&(s+=t[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s})(e,n,r),decode:t=>((e,t,r,n)=>{const i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let t=0;t<s;++t){const s=i[e[t]];if(void 0===s)throw new SyntaxError(`Non-${n} character`);c=c<<r|s,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o})(t,n,r,e)}),mI=pI({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)});var yI=Object.freeze({__proto__:null,identity:mI});const wI=gI({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var bI=Object.freeze({__proto__:null,base2:wI});const vI=gI({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var EI=Object.freeze({__proto__:null,base8:vI});const AI=fI({prefix:"9",name:"base10",alphabet:"0123456789"});var xI=Object.freeze({__proto__:null,base10:AI});const CI=gI({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),SI=gI({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var II=Object.freeze({__proto__:null,base16:CI,base16upper:SI});const _I=gI({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),kI=gI({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),PI=gI({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),TI=gI({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),OI=gI({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),NI=gI({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),RI=gI({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),$I=gI({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),BI=gI({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var MI=Object.freeze({__proto__:null,base32:_I,base32upper:kI,base32pad:PI,base32padupper:TI,base32hex:OI,base32hexupper:NI,base32hexpad:RI,base32hexpadupper:$I,base32z:BI});const UI=fI({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),LI=fI({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var DI=Object.freeze({__proto__:null,base36:UI,base36upper:LI});const jI=fI({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),HI=fI({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var zI=Object.freeze({__proto__:null,base58btc:jI,base58flickr:HI});const FI=gI({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),VI=gI({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ZI=gI({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),qI=gI({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var WI=Object.freeze({__proto__:null,base64:FI,base64pad:VI,base64url:ZI,base64urlpad:qI});const KI=Array.from(""),GI=KI.reduce(((e,t,r)=>(e[r]=t,e)),[]),YI=KI.reduce(((e,t,r)=>(e[t.codePointAt(0)]=r,e)),[]);const JI=pI({prefix:"",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=GI[t]),"")},decode:function(e){const t=[];for(const r of e){const e=YI[r.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}});var XI=Object.freeze({__proto__:null,base256emoji:JI}),QI=function e(t,r,n){r=r||[];for(var i=n=n||0;t>=r_;)r[n++]=255&t|e_,t/=128;for(;t&t_;)r[n++]=255&t|e_,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r},e_=128,t_=-128,r_=Math.pow(2,31);var n_=function e(t,r){var n,i=0,s=0,o=r=r||0,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");n=t[o++],i+=s<28?(n&s_)<<s:(n&s_)*Math.pow(2,s),s+=7}while(n>=i_);return e.bytes=o-r,i},i_=128,s_=127;var o_=Math.pow(2,7),a_=Math.pow(2,14),c_=Math.pow(2,21),l_=Math.pow(2,28),d_=Math.pow(2,35),u_=Math.pow(2,42),h_=Math.pow(2,49),p_=Math.pow(2,56),f_=Math.pow(2,63),g_={encode:QI,decode:n_,encodingLength:function(e){return e<o_?1:e<a_?2:e<c_?3:e<l_?4:e<d_?5:e<u_?6:e<h_?7:e<p_?8:e<f_?9:10}},m_=g_;const y_=(e,t,r=0)=>(m_.encode(e,t,r),t),w_=e=>m_.encodingLength(e),b_=(e,t)=>{const r=t.byteLength,n=w_(e),i=n+w_(r),s=new Uint8Array(i+r);return y_(e,s,0),y_(r,s,n),s.set(t,i),new v_(e,r,t,s)};class v_{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}const E_=({name:e,code:t,encode:r})=>new A_(e,t,r);class A_{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?b_(this.code,t):t.then((e=>b_(this.code,e)))}throw Error("Unknown type, must be binary type")}}const x_=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),C_=E_({name:"sha2-256",code:18,encode:x_("SHA-256")}),S_=E_({name:"sha2-512",code:19,encode:x_("SHA-512")});var I_=Object.freeze({__proto__:null,sha256:C_,sha512:S_});const __=aI;var k_=Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:__,digest:e=>b_(0,__(e))}});new TextEncoder,new TextDecoder;const P_=xC(xC(xC(xC(xC(xC(xC(xC(xC(xC({},yI),bI),EI),xI),II),MI),DI),zI),WI),XI);function T_(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function O_(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}xC(xC({},I_),k_);const N_=O_("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),R_=O_("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{const t=function(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?T_(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),$_=xC({utf8:N_,"utf-8":N_,hex:P_.base16,latin1:R_,ascii:R_,binary:R_},P_);var B_=Object.defineProperty,M_=(e,t,r)=>((e,t,r)=>t in e?B_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class U_{constructor(e,t){this.core=e,this.logger=t,M_(this,"keychain",new Map),M_(this,"name","keychain"),M_(this,"version","0.3"),M_(this,"initialized",!1),M_(this,"storagePrefix",SC),M_(this,"init",(async()=>{if(!this.initialized){const e=await this.getKeyChain();typeof e<"u"&&(this.keychain=e),this.initialized=!0}})),M_(this,"has",(e=>(this.isInitialized(),this.keychain.has(e)))),M_(this,"set",(async(e,t)=>{this.isInitialized(),this.keychain.set(e,t),await this.persist()})),M_(this,"get",(e=>{this.isInitialized();const t=this.keychain.get(e);if(typeof t>"u"){const{message:t}=XE("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(t)}return t})),M_(this,"del",(async e=>{this.isInitialized(),this.keychain.delete(e),await this.persist()})),this.core=e,this.logger=dg(t,this.name)}get context(){return lg(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,Kg(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Gg(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=XE("NOT_INITIALIZED",this.name);throw new Error(e)}}}var L_=Object.defineProperty,D_=(e,t,r)=>((e,t,r)=>t in e?L_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class j_{constructor(e,t,r){this.core=e,this.logger=t,D_(this,"name","crypto"),D_(this,"keychain"),D_(this,"randomSessionIdentifier",aE()),D_(this,"initialized",!1),D_(this,"clientId"),D_(this,"init",(async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)})),D_(this,"hasKeys",(e=>(this.isInitialized(),this.keychain.has(e)))),D_(this,"getClientId",(async()=>{if(this.isInitialized(),this.clientId)return this.clientId;const e=Ju(eh(await this.getClientSeed()).publicKey);return this.clientId=e,e})),D_(this,"generateKeyPair",(()=>{this.isInitialized();const e=function(){const e=kv.utils.randomPrivateKey(),t=kv.getPublicKey(e);return{privateKey:Rp(e,nE),publicKey:Rp(t,nE)}}();return this.setPrivateKey(e.publicKey,e.privateKey)})),D_(this,"signJWT",(async e=>{this.isInitialized();const t=eh(await this.getClientSeed()),r=this.randomSessionIdentifier;return await th(r,e,PC,t)})),D_(this,"generateSharedKey",((e,t,r)=>{this.isInitialized();const n=function(e,t){const r=kv.getSharedSecret(Np(e,nE),Np(t,nE));return Rp(hb(pb,r,void 0,void 0,32),nE)}(this.getPrivateKey(e),t);return this.setSymKey(n,r)})),D_(this,"setSymKey",(async(e,t)=>{this.isInitialized();const r=t||cE(e);return await this.keychain.set(r,e),r})),D_(this,"deleteKeyPair",(async e=>{this.isInitialized(),await this.keychain.del(e)})),D_(this,"deleteSymKey",(async e=>{this.isInitialized(),await this.keychain.del(e)})),D_(this,"encode",(async(e,t,r)=>{this.isInitialized();const n=mE(r),i=Nc(t);if(wE(n))return function(e,t){const r=dE(2),n=oy(12),i=fE({type:r,sealed:Np(e,oE),iv:n});return t===sE?hE(i):i}(i,r?.encoding);if(yE(n)){const t=n.senderPublicKey,r=n.receiverPublicKey;e=await this.generateSharedKey(t,r)}const s=this.getSymKey(e),{type:o,senderPublicKey:a}=n;return function(e){const t=dE(typeof e.type<"u"?e.type:0);if(1===uE(t)&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof e.senderPublicKey<"u"?Np(e.senderPublicKey,nE):void 0,n=typeof e.iv<"u"?Np(e.iv,nE):oy(12),i=Np(e.symKey,nE),s=fE({type:t,sealed:ab(i,n).encrypt(Np(e.message,oE)),iv:n,senderPublicKey:r});return e.encoding===sE?hE(s):s}({type:o,symKey:s,message:i,senderPublicKey:a,encoding:r?.encoding})})),D_(this,"decode",(async(e,t,r)=>{this.isInitialized();const n=function(e,t){const r=gE({encoded:e,encoding:t?.encoding});return mE({type:uE(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Rp(r.senderPublicKey,nE):void 0,receiverPublicKey:t?.receiverPublicKey})}(t,r);if(wE(n)){const e=function(e,t){const{sealed:r}=gE({encoded:e,encoding:t});return Rp(r,oE)}(t,r?.encoding);return Oc(e)}if(yE(n)){const t=n.receiverPublicKey,r=n.senderPublicKey;e=await this.generateSharedKey(t,r)}try{const n=function(e){const t=Np(e.symKey,nE),{sealed:r,iv:n}=gE({encoded:e.encoded,encoding:e.encoding}),i=ab(t,n).decrypt(r);if(null===i)throw new Error("Failed to decrypt");return Rp(i,oE)}({symKey:this.getSymKey(e),encoded:t,encoding:r?.encoding});return Oc(n)}catch(t){this.logger.error(`Failed to decode message from topic: '${e}', clientId: '${await this.getClientId()}'`),this.logger.error(t)}})),D_(this,"getPayloadType",((e,t=iE)=>uE(gE({encoded:e,encoding:t}).type))),D_(this,"getPayloadSenderPublicKey",((e,t=iE)=>{const r=gE({encoded:e,encoding:t});return r.senderPublicKey?Rp(r.senderPublicKey,nE):void 0})),this.core=e,this.logger=dg(t,this.name),this.keychain=r||new U_(this.core,this.logger)}get context(){return lg(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(kC)}catch{e=aE(),await this.keychain.set(kC,e)}return function(e,t="utf8"){const r=$_[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${e}`):T_(globalThis.Buffer.from(e,"utf-8"))}(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=XE("NOT_INITIALIZED",this.name);throw new Error(e)}}}var H_=Object.defineProperty,z_=Object.defineProperties,F_=Object.getOwnPropertyDescriptors,V_=Object.getOwnPropertySymbols,Z_=Object.prototype.hasOwnProperty,q_=Object.prototype.propertyIsEnumerable,W_=(e,t,r)=>t in e?H_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,K_=(e,t,r)=>W_(e,"symbol"!=typeof t?t+"":t,r);class G_ extends fx{constructor(e,t){super(e,t),this.logger=e,this.core=t,K_(this,"messages",new Map),K_(this,"messagesWithoutClientAck",new Map),K_(this,"name","messages"),K_(this,"version","0.3"),K_(this,"initialized",!1),K_(this,"storagePrefix",SC),K_(this,"init",(async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const e=await this.getRelayerMessages();typeof e<"u"&&(this.messages=e);const t=await this.getRelayerMessagesWithoutClientAck();typeof t<"u"&&(this.messagesWithoutClientAck=t),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}finally{this.initialized=!0}}})),K_(this,"set",(async(e,t,r)=>{this.isInitialized();const n=lE(t);let i=this.messages.get(e);if(typeof i>"u"&&(i={}),typeof i[n]<"u")return n;if(i[n]=t,this.messages.set(e,i),r===ZC){const r=this.messagesWithoutClientAck.get(e)||{};this.messagesWithoutClientAck.set(e,((e,t)=>z_(e,F_(t)))(((e,t)=>{for(var r in t||(t={}))Z_.call(t,r)&&W_(e,r,t[r]);if(V_)for(var r of V_(t))q_.call(t,r)&&W_(e,r,t[r]);return e})({},r),{[n]:t}))}return await this.persist(),n})),K_(this,"get",(e=>{this.isInitialized();let t=this.messages.get(e);return typeof t>"u"&&(t={}),t})),K_(this,"getWithoutAck",(e=>{this.isInitialized();const t={};for(const r of e){const e=this.messagesWithoutClientAck.get(r)||{};t[r]=Object.values(e)}return t})),K_(this,"has",((e,t)=>{this.isInitialized();return typeof this.get(e)[lE(t)]<"u"})),K_(this,"ack",(async(e,t)=>{this.isInitialized();const r=this.messagesWithoutClientAck.get(e);if(typeof r>"u")return;delete r[lE(t)],0===Object.keys(r).length?this.messagesWithoutClientAck.delete(e):this.messagesWithoutClientAck.set(e,r),await this.persist()})),K_(this,"del",(async e=>{this.isInitialized(),this.messages.delete(e),this.messagesWithoutClientAck.delete(e),await this.persist()})),this.logger=dg(e,this.name),this.core=t}get context(){return lg(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,Kg(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,Kg(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Gg(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?Gg(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=XE("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Y_=Object.defineProperty,J_=Object.defineProperties,X_=Object.getOwnPropertyDescriptors,Q_=Object.getOwnPropertySymbols,ek=Object.prototype.hasOwnProperty,tk=Object.prototype.propertyIsEnumerable,rk=(e,t,r)=>t in e?Y_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nk=(e,t)=>{for(var r in t||(t={}))ek.call(t,r)&&rk(e,r,t[r]);if(Q_)for(var r of Q_(t))tk.call(t,r)&&rk(e,r,t[r]);return e},ik=(e,t)=>J_(e,X_(t)),sk=(e,t,r)=>rk(e,"symbol"!=typeof t?t+"":t,r);class ok extends gx{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,sk(this,"events",new i.exports.EventEmitter),sk(this,"name","publisher"),sk(this,"queue",new Map),sk(this,"publishTimeout",T.toMiliseconds(T.ONE_MINUTE)),sk(this,"initialPublishTimeout",T.toMiliseconds(15*T.ONE_SECOND)),sk(this,"needsTransportRestart",!1),sk(this,"publish",(async(e,t,r)=>{var n,i,s,o,a;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:r}});const c=r?.ttl||TC,l=r?.prompt||!1,d=r?.tag||0,u=r?.id||Jx().toString(),h=EE(vE().protocol),p={id:u,method:r?.publishMethod||h.publish,params:nk({topic:e,message:t,ttl:c,prompt:l,tag:d,attestation:r?.attestation},r?.tvf)},f=`Failed to publish payload, please try again. id:${u} tag:${d}`;try{rA(null==(n=p.params)?void 0:n.prompt)&&(null==(i=p.params)||delete i.prompt),rA(null==(s=p.params)?void 0:s.tag)&&(null==(o=p.params)||delete o.tag);const a=new Promise((async e=>{const t=({id:r})=>{var n;(null==(n=p.id)?void 0:n.toString())===r.toString()&&(this.removeRequestFromQueue(r),this.relayer.events.removeListener(LC,t),e())};this.relayer.events.on(LC,t);const n=Jg(new Promise(((e,t)=>{this.rpcPublish(p,r).then(e).catch((e=>{this.logger.warn(e,e?.message),t(e)}))})),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${u} tag:${d}`);try{await n,this.events.removeListener(LC,t)}catch(e){this.queue.set(u,{request:p,opts:r,attempt:1}),this.logger.warn(e,e?.message)}}));this.logger.trace({type:"method",method:"publish",params:{id:u,topic:e,message:t,opts:r}}),await Jg(a,this.publishTimeout,f)}catch(e){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(e),null!=(a=r?.internal)&&a.throwOnFailedPublish)throw e}finally{this.queue.delete(u)}})),sk(this,"publishCustom",(async e=>{var t,r,n,i,s;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:e});const{payload:o,opts:a={}}=e,{attestation:c,tvf:l,publishMethod:d,prompt:u,tag:h,ttl:p=T.FIVE_MINUTES}=a,f=a.id||Jx().toString(),g=EE(vE().protocol),m=d||g.publish,y={id:f,method:m,params:nk(ik(nk({},o),{ttl:p,prompt:u,tag:h,attestation:c}),l)},w=`Failed to publish custom payload, please try again. id:${f} tag:${h}`;try{rA(null==(t=y.params)?void 0:t.prompt)&&(null==(r=y.params)||delete r.prompt),rA(null==(n=y.params)?void 0:n.tag)&&(null==(i=y.params)||delete i.tag);const e=new Promise((async e=>{const t=({id:r})=>{var n;(null==(n=y.id)?void 0:n.toString())===r.toString()&&(this.removeRequestFromQueue(r),this.relayer.events.removeListener(LC,t),e())};this.relayer.events.on(LC,t);const r=Jg(new Promise(((e,t)=>{this.rpcPublish(y,a).then(e).catch((e=>{this.logger.warn(e,e?.message),t(e)}))})),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${m} id:${f} tag:${h}`);try{await r,this.events.removeListener(LC,t)}catch(e){this.queue.set(f,{request:y,opts:a,attempt:1}),this.logger.warn(e,e?.message)}}));this.logger.trace({type:"method",method:"publish",params:{id:f,payload:o,opts:a}}),await Jg(e,this.publishTimeout,w)}catch(e){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(e),null!=(s=a?.internal)&&s.throwOnFailedPublish)throw e}finally{this.queue.delete(f)}})),sk(this,"on",((e,t)=>{this.events.on(e,t)})),sk(this,"once",((e,t)=>{this.events.once(e,t)})),sk(this,"off",((e,t)=>{this.events.off(e,t)})),sk(this,"removeListener",((e,t)=>{this.events.removeListener(e,t)})),this.relayer=e,this.logger=dg(t,this.name),this.registerEventListeners()}get context(){return lg(this.logger)}async rpcPublish(e,t){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const r=await this.relayer.request(e);return this.relayer.events.emit(LC,nk(nk({},e),t)),this.logger.debug("Successfully Published Payload"),r}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach((async(e,t)=>{var r;const n=e.attempt+1;this.queue.set(t,ik(nk({},e),{attempt:n})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${null==(r=e.request.params)?void 0:r.tag}, attempt: ${n}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)}))}registerEventListeners(){this.relayer.core.heartbeat.on(PA,(()=>{if(this.needsTransportRestart)return this.needsTransportRestart=!1,void this.relayer.events.emit(UC);this.checkQueue()})),this.relayer.on(RC,(e=>{this.removeRequestFromQueue(e.id.toString())}))}}var ak=Object.defineProperty,ck=(e,t,r)=>((e,t,r)=>t in e?ak(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class lk{constructor(){ck(this,"map",new Map),ck(this,"set",((e,t)=>{const r=this.get(e);this.exists(e,t)||this.map.set(e,[...r,t])})),ck(this,"get",(e=>this.map.get(e)||[])),ck(this,"exists",((e,t)=>this.get(e).includes(t))),ck(this,"delete",((e,t)=>{if(typeof t>"u")return void this.map.delete(e);if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,t))return;const n=r.filter((e=>e!==t));n.length?this.map.set(e,n):this.map.delete(e)})),ck(this,"clear",(()=>{this.map.clear()}))}get topics(){return Array.from(this.map.keys())}}var dk=Object.defineProperty,uk=Object.defineProperties,hk=Object.getOwnPropertyDescriptors,pk=Object.getOwnPropertySymbols,fk=Object.prototype.hasOwnProperty,gk=Object.prototype.propertyIsEnumerable,mk=(e,t,r)=>t in e?dk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,yk=(e,t)=>{for(var r in t||(t={}))fk.call(t,r)&&mk(e,r,t[r]);if(pk)for(var r of pk(t))gk.call(t,r)&&mk(e,r,t[r]);return e},wk=(e,t)=>uk(e,hk(t)),bk=(e,t,r)=>mk(e,"symbol"!=typeof t?t+"":t,r);class vk extends wx{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,bk(this,"subscriptions",new Map),bk(this,"topicMap",new lk),bk(this,"events",new i.exports.EventEmitter),bk(this,"name","subscription"),bk(this,"version","0.3"),bk(this,"pending",new Map),bk(this,"cached",[]),bk(this,"initialized",!1),bk(this,"storagePrefix",SC),bk(this,"subscribeTimeout",T.toMiliseconds(T.ONE_MINUTE)),bk(this,"initialSubscribeTimeout",T.toMiliseconds(15*T.ONE_SECOND)),bk(this,"clientId"),bk(this,"batchSubscribeTopicsLimit",500),bk(this,"init",(async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0})),bk(this,"subscribe",(async(e,t)=>{var r;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}});try{const n=vE(t),i={topic:e,relay:n,transportType:t?.transportType};null!=(r=t?.internal)&&r.skipSubscribe||this.pending.set(e,i);const s=await this.rpcSubscribe(e,n,t);return"string"==typeof s&&(this.onSubscribe(s,i),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}})),s}catch(e){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(e),e}})),bk(this,"unsubscribe",(async(e,t)=>{this.isInitialized(),typeof t?.id<"u"?await this.unsubscribeById(e,t.id,t):await this.unsubscribeByTopic(e,t)})),bk(this,"isSubscribed",(e=>new Promise((t=>{t(this.topicMap.topics.includes(e))})))),bk(this,"isKnownTopic",(e=>new Promise((t=>{t(this.topicMap.topics.includes(e)||this.pending.has(e)||this.cached.some((t=>t.topic===e)))})))),bk(this,"on",((e,t)=>{this.events.on(e,t)})),bk(this,"once",((e,t)=>{this.events.once(e,t)})),bk(this,"off",((e,t)=>{this.events.off(e,t)})),bk(this,"removeListener",((e,t)=>{this.events.removeListener(e,t)})),bk(this,"start",(async()=>{await this.onConnect()})),bk(this,"stop",(async()=>{await this.onDisconnect()})),bk(this,"restart",(async()=>{await this.restore(),await this.onRestart()})),bk(this,"checkPending",(async()=>{if(!(0!==this.pending.size||this.initialized&&this.relayer.connected))return;const e=[];this.pending.forEach((t=>{e.push(t)})),await this.batchSubscribe(e)})),bk(this,"registerEventListeners",(()=>{this.relayer.core.heartbeat.on(PA,(async()=>{await this.checkPending()})),this.events.on(KC,(async e=>{const t=KC;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})),this.events.on(GC,(async e=>{const t=GC;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}))})),this.relayer=e,this.logger=dg(t,this.name),this.clientId=""}get context(){return lg(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let r=!1;try{r=this.getSubscription(e).topic===t}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const r=this.topicMap.get(e);await Promise.all(r.map((async r=>await this.unsubscribeById(e,r,t))))}async unsubscribeById(e,t,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}});try{const n=vE(r);await this.restartToComplete({topic:e,id:t,relay:n}),await this.rpcUnsubscribe(e,t,n);const i=QE("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}})}catch(e){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(e),e}}async rpcSubscribe(e,t,r){var n,i;const s=await this.getSubscriptionId(e);if(null!=(n=r?.internal)&&n.skipSubscribe)return s;(!r||r?.transportType===VC.relay)&&await this.restartToComplete({topic:e,id:e,relay:t});const o={method:EE(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:o});const a=null==(i=r?.internal)?void 0:i.throwOnFailedPublish;try{if(r?.transportType===VC.link_mode)return setTimeout((()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(o).catch((e=>this.logger.warn(e)))}),T.toMiliseconds(T.ONE_SECOND)),s;const t=new Promise((async t=>{const r=n=>{n.topic===e&&(this.events.removeListener(KC,r),t(n.id))};this.events.on(KC,r);try{const n=await Jg(new Promise(((e,t)=>{this.relayer.request(o).catch((e=>{this.logger.warn(e,e?.message),t(e)})).then(e)})),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(KC,r),t(n)}catch{}})),n=await Jg(t,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!n&&a)throw new Error(`Subscribing to ${e} failed, please try again`);return n?s:null}catch(e){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(UC),a)throw e}return null}async rpcBatchSubscribe(e){if(!e.length)return;const t={method:EE(e[0].relay.protocol).batchSubscribe,params:{topics:e.map((e=>e.topic))}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{await await Jg(new Promise((e=>{this.relayer.request(t).catch((e=>this.logger.warn(e))).then(e)})),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(UC)}}async rpcBatchFetchMessages(e){if(!e.length)return;const t={method:EE(e[0].relay.protocol).batchFetchMessages,params:{topics:e.map((e=>e.topic))}};let r;this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{r=await await Jg(new Promise(((e,r)=>{this.relayer.request(t).catch((e=>{this.logger.warn(e),r(e)})).then(e)})),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(UC)}return r}rpcUnsubscribe(e,t,r){const n={method:EE(r.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.request(n)}onSubscribe(e,t){this.setSubscription(e,wk(yk({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach((e=>{this.setSubscription(e.id,yk({},e)),this.pending.delete(e.topic)}))}async onUnsubscribe(e,t,r){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,yk({},t)),this.topicMap.set(t.topic,e),this.events.emit(KC,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:t}=XE("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(t)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(GC,wk(yk({},r),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(YC)}async onRestart(){if(this.cached.length){const e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<t;r++){const t=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(t)}}this.events.emit(JC)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every((e=>{var t;return e.topic===(null==(t=this.subscriptions.get(e.id))?void 0:t.topic)}))){const{message:e}=XE("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(e)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map((async e=>wk(yk({},e),{id:await this.getSubscriptionId(e.topic)}))))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(await function(e){return new Promise((t=>setTimeout(t,e)))}(T.toMiliseconds(T.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(t.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=XE("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return lE(e+await this.getClientId())}}var Ek=Object.defineProperty,Ak=Object.getOwnPropertySymbols,xk=Object.prototype.hasOwnProperty,Ck=Object.prototype.propertyIsEnumerable,Sk=(e,t,r)=>t in e?Ek(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ik=(e,t)=>{for(var r in t||(t={}))xk.call(t,r)&&Sk(e,r,t[r]);if(Ak)for(var r of Ak(t))Ck.call(t,r)&&Sk(e,r,t[r]);return e},_k=(e,t,r)=>Sk(e,"symbol"!=typeof t?t+"":t,r);class kk extends mx{constructor(e){var t;super(e),_k(this,"protocol","wc"),_k(this,"version",2),_k(this,"core"),_k(this,"logger"),_k(this,"events",new i.exports.EventEmitter),_k(this,"provider"),_k(this,"messages"),_k(this,"subscriber"),_k(this,"publisher"),_k(this,"name","relayer"),_k(this,"transportExplicitlyClosed",!1),_k(this,"initialized",!1),_k(this,"connectionAttemptInProgress",!1),_k(this,"relayUrl"),_k(this,"projectId"),_k(this,"packageName"),_k(this,"bundleId"),_k(this,"hasExperiencedNetworkDisruption",!1),_k(this,"pingTimeout"),_k(this,"heartBeatTimeout",T.toMiliseconds(T.THIRTY_SECONDS+T.FIVE_SECONDS)),_k(this,"reconnectTimeout"),_k(this,"connectPromise"),_k(this,"reconnectInProgress",!1),_k(this,"requestsInFlight",[]),_k(this,"connectTimeout",T.toMiliseconds(15*T.ONE_SECOND)),_k(this,"request",(async e=>{var t,r;this.logger.debug("Publishing Request Payload");const n=e.id||Jx().toString();await this.toEstablishConnection();try{this.logger.trace({id:n,method:e.method,topic:null==(t=e.params)?void 0:t.topic},"relayer.request - publishing...");const i=`${n}:${(null==(r=e.params)?void 0:r.tag)||""}`;this.requestsInFlight.push(i);const s=await this.provider.request(e);return this.requestsInFlight=this.requestsInFlight.filter((e=>e!==i)),s}catch(e){throw this.logger.debug(`Failed to Publish Request: ${n}`),e}})),_k(this,"resetPingTimeout",(()=>{Lg()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout((()=>{var e,t,r,n;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),null==(n=null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.terminate)||n.call(r)}catch(e){this.logger.warn(e,e?.message)}}),this.heartBeatTimeout))})),_k(this,"onPayloadHandler",(e=>{this.onProviderPayload(e),this.resetPingTimeout()})),_k(this,"onConnectHandler",(()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit($C)})),_k(this,"onDisconnectHandler",(()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()})),_k(this,"onProviderErrorHandler",(e=>{this.logger.fatal(`Fatal socket error: ${e.message}`),this.events.emit(MC,e),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()})),_k(this,"registerProviderListeners",(()=>{this.provider.on(DC,this.onPayloadHandler),this.provider.on(jC,this.onConnectHandler),this.provider.on(HC,this.onDisconnectHandler),this.provider.on(zC,this.onProviderErrorHandler)})),this.core=e.core,this.logger=SA({logger:null!=(t=e.logger)?t:"error",name:this.name}),this.messages=new G_(this.logger,e.core),this.subscriber=new vk(this,this.logger),this.publisher=new ok(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||OC,Dg()&&typeof global<"u"&&typeof(null==global?void 0:global.Platform)<"u"&&"android"===(null==global?void 0:global.Platform.OS)?this.packageName=zg():Dg()&&typeof global<"u"&&typeof(null==global?void 0:global.Platform)<"u"&&"ios"===(null==global?void 0:global.Platform.OS)&&(this.bundleId=zg()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch((e=>this.logger.warn(e,e?.message)))}get context(){return lg(this.logger)}get connected(){var e,t,r;return 1===(null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.readyState)||!1}get connecting(){var e,t,r;return 0===(null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.readyState)||void 0!==this.connectPromise||!1}async publish(e,t,r){this.isInitialized(),await this.publisher.publish(e,t,r),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:VC.relay},qC)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,t){var r,n,i;this.isInitialized(),(null==t||!t.transportType||"relay"===t?.transportType)&&await this.toEstablishConnection();const s=typeof(null==(r=t?.internal)?void 0:r.throwOnFailedPublish)>"u"||(null==(n=t?.internal)?void 0:n.throwOnFailedPublish);let o,a=(null==(i=this.subscriber.topicMap.get(e))?void 0:i[0])||"";const c=t=>{t.topic===e&&(this.subscriber.off(KC,c),o())};return await Promise.all([new Promise((e=>{o=e,this.subscriber.on(KC,c)})),new Promise((async(r,n)=>{a=await this.subscriber.subscribe(e,Ik({internal:{throwOnFailedPublish:s}},t)).catch((e=>{s&&n(e)}))||a,r()}))]),a}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Jg(this.provider.disconnect(),2e3,"provider.disconnect()").catch((()=>this.onProviderDisconnect())):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(this.subscriber.hasAnyTopics){if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise((async(t,r)=>{await this.connect(e).then(t).catch(r).finally((()=>{this.connectPromise=void 0}))})),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}else this.logger.info("Starting WS connection skipped because the client has no topics to work with.")}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await wA())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(0===e?.length)return void this.logger.trace("Batch message events is empty. Ignoring...");const t=e.sort(((e,t)=>e.publishedAt-t.publishedAt));this.logger.debug(`Batch of ${t.length} message events sorted`);for(const e of t)try{await this.onMessageEvent(e)}catch(e){this.logger.warn(e,"Error while processing batch message event: "+e?.message)}this.logger.trace(`Batch of ${t.length} message events processed`)}async onLinkMessageEvent(e,t){const{topic:r}=e;if(!t.sessionExists){const e={topic:r,expiry:em(T.FIVE_MINUTES),relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,e)}this.events.emit(NC,e),await this.recordMessageEvent(e,ZC)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${t}...`),await this.createProvider(),await new Promise((async(e,t)=>{const r=()=>{t(new Error("Connection interrupted while trying to connect"))};this.provider.once(HC,r),await Jg(new Promise(((e,t)=>{this.provider.connect().then(e).catch(t)})),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch((e=>{t(e)})).finally((()=>{this.provider.off(HC,r),clearTimeout(this.reconnectTimeout)})),await new Promise((async(e,r)=>{const n=()=>{t(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(HC,n),await this.subscriber.start().then(e).catch(r).finally((()=>{this.provider.off(HC,n)}))})),this.hasExperiencedNetworkDisruption=!1,e()}))}catch(e){await this.subscriber.stop();const t=e;this.logger.warn({},t.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${t}`);break}await new Promise((e=>setTimeout(e,T.toMiliseconds(1*t)))),t++}}startPingTimeout(){var e,t,r,n,i;if(Lg())try{null!=(t=null==(e=this.provider)?void 0:e.connection)&&t.socket&&(null==(i=null==(n=null==(r=this.provider)?void 0:r.connection)?void 0:n.socket)||i.on("ping",(()=>{this.resetPingTimeout()}))),this.resetPingTimeout()}catch(e){this.logger.warn(e,e?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new fC(new yC(qg({sdkVersion:FC,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,t){const{topic:r,message:n}=e;await this.messages.set(r,n,t)}async shouldIgnoreMessageEvent(e){const{topic:t,message:r}=e;if(!r||0===r.length)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn(`Ignoring message for unknown topic ${t}`),!0;const n=this.messages.has(t,r);return n&&this.logger.warn(`Ignoring duplicate message: ${r}`),n}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),dC(e)){if(!e.method.endsWith("_subscription"))return;const t=e.params,{topic:r,message:n,publishedAt:i,attestation:s}=t.data,o={topic:r,message:n,publishedAt:i,transportType:VC.relay,attestation:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Ik({type:"event",event:t.id},o)),this.events.emit(t.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else uC(e)&&this.events.emit(RC,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,ZC),this.events.emit(NC,e))}async acknowledgePayload(e){const t=Qx(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(DC,this.onPayloadHandler),this.provider.off(jC,this.onConnectHandler),this.provider.off(HC,this.onDisconnectHandler),this.provider.off(zC,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await wA();bA((async t=>{e!==t&&(e=t,t?await this.transportOpen().catch((e=>this.logger.error(e,e?.message))):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})),this.core.heartbeat.on(PA,(async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&function(){var e;return!jg()||!ce()||"visible"===(null==(e=ce())?void 0:e.visibilityState)}())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(e){this.logger.warn(e,e?.message)}}))}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(BC),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout((async()=>{await this.transportOpen().catch((e=>this.logger.error(e,e?.message))),this.reconnectTimeout=void 0,this.reconnectInProgress=!1}),T.toMiliseconds(.1)))))}isInitialized(){if(!this.initialized){const{message:e}=XE("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise)return void await this.connectPromise;await this.connect()}}}function Pk(e){return Object.getOwnPropertySymbols(e).filter((t=>Object.prototype.propertyIsEnumerable.call(e,t)))}function Tk(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const Ok="[object Arguments]",Nk="[object Object]";function Rk(){}function $k(e){if(!e||"object"!=typeof e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}function Bk(e,t,r,n,i,s,o){const a=o(e,t,r,n,i,s);if(void 0!==a)return a;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return e===t;case"number":return e===t||Object.is(e,t);case"object":return Mk(e,t,s,o)}return Mk(e,t,s,o)}function Mk(e,t,r,n){if(Object.is(e,t))return!0;let i=Tk(e),s=Tk(t);if(i===Ok&&(i=Nk),s===Ok&&(s=Nk),i!==s)return!1;switch(i){case"[object String]":return e.toString()===t.toString();case"[object Number]":return function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}(e.valueOf(),t.valueOf());case"[object Boolean]":case"[object Date]":case"[object Symbol]":return Object.is(e.valueOf(),t.valueOf());case"[object RegExp]":return e.source===t.source&&e.flags===t.flags;case"[object Function]":return e===t}const o=(r=r??new Map).get(e),a=r.get(t);if(null!=o&&null!=a)return o===t;r.set(e,t),r.set(t,e);try{switch(i){case"[object Map]":if(e.size!==t.size)return!1;for(const[i,s]of e.entries())if(!t.has(i)||!Bk(s,t.get(i),i,e,t,r,n))return!1;return!0;case"[object Set]":{if(e.size!==t.size)return!1;const i=Array.from(e.values()),s=Array.from(t.values());for(let o=0;o<i.length;o++){const a=i[o],c=s.findIndex((i=>Bk(a,i,void 0,e,t,r,n)));if(-1===c)return!1;s.splice(c,1)}return!0}case"[object Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":case"[object BigUint64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object BigInt64Array]":case"[object Float32Array]":case"[object Float64Array]":if(typeof Buffer<"u"&&Buffer.isBuffer(e)!==Buffer.isBuffer(t)||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!Bk(e[i],t[i],i,e,t,r,n))return!1;return!0;case"[object ArrayBuffer]":return e.byteLength===t.byteLength&&Mk(new Uint8Array(e),new Uint8Array(t),r,n);case"[object DataView]":return e.byteLength===t.byteLength&&e.byteOffset===t.byteOffset&&Mk(new Uint8Array(e),new Uint8Array(t),r,n);case"[object Error]":return e.name===t.name&&e.message===t.message;case Nk:{if(!(Mk(e.constructor,t.constructor,r,n)||$k(e)&&$k(t)))return!1;const i=[...Object.keys(e),...Pk(e)],s=[...Object.keys(t),...Pk(t)];if(i.length!==s.length)return!1;for(let s=0;s<i.length;s++){const o=i[s],a=e[o];if(!Object.hasOwn(t,o))return!1;if(!Bk(a,t[o],o,e,t,r,n))return!1}return!0}default:return!1}}finally{r.delete(e),r.delete(t)}}function Uk(e,t){return function(e,t,r){return Bk(e,t,void 0,void 0,void 0,void 0,r)}(e,t,Rk)}var Lk=Object.defineProperty,Dk=Object.getOwnPropertySymbols,jk=Object.prototype.hasOwnProperty,Hk=Object.prototype.propertyIsEnumerable,zk=(e,t,r)=>t in e?Lk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Fk=(e,t)=>{for(var r in t||(t={}))jk.call(t,r)&&zk(e,r,t[r]);if(Dk)for(var r of Dk(t))Hk.call(t,r)&&zk(e,r,t[r]);return e},Vk=(e,t,r)=>zk(e,"symbol"!=typeof t?t+"":t,r);class Zk extends yx{constructor(e,t,r,n=SC,i=void 0){super(e,t,r,n),this.core=e,this.logger=t,this.name=r,Vk(this,"map",new Map),Vk(this,"version","0.3"),Vk(this,"cached",[]),Vk(this,"initialized",!1),Vk(this,"getKey"),Vk(this,"storagePrefix",SC),Vk(this,"recentlyDeleted",[]),Vk(this,"recentlyDeletedLimit",200),Vk(this,"init",(async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((e=>{this.getKey&&null!==e&&!rA(e)?this.map.set(this.getKey(e),e):function(e){var t;return null==(t=e?.proposer)?void 0:t.publicKey}(e)?this.map.set(e.id,e):function(e){return e?.topic}(e)&&this.map.set(e.topic,e)})),this.cached=[],this.initialized=!0)})),Vk(this,"set",(async(e,t)=>{this.isInitialized(),this.map.has(e)?await this.update(e,t):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:e,value:t}),this.map.set(e,t),await this.persist())})),Vk(this,"get",(e=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:e}),this.getData(e)))),Vk(this,"getAll",(e=>(this.isInitialized(),e?this.values.filter((t=>Object.keys(e).every((r=>Uk(t[r],e[r]))))):this.values))),Vk(this,"update",(async(e,t)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:e,update:t});const r=Fk(Fk({},this.getData(e)),t);this.map.set(e,r),await this.persist()})),Vk(this,"delete",(async(e,t)=>{this.isInitialized(),this.map.has(e)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:e,reason:t}),this.map.delete(e),this.addToRecentlyDeleted(e),await this.persist())})),this.logger=dg(t,this.name),this.storagePrefix=n,this.getKey=i}get context(){return lg(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){const{message:t}=XE("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(t),new Error(t)}const{message:t}=XE("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(t),new Error(t)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:e}=XE("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=XE("NOT_INITIALIZED",this.name);throw new Error(e)}}}var qk=Object.defineProperty,Wk=(e,t,r)=>((e,t,r)=>t in e?qk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class Kk{constructor(e,t){this.core=e,this.logger=t,Wk(this,"name","pairing"),Wk(this,"version","0.3"),Wk(this,"events",new i.exports),Wk(this,"pairings"),Wk(this,"initialized",!1),Wk(this,"storagePrefix",SC),Wk(this,"ignoredPayloadTypes",[1]),Wk(this,"registeredMethods",[]),Wk(this,"init",(async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))})),Wk(this,"register",(({methods:e})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...e])]})),Wk(this,"create",(async e=>{this.isInitialized();const t=aE(),r=await this.core.crypto.setSymKey(t),n=em(T.FIVE_MINUTES),i={protocol:"irn"},s={topic:r,expiry:n,relay:i,active:!1,methods:e?.methods},o=RE({protocol:this.core.protocol,version:this.core.version,topic:r,symKey:t,relay:i,expiryTimestamp:n,methods:e?.methods});return this.events.emit(QC,s),this.core.expirer.set(r,n),await this.pairings.set(r,s),await this.core.relayer.subscribe(r,{transportType:e?.transportType,internal:e?.internal}),{topic:r,uri:o}})),Wk(this,"pair",(async e=>{this.isInitialized();const t=this.core.eventClient.createEvent({properties:{topic:e?.uri,trace:[gS]}});this.isValidPair(e,t);const{topic:r,symKey:n,relay:i,expiryTimestamp:s,methods:o}=OE(e.uri);let a;if(t.props.properties.topic=r,t.addTrace(mS),t.addTrace(yS),this.pairings.keys.includes(r)){if(a=this.pairings.get(r),t.addTrace(ES),a.active)throw t.setError(_S),new Error(`Pairing already exists: ${r}. Please try again with a new connection URI.`);t.addTrace(AS)}const c=s||em(T.FIVE_MINUTES),l={topic:r,relay:i,expiry:c,active:!1,methods:o};this.core.expirer.set(r,c),await this.pairings.set(r,l),t.addTrace(wS),e.activatePairing&&await this.activate({topic:r}),this.events.emit(QC,l),t.addTrace(xS),this.core.crypto.keychain.has(r)||await this.core.crypto.setSymKey(n,r),t.addTrace(bS);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{t.setError(SS)}try{await this.core.relayer.subscribe(r,{relay:i})}catch(e){throw t.setError(kS),e}return t.addTrace(vS),l})),Wk(this,"activate",(async({topic:e})=>{this.isInitialized();const t=em(T.FIVE_MINUTES);this.core.expirer.set(e,t),await this.pairings.update(e,{active:!0,expiry:t})})),Wk(this,"ping",(async e=>{this.isInitialized(),await this.isValidPing(e),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:t}=e;if(this.pairings.keys.includes(t)){const e=await this.sendRequest(t,"wc_pairingPing",{}),{done:r,resolve:n,reject:i}=Yg();this.events.once(rm("pairing_ping",e),(({error:e})=>{e?i(e):n()})),await r()}})),Wk(this,"updateExpiry",(async({topic:e,expiry:t})=>{this.isInitialized(),await this.pairings.update(e,{expiry:t})})),Wk(this,"updateMetadata",(async({topic:e,metadata:t})=>{this.isInitialized(),await this.pairings.update(e,{peerMetadata:t})})),Wk(this,"getPairings",(()=>(this.isInitialized(),this.pairings.values))),Wk(this,"disconnect",(async e=>{this.isInitialized(),await this.isValidDisconnect(e);const{topic:t}=e;this.pairings.keys.includes(t)&&(await this.sendRequest(t,"wc_pairingDelete",QE("USER_DISCONNECTED")),await this.deletePairing(t))})),Wk(this,"formatUriFromPairing",(e=>{this.isInitialized();const{topic:t,relay:r,expiry:n,methods:i}=e,s=this.core.crypto.keychain.get(t);return RE({protocol:this.core.protocol,version:this.core.version,topic:t,symKey:s,relay:r,expiryTimestamp:n,methods:i})})),Wk(this,"sendRequest",(async(e,t,r)=>{const n=Xx(t,r),i=await this.core.crypto.encode(e,n),s=XC[t].req;return this.core.history.set(e,n),this.core.relayer.publish(e,i,s),n.id})),Wk(this,"sendResult",(async(e,t,r)=>{const n=Qx(e,r),i=await this.core.crypto.encode(t,n),s=(await this.core.history.get(t,e)).request.method,o=XC[s].res;await this.core.relayer.publish(t,i,o),await this.core.history.resolve(n)})),Wk(this,"sendError",(async(e,t,r)=>{const n=eC(e,r),i=await this.core.crypto.encode(t,n),s=(await this.core.history.get(t,e)).request.method,o=XC[s]?XC[s].res:XC.unregistered_method.res;await this.core.relayer.publish(t,i,o),await this.core.history.resolve(n)})),Wk(this,"deletePairing",(async(e,t)=>{await this.core.relayer.unsubscribe(e),await Promise.all([this.pairings.delete(e,QE("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(e),t?Promise.resolve():this.core.expirer.del(e)])})),Wk(this,"cleanup",(async()=>{const e=this.pairings.getAll().filter((e=>tm(e.expiry)));await Promise.all(e.map((e=>this.deletePairing(e.topic))))})),Wk(this,"onRelayEventRequest",(async e=>{const{topic:t,payload:r}=e;switch(r.method){case"wc_pairingPing":return await this.onPairingPingRequest(t,r);case"wc_pairingDelete":return await this.onPairingDeleteRequest(t,r);default:return await this.onUnknownRpcMethodRequest(t,r)}})),Wk(this,"onRelayEventResponse",(async e=>{const{topic:t,payload:r}=e,n=(await this.core.history.get(t,r.id)).request.method;return"wc_pairingPing"===n?this.onPairingPingResponse(t,r):this.onUnknownRpcMethodResponse(n)})),Wk(this,"onPairingPingRequest",(async(e,t)=>{const{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult(r,e,!0),this.events.emit(rS,{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.logger.error(t)}})),Wk(this,"onPairingPingResponse",((e,t)=>{const{id:r}=t;setTimeout((()=>{hC(t)?this.events.emit(rm("pairing_ping",r),{}):pC(t)&&this.events.emit(rm("pairing_ping",r),{error:t.error})}),500)})),Wk(this,"onPairingDeleteRequest",(async(e,t)=>{const{id:r}=t;try{this.isValidDisconnect({topic:e}),await this.deletePairing(e),this.events.emit(tS,{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.logger.error(t)}})),Wk(this,"onUnknownRpcMethodRequest",(async(e,t)=>{const{id:r,method:n}=t;try{if(this.registeredMethods.includes(n))return;const t=QE("WC_METHOD_UNSUPPORTED",n);await this.sendError(r,e,t),this.logger.error(t)}catch(t){await this.sendError(r,e,t),this.logger.error(t)}})),Wk(this,"onUnknownRpcMethodResponse",(e=>{this.registeredMethods.includes(e)||this.logger.error(QE("WC_METHOD_UNSUPPORTED",e))})),Wk(this,"isValidPair",((e,t)=>{var r;if(!hA(e)){const{message:r}=XE("MISSING_OR_INVALID",`pair() params: ${e}`);throw t.setError(IS),new Error(r)}if(!function(e){function t(e){try{return typeof new URL(e)<"u"}catch{return!1}}try{if(nA(e,!1))return!!t(e)||t(cm(e))}catch{}return!1}(e.uri)){const{message:r}=XE("MISSING_OR_INVALID",`pair() uri: ${e.uri}`);throw t.setError(IS),new Error(r)}const n=OE(e?.uri);if(null==(r=n?.relay)||!r.protocol){const{message:e}=XE("MISSING_OR_INVALID","pair() uri#relay-protocol");throw t.setError(IS),new Error(e)}if(null==n||!n.symKey){const{message:e}=XE("MISSING_OR_INVALID","pair() uri#symKey");throw t.setError(IS),new Error(e)}if(null!=n&&n.expiryTimestamp&&T.toMiliseconds(n?.expiryTimestamp)<Date.now()){t.setError(PS);const{message:e}=XE("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(e)}})),Wk(this,"isValidPing",(async e=>{if(!hA(e)){const{message:t}=XE("MISSING_OR_INVALID",`ping() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidPairingTopic(t)})),Wk(this,"isValidDisconnect",(async e=>{if(!hA(e)){const{message:t}=XE("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidPairingTopic(t)})),Wk(this,"isValidPairingTopic",(async e=>{if(!nA(e,!1)){const{message:t}=XE("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.pairings.keys.includes(e)){const{message:t}=XE("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(tm(this.pairings.get(e).expiry)){await this.deletePairing(e);const{message:t}=XE("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}})),this.core=e,this.logger=dg(t,this.name),this.pairings=new Zk(this.core,this.logger,this.name,this.storagePrefix)}get context(){return lg(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=XE("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(NC,(async e=>{const{topic:t,message:r,transportType:n}=e;if(this.pairings.keys.includes(t)&&n!==VC.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const e=await this.core.crypto.decode(t,r);dC(e)?(this.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e})):uC(e)&&(await this.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e}),this.core.history.delete(t,e.id)),await this.core.relayer.messages.ack(t,r)}catch(e){this.logger.error(e)}}))}registerExpirerEvents(){this.core.expirer.on(lS,(async e=>{const{topic:t}=Qg(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(eS,{topic:t}))}))}}var Gk=Object.defineProperty,Yk=(e,t,r)=>((e,t,r)=>t in e?Gk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class Jk extends px{constructor(e,t){super(e,t),this.core=e,this.logger=t,Yk(this,"records",new Map),Yk(this,"events",new i.exports.EventEmitter),Yk(this,"name","history"),Yk(this,"version","0.3"),Yk(this,"cached",[]),Yk(this,"initialized",!1),Yk(this,"storagePrefix",SC),Yk(this,"init",(async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((e=>this.records.set(e.id,e))),this.cached=[],this.registerEventListeners(),this.initialized=!0)})),Yk(this,"set",((e,t,r)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:e,request:t,chainId:r}),this.records.has(t.id))return;const n={id:t.id,topic:e,request:{method:t.method,params:t.params||null},chainId:r,expiry:em(T.THIRTY_DAYS)};this.records.set(n.id,n),this.persist(),this.events.emit(nS,n)})),Yk(this,"resolve",(async e=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:e}),!this.records.has(e.id))return;const t=await this.getRecord(e.id);typeof t.response>"u"&&(t.response=pC(e)?{error:e.error}:{result:e.result},this.records.set(t.id,t),this.persist(),this.events.emit(iS,t))})),Yk(this,"get",(async(e,t)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:e,id:t}),await this.getRecord(t)))),Yk(this,"delete",((e,t)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:t}),this.values.forEach((r=>{if(r.topic===e){if(typeof t<"u"&&r.id!==t)return;this.records.delete(r.id),this.events.emit(sS,r)}})),this.persist()})),Yk(this,"exists",(async(e,t)=>(this.isInitialized(),!!this.records.has(t)&&(await this.getRecord(t)).topic===e))),Yk(this,"on",((e,t)=>{this.events.on(e,t)})),Yk(this,"once",((e,t)=>{this.events.once(e,t)})),Yk(this,"off",((e,t)=>{this.events.off(e,t)})),Yk(this,"removeListener",((e,t)=>{this.events.removeListener(e,t)})),this.logger=dg(t,this.name)}get context(){return lg(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach((t=>{if(typeof t.response<"u")return;const r={topic:t.topic,request:Xx(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(r)})),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:t}=XE("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(t)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(oS)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:e}=XE("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(nS,(e=>{const t=nS;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})})),this.events.on(iS,(e=>{const t=iS;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})})),this.events.on(sS,(e=>{const t=sS;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})})),this.core.heartbeat.on(PA,(()=>{this.cleanup()}))}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach((t=>{T.toMiliseconds(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(sS,t,!1),e=!0)})),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=XE("NOT_INITIALIZED",this.name);throw new Error(e)}}}var Xk=Object.defineProperty,Qk=(e,t,r)=>((e,t,r)=>t in e?Xk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class eP extends bx{constructor(e,t){super(e,t),this.core=e,this.logger=t,Qk(this,"expirations",new Map),Qk(this,"events",new i.exports.EventEmitter),Qk(this,"name","expirer"),Qk(this,"version","0.3"),Qk(this,"cached",[]),Qk(this,"initialized",!1),Qk(this,"storagePrefix",SC),Qk(this,"init",(async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((e=>this.expirations.set(e.target,e))),this.cached=[],this.registerEventListeners(),this.initialized=!0)})),Qk(this,"has",(e=>{try{const t=this.formatTarget(e);return typeof this.getExpiration(t)<"u"}catch{return!1}})),Qk(this,"set",((e,t)=>{this.isInitialized();const r=this.formatTarget(e),n={target:r,expiry:t};this.expirations.set(r,n),this.checkExpiry(r,n),this.events.emit(aS,{target:r,expiration:n})})),Qk(this,"get",(e=>{this.isInitialized();const t=this.formatTarget(e);return this.getExpiration(t)})),Qk(this,"del",(e=>{if(this.isInitialized(),this.has(e)){const t=this.formatTarget(e),r=this.getExpiration(t);this.expirations.delete(t),this.events.emit(cS,{target:t,expiration:r})}})),Qk(this,"on",((e,t)=>{this.events.on(e,t)})),Qk(this,"once",((e,t)=>{this.events.once(e,t)})),Qk(this,"off",((e,t)=>{this.events.off(e,t)})),Qk(this,"removeListener",((e,t)=>{this.events.removeListener(e,t)})),this.logger=dg(t,this.name)}get context(){return lg(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return function(e){return Xg("topic",e)}(e);if("number"==typeof e)return function(e){return Xg("id",e)}(e);const{message:t}=XE("UNKNOWN_TYPE","Target type: "+typeof e);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(dS)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:e}=XE("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:t}=XE("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(t),new Error(t)}return t}checkExpiry(e,t){const{expiry:r}=t;T.toMiliseconds(r)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(lS,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach(((e,t)=>this.checkExpiry(t,e)))}registerEventListeners(){this.core.heartbeat.on(PA,(()=>this.checkExpirations())),this.events.on(aS,(e=>{const t=aS;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})),this.events.on(lS,(e=>{const t=lS;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})),this.events.on(cS,(e=>{const t=cS;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}))}isInitialized(){if(!this.initialized){const{message:e}=XE("NOT_INITIALIZED",this.name);throw new Error(e)}}}var tP=Object.defineProperty,rP=(e,t,r)=>((e,t,r)=>t in e?tP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class nP extends vx{constructor(e,t,r){super(e,t,r),this.core=e,this.logger=t,this.store=r,rP(this,"name","verify-api"),rP(this,"abortController"),rP(this,"isDevEnv"),rP(this,"verifyUrlV3",pS),rP(this,"storagePrefix",SC),rP(this,"version",2),rP(this,"publicKey"),rP(this,"fetchPromise"),rP(this,"init",(async()=>{var e;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&T.toMiliseconds(null==(e=this.publicKey)?void 0:e.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))})),rP(this,"register",(async e=>{if(!jg()||this.isDevEnv)return;const t=window.location.origin,{id:r,decryptedId:n}=e,i=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${t}&id=${r}&decryptedId=${n}`;try{const e=ce(),t=this.startAbortTimer(5*T.ONE_SECOND),n=await new Promise(((n,s)=>{const o=()=>{window.removeEventListener("message",c),e.body.removeChild(a),s("attestation aborted")};this.abortController.signal.addEventListener("abort",o);const a=e.createElement("iframe");a.src=i,a.style.display="none",a.addEventListener("error",o,{signal:this.abortController.signal});const c=i=>{if(i.data&&"string"==typeof i.data)try{const s=JSON.parse(i.data);if("verify_attestation"===s.type){if(Qu(s.attestation).payload.id!==r)return;clearInterval(t),e.body.removeChild(a),this.abortController.signal.removeEventListener("abort",o),window.removeEventListener("message",c),n(null===s.attestation?"":s.attestation)}}catch(e){this.logger.warn(e)}};e.body.appendChild(a),window.addEventListener("message",c,{signal:this.abortController.signal})}));return this.logger.debug(n,"jwt attestation"),n}catch(e){this.logger.warn(e)}return""})),rP(this,"resolve",(async e=>{if(this.isDevEnv)return"";const{attestationId:t,hash:r,encryptedId:n}=e;if(""===t)return void this.logger.debug("resolve: attestationId is empty, skipping");if(t){if(Qu(t).payload.id!==n)return;const e=await this.isValidJwtAttestation(t);if(e)return e.isVerified?e:void this.logger.warn("resolve: jwt attestation: origin url not verified")}if(!r)return;const i=this.getVerifyUrl(e?.verifyUrl);return this.fetchAttestation(r,i)})),rP(this,"fetchAttestation",(async(e,t)=>{this.logger.debug(`resolving attestation: ${e} from url: ${t}`);const r=this.startAbortTimer(5*T.ONE_SECOND),n=await fetch(`${t}/attestation/${e}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(r),200===n.status?await n.json():void 0})),rP(this,"getVerifyUrl",(e=>{let t=e||hS;return fS.includes(t)||(this.logger.info(`verify url: ${t}, not included in trusted list, assigning default: ${hS}`),t=hS),t})),rP(this,"fetchPublicKey",(async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const e=this.startAbortTimer(T.FIVE_SECONDS),t=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(e),await t.json()}catch(e){this.logger.warn(e)}})),rP(this,"persistPublicKey",(async e=>{this.logger.debug(e,"persisting public key to local storage"),await this.store.setItem(this.storeKey,e),this.publicKey=e})),rP(this,"removePublicKey",(async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0})),rP(this,"isValidJwtAttestation",(async e=>{const t=await this.getPublicKey();try{if(t)return this.validateAttestation(e,t)}catch(e){this.logger.error(e),this.logger.warn("error validating attestation")}const r=await this.fetchAndPersistPublicKey();try{if(r)return this.validateAttestation(e,r)}catch(e){this.logger.error(e),this.logger.warn("error validating attestation")}})),rP(this,"getPublicKey",(async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey())),rP(this,"fetchAndPersistPublicKey",(async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise((async e=>{const t=await this.fetchPublicKey();t&&(await this.persistPublicKey(t),e(t))}));const e=await this.fetchPromise;return this.fetchPromise=void 0,e})),rP(this,"validateAttestation",((e,t)=>{const r=bE(e,t.publicKey),n={hasExpired:T.toMiliseconds(r.exp)<Date.now(),payload:r};if(n.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:n.payload.origin,isScam:n.payload.isScam,isVerified:n.payload.isVerified}})),this.logger=dg(t,this.name),this.abortController=new AbortController,this.isDevEnv=am(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return lg(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout((()=>this.abortController.abort()),T.toMiliseconds(e))}}var iP=Object.defineProperty,sP=(e,t,r)=>((e,t,r)=>t in e?iP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class oP extends Ex{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,sP(this,"context","echo"),sP(this,"registerDeviceToken",(async e=>{const{clientId:t,token:r,notificationType:n,enableEncrypted:i=!1}=e,s=`https://echo.walletconnect.com/${this.projectId}/clients`;await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:t,type:n,token:r,always_raw:i})})})),this.logger=dg(t,this.context)}}var aP=Object.defineProperty,cP=Object.getOwnPropertySymbols,lP=Object.prototype.hasOwnProperty,dP=Object.prototype.propertyIsEnumerable,uP=(e,t,r)=>t in e?aP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,hP=(e,t)=>{for(var r in t||(t={}))lP.call(t,r)&&uP(e,r,t[r]);if(cP)for(var r of cP(t))dP.call(t,r)&&uP(e,r,t[r]);return e},pP=(e,t,r)=>uP(e,"symbol"!=typeof t?t+"":t,r);class fP extends Ax{constructor(e,t,r=!0){super(e,t,r),this.core=e,this.logger=t,pP(this,"context","event-client"),pP(this,"storagePrefix",SC),pP(this,"storageVersion",.1),pP(this,"events",new Map),pP(this,"shouldPersist",!1),pP(this,"init",(async()=>{if(!am())try{const e={eventId:om(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Zg(this.core.relayer.protocol,this.core.relayer.version,FC)}}};await this.sendEvent([e])}catch(e){this.logger.warn(e)}})),pP(this,"createEvent",(e=>{const{event:t="ERROR",type:r="",properties:{topic:n,trace:i}}=e,s=om(),o=this.core.projectId||"",a=Date.now(),c=hP({eventId:s,timestamp:a,props:{event:t,type:r,properties:{topic:n,trace:i}},bundleId:o,domain:this.getAppDomain()},this.setMethods(s));return this.telemetryEnabled&&(this.events.set(s,c),this.shouldPersist=!0),c})),pP(this,"getEvent",(e=>{const{eventId:t,topic:r}=e;if(t)return this.events.get(t);const n=Array.from(this.events.values()).find((e=>e.props.properties.topic===r));return n?hP(hP({},n),this.setMethods(n.eventId)):void 0})),pP(this,"deleteEvent",(e=>{const{eventId:t}=e;this.events.delete(t),this.shouldPersist=!0})),pP(this,"setEventListeners",(()=>{this.core.heartbeat.on(PA,(async()=>{this.shouldPersist&&await this.persist(),this.events.forEach((e=>{T.fromMiliseconds(Date.now())-T.fromMiliseconds(e.timestamp)>86400&&(this.events.delete(e.eventId),this.shouldPersist=!0)}))}))})),pP(this,"setMethods",(e=>({addTrace:t=>this.addTrace(e,t),setError:t=>this.setError(e,t)}))),pP(this,"addTrace",((e,t)=>{const r=this.events.get(e);r&&(r.props.properties.trace.push(t),this.events.set(e,r),this.shouldPersist=!0)})),pP(this,"setError",((e,t)=>{const r=this.events.get(e);r&&(r.props.type=t,r.timestamp=Date.now(),this.events.set(e,r),this.shouldPersist=!0)})),pP(this,"persist",(async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1})),pP(this,"restore",(async()=>{try{const e=await this.core.storage.getItem(this.storageKey)||[];if(!e.length)return;e.forEach((e=>{this.events.set(e.eventId,hP(hP({},e),this.setMethods(e.eventId)))}))}catch(e){this.logger.warn(e)}})),pP(this,"submit",(async()=>{if(!this.telemetryEnabled||0===this.events.size)return;const e=[];for(const[t,r]of this.events)r.props.type&&e.push(r);if(0!==e.length)try{if((await this.sendEvent(e)).ok)for(const t of e)this.events.delete(t.eventId),this.shouldPersist=!0}catch(e){this.logger.warn(e)}})),pP(this,"sendEvent",(async e=>{const t=this.getAppDomain()?"":"&sp=desktop";return await fetch(`https://pulse.walletconnect.org/batch?projectId=${this.core.projectId}&st=events_sdk&sv=js-${FC}${t}`,{method:"POST",body:JSON.stringify(e)})})),pP(this,"getAppDomain",(()=>Vg().url)),this.logger=dg(t,this.context),this.telemetryEnabled=r,r?this.restore().then((async()=>{await this.submit(),this.setEventListeners()})):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var gP=Object.defineProperty,mP=Object.getOwnPropertySymbols,yP=Object.prototype.hasOwnProperty,wP=Object.prototype.propertyIsEnumerable,bP=(e,t,r)=>t in e?gP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,vP=(e,t)=>{for(var r in t||(t={}))yP.call(t,r)&&bP(e,r,t[r]);if(mP)for(var r of mP(t))wP.call(t,r)&&bP(e,r,t[r]);return e},EP=(e,t,r)=>bP(e,"symbol"!=typeof t?t+"":t,r);class AP extends dx{constructor(e){var t;super(e),EP(this,"protocol","wc"),EP(this,"version",2),EP(this,"name",CC),EP(this,"relayUrl"),EP(this,"projectId"),EP(this,"customStoragePrefix"),EP(this,"events",new i.exports.EventEmitter),EP(this,"logger"),EP(this,"heartbeat"),EP(this,"relayer"),EP(this,"crypto"),EP(this,"storage"),EP(this,"history"),EP(this,"expirer"),EP(this,"pairing"),EP(this,"verify"),EP(this,"echoClient"),EP(this,"linkModeSupportedApps"),EP(this,"eventClient"),EP(this,"initialized",!1),EP(this,"logChunkController"),EP(this,"on",((e,t)=>this.events.on(e,t))),EP(this,"once",((e,t)=>this.events.once(e,t))),EP(this,"off",((e,t)=>this.events.off(e,t))),EP(this,"removeListener",((e,t)=>this.events.removeListener(e,t))),EP(this,"dispatchEnvelope",(({topic:e,message:t,sessionExists:r})=>{if(!e||!t)return;const n={topic:e,message:t,publishedAt:Date.now(),transportType:VC.link_mode};this.relayer.onLinkMessageEvent(n,{sessionExists:r})}));const r=this.getGlobalCore(e?.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(e){console.warn("Failed to copy global core",e)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||OC,this.customStoragePrefix=null!=e&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const n=cg({level:"string"==typeof e?.logger&&e.logger?e.logger:IC,name:CC}),{logger:s,chunkLoggerController:o}=ug({opts:n,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=o,null!=(t=this.logChunkController)&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var e,t;null!=(e=this.logChunkController)&&e.downloadLogsBlobInBrowser&&(null==(t=this.logChunkController)||t.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=dg(s,this.name),this.heartbeat=new TA,this.crypto=new j_(this,this.logger,e?.keychain),this.history=new Jk(this,this.logger),this.expirer=new eP(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new ax(vP(vP({},_C),e?.storageOptions)),this.relayer=new kk({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Kk(this,this.logger),this.verify=new nP(this,this.logger,this.storage),this.echoClient=new oP(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new fP(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const t=new AP(e);await t.initialize();const r=await t.crypto.getClientId();return await t.storage.setItem("WALLETCONNECT_CLIENT_ID",r),t}get context(){return lg(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return null==(e=this.logChunkController)?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(WC,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(WC)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(e,`Core Initialization Failure at epoch ${Date.now()}`),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const t=`_walletConnectCore_${e}`,r=`${t}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[t]}catch(e){return void console.warn("Failed to get global WalletConnect core",e)}}setGlobalCore(e){var t;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${(null==(t=e.opts)?void 0:t.customStoragePrefix)||""}`;globalThis[r]=e}catch(e){console.warn("Failed to set global WalletConnect core",e)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&"true"===process.env.DISABLE_GLOBAL_CORE}catch{return!0}}}const xP=AP,CP="client",SP=`wc@2:${CP}:`,IP=CP,_P="error",kP="WALLETCONNECT_DEEPLINK_CHOICE",PP="Proposal expired",TP=T.SEVEN_DAYS,OP={wc_sessionPropose:{req:{ttl:T.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:T.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:T.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:T.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:T.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:T.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:T.ONE_DAY,prompt:!1,tag:1104},res:{ttl:T.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:T.ONE_DAY,prompt:!1,tag:1106},res:{ttl:T.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:T.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:T.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:T.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:T.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:T.ONE_DAY,prompt:!1,tag:1112},res:{ttl:T.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:T.ONE_DAY,prompt:!1,tag:1114},res:{ttl:T.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:T.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:T.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:T.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:T.FIVE_MINUTES,prompt:!1,tag:1119}}},NP={min:T.FIVE_MINUTES,max:T.SEVEN_DAYS},RP="IDLE",$P="ACTIVE",BP={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},MP=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],UP="wc@1.5:auth:",LP=`${UP}:PUB_KEY`;var DP=Object.defineProperty,jP=Object.defineProperties,HP=Object.getOwnPropertyDescriptors,zP=Object.getOwnPropertySymbols,FP=Object.prototype.hasOwnProperty,VP=Object.prototype.propertyIsEnumerable,ZP=(e,t,r)=>t in e?DP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,qP=(e,t)=>{for(var r in t||(t={}))FP.call(t,r)&&ZP(e,r,t[r]);if(zP)for(var r of zP(t))VP.call(t,r)&&ZP(e,r,t[r]);return e},WP=(e,t)=>jP(e,HP(t)),KP=(e,t,r)=>ZP(e,"symbol"!=typeof t?t+"":t,r);class GP extends Ix{constructor(e){super(e),KP(this,"name","engine"),KP(this,"events",new i.exports),KP(this,"initialized",!1),KP(this,"requestQueue",{state:RP,queue:[]}),KP(this,"sessionRequestQueue",{state:RP,queue:[]}),KP(this,"emittedSessionRequests",new lm({limit:500})),KP(this,"requestQueueDelay",T.ONE_SECOND),KP(this,"expectedPairingMethodMap",new Map),KP(this,"recentlyDeletedMap",new Map),KP(this,"recentlyDeletedLimit",200),KP(this,"relayMessageCache",[]),KP(this,"pendingSessions",new Map),KP(this,"init",(async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(OP)}),this.initialized=!0,setTimeout((async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()}),T.toMiliseconds(this.requestQueueDelay)))})),KP(this,"connect",(async e=>{var t;this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=WP(qP({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=function(e,t){var r,n,i,s,o,a;const c=KE(e),l=KE(t),d={},u=Object.keys(c).concat(Object.keys(l));for(const e of u)d[e]={chains:nm(null==(r=c[e])?void 0:r.chains,null==(n=l[e])?void 0:n.chains),methods:nm(null==(i=c[e])?void 0:i.methods,null==(s=l[e])?void 0:s.methods),events:nm(null==(o=c[e])?void 0:o.events,null==(a=l[e])?void 0:a.events)};return d}(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c,authentication:l,walletPay:d}=r,u=(null==(t=l?.[0])?void 0:t.ttl)||OP.wc_sessionPropose.req.ttl||T.FIVE_MINUTES;this.validateRequestExpiry(u);let h,p=n,f=!1;try{if(p){const e=this.client.core.pairing.pairings.get(p);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),f=e.active}}catch(e){throw this.client.logger.error(`connect() -> pairing.get(${p}) failed`),e}if(!p||!f){const{topic:e,uri:t}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});p=e,h=t}if(!p){const{message:e}=XE("NO_MATCHING_KEY",`connect() pairing topic: ${p}`);throw new Error(e)}const g=await this.client.core.crypto.generateKeyPair(),m=em(u),y=qP(WP(qP(qP({requiredNamespaces:i,optionalNamespaces:s,relays:c??[{protocol:"irn"}],proposer:{publicKey:g,metadata:this.client.metadata},expiryTimestamp:m,pairingTopic:p},o&&{sessionProperties:o}),a&&{scopedProperties:a}),{id:Yx()}),(l||d)&&{requests:{authentication:l?.map((e=>{const{domain:t,chains:r,nonce:n,uri:i,exp:s,nbf:o,type:a,statement:c,requestId:l,resources:d,signatureTypes:u}=e;return{domain:t,chains:r,nonce:n,type:a??"caip122",aud:i,version:"1",iat:(new Date).toISOString(),exp:s,nbf:o,statement:c,requestId:l,resources:d,signatureTypes:u}})),walletPay:d}}),w=rm("session_connect",y.id),{reject:b,resolve:v,done:E}=Yg(u,PP),A=({id:e})=>{e===y.id&&(this.client.events.off("proposal_expire",A),this.pendingSessions.delete(y.id),this.events.emit(w,{error:{message:PP,code:0}}))};return this.client.events.on("proposal_expire",A),this.events.once(w,(({error:e,session:t})=>{this.client.events.off("proposal_expire",A),e?b(e):t&&v(t)})),await this.setProposal(y.id,y),await this.sendProposeSession({proposal:y,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:y.id}}}).catch((e=>{throw this.deleteProposal(y.id),e})),{uri:h,approval:E}})),KP(this,"pair",(async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(e)}catch(e){throw this.client.logger.error("pair() failed"),e}})),KP(this,"approve",(async e=>{var t,r,n;const i=this.client.core.eventClient.createEvent({properties:{topic:null==(t=e?.id)?void 0:t.toString(),trace:[OS]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(e){throw i.setError(jS),e}try{await this.isValidProposalId(e?.id)}catch(t){throw this.client.logger.error(`approve() -> proposal.get(${e?.id}) failed`),i.setError(VS),t}try{await this.isValidApprove(e)}catch(e){throw this.client.logger.error("approve() -> isValidApprove() failed"),i.setError(FS),e}const{id:s,relayProtocol:o,namespaces:a,sessionProperties:c,scopedProperties:l,sessionConfig:d,proposalRequestsResponses:u}=e,h=this.client.proposal.get(s);this.client.core.eventClient.deleteEvent({eventId:i.eventId});const{pairingTopic:p,proposer:f,requiredNamespaces:g,optionalNamespaces:m}=h;let y=null==(r=this.client.core.eventClient)?void 0:r.getEvent({topic:p});y||(y=null==(n=this.client.core.eventClient)?void 0:n.createEvent({type:OS,properties:{topic:p,trace:[OS,NS]}}));const w=await this.client.core.crypto.generateKeyPair(),b=f.publicKey,v=await this.client.core.crypto.generateSharedKey(w,b),E=WP(qP(qP(qP({relay:{protocol:o??"irn"},namespaces:a,controller:{publicKey:w,metadata:this.client.metadata},expiry:em(TP)},c&&{sessionProperties:c}),l&&{scopedProperties:l}),d&&{sessionConfig:d}),{proposalRequestsResponses:u}),A=VC.relay;y.addTrace(RS);try{await this.client.core.relayer.subscribe(v,{transportType:A,internal:{skipSubscribe:!0}})}catch(e){throw y.setError(zS),e}y.addTrace($S);const x=WP(qP({},E),{topic:v,requiredNamespaces:g,optionalNamespaces:m,pairingTopic:p,acknowledged:!1,self:E.controller,peer:{publicKey:f.publicKey,metadata:f.metadata},controller:w,transportType:VC.relay,authentication:u?.authentication,walletPayResult:u?.walletPay});await this.client.session.set(v,x),y.addTrace(MS);try{await this.sendApproveSession({sessionTopic:v,proposal:h,pairingProposalResponse:{relay:{protocol:o??"irn"},responderPublicKey:w},sessionSettleRequest:E,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:qP({correlationId:s},this.getTVFApproveParams(x))}}),y.addTrace(BS)}catch(e){throw this.client.logger.error(e),this.client.session.delete(v,QE("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(v),e}return this.client.core.eventClient.deleteEvent({eventId:y.eventId}),await this.client.core.pairing.updateMetadata({topic:p,metadata:f.metadata}),await this.deleteProposal(s),await this.client.core.pairing.activate({topic:p}),await this.setExpiry(v,em(TP)),{topic:v,acknowledged:()=>Promise.resolve(this.client.session.get(v))}})),KP(this,"reject",(async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(e)}catch(e){throw this.client.logger.error("reject() -> isValidReject() failed"),e}const{id:t,reason:r}=e;let n;try{n=this.client.proposal.get(t).pairingTopic}catch(e){throw this.client.logger.error(`reject() -> proposal.get(${t}) failed`),e}n&&await this.sendError({id:t,topic:n,error:r,rpcOpts:OP.wc_sessionPropose.reject}),await this.deleteProposal(t)})),KP(this,"update",(async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(e)}catch(e){throw this.client.logger.error("update() -> isValidUpdate() failed"),e}const{topic:t,namespaces:r}=e,{done:n,resolve:i,reject:s}=Yg(T.FIVE_MINUTES,"Session update request expired without receiving any acknowledgement"),o=Yx(),a=Jx().toString(),c=this.client.session.get(t).namespaces;return this.events.once(rm("session_update",o),(({error:e})=>{e?s(e):i()})),await this.client.session.update(t,{namespaces:r}),await this.sendRequest({topic:t,method:"wc_sessionUpdate",params:{namespaces:r},throwOnFailedPublish:!0,clientRpcId:o,relayRpcId:a}).catch((e=>{this.client.logger.error(e),this.client.session.update(t,{namespaces:c}),s(e)})),{acknowledged:n}})),KP(this,"extend",(async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(e)}catch(e){throw this.client.logger.error("extend() -> isValidExtend() failed"),e}const{topic:t}=e,r=Yx(),{done:n,resolve:i,reject:s}=Yg(T.FIVE_MINUTES,"Session extend request expired without receiving any acknowledgement");return this.events.once(rm("session_extend",r),(({error:e})=>{e?s(e):i()})),await this.setExpiry(t,em(TP)),this.sendRequest({topic:t,method:"wc_sessionExtend",params:{},clientRpcId:r,throwOnFailedPublish:!0}).catch((e=>{s(e)})),{acknowledged:n}})),KP(this,"request",(async e=>{this.isInitialized();try{await this.isValidRequest(e)}catch(e){throw this.client.logger.error("request() -> isValidRequest() failed"),e}const{chainId:t,request:r,topic:n,expiry:i=OP.wc_sessionRequest.req.ttl}=e,s=this.client.session.get(n);s?.transportType===VC.relay&&await this.confirmOnlineStateOrThrow();const o=Yx(),a=Jx().toString(),{done:c,resolve:l,reject:d}=Yg(i,"Request expired. Please try again.");this.events.once(rm("session_request",o),(({error:e,result:t})=>{e?d(e):l(t)}));const u="wc_sessionRequest",h=this.getAppLinkIfEnabled(s.peer.metadata,s.transportType);if(h)return await this.sendRequest({clientRpcId:o,relayRpcId:a,topic:n,method:u,params:{request:WP(qP({},r),{expiryTimestamp:em(i)}),chainId:t},expiry:i,throwOnFailedPublish:!0,appLink:h}).catch((e=>d(e))),this.client.events.emit("session_request_sent",{topic:n,request:r,chainId:t,id:o}),await c();const p={request:WP(qP({},r),{expiryTimestamp:em(i)}),chainId:t};return await Promise.all([new Promise((async e=>{await this.sendRequest({clientRpcId:o,relayRpcId:a,topic:n,method:u,params:p,expiry:i,throwOnFailedPublish:!0,tvf:this.getTVFParams(o,p)}).catch((e=>d(e))),this.client.events.emit("session_request_sent",{topic:n,request:r,chainId:t,id:o}),e()})),new Promise((async e=>{var t;if(null==(t=s.sessionConfig)||!t.disableDeepLink){const e=await async function(e,t){let r="";try{if(jg()&&(r=localStorage.getItem(t),r))return r;r=await e.getItem(t)}catch(e){console.error(e)}return r}(this.client.core.storage,kP);await im({id:o,topic:n,wcDeepLink:e})}e()})),c()]).then((e=>e[2]))})),KP(this,"respond",(async e=>{var t,r;this.isInitialized();const n=this.client.core.eventClient.createEvent({properties:{topic:e?.topic||(null==(r=null==(t=e?.response)?void 0:t.id)?void 0:r.toString()),trace:[US]}});try{await this.isValidRespond(e)}catch(e){throw n.addTrace(e?.message),n.setError(ZS),e}n.addTrace(LS);const{topic:i,response:s}=e,{id:o}=s,a=this.client.session.get(i);a.transportType===VC.relay&&await this.confirmOnlineStateOrThrow();const c=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);try{n.addTrace(DS),hC(s)?await this.sendResult({id:o,topic:i,result:s.result,throwOnFailedPublish:!0,appLink:c}):pC(s)&&await this.sendError({id:o,topic:i,error:s.error,appLink:c}),this.cleanupAfterResponse(e)}catch(e){throw n.addTrace(e?.message),n.setError(qS),e}})),KP(this,"ping",(async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(e)}catch(e){throw this.client.logger.error("ping() -> isValidPing() failed"),e}const{topic:t}=e;if(this.client.session.keys.includes(t)){const e=Yx(),r=Jx().toString(),{done:n,resolve:i,reject:s}=Yg(T.FIVE_MINUTES,"Ping request expired without receiving any acknowledgement");this.events.once(rm("session_ping",e),(({error:e})=>{e?s(e):i()})),await Promise.all([this.sendRequest({topic:t,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:e,relayRpcId:r}),n()])}else this.client.core.pairing.pairings.keys.includes(t)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:t}))})),KP(this,"emit",(async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(e);const{topic:t,event:r,chainId:n}=e,i=Jx().toString(),s=Yx();await this.sendRequest({topic:t,method:"wc_sessionEvent",params:{event:r,chainId:n},throwOnFailedPublish:!0,relayRpcId:i,clientRpcId:s})})),KP(this,"disconnect",(async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(e);const{topic:t}=e;if(this.client.session.keys.includes(t))await this.sendRequest({topic:t,method:"wc_sessionDelete",params:QE("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:t,emitEvent:!1});else{if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:e}=XE("MISMATCHED_TOPIC",`Session or pairing topic not found: ${t}`);throw new Error(e)}await this.client.core.pairing.disconnect({topic:t})}})),KP(this,"find",(e=>(this.isInitialized(),this.client.session.getAll().filter((t=>function(e,t){const{requiredNamespaces:r}=t,n=Object.keys(e.namespaces),i=Object.keys(r);let s=!0;return!!Wg(i,n)&&(n.forEach((t=>{const{accounts:n,methods:i,events:o}=e.namespaces[t],a=VE(n),c=r[t];Wg(xg(t,c),a)&&Wg(c.methods,i)&&Wg(c.events,o)||(s=!1)})),s)}(t,e)))))),KP(this,"getPendingSessionRequests",(()=>this.client.pendingRequest.getAll())),KP(this,"authenticate",(async(e,t)=>{var r;this.isInitialized(),this.isValidAuthenticate(e);const n=t&&this.client.core.linkModeSupportedApps.includes(t)&&(null==(r=this.client.metadata.redirect)?void 0:r.linkMode),i=n?VC.link_mode:VC.relay;i===VC.relay&&await this.confirmOnlineStateOrThrow();const{chains:s,statement:o="",uri:a,domain:c,nonce:l,type:d,exp:u,nbf:h,methods:p=[],expiry:f}=e,g=[...e.resources||[]],{topic:m,uri:y}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:i});this.client.logger.info({message:"Generated new pairing",pairing:{topic:m,uri:y}});const w=await this.client.core.crypto.generateKeyPair(),b=cE(w);if(await Promise.all([this.client.auth.authKeys.set(LP,{responseTopic:b,publicKey:w}),this.client.auth.pairingTopics.set(b,{topic:b,pairingTopic:m})]),await this.client.core.relayer.subscribe(b,{transportType:i}),this.client.logger.info(`sending request to new pairing topic: ${m}`),p.length>0){const{namespace:e}=Eg(s[0]);let t=Iw(e,"request",p);Tw(g)&&(t=_w(t,g.pop())),g.push(t)}const v=f&&f>OP.wc_sessionAuthenticate.req.ttl?f:OP.wc_sessionAuthenticate.req.ttl,E={authPayload:{type:d??"caip122",chains:s,statement:o,aud:a,domain:c,version:"1",nonce:l,iat:(new Date).toISOString(),exp:u,nbf:h,resources:g},requester:{publicKey:w,metadata:this.client.metadata},expiryTimestamp:em(v)},A={requiredNamespaces:{},optionalNamespaces:{eip155:{chains:s,methods:[...new Set(["personal_sign",...p])],events:["chainChanged","accountsChanged"]}},relays:[{protocol:"irn"}],pairingTopic:m,proposer:{publicKey:w,metadata:this.client.metadata},expiryTimestamp:em(OP.wc_sessionPropose.req.ttl),id:Yx()},{done:x,resolve:C,reject:S}=Yg(v,"Request expired"),I=Yx(),_=rm("session_connect",A.id),k=rm("session_request",I),P=async({error:e,session:t})=>{this.events.off(k,T),e?S(e):t&&C({session:t})},T=async e=>{var r,n,s;if(await this.deletePendingAuthRequest(I,{message:"fulfilled",code:0}),e.error){const t=QE("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return e.error.code===t.code?void 0:(this.events.off(_,P),S(e.error.message))}await this.deleteProposal(A.id),this.events.off(_,P);const{cacaos:o,responder:a}=e.result,c=[],l=[];for(const e of o){await vw({cacao:e,projectId:this.client.core.projectId})||(this.client.logger.error(e,"Signature verification failed"),S(QE("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:t}=e,r=Tw(t.resources),n=[ww(t.iss)],i=bw(t.iss);if(r){const e=kw(r),t=Pw(r);c.push(...e),n.push(...t)}for(const e of n)l.push(`${e}:${i}`)}const d=await this.client.core.crypto.generateSharedKey(w,a.publicKey);let u;c.length>0&&(u={topic:d,acknowledged:!0,self:{publicKey:w,metadata:this.client.metadata},peer:a,controller:a.publicKey,expiry:em(TP),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:m,namespaces:GE([...new Set(c)],[...new Set(l)]),transportType:i},await this.client.core.relayer.subscribe(d,{transportType:i}),await this.client.session.set(d,u),m&&await this.client.core.pairing.updateMetadata({topic:m,metadata:a.metadata}),u=this.client.session.get(d)),null!=(r=this.client.metadata.redirect)&&r.linkMode&&null!=(n=a.metadata.redirect)&&n.linkMode&&null!=(s=a.metadata.redirect)&&s.universal&&t&&(this.client.core.addLinkModeSupportedApp(a.metadata.redirect.universal),this.client.session.update(d,{transportType:VC.link_mode})),C({auths:o,session:u})};let O;this.events.once(_,P),this.events.once(k,T);try{if(n){const e=Xx("wc_sessionAuthenticate",E,I);this.client.core.history.set(m,e);const r=await this.client.core.crypto.encode("",e,{type:2,encoding:sE});O=$E(t,m,r)}else await Promise.all([this.sendRequest({topic:m,method:"wc_sessionAuthenticate",params:E,expiry:e.expiry,throwOnFailedPublish:!0,clientRpcId:I}),this.sendRequest({topic:m,method:"wc_sessionPropose",params:A,expiry:OP.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:A.id})])}catch(e){throw this.events.off(_,P),this.events.off(k,T),e}return await this.setProposal(A.id,A),await this.setAuthRequest(I,{request:WP(qP({},E),{verifyContext:{}}),pairingTopic:m,transportType:i}),{uri:O??y,response:x}})),KP(this,"approveSessionAuthenticate",(async e=>{const{id:t,auths:r}=e,n=this.client.core.eventClient.createEvent({properties:{topic:t.toString(),trace:[WS]}});try{this.isInitialized()}catch(e){throw n.setError(eI),e}const i=this.getPendingAuthRequest(t);if(!i)throw n.setError(iI),new Error(`Could not find pending auth request with id ${t}`);const s=i.transportType||VC.relay;s===VC.relay&&await this.confirmOnlineStateOrThrow();const o=i.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=cE(o),l={type:1,receiverPublicKey:o,senderPublicKey:a},d=[],u=[];for(const e of r){if(!await vw({cacao:e,projectId:this.client.core.projectId})){n.setError(tI);const e=QE("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:t,topic:c,error:e,encodeOpts:l}),new Error(e.message)}n.addTrace(GS);const{p:r}=e,i=Tw(r.resources),s=[ww(r.iss)],o=bw(r.iss);if(i){const e=kw(i),t=Pw(i);d.push(...e),s.push(...t)}for(const e of s)u.push(`${e}:${o}`)}const h=await this.client.core.crypto.generateSharedKey(a,o);let p;if(n.addTrace(KS),d?.length>0){p={topic:h,acknowledged:!0,self:{publicKey:a,metadata:this.client.metadata},peer:{publicKey:o,metadata:i.requester.metadata},controller:o,expiry:em(TP),authentication:r,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:i.pairingTopic,namespaces:GE([...new Set(d)],[...new Set(u)]),transportType:s},n.addTrace(JS);try{await this.client.core.relayer.subscribe(h,{transportType:s})}catch(e){throw n.setError(rI),e}n.addTrace(XS),await this.client.session.set(h,p),n.addTrace(YS),await this.client.core.pairing.updateMetadata({topic:i.pairingTopic,metadata:i.requester.metadata})}n.addTrace(QS);try{await this.sendResult({topic:c,id:t,result:{cacaos:r,responder:{publicKey:a,metadata:this.client.metadata}},encodeOpts:l,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(i.requester.metadata,s)})}catch(e){throw n.setError(nI),e}return await this.client.auth.requests.delete(t,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:i.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:n.eventId}),{session:p}})),KP(this,"rejectSessionAuthenticate",(async e=>{this.isInitialized();const{id:t,reason:r}=e,n=this.getPendingAuthRequest(t);if(!n)throw new Error(`Could not find pending auth request with id ${t}`);n.transportType===VC.relay&&await this.confirmOnlineStateOrThrow();const i=n.requester.publicKey,s=await this.client.core.crypto.generateKeyPair(),o=cE(i),a={type:1,receiverPublicKey:i,senderPublicKey:s};await this.sendError({id:t,topic:o,error:r,encodeOpts:a,rpcOpts:OP.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(n.requester.metadata,n.transportType)}),await this.client.auth.requests.delete(t,{message:"rejected",code:0}),await this.deleteProposal(t)})),KP(this,"formatAuthMessage",(e=>{this.isInitialized();const{request:t,iss:r}=e;return Ew(t,r)})),KP(this,"processRelayMessageCache",(()=>{setTimeout((async()=>{if(0!==this.relayMessageCache.length)for(;this.relayMessageCache.length>0;)try{const e=this.relayMessageCache.shift();e&&await this.onRelayMessage(e)}catch(e){this.client.logger.error(e)}}),50)})),KP(this,"cleanupDuplicatePairings",(async e=>{if(e.pairingTopic)try{const t=this.client.core.pairing.pairings.get(e.pairingTopic),r=this.client.core.pairing.pairings.getAll().filter((r=>{var n,i;return(null==(n=r.peerMetadata)?void 0:n.url)&&(null==(i=r.peerMetadata)?void 0:i.url)===e.peer.metadata.url&&r.topic&&r.topic!==t.topic}));if(0===r.length)return;this.client.logger.info(`Cleaning up ${r.length} duplicate pairing(s)`),await Promise.all(r.map((e=>this.client.core.pairing.disconnect({topic:e.topic})))),this.client.logger.info("Duplicate pairings clean up finished")}catch(e){this.client.logger.error(e)}})),KP(this,"deleteSession",(async e=>{var t;const{topic:r,expirerHasDeleted:n=!1,emitEvent:i=!0,id:s=0}=e,{self:o}=this.client.session.get(r);await this.client.core.relayer.unsubscribe(r),await this.client.session.delete(r,QE("USER_DISCONNECTED")),this.addToRecentlyDeleted(r,"session"),this.client.core.crypto.keychain.has(o.publicKey)&&await this.client.core.crypto.deleteKeyPair(o.publicKey),this.client.core.crypto.keychain.has(r)&&await this.client.core.crypto.deleteSymKey(r),n||this.client.core.expirer.del(r),this.client.core.storage.removeItem(kP).catch((e=>this.client.logger.warn(e))),r===(null==(t=this.sessionRequestQueue.queue[0])?void 0:t.topic)&&(this.sessionRequestQueue.state=RP),await Promise.all(this.getPendingSessionRequests().filter((e=>e.topic===r)).map((e=>this.deletePendingSessionRequest(e.id,QE("USER_DISCONNECTED"))))),i&&this.client.events.emit("session_delete",{id:s,topic:r})})),KP(this,"deleteProposal",(async(e,t)=>{if(t)try{const t=this.client.proposal.get(e),r=this.client.core.eventClient.getEvent({topic:t.pairingTopic});r?.setError(HS)}catch{}await Promise.all([this.client.proposal.delete(e,QE("USER_DISCONNECTED")),t?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"proposal")})),KP(this,"deletePendingSessionRequest",(async(e,t,r=!1)=>{await Promise.all([this.client.pendingRequest.delete(e,t),r?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter((t=>t.id!==e)),r&&(this.sessionRequestQueue.state=RP,this.client.events.emit("session_request_expire",{id:e}))})),KP(this,"deletePendingAuthRequest",(async(e,t,r=!1)=>{await Promise.all([this.client.auth.requests.delete(e,t),r?Promise.resolve():this.client.core.expirer.del(e)])})),KP(this,"setExpiry",(async(e,t)=>{this.client.session.keys.includes(e)&&(this.client.core.expirer.set(e,t),await this.client.session.update(e,{expiry:t}))})),KP(this,"setProposal",(async(e,t)=>{this.client.core.expirer.set(e,em(OP.wc_sessionPropose.req.ttl)),await this.client.proposal.set(e,t)})),KP(this,"setAuthRequest",(async(e,t)=>{const{request:r,pairingTopic:n,transportType:i=VC.relay}=t;this.client.core.expirer.set(e,r.expiryTimestamp),await this.client.auth.requests.set(e,{authPayload:r.authPayload,requester:r.requester,expiryTimestamp:r.expiryTimestamp,id:e,pairingTopic:n,verifyContext:r.verifyContext,transportType:i})})),KP(this,"setPendingSessionRequest",(async e=>{const{id:t,topic:r,params:n,verifyContext:i}=e,s=n.request.expiryTimestamp||em(OP.wc_sessionRequest.req.ttl);this.client.core.expirer.set(t,s),await this.client.pendingRequest.set(t,{id:t,topic:r,params:n,verifyContext:i})})),KP(this,"sendRequest",(async e=>{const{topic:t,method:r,params:n,expiry:i,relayRpcId:s,clientRpcId:o,throwOnFailedPublish:a,appLink:c,tvf:l,publishOpts:d={}}=e,u=Xx(r,n,o);let h;const p=!!c;try{const e=p?sE:iE;h=await this.client.core.crypto.encode(t,u,{encoding:e})}catch(e){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${t} failed`),e}let f;if(MP.includes(r)){const e=lE(JSON.stringify(u)),t=lE(h);f=await this.client.core.verify.register({id:t,decryptedId:e})}const g=qP(qP({},OP[r].req),d);if(g.attestation=f,i&&(g.ttl=i),s&&(g.id=s),this.client.core.history.set(t,u),p){const e=$E(c,t,h);await global.Linking.openURL(e,this.client.name)}else g.tvf=WP(qP({},l),{correlationId:u.id}),a?(g.internal=WP(qP({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(t,h,g)):this.client.core.relayer.publish(t,h,g).catch((e=>this.client.logger.error(e)));return u.id})),KP(this,"sendProposeSession",(async e=>{const{proposal:t,publishOpts:r}=e,n=Xx("wc_sessionPropose",t,t.id);this.client.core.history.set(t.pairingTopic,n);const i=await this.client.core.crypto.encode(t.pairingTopic,n,{encoding:iE}),s=lE(JSON.stringify(n)),o=lE(i),a=await this.client.core.verify.register({id:o,decryptedId:s});await this.client.core.relayer.publishCustom({payload:{pairingTopic:t.pairingTopic,sessionProposal:i},opts:WP(qP({},r),{publishMethod:"wc_proposeSession",attestation:a})})})),KP(this,"sendApproveSession",(async e=>{const{sessionTopic:t,pairingProposalResponse:r,proposal:n,sessionSettleRequest:i,publishOpts:s}=e,o=Qx(n.id,r),a=await this.client.core.crypto.encode(n.pairingTopic,o,{encoding:iE}),c=Xx("wc_sessionSettle",i,s?.id),l=await this.client.core.crypto.encode(t,c,{encoding:iE});this.client.core.history.set(t,c),await this.client.core.relayer.publishCustom({payload:{sessionTopic:t,pairingTopic:n.pairingTopic,sessionProposalResponse:a,sessionSettlementRequest:l},opts:WP(qP({},s),{publishMethod:"wc_approveSession"})})})),KP(this,"sendResult",(async e=>{const{id:t,topic:r,result:n,throwOnFailedPublish:i,encodeOpts:s,appLink:o}=e,a=Qx(t,n);let c;const l=o&&typeof(null==global?void 0:global.Linking)<"u";try{const e=l?sE:iE;c=await this.client.core.crypto.encode(r,a,WP(qP({},s||{}),{encoding:e}))}catch(e){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${r} failed`),e}let d,u;try{d=await this.client.core.history.get(r,t);const e=d.request;try{u=this.getTVFParams(t,e.params,n)}catch(e){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${e?.message}`)}}catch(e){throw this.client.logger.error(`sendResult() -> history.get(${r}, ${t}) failed`),e}if(l){const e=$E(o,r,c);await global.Linking.openURL(e,this.client.name)}else{const e=d.request.method,n=OP[e].res;n.tvf=WP(qP({},u),{correlationId:t}),i?(n.internal=WP(qP({},n.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,c,n)):this.client.core.relayer.publish(r,c,n).catch((e=>this.client.logger.error(e)))}await this.client.core.history.resolve(a)})),KP(this,"sendError",(async e=>{const{id:t,topic:r,error:n,encodeOpts:i,rpcOpts:s,appLink:o}=e,a=eC(t,n);let c;const l=o&&typeof(null==global?void 0:global.Linking)<"u";try{const e=l?sE:iE;c=await this.client.core.crypto.encode(r,a,WP(qP({},i||{}),{encoding:e}))}catch(e){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${r} failed`),e}let d;try{d=await this.client.core.history.get(r,t)}catch(e){throw this.client.logger.error(`sendError() -> history.get(${r}, ${t}) failed`),e}if(l){const e=$E(o,r,c);await global.Linking.openURL(e,this.client.name)}else{const e=d.request.method,t=s||OP[e].res;this.client.core.relayer.publish(r,c,t)}await this.client.core.history.resolve(a)})),KP(this,"cleanup",(async()=>{const e=[],t=[];this.client.session.getAll().forEach((t=>{let r=!1;tm(t.expiry)&&(r=!0),this.client.core.crypto.keychain.has(t.topic)||(r=!0),r&&e.push(t.topic)})),this.client.proposal.getAll().forEach((e=>{tm(e.expiryTimestamp)&&t.push(e.id)})),await Promise.all([...e.map((e=>this.deleteSession({topic:e}))),...t.map((e=>this.deleteProposal(e)))])})),KP(this,"onProviderMessageEvent",(async e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):await this.onRelayMessage(e)})),KP(this,"onRelayEventRequest",(async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()})),KP(this,"processRequestsQueue",(async()=>{if(this.requestQueue.state!==$P){for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=$P;const e=this.requestQueue.queue.shift();if(e)try{await this.processRequest(e)}catch(e){this.client.logger.warn(e)}}this.requestQueue.state=RP}else this.client.logger.info("Request queue already active, skipping...")})),KP(this,"processRequest",(async e=>{const{topic:t,payload:r,attestation:n,transportType:i,encryptedId:s}=e,o=r.method;if(!this.shouldIgnorePairingRequest({topic:t,requestMethod:o}))switch(o){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:t,payload:r,attestation:n,encryptedId:s});case"wc_sessionSettle":return await this.onSessionSettleRequest(t,r);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(t,r);case"wc_sessionExtend":return await this.onSessionExtendRequest(t,r);case"wc_sessionPing":return await this.onSessionPingRequest(t,r);case"wc_sessionDelete":return await this.onSessionDeleteRequest(t,r);case"wc_sessionRequest":return await this.onSessionRequest({topic:t,payload:r,attestation:n,encryptedId:s,transportType:i});case"wc_sessionEvent":return await this.onSessionEventRequest(t,r);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:t,payload:r,attestation:n,encryptedId:s,transportType:i});default:return this.client.logger.info(`Unsupported request method ${o}`)}})),KP(this,"onRelayEventResponse",(async e=>{const{topic:t,payload:r,transportType:n}=e,i=(await this.client.core.history.get(t,r.id)).request.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeResponse(t,r,n);case"wc_sessionSettle":return this.onSessionSettleResponse(t,r);case"wc_sessionUpdate":return this.onSessionUpdateResponse(t,r);case"wc_sessionExtend":return this.onSessionExtendResponse(t,r);case"wc_sessionPing":return this.onSessionPingResponse(t,r);case"wc_sessionRequest":return this.onSessionRequestResponse(t,r);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(t,r);default:return this.client.logger.info(`Unsupported response method ${i}`)}})),KP(this,"onRelayEventUnknownPayload",(e=>{const{topic:t}=e,{message:r}=XE("MISSING_OR_INVALID",`Decoded payload on topic ${t} is not identifiable as a JSON-RPC request or a response.`);throw new Error(r)})),KP(this,"shouldIgnorePairingRequest",(e=>{const{topic:t,requestMethod:r}=e,n=this.expectedPairingMethodMap.get(t);return!(!n||n.includes(r))&&!!(n.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)})),KP(this,"onSessionProposeRequest",(async e=>{const{topic:t,payload:r,attestation:n,encryptedId:i}=e,{params:s,id:o}=r;try{const e=this.client.core.eventClient.getEvent({topic:t});0===this.client.events.listenerCount("session_proposal")&&(console.warn("No listener for session_proposal event"),e?.setError(TS)),this.isValidConnect(qP({},r.params));const a=s.expiryTimestamp||em(OP.wc_sessionPropose.req.ttl),c=qP({id:o,pairingTopic:t,expiryTimestamp:a,attestation:n,encryptedId:i},s);await this.setProposal(o,c);const l=await this.getVerifyContext({attestationId:n,hash:lE(JSON.stringify(r)),encryptedId:i,metadata:c.proposer.metadata});e?.addTrace(CS),this.client.events.emit("session_proposal",{id:o,params:c,verifyContext:l})}catch(e){await this.sendError({id:o,topic:t,error:e,rpcOpts:OP.wc_sessionPropose.autoReject}),this.client.logger.error(e)}})),KP(this,"onSessionProposeResponse",(async(e,t,r)=>{const{id:n}=t;if(hC(t)){const{result:i}=t;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:i});const s=this.client.proposal.get(n);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:s});const o=s.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:o});const a=i.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:a});const c=await this.client.core.crypto.generateSharedKey(o,a);this.pendingSessions.set(n,{sessionTopic:c,pairingTopic:e,proposalId:n,publicKey:o});const l=await this.client.core.relayer.subscribe(c,{transportType:r});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:l}),await this.client.core.pairing.activate({topic:e})}else if(pC(t)){await this.deleteProposal(n);const e=rm("session_connect",n);if(0===this.events.listenerCount(e))throw new Error(`emitting ${e} without any listeners, 954`);this.events.emit(e,{error:t.error})}})),KP(this,"onSessionSettleRequest",(async(e,t)=>{const{id:r,params:n}=t;try{this.isValidSessionSettleRequest(n);const{relay:r,controller:i,expiry:s,namespaces:o,sessionProperties:a,scopedProperties:c,sessionConfig:l,proposalRequestsResponses:d}=t.params,u=[...this.pendingSessions.values()].find((t=>t.sessionTopic===e));if(!u)return this.client.logger.error(`Pending session not found for topic ${e}`);const h=this.client.proposal.get(u.proposalId),p=WP(qP(qP(qP({topic:e,relay:r,expiry:s,namespaces:o,acknowledged:!0,pairingTopic:u.pairingTopic,requiredNamespaces:h.requiredNamespaces,optionalNamespaces:h.optionalNamespaces,controller:i.publicKey,self:{publicKey:u.publicKey,metadata:this.client.metadata},peer:{publicKey:i.publicKey,metadata:i.metadata}},a&&{sessionProperties:a}),c&&{scopedProperties:c}),l&&{sessionConfig:l}),{transportType:VC.relay,authentication:d?.authentication,walletPayResult:d?.walletPay});await this.client.session.set(p.topic,p),await this.setExpiry(p.topic,p.expiry),await this.client.core.pairing.updateMetadata({topic:u.pairingTopic,metadata:p.peer.metadata}),this.pendingSessions.delete(u.proposalId),this.deleteProposal(u.proposalId,!1),this.cleanupDuplicatePairings(p),await this.sendResult({id:t.id,topic:e,throwOnFailedPublish:!0,result:!0}),this.client.events.emit("session_connect",{session:p}),this.events.emit(rm("session_connect",u.proposalId),{session:p})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}})),KP(this,"onSessionSettleResponse",(async(e,t)=>{const{id:r}=t;hC(t)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit(rm("session_approve",r),{})):pC(t)&&(await this.client.session.delete(e,QE("USER_DISCONNECTED")),this.events.emit(rm("session_approve",r),{error:t.error}))})),KP(this,"onSessionUpdateRequest",(async(e,t)=>{const{params:r,id:n}=t;try{const t=`${e}_session_update`,i=EA.get(t);if(i&&this.isRequestOutOfSync(i,n))return this.client.logger.warn(`Discarding out of sync request - ${n}`),void this.sendError({id:n,topic:e,error:QE("INVALID_UPDATE_REQUEST")});this.isValidUpdate(qP({topic:e},r));try{EA.set(t,n),await this.client.session.update(e,{namespaces:r.namespaces}),await this.sendResult({id:n,topic:e,result:!0})}catch(e){throw EA.delete(t),e}this.client.events.emit("session_update",{id:n,topic:e,params:r})}catch(t){await this.sendError({id:n,topic:e,error:t}),this.client.logger.error(t)}})),KP(this,"isRequestOutOfSync",((e,t)=>t.toString().slice(0,-3)<e.toString().slice(0,-3))),KP(this,"onSessionUpdateResponse",((e,t)=>{const{id:r}=t,n=rm("session_update",r);if(0===this.events.listenerCount(n))throw new Error(`emitting ${n} without any listeners`);hC(t)?this.events.emit(rm("session_update",r),{}):pC(t)&&this.events.emit(rm("session_update",r),{error:t.error})})),KP(this,"onSessionExtendRequest",(async(e,t)=>{const{id:r}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,em(TP)),await this.sendResult({id:r,topic:e,result:!0}),this.client.events.emit("session_extend",{id:r,topic:e})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}})),KP(this,"onSessionExtendResponse",((e,t)=>{const{id:r}=t,n=rm("session_extend",r);if(0===this.events.listenerCount(n))throw new Error(`emitting ${n} without any listeners`);hC(t)?this.events.emit(rm("session_extend",r),{}):pC(t)&&this.events.emit(rm("session_extend",r),{error:t.error})})),KP(this,"onSessionPingRequest",(async(e,t)=>{const{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:r,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:r,topic:e})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}})),KP(this,"onSessionPingResponse",((e,t)=>{const{id:r}=t,n=rm("session_ping",r);setTimeout((()=>{if(0===this.events.listenerCount(n))throw new Error(`emitting ${n} without any listeners 2176`);hC(t)?this.events.emit(rm("session_ping",r),{}):pC(t)&&this.events.emit(rm("session_ping",r),{error:t.error})}),500)})),KP(this,"onSessionDeleteRequest",(async(e,t)=>{const{id:r}=t;try{await this.isValidDisconnect({topic:e,reason:t.params}),this.cleanupPendingSentRequestsForTopic({topic:e,error:QE("USER_DISCONNECTED")}),await this.deleteSession({topic:e,id:r})}catch(e){this.client.logger.error(e)}})),KP(this,"onSessionRequest",(async e=>{var t,r,n;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=e,{id:l,params:d}=s;try{await this.isValidRequest(qP({topic:i},d));const e=this.client.session.get(i),s={id:l,topic:i,params:d,verifyContext:await this.getVerifyContext({attestationId:o,hash:lE(JSON.stringify(Xx("wc_sessionRequest",d,l))),encryptedId:a,metadata:e.peer.metadata,transportType:c})};await this.setPendingSessionRequest(s),c===VC.link_mode&&null!=(t=e.peer.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(null==(r=e.peer.metadata.redirect)?void 0:r.universal),null!=(n=this.client.signConfig)&&n.disableRequestQueue?this.emitSessionRequest(s):(this.addSessionRequestToSessionRequestQueue(s),this.processSessionRequestQueue())}catch(e){await this.sendError({id:l,topic:i,error:e}),this.client.logger.error(e)}})),KP(this,"onSessionRequestResponse",((e,t)=>{const{id:r}=t,n=rm("session_request",r);if(0===this.events.listenerCount(n))throw new Error(`emitting ${n} without any listeners`);hC(t)?this.events.emit(rm("session_request",r),{result:t.result}):pC(t)&&this.events.emit(rm("session_request",r),{error:t.error})})),KP(this,"onSessionEventRequest",(async(e,t)=>{const{id:r,params:n}=t;try{const t=`${e}_session_event_${n.event.name}`,i=EA.get(t);if(i&&this.isRequestOutOfSync(i,r))return void this.client.logger.info(`Discarding out of sync request - ${r}`);this.isValidEmit(qP({topic:e},n)),this.client.events.emit("session_event",{id:r,topic:e,params:n}),EA.set(t,r)}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}})),KP(this,"onSessionAuthenticateResponse",((e,t)=>{const{id:r}=t;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:e,payload:t}),hC(t)?this.events.emit(rm("session_request",r),{result:t.result}):pC(t)&&this.events.emit(rm("session_request",r),{error:t.error})})),KP(this,"onSessionAuthenticateRequest",(async e=>{var t;const{topic:r,payload:n,attestation:i,encryptedId:s,transportType:o}=e;try{const{requester:e,authPayload:a,expiryTimestamp:c}=n.params,l=await this.getVerifyContext({attestationId:i,hash:lE(JSON.stringify(n)),encryptedId:s,metadata:e.metadata,transportType:o}),d={requester:e,pairingTopic:r,id:n.id,authPayload:a,verifyContext:l,expiryTimestamp:c};await this.setAuthRequest(n.id,{request:d,pairingTopic:r,transportType:o}),o===VC.link_mode&&null!=(t=e.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(e.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:r,params:n.params,id:n.id,verifyContext:l})}catch(e){this.client.logger.error(e);const t=n.params.requester.publicKey,i=await this.client.core.crypto.generateKeyPair(),s=this.getAppLinkIfEnabled(n.params.requester.metadata,o),a={type:1,receiverPublicKey:t,senderPublicKey:i};await this.sendError({id:n.id,topic:r,error:e,encodeOpts:a,rpcOpts:OP.wc_sessionAuthenticate.autoReject,appLink:s})}})),KP(this,"addSessionRequestToSessionRequestQueue",(e=>{this.sessionRequestQueue.queue.push(e)})),KP(this,"cleanupAfterResponse",(e=>{this.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout((()=>{this.sessionRequestQueue.state=RP,this.processSessionRequestQueue()}),T.toMiliseconds(this.requestQueueDelay))})),KP(this,"cleanupPendingSentRequestsForTopic",(({topic:e,error:t})=>{const r=this.client.core.history.pending;r.length>0&&r.filter((t=>t.topic===e&&"wc_sessionRequest"===t.request.method)).forEach((e=>{this.events.emit(rm("session_request",e.request.id),{error:t})}))})),KP(this,"processSessionRequestQueue",(()=>{if(this.sessionRequestQueue.state===$P)return void this.client.logger.info("session request queue is already active.");const e=this.sessionRequestQueue.queue[0];if(e)try{this.emitSessionRequest(e)}catch(e){this.client.logger.error(e)}else this.client.logger.info("session request queue is empty.")})),KP(this,"emitSessionRequest",(e=>{this.emittedSessionRequests.has(e.id)?this.client.logger.warn({id:e.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${e.id}`):(this.sessionRequestQueue.state=$P,this.emittedSessionRequests.add(e.id),this.client.events.emit("session_request",e))})),KP(this,"onPairingCreated",(e=>{if(e.methods&&this.expectedPairingMethodMap.set(e.topic,e.methods),e.active)return;const t=this.client.proposal.getAll().find((t=>t.pairingTopic===e.topic));t&&this.onSessionProposeRequest({topic:e.topic,payload:Xx("wc_sessionPropose",WP(qP({},t),{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties,scopedProperties:t.scopedProperties}),t.id),attestation:t.attestation,encryptedId:t.encryptedId})})),KP(this,"isValidConnect",(async e=>{if(!hA(e)){const{message:t}=XE("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(e)}`);throw new Error(t)}const{pairingTopic:t,requiredNamespaces:r,optionalNamespaces:n,sessionProperties:i,scopedProperties:s,relays:o}=e;if(rA(t)||await this.isValidPairingTopic(t),!function(e,t){let r=!1;return t&&!e?r=!0:e&&eA(e)&&e.length&&e.forEach((e=>{r=uA(e)})),r}(o,!0)){const{message:e}=XE("MISSING_OR_INVALID",`connect() relays: ${o}`);throw new Error(e)}if(r&&!rA(r)&&0!==tA(r)){const e="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(e):this.client.logger.warn(e),this.validateNamespaces(r,"requiredNamespaces")}if(n&&!rA(n)&&0!==tA(n)&&this.validateNamespaces(n,"optionalNamespaces"),i&&!rA(i)&&this.validateSessionProps(i,"sessionProperties"),s&&!rA(s)){this.validateSessionProps(s,"scopedProperties");const e=Object.keys(r||{}).concat(Object.keys(n||{}));if(!Object.keys(s).every((t=>e.includes(t.split(":")[0]))))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(s)}, required/optional namespaces: ${JSON.stringify(e)}`)}})),KP(this,"validateNamespaces",((e,t)=>{const r=function(e,t,r){let n=null;if(e&&tA(e)){const i=lA(e,t);i&&(n=i);const s=aA(e,t,r);s&&(n=s)}else n=XE("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return n}(e,"connect()",t);if(r)throw new Error(r.message)})),KP(this,"isValidApprove",(async e=>{if(!hA(e))throw new Error(XE("MISSING_OR_INVALID",`approve() params: ${e}`).message);const{id:t,namespaces:r,relayProtocol:n,sessionProperties:i,scopedProperties:s}=e;this.checkRecentlyDeleted(t),await this.isValidProposalId(t);const o=this.client.proposal.get(t),a=dA(r,"approve()");if(a)throw new Error(a.message);const c=mA(o.requiredNamespaces,r,"approve()");if(c)throw new Error(c.message);if(!nA(n,!0)){const{message:e}=XE("MISSING_OR_INVALID",`approve() relayProtocol: ${n}`);throw new Error(e)}if(i&&!rA(i)&&this.validateSessionProps(i,"sessionProperties"),s&&!rA(s)){this.validateSessionProps(s,"scopedProperties");const e=new Set(Object.keys(r));if(!Object.keys(s).every((t=>e.has(t.split(":")[0]))))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(s)}, approved namespaces: ${Array.from(e).join(", ")}`)}})),KP(this,"isValidReject",(async e=>{if(!hA(e)){const{message:t}=XE("MISSING_OR_INVALID",`reject() params: ${e}`);throw new Error(t)}const{id:t,reason:r}=e;if(this.checkRecentlyDeleted(t),await this.isValidProposalId(t),!function(e){return!!(e&&"object"==typeof e&&e.code&&iA(e.code,!1)&&e.message&&nA(e.message,!1))}(r)){const{message:e}=XE("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(r)}`);throw new Error(e)}})),KP(this,"isValidSessionSettleRequest",(e=>{if(!hA(e)){const{message:t}=XE("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${e}`);throw new Error(t)}const{relay:t,controller:r,namespaces:n,expiry:i}=e;if(!uA(t)){const{message:e}=XE("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(e)}const s=function(e,t){let r=null;return nA(e?.publicKey,!1)||(r=XE("MISSING_OR_INVALID",`${t} controller public key should be a string`)),r}(r,"onSessionSettleRequest()");if(s)throw new Error(s.message);const o=dA(n,"onSessionSettleRequest()");if(o)throw new Error(o.message);if(tm(i)){const{message:e}=XE("EXPIRED","onSessionSettleRequest()");throw new Error(e)}})),KP(this,"isValidUpdate",(async e=>{if(!hA(e)){const{message:t}=XE("MISSING_OR_INVALID",`update() params: ${e}`);throw new Error(t)}const{topic:t,namespaces:r}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const n=this.client.session.get(t),i=dA(r,"update()");if(i)throw new Error(i.message);const s=mA(n.requiredNamespaces,r,"update()");if(s)throw new Error(s.message)})),KP(this,"isValidExtend",(async e=>{if(!hA(e)){const{message:t}=XE("MISSING_OR_INVALID",`extend() params: ${e}`);throw new Error(t)}const{topic:t}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t)})),KP(this,"isValidRequest",(async e=>{if(!hA(e)){const{message:t}=XE("MISSING_OR_INVALID",`request() params: ${e}`);throw new Error(t)}const{topic:t,request:r,chainId:n,expiry:i}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const{namespaces:s}=this.client.session.get(t);if(!pA(s,n)){const{message:e}=XE("MISSING_OR_INVALID",`request() chainId: ${n}`);throw new Error(e)}if(!function(e){return!(rA(e)||!nA(e.method,!1))}(r)){const{message:e}=XE("MISSING_OR_INVALID",`request() ${JSON.stringify(r)}`);throw new Error(e)}if(!fA(s,n,r.method)){const{message:e}=XE("MISSING_OR_INVALID",`request() method: ${r.method}`);throw new Error(e)}this.validateRequestExpiry(i)})),KP(this,"isValidRespond",(async e=>{var t;if(!hA(e)){const{message:t}=XE("MISSING_OR_INVALID",`respond() params: ${e}`);throw new Error(t)}const{topic:r,response:n}=e;try{await this.isValidSessionTopic(r)}catch(r){throw null!=(t=e?.response)&&t.id&&this.cleanupAfterResponse(e),r}if(!function(e){return!(rA(e)||rA(e.result)&&rA(e.error)||!iA(e.id,!1)||!nA(e.jsonrpc,!1))}(n)){const{message:e}=XE("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(n)}`);throw new Error(e)}const i=this.client.pendingRequest.get(n.id);if(i.topic!==r){const{message:e}=XE("MISMATCHED_TOPIC",`Request response topic mismatch. reqId: ${n.id}, expected topic: ${i.topic}, received topic: ${r}`);throw new Error(e)}})),KP(this,"isValidPing",(async e=>{if(!hA(e)){const{message:t}=XE("MISSING_OR_INVALID",`ping() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)})),KP(this,"isValidEmit",(async e=>{if(!hA(e)){const{message:t}=XE("MISSING_OR_INVALID",`emit() params: ${e}`);throw new Error(t)}const{topic:t,event:r,chainId:n}=e;await this.isValidSessionTopic(t);const{namespaces:i}=this.client.session.get(t);if(!pA(i,n)){const{message:e}=XE("MISSING_OR_INVALID",`emit() chainId: ${n}`);throw new Error(e)}if(!function(e){return!(rA(e)||!nA(e.name,!1))}(r)){const{message:e}=XE("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(r)}`);throw new Error(e)}if(!gA(i,n,r.name)){const{message:e}=XE("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(r)}`);throw new Error(e)}})),KP(this,"isValidDisconnect",(async e=>{if(!hA(e)){const{message:t}=XE("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)})),KP(this,"isValidAuthenticate",(e=>{const{chains:t,uri:r,domain:n,nonce:i}=e;if(!Array.isArray(t)||0===t.length)throw new Error("chains is required and must be a non-empty array");if(!nA(r,!1))throw new Error("uri is required parameter");if(!nA(n,!1))throw new Error("domain is required parameter");if(!nA(i,!1))throw new Error("nonce is required parameter");if([...new Set(t.map((e=>Eg(e).namespace)))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:s}=Eg(t[0]);if("eip155"!==s)throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")})),KP(this,"getVerifyContext",(async e=>{const{attestationId:t,hash:r,encryptedId:n,metadata:i,transportType:s}=e,o={verified:{verifyUrl:i.verifyUrl||hS,validation:"UNKNOWN",origin:i.url||""}};try{if(s===VC.link_mode){const e=this.getAppLinkIfEnabled(i,s);return o.verified.validation=e&&new URL(e).origin===new URL(i.url).origin?"VALID":"INVALID",o}const e=await this.client.core.verify.resolve({attestationId:t,hash:r,encryptedId:n,verifyUrl:i.verifyUrl});e&&(o.verified.origin=e.origin,o.verified.isScam=e.isScam,o.verified.validation=e.origin===new URL(i.url).origin?"VALID":"INVALID")}catch(e){this.client.logger.warn(e)}return this.client.logger.debug(`Verify context: ${JSON.stringify(o)}`),o})),KP(this,"validateSessionProps",((e,t)=>{Object.values(e).forEach(((r,n)=>{if(null==r){const{message:i}=XE("MISSING_OR_INVALID",`${t} must contain an existing value for each key. Received: ${r} for key ${Object.keys(e)[n]}`);throw new Error(i)}}))})),KP(this,"getPendingAuthRequest",(e=>{const t=this.client.auth.requests.get(e);return"object"==typeof t?t:void 0})),KP(this,"addToRecentlyDeleted",((e,t)=>{if(this.recentlyDeletedMap.set(e,t),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let e=0;const t=this.recentlyDeletedLimit/2;for(const r of this.recentlyDeletedMap.keys()){if(e++>=t)break;this.recentlyDeletedMap.delete(r)}}})),KP(this,"checkRecentlyDeleted",(e=>{const t=this.recentlyDeletedMap.get(e);if(t){const{message:r}=XE("MISSING_OR_INVALID",`Record was recently deleted - ${t}: ${e}`);throw new Error(r)}})),KP(this,"isLinkModeEnabled",((e,t)=>{var r,n,i,s,o,a,c,l,d;return!(!e||t!==VC.link_mode)&&(!0===(null==(n=null==(r=this.client.metadata)?void 0:r.redirect)?void 0:n.linkMode)&&void 0!==(null==(s=null==(i=this.client.metadata)?void 0:i.redirect)?void 0:s.universal)&&""!==(null==(a=null==(o=this.client.metadata)?void 0:o.redirect)?void 0:a.universal)&&void 0!==(null==(c=e?.redirect)?void 0:c.universal)&&""!==(null==(l=e?.redirect)?void 0:l.universal)&&!0===(null==(d=e?.redirect)?void 0:d.linkMode)&&this.client.core.linkModeSupportedApps.includes(e.redirect.universal)&&typeof(null==global?void 0:global.Linking)<"u")})),KP(this,"getAppLinkIfEnabled",((e,t)=>{var r;return this.isLinkModeEnabled(e,t)?null==(r=e?.redirect)?void 0:r.universal:void 0})),KP(this,"handleLinkModeMessage",(({url:e})=>{if(!e||!e.includes("wc_ev")||!e.includes("topic"))return;const t=sm(e,"topic")||"",r=decodeURIComponent(sm(e,"wc_ev")||""),n=this.client.session.keys.includes(t);n&&this.client.session.update(t,{transportType:VC.link_mode}),this.client.core.dispatchEnvelope({topic:t,message:r,sessionExists:n})})),KP(this,"registerLinkModeListeners",(async()=>{var e;if(am()||Dg()&&null!=(e=this.client.metadata.redirect)&&e.linkMode){const e=null==global?void 0:global.Linking;if(typeof e<"u"){e.addEventListener("url",this.handleLinkModeMessage,this.client.name);const t=await e.getInitialURL();t&&setTimeout((()=>{this.handleLinkModeMessage({url:t})}),50)}}})),KP(this,"getTVFApproveParams",(e=>{try{const t=ZE(e.namespaces),r=function(e){const t=[];return Object.values(e).forEach((e=>{t.push(...e.methods)})),[...new Set(t)]}(e.namespaces),n=function(e){const t=[];return Object.values(e).forEach((e=>{t.push(...e.events)})),[...new Set(t)]}(e.namespaces),i=e.sessionProperties;return{approvedChains:t,approvedMethods:r,approvedEvents:n,sessionProperties:i,scopedProperties:e.scopedProperties}}catch(e){return this.client.logger.warn(e,"Error getting TVF approve params"),{}}})),KP(this,"getTVFParams",((e,t,r)=>{var n,i,s;if(null==(n=t.request)||!n.method)return{};const o={correlationId:e,rpcMethods:[t.request.method],chainId:t.chainId};try{const e=this.extractTxHashesFromResult(t.request,r);o.txHashes=e,o.contractAddresses=this.isValidContractData(t.request.params)?[null==(s=null==(i=t.request.params)?void 0:i[0])?void 0:s.to]:[]}catch(e){this.client.logger.warn(e,"Error getting TVF params")}return o})),KP(this,"isValidContractData",(e=>{var t;if(!e)return!1;try{const r=e?.data||(null==(t=e?.[0])?void 0:t.data);if(!r.startsWith("0x"))return!1;const n=r.slice(2);return!!/^[0-9a-fA-F]*$/.test(n)&&n.length%2==0}catch{}return!1})),KP(this,"extractTxHashesFromResult",((e,t)=>{var r;try{if(!t)return[];const n=e.method,i=BP[n];if("sui_signTransaction"===n)return[nw(t.transactionBytes)];if("near_signTransaction"===n)return[iw(t)];if("near_signTransactions"===n)return t.map((e=>iw(e)));if("xrpl_signTransactionFor"===n||"xrpl_signTransaction"===n)return[null==(r=t.tx_json)?void 0:r.hash];if("polkadot_signTransaction"===n)return[CA({transaction:e.params.transactionPayload,signature:t.signature})];if("algo_signTxn"===n)return eA(t)?t.map((e=>sw(e))):[sw(t)];if("cosmos_signDirect"===n)return[aw(t)];if("wallet_sendCalls"===n)return function(e){var t,r;const n=[];try{if("string"==typeof e)return n.push(e),n;if("object"!=typeof e)return n;null!=e&&e.id&&n.push(e.id);const i=null==(r=null==(t=e?.capabilities)?void 0:t.caip345)?void 0:r.transactionHashes;i&&n.push(...i)}catch(e){console.warn("getWalletSendCallsHashes failed: ",e)}return n}(t);if("string"==typeof t)return[t];const s=t[i.key];if(eA(s))return"solana_signAllTransactions"===n?s.map((e=>function(e){const t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);const n=r[0];if(0===n)throw new Error("No signatures found");const i=1+64*n;if(r.length<i)throw new Error("Transaction data too short for claimed signature count");if(r.length<100)throw new Error("Transaction too short");const s=Buffer.from(e,"base64").slice(1,65);return sc.encode(s)}(e))):s;if("string"==typeof s)return[s]}catch(e){this.client.logger.warn(e,"Error extracting tx hashes from result")}return[]}))}async processPendingMessageEvents(){try{const e=this.client.session.keys,t=this.client.core.relayer.messages.getWithoutAck(e);for(const[e,r]of Object.entries(t))for(const t of r)try{await this.onProviderMessageEvent({topic:e,message:t,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${e}, message: ${t}`)}}catch(e){this.client.logger.warn(e,"processPendingMessageEvents failed")}}isInitialized(){if(!this.initialized){const{message:e}=XE("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(NC,(e=>{this.onProviderMessageEvent(e)}))}async onRelayMessage(e){const{topic:t,message:r,attestation:n,transportType:i}=e,{publicKey:s}=this.client.auth.authKeys.keys.includes(LP)?this.client.auth.authKeys.get(LP):{responseTopic:void 0,publicKey:void 0};try{const e=await this.client.core.crypto.decode(t,r,{receiverPublicKey:s,encoding:i===VC.link_mode?sE:iE});dC(e)?(this.client.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e,attestation:n,transportType:i,encryptedId:lE(r)})):uC(e)?(await this.client.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e,transportType:i}),this.client.core.history.delete(t,e.id)):(this.client.logger.error(`onRelayMessage() -> unknown payload: ${JSON.stringify(e)}`),await this.onRelayEventUnknownPayload({topic:t,payload:e,transportType:i})),await this.client.core.relayer.messages.ack(t,r)}catch(e){this.client.logger.error(`onRelayMessage() -> failed to process an inbound message: ${r}`),this.client.logger.error(e)}}registerExpirerEvents(){this.client.core.expirer.on(lS,(async e=>{const{topic:t,id:r}=Qg(e.target);return r&&this.client.pendingRequest.keys.includes(r)?await this.deletePendingSessionRequest(r,XE("EXPIRED"),!0):r&&this.client.auth.requests.keys.includes(r)?await this.deletePendingAuthRequest(r,XE("EXPIRED"),!0):void(t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r})))}))}registerPairingEvents(){this.client.core.pairing.events.on(QC,(e=>this.onPairingCreated(e))),this.client.core.pairing.events.on(tS,(e=>{this.addToRecentlyDeleted(e.topic,"pairing")}))}isValidPairingTopic(e){if(!nA(e,!1)){const{message:t}=XE("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=XE("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(tm(this.client.core.pairing.pairings.get(e).expiry)){const{message:t}=XE("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}async isValidSessionTopic(e){if(!nA(e,!1)){const{message:t}=XE("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(t)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:t}=XE("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(t)}if(tm(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:t}=XE("EXPIRED",`session topic: ${e}`);throw new Error(t)}if(!this.client.core.crypto.keychain.has(e)){const{message:t}=XE("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else{if(!this.client.core.pairing.pairings.keys.includes(e)){if(nA(e,!1)){const{message:t}=XE("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(t)}{const{message:t}=XE("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(t)}}this.isValidPairingTopic(e)}}async isValidProposalId(e){if(!function(e){return"number"==typeof e}(e)){const{message:t}=XE("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(t)}if(!this.client.proposal.keys.includes(e)){const{message:t}=XE("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(t)}if(tm(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:t}=XE("EXPIRED",`proposal id: ${e}`);throw new Error(t)}}validateRequestExpiry(e){if(e&&!function(e,t){return iA(e,!1)&&e<=t.max&&e>=t.min}(e,NP)){const{message:t}=XE("MISSING_OR_INVALID",`request() expiry: ${e}. Expiry must be a number (in seconds) between ${NP.min} and ${NP.max}`);throw new Error(t)}}}class YP extends Zk{constructor(e,t){super(e,t,"proposal",SP),this.core=e,this.logger=t}}class JP extends Zk{constructor(e,t){super(e,t,"session",SP),this.core=e,this.logger=t}}class XP extends Zk{constructor(e,t){super(e,t,"request",SP,(e=>e.id)),this.core=e,this.logger=t}}class QP extends Zk{constructor(e,t){super(e,t,"authKeys",UP,(()=>LP)),this.core=e,this.logger=t}}class eT extends Zk{constructor(e,t){super(e,t,"pairingTopics",UP),this.core=e,this.logger=t}}class tT extends Zk{constructor(e,t){super(e,t,"requests",UP,(e=>e.id)),this.core=e,this.logger=t}}var rT=Object.defineProperty,nT=(e,t,r)=>((e,t,r)=>t in e?rT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class iT{constructor(e,t){this.core=e,this.logger=t,nT(this,"authKeys"),nT(this,"pairingTopics"),nT(this,"requests"),this.authKeys=new QP(this.core,this.logger),this.pairingTopics=new eT(this.core,this.logger),this.requests=new tT(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var sT=Object.defineProperty,oT=(e,t,r)=>((e,t,r)=>t in e?sT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class aT extends Sx{constructor(e){super(e),oT(this,"protocol","wc"),oT(this,"version",2),oT(this,"name",IP),oT(this,"metadata"),oT(this,"core"),oT(this,"logger"),oT(this,"events",new i.exports.EventEmitter),oT(this,"engine"),oT(this,"session"),oT(this,"proposal"),oT(this,"pendingRequest"),oT(this,"auth"),oT(this,"signConfig"),oT(this,"on",((e,t)=>this.events.on(e,t))),oT(this,"once",((e,t)=>this.events.once(e,t))),oT(this,"off",((e,t)=>this.events.off(e,t))),oT(this,"removeListener",((e,t)=>this.events.removeListener(e,t))),oT(this,"removeAllListeners",(e=>this.events.removeAllListeners(e))),oT(this,"connect",(async e=>{try{return await this.engine.connect(e)}catch(e){throw this.logger.error(e.message),e}})),oT(this,"pair",(async e=>{try{return await this.engine.pair(e)}catch(e){throw this.logger.error(e.message),e}})),oT(this,"approve",(async e=>{try{return await this.engine.approve(e)}catch(e){throw this.logger.error(e.message),e}})),oT(this,"reject",(async e=>{try{return await this.engine.reject(e)}catch(e){throw this.logger.error(e.message),e}})),oT(this,"update",(async e=>{try{return await this.engine.update(e)}catch(e){throw this.logger.error(e.message),e}})),oT(this,"extend",(async e=>{try{return await this.engine.extend(e)}catch(e){throw this.logger.error(e.message),e}})),oT(this,"request",(async e=>{try{return await this.engine.request(e)}catch(e){throw this.logger.error(e.message),e}})),oT(this,"respond",(async e=>{try{return await this.engine.respond(e)}catch(e){throw this.logger.error(e.message),e}})),oT(this,"ping",(async e=>{try{return await this.engine.ping(e)}catch(e){throw this.logger.error(e.message),e}})),oT(this,"emit",(async e=>{try{return await this.engine.emit(e)}catch(e){throw this.logger.error(e.message),e}})),oT(this,"disconnect",(async e=>{try{return await this.engine.disconnect(e)}catch(e){throw this.logger.error(e.message),e}})),oT(this,"find",(e=>{try{return this.engine.find(e)}catch(e){throw this.logger.error(e.message),e}})),oT(this,"getPendingSessionRequests",(()=>{try{return this.engine.getPendingSessionRequests()}catch(e){throw this.logger.error(e.message),e}})),oT(this,"authenticate",(async(e,t)=>{try{return await this.engine.authenticate(e,t)}catch(e){throw this.logger.error(e.message),e}})),oT(this,"formatAuthMessage",(e=>{try{return this.engine.formatAuthMessage(e)}catch(e){throw this.logger.error(e.message),e}})),oT(this,"approveSessionAuthenticate",(async e=>{try{return await this.engine.approveSessionAuthenticate(e)}catch(e){throw this.logger.error(e.message),e}})),oT(this,"rejectSessionAuthenticate",(async e=>{try{return await this.engine.rejectSessionAuthenticate(e)}catch(e){throw this.logger.error(e.message),e}})),this.name=e?.name||IP,this.metadata=Fg(e?.metadata),this.signConfig=e?.signConfig;const t=SA({logger:e?.logger||_P,name:this.name});this.logger=t,this.core=e?.core||new xP(e),this.session=new JP(this.core,this.logger),this.proposal=new YP(this.core,this.logger),this.pendingRequest=new XP(this.core,this.logger),this.engine=new GP(this),this.auth=new iT(this.core,this.logger)}static async init(e){const t=new aT(e);return await t.initialize(),t}get context(){return lg(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}const cT=aT;var lT={exports:{}};!function(e,r){var n,i=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof t<"u"&&t,s=function(){function e(){this.fetch=!1,this.DOMException=i.DOMException}return e.prototype=i,new e}();n=s,function(e){var r=typeof n<"u"&&n||typeof self<"u"&&self||typeof t<"u"&&t||{},i="URLSearchParams"in r,s="Symbol"in r&&"iterator"in Symbol,o="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch{return!1}}(),a="FormData"in r,c="ArrayBuffer"in r;if(c)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(e){return e&&l.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function h(e){return"string"!=typeof e&&(e=String(e)),e}function p(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return s&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function g(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}}function m(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function y(e){var t=new FileReader,r=m(t);return t.readAsArrayBuffer(e),r}function w(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():c&&o&&function(e){return e&&DataView.prototype.isPrototypeOf(e)}(e)?(this._bodyArrayBuffer=w(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(e)||d(e))?this._bodyArrayBuffer=w(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=g(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return g(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(o)return this.blob().then(y);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e=g(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=m(t),n=/charset=([A-Za-z0-9_-]+)/.exec(e.type),i=n?n[1]:"utf-8";return t.readAsText(e,i),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=u(e),t=h(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},f.prototype.delete=function(e){delete this.map[u(e)]},f.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},f.prototype.set=function(e,t){this.map[u(e)]=h(t)},f.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),p(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),p(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),p(e)},s&&(f.prototype[Symbol.iterator]=f.prototype.entries);var v=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function E(e,t){if(!(this instanceof E))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n=(t=t||{}).body;if(e instanceof E){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!n&&null!=e._bodyInit&&(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new f(t.headers)),this.method=function(e){var t=e.toUpperCase();return v.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in r)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var i=/([?&])_=[^&]*/;i.test(this.url)?this.url=this.url.replace(i,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function A(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function x(e){var t=new f;return e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();try{t.append(n,i)}catch(e){console.warn("Response "+e.message)}}})),t}function C(e,t){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}E.prototype.clone=function(){return new E(this,{body:this._bodyInit})},b.call(E.prototype),b.call(C.prototype),C.prototype.clone=function(){return new C(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},C.error=function(){var e=new C(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var S=[301,302,303,307,308];C.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new C(null,{status:t,headers:{location:e}})},e.DOMException=r.DOMException;try{new e.DOMException}catch{e.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function I(t,n){return new Promise((function(i,s){var a=new E(t,n);if(a.signal&&a.signal.aborted)return s(new e.DOMException("Aborted","AbortError"));var l=new XMLHttpRequest;function d(){l.abort()}if(l.onload=function(){var e={statusText:l.statusText,headers:x(l.getAllResponseHeaders()||"")};0===a.url.indexOf("file://")&&(l.status<200||l.status>599)?e.status=200:e.status=l.status,e.url="responseURL"in l?l.responseURL:e.headers.get("X-Request-URL");var t="response"in l?l.response:l.responseText;setTimeout((function(){i(new C(t,e))}),0)},l.onerror=function(){setTimeout((function(){s(new TypeError("Network request failed"))}),0)},l.ontimeout=function(){setTimeout((function(){s(new TypeError("Network request timed out"))}),0)},l.onabort=function(){setTimeout((function(){s(new e.DOMException("Aborted","AbortError"))}),0)},l.open(a.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch{return e}}(a.url),!0),"include"===a.credentials?l.withCredentials=!0:"omit"===a.credentials&&(l.withCredentials=!1),"responseType"in l&&(o?l.responseType="blob":c&&(l.responseType="arraybuffer")),n&&"object"==typeof n.headers&&!(n.headers instanceof f||r.Headers&&n.headers instanceof r.Headers)){var p=[];Object.getOwnPropertyNames(n.headers).forEach((function(e){p.push(u(e)),l.setRequestHeader(e,h(n.headers[e]))})),a.headers.forEach((function(e,t){-1===p.indexOf(t)&&l.setRequestHeader(t,e)}))}else a.headers.forEach((function(e,t){l.setRequestHeader(t,e)}));a.signal&&(a.signal.addEventListener("abort",d),l.onreadystatechange=function(){4===l.readyState&&a.signal.removeEventListener("abort",d)}),l.send(typeof a._bodyInit>"u"?null:a._bodyInit)}))}I.polyfill=!0,r.fetch||(r.fetch=I,r.Headers=f,r.Request=E,r.Response=C),e.Headers=f,e.Request=E,e.Response=C,e.fetch=I,Object.defineProperty(e,"__esModule",{value:!0})}({}),s.fetch.ponyfill=!0,delete s.fetch.polyfill;var o=i.fetch?i:s;(r=o.fetch).default=o.fetch,r.fetch=o.fetch,r.Headers=o.Headers,r.Request=o.Request,r.Response=o.Response,e.exports=r}(lT,lT.exports);var dT=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(lT.exports),uT=Object.defineProperty,hT=Object.defineProperties,pT=Object.getOwnPropertyDescriptors,fT=Object.getOwnPropertySymbols,gT=Object.prototype.hasOwnProperty,mT=Object.prototype.propertyIsEnumerable,yT=(e,t,r)=>t in e?uT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,wT=(e,t)=>{for(var r in t||(t={}))gT.call(t,r)&&yT(e,r,t[r]);if(fT)for(var r of fT(t))mT.call(t,r)&&yT(e,r,t[r]);return e},bT=(e,t)=>hT(e,pT(t));const vT={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class ET{constructor(e,t=!1){if(this.url=e,this.disableProviderPing=t,this.events=new i.exports.EventEmitter,this.isAvailable=!1,this.registering=!1,!oC(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const t=Nc(e),r=await(await dT(this.url,bT(wT({},vT),{body:t}))).json();this.onPayload({data:r})}catch(t){this.onError(e.id,t)}}async register(e=this.url){if(!oC(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise(((e,t)=>{this.events.once("register_error",(e=>{this.resetMaxListeners(),t(e)})),this.events.once("open",(()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return t(new Error("HTTP connection is missing or invalid"));e()}))}))}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const t=Nc({id:1,jsonrpc:"2.0",method:"test",params:[]});await dT(e,bT(wT({},vT),{body:t}))}this.onOpen()}catch(e){const t=this.parseError(e);throw this.events.emit("register_error",t),this.onClose(),t}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const t="string"==typeof e.data?Oc(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const r=this.parseError(t),n=eC(e,r.message||r.toString());this.events.emit("payload",n)}parseError(e,t=this.url){return Ux(e,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}var AT=Object.defineProperty,xT=Object.getOwnPropertySymbols,CT=Object.prototype.hasOwnProperty,ST=Object.prototype.propertyIsEnumerable,IT=(e,t,r)=>t in e?AT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,_T=(e,t)=>{for(var r in t||(t={}))CT.call(t,r)&&IT(e,r,t[r]);if(xT)for(var r of xT(t))ST.call(t,r)&&IT(e,r,t[r]);return e};function kT(e){return null==e||"object"!=typeof e&&"function"!=typeof e}function PT(e){return Object.getOwnPropertySymbols(e).filter((t=>Object.prototype.propertyIsEnumerable.call(e,t)))}function TT(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const OT="[object RegExp]",NT="[object String]",RT="[object Number]",$T="[object Boolean]",BT="[object Arguments]",MT="[object Symbol]",UT="[object Date]",LT="[object Map]",DT="[object Set]",jT="[object Array]",HT="[object ArrayBuffer]",zT="[object Object]",FT="[object DataView]",VT="[object Uint8Array]",ZT="[object Uint8ClampedArray]",qT="[object Uint16Array]",WT="[object Uint32Array]",KT="[object Int8Array]",GT="[object Int16Array]",YT="[object Int32Array]",JT="[object Float32Array]",XT="[object Float64Array]";function QT(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function eO(e,t,r,n=new Map,i=void 0){const s=i?.(e,t,r,n);if(null!=s)return s;if(kT(e))return e;if(n.has(e))return n.get(e);if(Array.isArray(e)){const t=new Array(e.length);n.set(e,t);for(let s=0;s<e.length;s++)t[s]=eO(e[s],s,r,n,i);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;n.set(e,t);for(const[s,o]of e)t.set(s,eO(o,s,r,n,i));return t}if(e instanceof Set){const t=new Set;n.set(e,t);for(const s of e)t.add(eO(s,void 0,r,n,i));return t}if(typeof Buffer<"u"&&Buffer.isBuffer(e))return e.subarray();if(QT(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);n.set(e,t);for(let s=0;s<e.length;s++)t[s]=eO(e[s],s,r,n,i);return t}if(e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return n.set(e,t),tO(t,e,r,n,i),t}if(typeof File<"u"&&e instanceof File){const t=new File([e],e.name,{type:e.type});return n.set(e,t),tO(t,e,r,n,i),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return n.set(e,t),tO(t,e,r,n,i),t}if(e instanceof Error){const t=new e.constructor;return n.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,tO(t,e,r,n,i),t}if("object"==typeof e&&function(e){switch(TT(e)){case BT:case jT:case HT:case FT:case $T:case UT:case JT:case XT:case KT:case GT:case YT:case LT:case RT:case zT:case OT:case DT:case NT:case MT:case VT:case ZT:case qT:case WT:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return n.set(e,t),tO(t,e,r,n,i),t}return e}function tO(e,t,r=e,n,i){const s=[...Object.keys(t),...PT(t)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(e,a);(null==c||c.writable)&&(e[a]=eO(t[a],a,r,n,i))}}function rO(e,t){return function(e,t){return eO(e,void 0,e,new Map,t)}(e,((r,n,i,s)=>{const o=t?.(r,n,i,s);if(null!=o)return o;if("object"==typeof e)switch(Object.prototype.toString.call(e)){case RT:case NT:case $T:{const t=new e.constructor(e?.valueOf());return tO(t,e),t}case BT:{const t={};return tO(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}}))}function nO(e){return rO(e)}function iO(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===TT(e)}function sO(e){return"object"==typeof e&&null!==e}function oO(){}function aO(e){return QT(e)}function cO(e){var t;if("object"!=typeof e||null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){const r=e[Symbol.toStringTag];return!(null==r||null==(t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))||!t.writable)&&e.toString()===`[object ${r}]`}let r=e;for(;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}function lO(e,t,r,n){var i;if(kT(e)&&(e=Object(e)),null==t||"object"!=typeof t)return e;if(n.has(t))return function(e){if(kT(e))return e;if(Array.isArray(e)||QT(e)||e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);const t=Object.getPrototypeOf(e),r=t.constructor;if(e instanceof Date||e instanceof Map||e instanceof Set)return new r(e);if(e instanceof RegExp){const t=new r(e);return t.lastIndex=e.lastIndex,t}if(e instanceof DataView)return new r(e.buffer.slice(0));if(e instanceof Error){const t=new r(e.message);return t.stack=e.stack,t.name=e.name,t.cause=e.cause,t}if(typeof File<"u"&&e instanceof File)return new r([e],e.name,{type:e.type,lastModified:e.lastModified});if("object"==typeof e){const r=Object.create(t);return Object.assign(r,e)}return e}(n.get(t));if(n.set(t,e),Array.isArray(t)){t=t.slice();for(let e=0;e<t.length;e++)t[e]=null!=(i=t[e])?i:void 0}const s=[...Object.keys(t),...PT(t)];for(let i=0;i<s.length;i++){const o=s[i];let a=t[o],c=e[o];if(iO(a)&&(a=_T({},a)),iO(c)&&(c=_T({},c)),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=nO(a)),Array.isArray(a))if("object"==typeof c&&null!=c){const e=[],t=Reflect.ownKeys(c);for(let r=0;r<t.length;r++){const n=t[r];e[n]=c[n]}c=e}else c=[];const l=r(c,a,o,e,t,n);null!=l?e[o]=l:Array.isArray(a)||sO(c)&&sO(a)?e[o]=lO(c,a,r,n):null==c&&cO(a)?e[o]=lO({},a,r,n):null==c&&aO(a)?e[o]=nO(a):(void 0===c||void 0!==a)&&(e[o]=a)}return e}function dO(e,...t){return function(e,...t){const r=t.slice(0,-1),n=t[t.length-1];let i=e;for(let e=0;e<r.length;e++)i=lO(i,r[e],n,new Map);return i}(e,...t,oO)}const uO="error",hO="universal_provider",pO=`wc@2:${hO}:`,fO="https://rpc.walletconnect.org/v1/",gO="generic",mO=`${fO}bundler`,yO="call_status",wO="default_chain_changed";var bO=Object.defineProperty,vO=Object.defineProperties,EO=Object.getOwnPropertyDescriptors,AO=Object.getOwnPropertySymbols,xO=Object.prototype.hasOwnProperty,CO=Object.prototype.propertyIsEnumerable,SO=(e,t,r)=>t in e?bO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,IO=(e,t)=>{for(var r in t||(t={}))xO.call(t,r)&&SO(e,r,t[r]);if(AO)for(var r of AO(t))CO.call(t,r)&&SO(e,r,t[r]);return e},_O=(e,t)=>vO(e,EO(t));function kO(e,t,r){var n;const i=Eg(e);return(null==(n=t.rpcMap)?void 0:n[i.reference])||`${fO}?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function PO(e){return e.map((e=>`${e.split(":")[0]}:${e.split(":")[1]}`))}function TO(e){return Object.fromEntries(Object.entries(e).filter((([e,t])=>{var r,n;return(null==(r=t?.chains)?void 0:r.length)&&(null==(n=t?.chains)?void 0:n.length)>0})))}function OO(e={},t={}){return dO(TO(NO(e)),TO(NO(t)))}function NO(e){var t,r,n,i,s;const o={};if(!tA(e))return o;for(const[a,c]of Object.entries(e)){const e=qE(a)?[a]:c.chains,l=c.methods||[],d=c.events||[],u=c.rpcMap||{},h=WE(a);o[h]=_O(IO(IO({},o[h]),c),{chains:nm(e,null==(t=o[h])?void 0:t.chains),methods:nm(l,null==(r=o[h])?void 0:r.methods),events:nm(d,null==(n=o[h])?void 0:n.events)}),(tA(u)||tA((null==(i=o[h])?void 0:i.rpcMap)||{}))&&(o[h].rpcMap=IO(IO({},u),null==(s=o[h])?void 0:s.rpcMap))}return o}function RO(e){return e.includes(":")?e.split(":")[2]:e}function $O(e){const t={};for(const[r,n]of Object.entries(e)){const e=n.methods||[],i=n.events||[],s=n.accounts||[],o=qE(r)?[r]:n.chains?n.chains:PO(n.accounts);t[r]={chains:o,methods:e,events:i,accounts:s}}return t}function BO(e){return"number"==typeof e?e:e.includes("0x")?parseInt(e,16):(e=e.includes(":")?e.split(":")[1]:e,isNaN(Number(e))?e:Number(e))}const MO={},UO=e=>MO[e],LO=(e,t)=>{MO[e]=t};var DO=Object.defineProperty,jO=Object.getOwnPropertySymbols,HO=Object.prototype.hasOwnProperty,zO=Object.prototype.propertyIsEnumerable,FO=(e,t,r)=>t in e?DO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,VO=(e,t)=>{for(var r in t||(t={}))HO.call(t,r)&&FO(e,r,t[r]);if(jO)for(var r of jO(t))zO.call(t,r)&&FO(e,r,t[r]);return e};const ZO="eip155",qO=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],WO=e=>e&&e.startsWith("0x")?BigInt(e).toString(10):e,KO=e=>e&&e.startsWith("0x")?e:`0x${BigInt(e).toString(16)}`,GO=e=>Object.keys(e).filter((e=>qO.includes(e))).reduce(((t,r)=>(t[r]=YO(e[r]),t)),{}),YO=e=>"string"==typeof e&&function(e){try{const t=JSON.parse(e);return"object"==typeof t&&null!==t&&!Array.isArray(t)}catch{return!1}}(e)?JSON.parse(e):e;var JO=Object.defineProperty,XO=(e,t,r)=>((e,t,r)=>t in e?JO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);let QO;class eN{constructor(e){XO(this,"storage"),this.storage=e}async getItem(e){return await this.storage.getItem(e)}async setItem(e,t){return await this.storage.setItem(e,t)}async removeItem(e){return await this.storage.removeItem(e)}static getStorage(e){return QO||(QO=new eN(e)),QO}}var tN=Object.defineProperty,rN=Object.defineProperties,nN=Object.getOwnPropertyDescriptors,iN=Object.getOwnPropertySymbols,sN=Object.prototype.hasOwnProperty,oN=Object.prototype.propertyIsEnumerable,aN=(e,t,r)=>t in e?tN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;async function cN(e,t){const r=Eg(e.result.capabilities.caip345.caip2),n=e.result.capabilities.caip345.transactionHashes,i=await Promise.allSettled(n.map((e=>async function(e,t,r){return await r(parseInt(e)).request(Xx("eth_getTransactionReceipt",[t]))}(r.reference,e,t)))),s=i.filter((e=>"fulfilled"===e.status)).map((e=>e.value)).filter((e=>e));i.filter((e=>"rejected"===e.status)).forEach((e=>console.warn("Failed to fetch transaction receipt:",e.reason)));const o=!s.length||s.some((e=>!e)),a=s.every((e=>"0x1"===e?.status)),c=s.every((e=>"0x0"===e?.status)),l=s.some((e=>"0x0"===e?.status));let d;return o?d=100:a?d=200:c?d=500:l&&(d=600),{id:e.result.id,version:e.request.version,atomic:e.request.atomicRequired,chainId:e.request.chainId,capabilities:e.result.capabilities,receipts:s,status:d}}async function lN({sendCalls:e,storage:t}){const r=await t.getItem(yO);await t.setItem(yO,((e,t)=>rN(e,nN(t)))(((e,t)=>{for(var r in t||(t={}))sN.call(t,r)&&aN(e,r,t[r]);if(iN)for(var r of iN(t))oN.call(t,r)&&aN(e,r,t[r]);return e})({},r),{[e.result.id]:{request:e.request,result:e.result,expiry:em(86400)}}))}async function dN({resultId:e,storage:t}){const r=await t.getItem(yO),n=r?.[e];if(n&&!tm(n.expiry))return n;await async function({resultId:e,storage:t}){const r=await t.getItem(yO);if(r){delete r[e],await t.setItem(yO,r);for(const e in r)tm(r[e].expiry)&&delete r[e];await t.setItem(yO,r)}}({resultId:e,storage:t})}var uN=Object.defineProperty,hN=Object.defineProperties,pN=Object.getOwnPropertyDescriptors,fN=Object.getOwnPropertySymbols,gN=Object.prototype.hasOwnProperty,mN=Object.prototype.propertyIsEnumerable,yN=(e,t,r)=>t in e?uN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,wN=(e,t)=>{for(var r in t||(t={}))gN.call(t,r)&&yN(e,r,t[r]);if(fN)for(var r of fN(t))mN.call(t,r)&&yN(e,r,t[r]);return e},bN=(e,t)=>hN(e,pN(t)),vN=(e,t,r)=>yN(e,"symbol"!=typeof t?t+"":t,r);class EN{constructor(e){vN(this,"name","eip155"),vN(this,"client"),vN(this,"chainId"),vN(this,"namespace"),vN(this,"httpProviders"),vN(this,"events"),vN(this,"storage"),this.namespace=e.namespace,this.events=UO("events"),this.client=UO("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=eN.getStorage(this.client.core.storage)}async request(e){switch(e.request.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e);case"wallet_sendCalls":return await this.sendCalls(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t);const r=this.chainId;this.chainId=parseInt(e),this.events.emit(wO,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${r}`})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){const r=t||kO(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new fC(new ET(r,UO("disableProviderPing")))}setHttpProvider(e,t){const r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach((t=>{var r;const n=parseInt(function(e){return e.includes(":")?e.split(":")[1]:e}(t));e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])})),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}getHttpProvider(e){const t=e||this.chainId;return this.httpProviders[t]||(this.httpProviders=bN(wN({},this.httpProviders),{[t]:this.createHttpProvider(t)}),this.httpProviders[t])}async handleSwitchChain(e){var t,r;let n=e.request.params?null==(t=e.request.params[0])?void 0:t.chainId:"0x0";n=n.startsWith("0x")?n:`0x${n}`;const i=parseInt(n,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else{if(!this.namespace.methods.includes("wallet_switchEthereumChain"))throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:n}]},chainId:null==(r=this.namespace.chains)?void 0:r[0]}),this.setDefaultChain(`${i}`)}return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var t,r,n,i,s;const o=null==(r=null==(t=e.request)?void 0:t.params)?void 0:r[0],a=(null==(i=null==(n=e.request)?void 0:n.params)?void 0:i[1])||[];if(!o)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const c=this.client.session.get(e.topic),l=(null==(s=c?.sessionProperties)?void 0:s.capabilities)||{},d=`${o}${a.join(",")}`,u=l?.[d];if(u)return u;let h;try{h=((e,t,r)=>{const{sessionProperties:n={},scopedProperties:i={}}=e,s={};if(!tA(i)&&!tA(n))return;const o=GO(n);for(const e of r){const r=WO(e);if(!r)continue;s[KO(r)]=o;const n=i?.[`${ZO}:${r}`];if(n){const e=n?.[`${ZO}:${r}:${t}`];s[KO(r)]=VO(VO({},s[KO(r)]),GO(e||n))}}for(const[e,t]of Object.entries(s))0===Object.keys(t).length&&delete s[e];return Object.keys(s).length>0?s:void 0})(c,o,a)}catch(e){console.warn("Failed to extract capabilities from session",e)}if(h)return h;const p=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:bN(wN({},c.sessionProperties||{}),{capabilities:bN(wN({},l||{}),{[d]:p})})})}catch(e){console.warn("Failed to update session with capabilities",e)}return p}async getCallStatus(e){var t,r,n;const i=this.client.session.get(e.topic),s=null==(t=i.sessionProperties)?void 0:t.bundler_name;if(s){const t=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(t,e)}catch(e){console.warn("Failed to fetch call status from bundler",e,t)}}const o=null==(r=i.sessionProperties)?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(e){console.warn("Failed to fetch call status from custom bundler",e,o)}const a=await dN({resultId:null==(n=e.request.params)?void 0:n[0],storage:this.storage});if(a)try{return await cN(a,this.getHttpProvider.bind(this))}catch(e){console.warn("Failed to fetch call status from stored send calls",e,a)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,t){var r;const n=new URL(e),i=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Xx("eth_getUserOperationReceipt",[null==(r=t.request.params)?void 0:r[0]]))});if(!i.ok)throw new Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(e,t){return`${mO}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${t}`}async sendCalls(e){var t,r,n;const i=await this.client.request(e),s=null==(t=e.request.params)?void 0:t[0],o=i?.id,a=i?.capabilities||{},c=null==(r=a?.caip345)?void 0:r.caip2,l=null==(n=a?.caip345)?void 0:n.transactionHashes;return!o||!c||!(null!=l&&l.length)||await lN({sendCalls:{request:s,result:i},storage:this.storage}),i}}var AN=Object.defineProperty,xN=(e,t,r)=>((e,t,r)=>t in e?AN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class CN{constructor(e){xN(this,"name",gO),xN(this,"client"),xN(this,"httpProviders"),xN(this,"events"),xN(this,"namespace"),xN(this,"chainId"),this.namespace=e.namespace,this.events=UO("events"),this.client=UO("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t);const r=this.chainId;this.chainId=e,this.events.emit(wO,{currentCaipChainId:`${this.name}:${e}`,previousCaipChainId:`${this.name}:${r}`})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return Eg(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){var e,t;const r={};return null==(t=null==(e=this.namespace)?void 0:e.accounts)||t.forEach((e=>{var t,n;const i=Eg(e),s=null==(n=null==(t=this.namespace)?void 0:t.rpcMap)?void 0:n[`${i.namespace}:${i.reference}`];r[i.reference]=this.createHttpProvider(e,s)})),r}getHttpProvider(e){const t=Eg(e).reference,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,t){const r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){const r=t||kO(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new fC(new ET(r,UO("disableProviderPing")))}}var SN=Object.defineProperty,IN=Object.defineProperties,_N=Object.getOwnPropertyDescriptors,kN=Object.getOwnPropertySymbols,PN=Object.prototype.hasOwnProperty,TN=Object.prototype.propertyIsEnumerable,ON=(e,t,r)=>t in e?SN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,NN=(e,t)=>{for(var r in t||(t={}))PN.call(t,r)&&ON(e,r,t[r]);if(kN)for(var r of kN(t))TN.call(t,r)&&ON(e,r,t[r]);return e},RN=(e,t)=>IN(e,_N(t)),$N=(e,t,r)=>ON(e,"symbol"!=typeof t?t+"":t,r);class BN{constructor(e){var t,r;$N(this,"client"),$N(this,"namespaces"),$N(this,"optionalNamespaces"),$N(this,"sessionProperties"),$N(this,"scopedProperties"),$N(this,"events",new i.exports),$N(this,"rpcProviders",{}),$N(this,"session"),$N(this,"providerOpts"),$N(this,"logger"),$N(this,"uri"),$N(this,"disableProviderPing",!1),$N(this,"connectParams"),this.providerOpts=e,this.logger=SA({logger:null!=(t=e.logger)?t:uO,name:null!=(r=this.providerOpts.name)?r:hO}),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const t=new BN(e);return await t.initialize(),t}async request(e,t,r){const[n,i]=this.validateChain(t);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(n).request({request:NN({},e),chainId:`${n}:${i}`,topic:this.session.topic,expiry:r})}sendAsync(e,t,r,n){const i=(new Date).getTime();this.request(e,r,n).then((e=>t(null,Qx(i,e)))).catch((e=>t(e,void 0)))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:null==(e=this.session)?void 0:e.topic,reason:QE("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.connectParams=e,this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,t){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:n}=await this.client.authenticate(e,t);r&&(this.uri=r,this.events.emit("display_uri",r));const i=await n();if(this.session=i.session,this.session){const e=$O(this.session.namespaces);this.namespaces=OO(this.namespaces,e),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){var t,r;const{uri:n,approval:i}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties,authentication:null==(t=this.connectParams)?void 0:t.authentication,walletPay:null==(r=this.connectParams)?void 0:r.walletPay});n&&(this.uri=n,this.events.emit("display_uri",n));const s=await i();this.session=s;const o=$O(s.namespaces);return this.namespaces=OO(this.namespaces,o),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;const[r,n]=this.validateChain(e);this.getProvider(r).setDefaultChain(n,t)}catch(e){if(!/Please call connect/.test(e.message))throw e}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const t=this.client.pairing.getAll();if(!eA(t))return;for(const r of t)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${t.length}`)}catch(e){this.logger.warn(e,"Failed to cleanup pending pairings")}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,t;if(this.client=this.providerOpts.client||await cT.init({core:this.providerOpts.core,logger:this.providerOpts.logger||uO,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.org",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error(r,"Failed to get session"),new Error(`The provided session: ${null==(t=null==(e=this.providerOpts)?void 0:e.session)?void 0:t.topic} doesn't exist in the Sign client`)}else{const e=this.client.session.getAll();this.session=e[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map((e=>WE(e))))];LO("client",this.client),LO("events",this.events),LO("disableProviderPing",this.disableProviderPing),e.forEach((e=>{if(!this.session)return;const t=function(e,t){const r=Object.keys(t.namespaces).filter((t=>t.includes(e)));if(!r.length)return[];const n=[];return r.forEach((e=>{const r=t.namespaces[e].accounts;n.push(...r)})),n}(e,this.session);if(0===t?.length)return;const r=PO(t),n=OO(this.namespaces,this.optionalNamespaces),i=RN(NN({},n[e]),{accounts:t,chains:r});if("eip155"===e)this.rpcProviders[e]=new EN({namespace:i});else this.rpcProviders[e]=new CN({namespace:i})}))}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",(e=>{var t;const{topic:r}=e;r===(null==(t=this.session)?void 0:t.topic)&&this.events.emit("session_ping",e)})),this.client.on("session_event",(e=>{var t;const{params:r,topic:n}=e;if(n!==(null==(t=this.session)?void 0:t.topic))return;const{event:i}=r;if("accountsChanged"===i.name){const e=i.data;e&&eA(e)&&this.events.emit("accountsChanged",e.map(RO))}else if("chainChanged"===i.name){const e=r.chainId,t=r.event.data,n=WE(e),i=BO(e)!==BO(t)?`${n}:${BO(t)}`:e;this.onChainChanged({currentCaipChainId:i})}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)})),this.client.on("session_update",(({topic:e,params:t})=>{var r,n;if(e!==(null==(r=this.session)?void 0:r.topic))return;const{namespaces:i}=t,s=null==(n=this.client)?void 0:n.session.get(e);this.session=RN(NN({},s),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:t})})),this.client.on("session_delete",(async e=>{var t;e.topic===(null==(t=this.session)?void 0:t.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",RN(NN({},QE("USER_DISCONNECTED")),{data:e.topic})))})),this.on(wO,(e=>{this.onChainChanged(RN(NN({},e),{internal:!0}))}))}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[gO]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach((e=>{var t;this.getProvider(e).updateNamespace(null==(t=this.session)?void 0:t.namespaces[e])}))}setNamespaces(e){const{namespaces:t={},optionalNamespaces:r={},sessionProperties:n,scopedProperties:i}=e;this.optionalNamespaces=OO(t,r),this.sessionProperties=n,this.scopedProperties=i}validateChain(e){const[t,r]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,r];if(t&&!Object.keys(this.namespaces||{}).map((e=>WE(e))).includes(t))throw new Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&r)return[t,r];const n=WE(Object.keys(this.namespaces)[0]);return[n,this.rpcProviders[n].getDefaultChain()]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged({currentCaipChainId:e,previousCaipChainId:t,internal:r=!1}){if(!this.namespaces)return;const[n,i]=this.validateChain(e);i&&(this.updateNamespaceChain(n,i),r?(this.events.emit("chainChanged",i),this.emitAccountsChangedOnChainChange({namespace:n,currentCaipChainId:e,previousCaipChainId:t})):this.getProvider(n).setDefaultChain(i),await this.persist("namespaces",this.namespaces))}emitAccountsChangedOnChainChange({namespace:e,currentCaipChainId:t,previousCaipChainId:r}){var n,i;try{if(r===t)return;const s=null==(i=null==(n=this.session)?void 0:n.namespaces[e])?void 0:i.accounts;if(!s)return;const o=s.filter((e=>e.includes(`${t}:`))).map(RO);if(!eA(o))return;this.events.emit("accountsChanged",o)}catch(e){this.logger.warn(e,"Failed to emit accountsChanged on chain change")}}updateNamespaceChain(e,t){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${t}`,n={chains:[],methods:[],events:[],defaultChain:t};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=t):this.namespaces[r]=n}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.connectParams=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,t){var r;const n=(null==(r=this.session)?void 0:r.topic)||"";await this.client.core.storage.setItem(`${pO}/${e}${n}`,t)}async getFromStore(e){var t;const r=(null==(t=this.session)?void 0:t.topic)||"";return await this.client.core.storage.getItem(`${pO}/${e}${r}`)}async deleteFromStore(e){var t;const r=(null==(t=this.session)?void 0:t.topic)||"";await this.client.core.storage.removeItem(`${pO}/${e}${r}`)}async cleanupStorage(){var e;try{if((null==(e=this.client)?void 0:e.session.length)>0)return;const t=await this.client.core.storage.getKeys();for(const e of t)e.startsWith(pO)&&await this.client.core.storage.removeItem(e)}catch(e){this.logger.warn(e,"Failed to cleanup storage")}}}const MN=BN,UN=["eth_sendTransaction","personal_sign"],LN=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],DN=["chainChanged","accountsChanged"],jN=["chainChanged","accountsChanged","message","disconnect","connect"];var HN=Object.defineProperty,zN=Object.defineProperties,FN=Object.getOwnPropertyDescriptors,VN=Object.getOwnPropertySymbols,ZN=Object.prototype.hasOwnProperty,qN=Object.prototype.propertyIsEnumerable,WN=(e,t,r)=>t in e?HN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,KN=(e,t)=>{for(var r in t||(t={}))ZN.call(t,r)&&WN(e,r,t[r]);if(VN)for(var r of VN(t))qN.call(t,r)&&WN(e,r,t[r]);return e},GN=(e,t)=>zN(e,FN(t)),YN=(e,t,r)=>WN(e,"symbol"!=typeof t?t+"":t,r);function JN(e){return Number(e[0].split(":")[1])}function XN(e){return`0x${e.toString(16)}`}class QN{constructor(){YN(this,"events",new i.exports.EventEmitter),YN(this,"namespace","eip155"),YN(this,"accounts",[]),YN(this,"signer"),YN(this,"chainId",1),YN(this,"modal"),YN(this,"rpc"),YN(this,"STORAGE_KEY","wc@2:ethereum_provider:"),YN(this,"on",((e,t)=>(this.events.on(e,t),this))),YN(this,"once",((e,t)=>(this.events.once(e,t),this))),YN(this,"removeListener",((e,t)=>(this.events.removeListener(e,t),this))),YN(this,"off",((e,t)=>(this.events.off(e,t),this))),YN(this,"parseAccount",(e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e)),this.signer={},this.rpc={}}static async init(e){const t=new QN;return await t.initialize(e),t}async request(e,t){return await this.signer.request(e,this.formatChainId(this.chainId),t)}sendAsync(e,t,r){this.signer.sendAsync(e,t,this.formatChainId(this.chainId),r)}get connected(){return!!this.signer.client&&this.signer.client.core.relayer.connected}get connecting(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var t;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:r,optional:n}=function(e){const{chains:t,optionalChains:r,methods:n,optionalMethods:i,events:s,optionalEvents:o,rpcMap:a}=e;if(!eA(t))throw new Error("Invalid chains");const c={chains:t,methods:n||UN,events:s||DN,rpcMap:KN({},t.length?{[JN(t)]:a[JN(t)]}:{})},l=s?.filter((e=>!DN.includes(e))),d=n?.filter((e=>!UN.includes(e)));if(!(r||o||i||null!=l&&l.length||null!=d&&d.length))return{required:t.length?c:void 0};const u={chains:[...new Set(l?.length&&d?.length||!r?c.chains.concat(r||[]):r)],methods:[...new Set(c.methods.concat(null!=i&&i.length?i:LN))],events:[...new Set(c.events.concat(null!=o&&o.length?o:jN))],rpcMap:a};return{required:t.length?c:void 0,optional:r.length?u:void 0}}(this.rpc);try{const t=await new Promise((async(t,i)=>{var s,o;this.rpc.showQrModal&&(null==(s=this.modal)||s.open(),null==(o=this.modal)||o.subscribeState((e=>{!e.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),i(new Error("Connection request reset. Please try again.")))})));const a=null!=e&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(GN(KN({namespaces:KN({},r&&{[this.namespace]:r})},n&&{optionalNamespaces:{[this.namespace]:n}}),{pairingTopic:e?.pairingTopic,scopedProperties:a})).then((e=>{t(e)})).catch((e=>{var t;null==(t=this.modal)||t.showErrorMessage("Unable to connect"),i(new Error(e.message))}))}));if(!t)return;const i=Ag(t.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:i),this.setAccounts(i),this.events.emit("connect",{chainId:XN(this.chainId)})}catch(e){throw this.signer.logger.error(e),e}finally{null==(t=this.modal)||t.close()}}async authenticate(e,t){var r;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e?.chains});try{const r=await new Promise((async(r,n)=>{var i,s;this.rpc.showQrModal&&(null==(i=this.modal)||i.open(),null==(s=this.modal)||s.subscribeState((e=>{!e.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),n(new Error("Connection request reset. Please try again.")))}))),await this.signer.authenticate(GN(KN({},e),{chains:this.rpc.chains}),t).then((e=>{r(e)})).catch((e=>{var t;null==(t=this.modal)||t.showErrorMessage("Unable to connect"),n(new Error(e.message))}))})),n=r.session;if(n){const e=Ag(n.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:e),this.setAccounts(e),this.events.emit("connect",{chainId:XN(this.chainId)})}return r}catch(e){throw this.signer.logger.error(e),e}finally{null==(r=this.modal)||r.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",(e=>{const{params:t}=e,{event:r}=t;"accountsChanged"===r.name?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):"chainChanged"===r.name?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",e)})),this.signer.on("accountsChanged",(e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)})),this.signer.on("chainChanged",(e=>{const t=parseInt(e);this.chainId=t,this.events.emit("chainChanged",XN(this.chainId)),this.persist()})),this.signer.on("session_update",(e=>{this.events.emit("session_update",e)})),this.signer.on("session_delete",(e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",GN(KN({},QE("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))})),this.signer.on("display_uri",(e=>{this.events.emit("display_uri",e)}))}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return"string"==typeof e&&e.startsWith(`${this.namespace}:`)}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const t=e.filter((e=>this.isCompatibleChainId(e))).map((e=>this.parseChainId(e)));t.length&&(this.chainId=t[0],this.events.emit("chainChanged",XN(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const t=this.parseChainId(e);this.chainId=t,this.switchEthereumChain(t)}}parseAccountId(e){const[t,r,n]=e.split(":");return{chainId:`${t}:${r}`,address:n}}setAccounts(e){this.accounts=e.filter((e=>this.parseChainId(this.parseAccountId(e).chainId)===this.chainId)).map((e=>this.parseAccountId(e).address)),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var t,r;const n=null!=(t=e?.chains)?t:[],i=null!=(r=e?.optionalChains)?r:[],s=n.concat(i);if(!s.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const o=n.length?e?.methods||UN:[],a=n.length?e?.events||DN:[],c=e?.optionalMethods||[],l=e?.optionalEvents||[],d=e?.rpcMap||this.buildRpcMap(s,e.projectId),u=e?.qrModalOptions||void 0;return{chains:n?.map((e=>this.formatChainId(e))),optionalChains:i.map((e=>this.formatChainId(e))),methods:o,events:a,optionalMethods:c,optionalEvents:l,rpcMap:d,showQrModal:!(null==e||!e.showQrModal),qrModalOptions:u,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,t){const r={};return e.forEach((e=>{r[e]=this.getRpcUrl(e,t)})),r}async initialize(e){var t;if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?JN(this.rpc.chains):JN(this.rpc.optionalChains),this.signer=await MN.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let e;try{const r=await(async()=>{const{createAppKit:e}=await Promise.resolve().then((function(){return p8}));return e})(),{convertWCMToAppKitOptions:n}=await Promise.resolve().then((function(){return I8})),i=n(GN(KN({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!i.networks.length)throw new Error("No networks found for WalletConnect");e=r(GN(KN({},i),{universalProvider:this.signer,manualWCControl:!0,enableMobileFullScreen:!0===(null==(t=this.rpc.qrModalOptions)?void 0:t.enableMobileFullScreen)}))}catch(e){throw console.warn(e),new Error("To use QR modal, please install @reown/appkit package")}if(e)try{this.modal=e}catch(e){throw this.signer.logger.error(e),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:t,optionalChains:r,rpcMap:n}=e;t&&eA(t)&&(this.rpc.chains=t.map((e=>this.formatChainId(e))),t.forEach((e=>{this.rpc.rpcMap[e]=n?.[e]||this.getRpcUrl(e)}))),r&&eA(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r?.map((e=>this.formatChainId(e))),r.forEach((e=>{this.rpc.rpcMap[e]=n?.[e]||this.getRpcUrl(e)})))}getRpcUrl(e,t){var r;return(null==(r=this.rpc.rpcMap)?void 0:r[e])||`https://rpc.walletconnect.org/v1/?chainId=eip155:${e}&projectId=${t||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),t=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:t?.accounts),this.setAccounts(t?.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch((e=>this.signer.logger.warn(e)))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return"string"==typeof e||e instanceof String?[this.parseAccount(e)]:e.map((e=>this.parseAccount(e)))}}const eR=QN;var tR={exports:{}};!function(e){e.exports=function(){var e=1e3,t=6e4,r=36e5,n="millisecond",i="second",s="minute",o="hour",a="day",c="week",l="month",d="quarter",u="year",h="date",p="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||t[0])+"]"}},y=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},w={s:y,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),n=Math.floor(r/60),i=r%60;return(t<=0?"+":"-")+y(n,2,"0")+":"+y(i,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),i=t.clone().add(n,l),s=r-i<0,o=t.clone().add(n+(s?-1:1),l);return+(-(n+(r-i)/(s?i-o:o-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:u,w:c,d:a,D:h,h:o,m:s,s:i,ms:n,Q:d}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",v={};v[b]=m;var E="$isDayjsObject",A=function(e){return e instanceof I||!(!e||!e[E])},x=function e(t,r,n){var i;if(!t)return b;if("string"==typeof t){var s=t.toLowerCase();v[s]&&(i=s),r&&(v[s]=r,i=s);var o=t.split("-");if(!i&&o.length>1)return e(o[0])}else{var a=t.name;v[a]=t,i=a}return!n&&i&&(b=i),i||!n&&b},C=function(e,t){if(A(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new I(r)},S=w;S.l=x,S.i=A,S.w=function(e,t){return C(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var I=function(){function m(e){this.$L=x(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[E]=!0}var y=m.prototype;return y.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(f);if(n){var i=n[2]-1||0,s=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)}}return new Date(t)}(e),this.init()},y.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},y.$utils=function(){return S},y.isValid=function(){return this.$d.toString()!==p},y.isSame=function(e,t){var r=C(e);return this.startOf(t)<=r&&r<=this.endOf(t)},y.isAfter=function(e,t){return C(e)<this.startOf(t)},y.isBefore=function(e,t){return this.endOf(t)<C(e)},y.$g=function(e,t,r){return S.u(e)?this[t]:this.set(r,e)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(e,t){var r=this,n=!!S.u(t)||t,d=S.p(e),p=function(e,t){var i=S.w(r.$u?Date.UTC(r.$y,t,e):new Date(r.$y,t,e),r);return n?i:i.endOf(a)},f=function(e,t){return S.w(r.toDate()[e].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(t)),r)},g=this.$W,m=this.$M,y=this.$D,w="set"+(this.$u?"UTC":"");switch(d){case u:return n?p(1,0):p(31,11);case l:return n?p(1,m):p(0,m+1);case c:var b=this.$locale().weekStart||0,v=(g<b?g+7:g)-b;return p(n?y-v:y+(6-v),m);case a:case h:return f(w+"Hours",0);case o:return f(w+"Minutes",1);case s:return f(w+"Seconds",2);case i:return f(w+"Milliseconds",3);default:return this.clone()}},y.endOf=function(e){return this.startOf(e,!1)},y.$set=function(e,t){var r,c=S.p(e),d="set"+(this.$u?"UTC":""),p=(r={},r[a]=d+"Date",r[h]=d+"Date",r[l]=d+"Month",r[u]=d+"FullYear",r[o]=d+"Hours",r[s]=d+"Minutes",r[i]=d+"Seconds",r[n]=d+"Milliseconds",r)[c],f=c===a?this.$D+(t-this.$W):t;if(c===l||c===u){var g=this.clone().set(h,1);g.$d[p](f),g.init(),this.$d=g.set(h,Math.min(this.$D,g.daysInMonth())).$d}else p&&this.$d[p](f);return this.init(),this},y.set=function(e,t){return this.clone().$set(e,t)},y.get=function(e){return this[S.p(e)]()},y.add=function(n,d){var h,p=this;n=Number(n);var f=S.p(d),g=function(e){var t=C(p);return S.w(t.date(t.date()+Math.round(e*n)),p)};if(f===l)return this.set(l,this.$M+n);if(f===u)return this.set(u,this.$y+n);if(f===a)return g(1);if(f===c)return g(7);var m=(h={},h[s]=t,h[o]=r,h[i]=e,h)[f]||1,y=this.$d.getTime()+n*m;return S.w(y,this)},y.subtract=function(e,t){return this.add(-1*e,t)},y.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||p;var n=e||"YYYY-MM-DDTHH:mm:ssZ",i=S.z(this),s=this.$H,o=this.$m,a=this.$M,c=r.weekdays,l=r.months,d=r.meridiem,u=function(e,r,i,s){return e&&(e[r]||e(t,n))||i[r].slice(0,s)},h=function(e){return S.s(s%12||12,e,"0")},f=d||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n};return n.replace(g,(function(e,n){return n||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return S.s(t.$y,4,"0");case"M":return a+1;case"MM":return S.s(a+1,2,"0");case"MMM":return u(r.monthsShort,a,l,3);case"MMMM":return u(l,a);case"D":return t.$D;case"DD":return S.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return u(r.weekdaysMin,t.$W,c,2);case"ddd":return u(r.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(s);case"HH":return S.s(s,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return f(s,o,!0);case"A":return f(s,o,!1);case"m":return String(o);case"mm":return S.s(o,2,"0");case"s":return String(t.$s);case"ss":return S.s(t.$s,2,"0");case"SSS":return S.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(n,h,p){var f,g=this,m=S.p(h),y=C(n),w=(y.utcOffset()-this.utcOffset())*t,b=this-y,v=function(){return S.m(g,y)};switch(m){case u:f=v()/12;break;case l:f=v();break;case d:f=v()/3;break;case c:f=(b-w)/6048e5;break;case a:f=(b-w)/864e5;break;case o:f=b/r;break;case s:f=b/t;break;case i:f=b/e;break;default:f=b}return p?f:S.a(f)},y.daysInMonth=function(){return this.endOf(l).$D},y.$locale=function(){return v[this.$L]},y.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=x(e,t,!0);return n&&(r.$L=n),r},y.clone=function(){return S.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},m}(),_=I.prototype;return C.prototype=_,[["$ms",n],["$s",i],["$m",s],["$H",o],["$W",a],["$M",l],["$y",u],["$D",h]].forEach((function(e){_[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),C.extend=function(e,t){return e.$i||(e(t,I,C),e.$i=!0),C},C.locale=x,C.isDayjs=A,C.unix=function(e){return C(1e3*e)},C.en=v[b],C.Ls=v,C.p={},C}()}(tR);var rR=tR.exports,nR={exports:{}};!function(e){e.exports={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||t[0])+"]"}}}(nR);var iR=nR.exports,sR={exports:{}};!function(e){e.exports=function(e,t,r){e=e||{};var n=t.prototype,i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function s(e,t,r,i){return n.fromToBase(e,t,r,i)}r.en.relativeTime=i,n.fromToBase=function(t,n,s,o,a){for(var c,l,d,u=s.$locale().relativeTime||i,h=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],p=h.length,f=0;f<p;f+=1){var g=h[f];g.d&&(c=o?r(t).diff(s,g.d,!0):s.diff(t,g.d,!0));var m=(e.rounding||Math.round)(Math.abs(c));if(d=c>0,m<=g.r||!g.r){m<=1&&f>0&&(g=h[f-1]);var y=u[g.l];a&&(m=a(""+m)),l="string"==typeof y?y.replace("%d",m):y(m,n,g.l,d);break}}if(n)return l;var w=d?u.future:u.past;return"function"==typeof w?w(l):w.replace("%s",l)},n.to=function(e,t){return s(e,t,this,!0)},n.from=function(e,t){return s(e,t,this)};var o=function(e){return e.$u?r.utc():r()};n.toNow=function(e){return this.to(o(this),e)},n.fromNow=function(e){return this.from(o(this),e)}}}(sR);var oR=sR.exports,aR={exports:{}};!function(e){e.exports=function(e,t,r){r.updateLocale=function(e,t){var n=r.Ls[e];if(n)return(t?Object.keys(t):[]).forEach((function(e){n[e]=t[e]})),n}}}(aR);var cR=aR.exports;rR.extend(oR),rR.extend(cR);const lR={...iR,name:"en-web3-modal",relativeTime:{future:"in %s",past:"%s ago",s:"%d sec",m:"1 min",mm:"%d min",h:"1 hr",hh:"%d hrs",d:"1 d",dd:"%d d",M:"1 mo",MM:"%d mo",y:"1 yr",yy:"%d yr"}};rR.locale("en-web3-modal",lR);const dR={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],SOLANA_SPL_TOKEN_ADDRESSES:{SOL:"So11111111111111111111111111111111111111112"},HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}},IS_DEVELOPMENT:typeof process<"u"&&"development"===process.env.NODE_ENV,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]},uR={caipNetworkIdToNumber:e=>e?Number(e.split(":")[1]):void 0,parseEvmChainId(e){return"string"==typeof e?this.caipNetworkIdToNumber(e):e},getNetworksByNamespace:(e,t)=>e?.filter((e=>e.chainNamespace===t))||[],getFirstNetworkByNamespace(e,t){return this.getNetworksByNamespace(e,t)[0]},getNetworkNameByCaipNetworkId(e,t){if(!t)return;const r=e.find((e=>e.caipNetworkId===t));if(r)return r.name;const[n]=t.split(":");return dR.CHAIN_NAME_MAP?.[n]||void 0}},hR=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"];var pR=1e6,fR=1e6,gR="[big.js] ",mR=gR+"Invalid ",yR=mR+"decimal places",wR=mR+"rounding mode",bR=gR+"Division by zero",vR={},ER=void 0,AR=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function xR(e,t,r,n){var i=e.c;if(r===ER&&(r=e.constructor.RM),0!==r&&1!==r&&2!==r&&3!==r)throw Error(wR);if(t<1)n=3===r&&(n||!!i[0])||0===t&&(1===r&&i[0]>=5||2===r&&(i[0]>5||5===i[0]&&(n||i[1]!==ER))),i.length=1,n?(e.e=e.e-t+1,i[0]=1):i[0]=e.e=0;else if(t<i.length){if(n=1===r&&i[t]>=5||2===r&&(i[t]>5||5===i[t]&&(n||i[t+1]!==ER||1&i[t-1]))||3===r&&(n||!!i[0]),i.length=t,n)for(;++i[--t]>9;)if(i[t]=0,0===t){++e.e,i.unshift(1);break}for(t=i.length;!i[--t];)i.pop()}return e}function CR(e,t,r){var n=e.e,i=e.c.join(""),s=i.length;if(t)i=i.charAt(0)+(s>1?"."+i.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)i="0"+i;i="0."+i}else if(n>0)if(++n>s)for(n-=s;n--;)i+="0";else n<s&&(i=i.slice(0,n)+"."+i.slice(n));else s>1&&(i=i.charAt(0)+"."+i.slice(1));return e.s<0&&r?"-"+i:i}vR.abs=function(){var e=new this.constructor(this);return e.s=1,e},vR.cmp=function(e){var t,r=this,n=r.c,i=(e=new r.constructor(e)).c,s=r.s,o=e.s,a=r.e,c=e.e;if(!n[0]||!i[0])return n[0]?s:i[0]?-o:0;if(s!=o)return s;if(t=s<0,a!=c)return a>c^t?1:-1;for(o=(a=n.length)<(c=i.length)?a:c,s=-1;++s<o;)if(n[s]!=i[s])return n[s]>i[s]^t?1:-1;return a==c?0:a>c^t?1:-1},vR.div=function(e){var t=this,r=t.constructor,n=t.c,i=(e=new r(e)).c,s=t.s==e.s?1:-1,o=r.DP;if(o!==~~o||o<0||o>pR)throw Error(yR);if(!i[0])throw Error(bR);if(!n[0])return e.s=s,e.c=[e.e=0],e;var a,c,l,d,u,h=i.slice(),p=a=i.length,f=n.length,g=n.slice(0,a),m=g.length,y=e,w=y.c=[],b=0,v=o+(y.e=t.e-e.e)+1;for(y.s=s,s=v<0?0:v,h.unshift(0);m++<a;)g.push(0);do{for(l=0;l<10;l++){if(a!=(m=g.length))d=a>m?1:-1;else for(u=-1,d=0;++u<a;)if(i[u]!=g[u]){d=i[u]>g[u]?1:-1;break}if(!(d<0))break;for(c=m==a?i:h;m;){if(g[--m]<c[m]){for(u=m;u&&!g[--u];)g[u]=9;--g[u],g[m]+=10}g[m]-=c[m]}for(;!g[0];)g.shift()}w[b++]=d?l:++l,g[0]&&d?g[m]=n[p]||0:g=[n[p]]}while((p++<f||g[0]!==ER)&&s--);return!w[0]&&1!=b&&(w.shift(),y.e--,v--),b>v&&xR(y,v,r.RM,g[0]!==ER),y},vR.eq=function(e){return 0===this.cmp(e)},vR.gt=function(e){return this.cmp(e)>0},vR.gte=function(e){return this.cmp(e)>-1},vR.lt=function(e){return this.cmp(e)<0},vR.lte=function(e){return this.cmp(e)<1},vR.minus=vR.sub=function(e){var t,r,n,i,s=this,o=s.constructor,a=s.s,c=(e=new o(e)).s;if(a!=c)return e.s=-c,s.plus(e);var l=s.c.slice(),d=s.e,u=e.c,h=e.e;if(!l[0]||!u[0])return u[0]?e.s=-c:l[0]?e=new o(s):e.s=1,e;if(a=d-h){for((i=a<0)?(a=-a,n=l):(h=d,n=u),n.reverse(),c=a;c--;)n.push(0);n.reverse()}else for(r=((i=l.length<u.length)?l:u).length,a=c=0;c<r;c++)if(l[c]!=u[c]){i=l[c]<u[c];break}if(i&&(n=l,l=u,u=n,e.s=-e.s),(c=(r=u.length)-(t=l.length))>0)for(;c--;)l[t++]=0;for(c=t;r>a;){if(l[--r]<u[r]){for(t=r;t&&!l[--t];)l[t]=9;--l[t],l[r]+=10}l[r]-=u[r]}for(;0===l[--c];)l.pop();for(;0===l[0];)l.shift(),--h;return l[0]||(e.s=1,l=[h=0]),e.c=l,e.e=h,e},vR.mod=function(e){var t,r=this,n=r.constructor,i=r.s,s=(e=new n(e)).s;if(!e.c[0])throw Error(bR);return r.s=e.s=1,t=1==e.cmp(r),r.s=i,e.s=s,t?new n(r):(i=n.DP,s=n.RM,n.DP=n.RM=0,r=r.div(e),n.DP=i,n.RM=s,this.minus(r.times(e)))},vR.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},vR.plus=vR.add=function(e){var t,r,n,i=this,s=i.constructor;if(e=new s(e),i.s!=e.s)return e.s=-e.s,i.minus(e);var o=i.e,a=i.c,c=e.e,l=e.c;if(!a[0]||!l[0])return l[0]||(a[0]?e=new s(i):e.s=i.s),e;if(a=a.slice(),t=o-c){for(t>0?(c=o,n=l):(t=-t,n=a),n.reverse();t--;)n.push(0);n.reverse()}for(a.length-l.length<0&&(n=l,l=a,a=n),t=l.length,r=0;t;a[t]%=10)r=(a[--t]=a[t]+l[t]+r)/10|0;for(r&&(a.unshift(r),++c),t=a.length;0===a[--t];)a.pop();return e.c=a,e.e=c,e},vR.pow=function(e){var t=this,r=new t.constructor("1"),n=r,i=e<0;if(e!==~~e||e<-fR||e>fR)throw Error(mR+"exponent");for(i&&(e=-e);1&e&&(n=n.times(t)),e>>=1;)t=t.times(t);return i?r.div(n):n},vR.prec=function(e,t){if(e!==~~e||e<1||e>pR)throw Error(mR+"precision");return xR(new this.constructor(this),e,t)},vR.round=function(e,t){if(e===ER)e=0;else if(e!==~~e||e<-pR||e>pR)throw Error(yR);return xR(new this.constructor(this),e+this.e+1,t)},vR.sqrt=function(){var e,t,r,n=this,i=n.constructor,s=n.s,o=n.e,a=new i("0.5");if(!n.c[0])return new i(n);if(s<0)throw Error(gR+"No square root");0===(s=Math.sqrt(+CR(n,!0,!0)))||s===1/0?((t=n.c.join("")).length+o&1||(t+="0"),o=((o+1)/2|0)-(o<0||1&o),e=new i(((s=Math.sqrt(t))==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+o)):e=new i(s+""),o=e.e+(i.DP+=4);do{r=e,e=a.times(r.plus(n.div(r)))}while(r.c.slice(0,o).join("")!==e.c.slice(0,o).join(""));return xR(e,(i.DP-=4)+e.e+1,i.RM)},vR.times=vR.mul=function(e){var t,r=this,n=r.constructor,i=r.c,s=(e=new n(e)).c,o=i.length,a=s.length,c=r.e,l=e.e;if(e.s=r.s==e.s?1:-1,!i[0]||!s[0])return e.c=[e.e=0],e;for(e.e=c+l,o<a&&(t=i,i=s,s=t,l=o,o=a,a=l),t=new Array(l=o+a);l--;)t[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=t[l]+s[c]*i[l-c-1]+a,t[l--]=a%10,a=a/10|0;t[l]=a}for(a?++e.e:t.shift(),c=t.length;!t[--c];)t.pop();return e.c=t,e},vR.toExponential=function(e,t){var r=this,n=r.c[0];if(e!==ER){if(e!==~~e||e<0||e>pR)throw Error(yR);for(r=xR(new r.constructor(r),++e,t);r.c.length<e;)r.c.push(0)}return CR(r,!0,!!n)},vR.toFixed=function(e,t){var r=this,n=r.c[0];if(e!==ER){if(e!==~~e||e<0||e>pR)throw Error(yR);for(e=e+(r=xR(new r.constructor(r),e+r.e+1,t)).e+1;r.c.length<e;)r.c.push(0)}return CR(r,!1,!!n)},vR[Symbol.for("nodejs.util.inspect.custom")]=vR.toJSON=vR.toString=function(){var e=this,t=e.constructor;return CR(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])},vR.toNumber=function(){var e=+CR(this,!0,!0);if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(gR+"Imprecise conversion");return e},vR.toPrecision=function(e,t){var r=this,n=r.constructor,i=r.c[0];if(e!==ER){if(e!==~~e||e<1||e>pR)throw Error(mR+"precision");for(r=xR(new n(r),e,t);r.c.length<e;)r.c.push(0)}return CR(r,e<=r.e||r.e<=n.NE||r.e>=n.PE,!!i)},vR.valueOf=function(){var e=this,t=e.constructor;if(!0===t.strict)throw Error(gR+"valueOf disallowed");return CR(e,e.e<=t.NE||e.e>=t.PE,!0)};var SR=function e(){function t(r){var n=this;if(!(n instanceof t))return r===ER?e():new t(r);if(r instanceof t)n.s=r.s,n.e=r.e,n.c=r.c.slice();else{if("string"!=typeof r){if(!0===t.strict&&"bigint"!=typeof r)throw TypeError(mR+"value");r=0===r&&1/r<0?"-0":String(r)}!function(e,t){var r,n,i;if(!AR.test(t))throw Error(mR+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),i=t.length,n=0;n<i&&"0"==t.charAt(n);)++n;if(n==i)e.c=[e.e=0];else{for(;i>0&&"0"==t.charAt(--i););for(e.e=r-n-1,e.c=[],r=0;n<=i;)e.c[r++]=+t.charAt(n++)}}(n,r)}n.constructor=t}return t.prototype=vR,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=false,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}();const IR={bigNumber:e=>new SR(e||0),multiply(e,t){if(void 0===e||void 0===t)return new SR(0);const r=new SR(e),n=new SR(t);return r.times(n)},toFixed:(e,t=2)=>void 0===e||""===e?new SR(0).toFixed(t):new SR(e).toFixed(t),formatNumberToLocalString:(e,t=2)=>void 0===e||""===e?"0.00":"number"==typeof e?e.toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"}):parseFloat(e).toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"}),parseLocalStringToNumber(e){if(void 0===e||""===e)return 0;const t=e.replace(/,/gu,"");return new SR(t).toNumber()}},_R=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],kR=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],PR=e=>dR.USDT_CONTRACT_ADDRESSES.includes(e)?kR:_R,TR={validateCaipAddress(e){if(3!==e.split(":")?.length)throw new Error("Invalid CAIP Address");return e},parseCaipAddress(e){const t=e.split(":");if(3!==t.length)throw new Error(`Invalid CAIP-10 address: ${e}`);const[r,n,i]=t;if(!r||!n||!i)throw new Error(`Invalid CAIP-10 address: ${e}`);return{chainNamespace:r,chainId:n,address:i}},parseCaipNetworkId(e){const t=e.split(":");if(2!==t.length)throw new Error(`Invalid CAIP-2 network id: ${e}`);const[r,n]=t;if(!r||!n)throw new Error(`Invalid CAIP-2 network id: ${e}`);return{chainNamespace:r,chainId:n}}},OR={RPC_ERROR_CODE:{USER_REJECTED_REQUEST:4001,USER_REJECTED_METHODS:5002,USER_REJECTED:5e3},PROVIDER_RPC_ERROR_NAME:{PROVIDER_RPC:"ProviderRpcError",USER_REJECTED_REQUEST:"UserRejectedRequestError"},isRpcProviderError(e){try{if("object"==typeof e&&null!==e){const t=e,r="string"==typeof t.message,n="number"==typeof t.code;return r&&n}return!1}catch{return!1}},isUserRejectedMessage:e=>e.toLowerCase().includes("user rejected")||e.toLowerCase().includes("user cancelled")||e.toLowerCase().includes("user canceled"),isUserRejectedRequestError(e){if(OR.isRpcProviderError(e)){const t=e.code===OR.RPC_ERROR_CODE.USER_REJECTED_REQUEST,r=e.code===OR.RPC_ERROR_CODE.USER_REJECTED_METHODS;return t||r||OR.isUserRejectedMessage(e.message)}return e instanceof Error&&OR.isUserRejectedMessage(e.message)}};class NR extends Error{constructor(e,t){super(t.message,{cause:e}),this.name=OR.PROVIDER_RPC_ERROR_NAME.PROVIDER_RPC,this.code=t.code}}class RR extends NR{constructor(e){super(e,{code:OR.RPC_ERROR_CODE.USER_REJECTED_REQUEST,message:"User rejected the request"}),this.name=OR.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST}}const $R="@appkit/active_caip_network_id",BR="@appkit/connected_social",MR="@appkit-wallet/SOCIAL_USERNAME",UR="@appkit/recent_wallets",LR="@appkit/recent_wallet",DR="WALLETCONNECT_DEEPLINK_CHOICE",jR="@appkit/active_namespace",HR="@appkit/connected_namespaces",zR="@appkit/connection_status",FR="@appkit/siwx-auth-token",VR="@appkit/siwx-nonce-token",ZR="@appkit/social_provider",qR="@appkit/native_balance_cache",WR="@appkit/portfolio_cache",KR="@appkit/ens_cache",GR="@appkit/identity_cache",YR="@appkit/preferred_account_types",JR="@appkit/connections",XR="@appkit/disconnected_connector_ids",QR="@appkit/history_transactions_cache",e$="@appkit/token_price_cache",t$="@appkit/latest_version";function r$(e){if(!e)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${e}:connected_connector_id`}const n$={setItem(e,t){i$()&&void 0!==t&&localStorage.setItem(e,t)},getItem(e){if(i$())return localStorage.getItem(e)||void 0},removeItem(e){i$()&&localStorage.removeItem(e)},clear(){i$()&&localStorage.clear()}};function i$(){return typeof window<"u"&&typeof localStorage<"u"}function s$(e,t){return"light"===t?{"--w3m-accent":e?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":e?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#202020"}}const o$=Symbol(),a$=Object.getPrototypeOf,c$=new WeakMap,l$=e=>(e=>e&&(c$.has(e)?c$.get(e):a$(e)===Object.prototype||a$(e)===Array.prototype))(e)&&e[o$]||null,d$=(e,t=!0)=>{c$.set(e,t)},u$=e=>"object"==typeof e&&null!==e,h$=(e,t)=>{const r=g$.get(e);if(r?.[0]===t)return r[1];const n=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return d$(n,!0),g$.set(e,[t,n]),Reflect.ownKeys(e).forEach((t=>{if(Object.getOwnPropertyDescriptor(n,t))return;const r=Reflect.get(e,t),{enumerable:i}=Reflect.getOwnPropertyDescriptor(e,t),s={value:r,enumerable:i,configurable:!0};if(f$.has(r))d$(r,!1);else if(p$.has(r)){const[e,t]=p$.get(r);s.value=h$(e,t())}Object.defineProperty(n,t,s)})),Object.preventExtensions(n)},p$=new WeakMap,f$=new WeakSet,g$=new WeakMap,m$=[1],y$=new WeakMap;let w$=Object.is,b$=(e,t)=>new Proxy(e,t),v$=e=>u$(e)&&!f$.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)&&!(e instanceof Promise),E$=h$,A$=(e,t,r,n)=>({deleteProperty(e,t){const i=Reflect.get(e,t);r(t);const s=Reflect.deleteProperty(e,t);return s&&n(["delete",[t],i]),s},set(i,s,o,a){const c=!e()&&Reflect.has(i,s),l=Reflect.get(i,s,a);if(c&&(w$(l,o)||y$.has(o)&&w$(l,y$.get(o))))return!0;r(s),u$(o)&&(o=l$(o)||o);const d=!p$.has(o)&&v$(o)?x$(o):o;return t(s,d),Reflect.set(i,s,d,a),n(["set",[s],o,l]),!0}});function x$(e={}){if(!u$(e))throw new Error("object required");const t=y$.get(e);if(t)return t;let r=m$[0];const n=new Set,i=(e,t=++m$[0])=>{r!==t&&(s=r=t,n.forEach((r=>r(e,t))))};let s=r;const o=e=>(t,r)=>{const n=[...t];n[1]=[e,...n[1]],i(n,r)},a=new Map;let c=!0;const l=A$((()=>c),((e,t)=>{const r=!f$.has(t)&&p$.get(t);if(r){if(a.has(e))throw new Error("prop listener already exists");if(n.size){const t=r[2](o(e));a.set(e,[r,t])}else a.set(e,[r])}}),(e=>{var t;const r=a.get(e);r&&(a.delete(e),null==(t=r[1])||t.call(r))}),i),d=b$(e,l);y$.set(e,d);const u=[e,(e=m$[0])=>(s!==e&&(s=e,a.forEach((([t])=>{const n=t[1](e);n>r&&(r=n)}))),r),e=>(n.add(e),1===n.size&&a.forEach((([e,t],r)=>{if(t)throw new Error("remove already exists");const n=e[2](o(r));a.set(r,[e,n])})),()=>{n.delete(e),0===n.size&&a.forEach((([e,t],r)=>{t&&(t(),a.set(r,[e]))}))})];return p$.set(d,u),Reflect.ownKeys(e).forEach((t=>{const r=Object.getOwnPropertyDescriptor(e,t);"value"in r&&r.writable&&(d[t]=e[t])})),c=!1,d}function C$(e,t,r){const n=p$.get(e);let i;n||console.warn("Please use proxy object");const s=[],o=n[2];let a=!1;const c=o((e=>{s.push(e),r?t(s.splice(0)):i||(i=Promise.resolve().then((()=>{i=void 0,a&&t(s.splice(0))})))}));return a=!0,()=>{a=!1,c()}}function S$(e){const t=p$.get(e);t||console.warn("Please use proxy object");const[r,n]=t;return E$(r,n())}function I$(e){return f$.add(e),e}function _$(e,t,r,n){let i=e[t];return C$(e,(()=>{const n=e[t];Object.is(i,n)||r(i=n)}),n)}const{proxyStateMap:k$,snapCache:P$}={proxyStateMap:p$,refSet:f$,snapCache:g$,versionHolder:m$,proxyCache:y$},T$=e=>k$.has(e);const O$=(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",N$=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],R$={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:O$,SECURE_SITE_DASHBOARD:`${O$}/dashboard`,SECURE_SITE_FAVICON:`${O$}/images/favicon.png`,SOLANA_NATIVE_TOKEN_ADDRESS:"So11111111111111111111111111111111111111111",RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],SUGGESTED_TOKENS_BY_CHAIN:{"eip155:42161":["USD0"]},BALANCE_SUPPORTED_CHAINS:[dR.CHAIN.EVM,dR.CHAIN.SOLANA],SEND_PARAMS_SUPPORTED_CHAINS:[dR.CHAIN.EVM],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[dR.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[dR.CHAIN.EVM,dR.CHAIN.SOLANA],PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES:[dR.CHAIN.EVM,dR.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[dR.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[dR.CHAIN.EVM,dR.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1,payWithExchange:!1,payments:!1,reownAuthentication:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1,reownAuthentication:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1,reownAuthentication:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}},$$={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3,latestAppKitVersion:6048e5},isCacheExpired:(e,t)=>Date.now()-e>t,getActiveNetworkProps(){const e=$$.getActiveNamespace(),t=$$.getActiveCaipNetworkId(),r=t?t.split(":")[1]:void 0;return{namespace:e,caipNetworkId:t,chainId:r?isNaN(Number(r))?r:Number(r):void 0}},setWalletConnectDeepLink({name:e,href:t}){try{n$.setItem(DR,JSON.stringify({href:t,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const e=n$.getItem(DR);if(e)return JSON.parse(e)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{n$.removeItem(DR)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(e){try{n$.setItem(jR,e)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(e){try{n$.setItem($R,e),$$.setActiveNamespace(e.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return n$.getItem($R)}catch{return void console.info("Unable to get active caip network id")}},deleteActiveCaipNetworkId(){try{n$.removeItem($R)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(e){try{const t=r$(e);n$.removeItem(t)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(e){try{const t=$$.getRecentWallets();t.find((t=>t.id===e.id))||(t.unshift(e),t.length>2&&t.pop(),n$.setItem(UR,JSON.stringify(t)),n$.setItem(LR,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const e=n$.getItem(UR);return e?JSON.parse(e):[]}catch{console.info("Unable to get AppKit recent")}return[]},getRecentWallet(){try{const e=n$.getItem(LR);return e?JSON.parse(e):null}catch{console.info("Unable to get AppKit recent")}return null},deleteRecentWallet(){try{n$.removeItem(LR)}catch{console.info("Unable to delete AppKit recent")}},setConnectedConnectorId(e,t){try{const r=r$(e);n$.setItem(r,t)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return n$.getItem(jR)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(e){if(e)try{const t=r$(e);return n$.getItem(t)}catch{console.info("Unable to get connected connector id in namespace",e)}},setConnectedSocialProvider(e){try{n$.setItem(BR,e)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return n$.getItem(BR)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{n$.removeItem(BR)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return n$.getItem(MR)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId:()=>n$.getItem($R)?.split(":")?.[1],setConnectionStatus(e){try{n$.setItem(zR,e)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return n$.getItem(zR)}catch{return}},getConnectedNamespaces(){try{const e=n$.getItem(HR);return e?.length?e.split(","):[]}catch{return[]}},setConnectedNamespaces(e){try{const t=Array.from(new Set(e));n$.setItem(HR,t.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(e){try{const t=$$.getConnectedNamespaces();t.includes(e)||(t.push(e),$$.setConnectedNamespaces(t))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(e){try{const t=$$.getConnectedNamespaces(),r=t.indexOf(e);r>-1&&(t.splice(r,1),$$.setConnectedNamespaces(t))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return n$.getItem(ZR)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(e){try{n$.setItem(ZR,e)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{n$.removeItem(ZR)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let e={};try{const t=n$.getItem(WR);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromBalanceCache(e){try{const t=$$.getBalanceCache();n$.setItem(WR,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getBalanceCacheForCaipAddress(e){try{const t=$$.getBalanceCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.portfolio))return t.balance;$$.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateBalanceCache(e){try{const t=$$.getBalanceCache();t[e.caipAddress]=e,n$.setItem(WR,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getNativeBalanceCache(){let e={};try{const t=n$.getItem(qR);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromNativeBalanceCache(e){try{const t=$$.getBalanceCache();n$.setItem(qR,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getNativeBalanceCacheForCaipAddress(e){try{const t=$$.getNativeBalanceCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.nativeBalance))return t;console.info("Discarding cache for address",e),$$.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateNativeBalanceCache(e){try{const t=$$.getNativeBalanceCache();t[e.caipAddress]=e,n$.setItem(qR,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getEnsCache(){let e={};try{const t=n$.getItem(KR);e=t?JSON.parse(t):{}}catch{console.info("Unable to get ens name cache")}return e},getEnsFromCacheForAddress(e){try{const t=$$.getEnsCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.ens))return t.ens;$$.removeEnsFromCache(e)}catch{console.info("Unable to get ens name from cache",e)}},updateEnsCache(e){try{const t=$$.getEnsCache();t[e.address]=e,n$.setItem(KR,JSON.stringify(t))}catch{console.info("Unable to update ens name cache",e)}},removeEnsFromCache(e){try{const t=$$.getEnsCache();n$.setItem(KR,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove ens name from cache",e)}},getIdentityCache(){let e={};try{const t=n$.getItem(GR);e=t?JSON.parse(t):{}}catch{console.info("Unable to get identity cache")}return e},getIdentityFromCacheForAddress(e){try{const t=$$.getIdentityCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.identity))return t.identity;$$.removeIdentityFromCache(e)}catch{console.info("Unable to get identity from cache",e)}},updateIdentityCache(e){try{const t=$$.getIdentityCache();t[e.address]={identity:e.identity,timestamp:e.timestamp},n$.setItem(GR,JSON.stringify(t))}catch{console.info("Unable to update identity cache",e)}},removeIdentityFromCache(e){try{const t=$$.getIdentityCache();n$.setItem(GR,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove identity from cache",e)}},clearAddressCache(){try{n$.removeItem(WR),n$.removeItem(qR),n$.removeItem(KR),n$.removeItem(GR),n$.removeItem(QR)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(e){try{n$.setItem(YR,JSON.stringify(e))}catch{console.info("Unable to set preferred account types",e)}},getPreferredAccountTypes(){try{const e=n$.getItem(YR);return e?JSON.parse(e):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(e,t){try{const r=$$.getConnections(),n=r[t]??[],i=new Map;for(const e of n)i.set(e.connectorId,{...e});for(const t of e){const e=i.get(t.connectorId),r=t.connectorId===dR.CONNECTOR_ID.AUTH;if(e&&!r){const r=new Set(e.accounts.map((e=>e.address.toLowerCase()))),n=t.accounts.filter((e=>!r.has(e.address.toLowerCase())));e.accounts.push(...n)}else i.set(t.connectorId,{...t})}const s={...r,[t]:Array.from(i.values())};n$.setItem(JR,JSON.stringify(s))}catch(e){console.error("Unable to sync connections to storage",e)}},getConnections(){try{const e=n$.getItem(JR);return e?JSON.parse(e):{}}catch(e){return console.error("Unable to get connections from storage",e),{}}},deleteAddressFromConnection({connectorId:e,address:t,namespace:r}){try{const n=$$.getConnections(),i=n[r]??[],s=new Map(i.map((e=>[e.connectorId,e]))),o=s.get(e);o&&(0===o.accounts.filter((e=>e.address.toLowerCase()!==t.toLowerCase())).length?s.delete(e):s.set(e,{...o,accounts:o.accounts.filter((e=>e.address.toLowerCase()!==t.toLowerCase()))})),n$.setItem(JR,JSON.stringify({...n,[r]:Array.from(s.values())}))}catch{console.error(`Unable to remove address "${t}" from connector "${e}" in namespace "${r}"`)}},getDisconnectedConnectorIds(){try{const e=n$.getItem(XR);return e?JSON.parse(e):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(e,t){try{const r=$$.getDisconnectedConnectorIds(),n=r[t]??[];n.push(e),n$.setItem(XR,JSON.stringify({...r,[t]:Array.from(new Set(n))}))}catch{console.error(`Unable to set disconnected connector id "${e}" for namespace "${t}"`)}},removeDisconnectedConnectorId(e,t){try{const r=$$.getDisconnectedConnectorIds();let n=r[t]??[];n=n.filter((t=>t.toLowerCase()!==e.toLowerCase())),n$.setItem(XR,JSON.stringify({...r,[t]:Array.from(new Set(n))}))}catch{console.error(`Unable to remove disconnected connector id "${e}" for namespace "${t}"`)}},isConnectorDisconnected(e,t){try{return($$.getDisconnectedConnectorIds()[t]??[]).some((t=>t.toLowerCase()===e.toLowerCase()))}catch{console.info(`Unable to get disconnected connector id "${e}" for namespace "${t}"`)}return!1},getTransactionsCache(){try{const e=n$.getItem(QR);return e?JSON.parse(e):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:e,chainId:t=""}){try{const r=$$.getTransactionsCache()[e]?.[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.transactionsHistory))return r.transactions;$$.removeTransactionsCache({address:e,chainId:t})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:e,chainId:t="",timestamp:r,transactions:n}){try{const i=$$.getTransactionsCache();i[e]={...i[e],[t]:{timestamp:r,transactions:n}},n$.setItem(QR,JSON.stringify(i))}catch{console.info("Unable to update transactions cache",{address:e,chainId:t,timestamp:r,transactions:n})}},removeTransactionsCache({address:e,chainId:t}){try{const r=$$.getTransactionsCache(),n=r?.[e]||{},{[t]:i,...s}=n;n$.setItem(QR,JSON.stringify({...r,[e]:s}))}catch{console.info("Unable to remove transactions cache",{address:e,chainId:t})}},getTokenPriceCache(){try{const e=n$.getItem(e$);return e?JSON.parse(e):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(e){try{const t=$$.getTokenPriceCache()[e.join(",")];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.tokenPrice))return t.tokenPrice;$$.removeTokenPriceCache(e)}catch{console.info("Unable to get token price cache for addresses",e)}},updateTokenPriceCache(e){try{const t=$$.getTokenPriceCache();t[e.addresses.join(",")]={timestamp:e.timestamp,tokenPrice:e.tokenPrice},n$.setItem(e$,JSON.stringify(t))}catch{console.info("Unable to update token price cache",e)}},removeTokenPriceCache(e){try{const t=$$.getTokenPriceCache();n$.setItem(e$,JSON.stringify({...t,[e.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",e)}},getLatestAppKitVersion(){try{const e=this.getLatestAppKitVersionCache(),t=e?.version;return t&&!this.isCacheExpired(e.timestamp,this.cacheExpiry.latestAppKitVersion)?t:void 0}catch{console.info("Unable to get latest AppKit version")}},getLatestAppKitVersionCache(){try{const e=n$.getItem(t$);return e?JSON.parse(e):{}}catch{console.info("Unable to get latest AppKit version cache")}return{}},updateLatestAppKitVersion(e){try{const t=$$.getLatestAppKitVersionCache();t.timestamp=e.timestamp,t.version=e.version,n$.setItem(t$,JSON.stringify(t))}catch{console.info("Unable to update latest AppKit version on local storage",e)}}},B$={isMobile(){return!!this.isClient()&&!!(window?.matchMedia&&"function"==typeof window.matchMedia&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent))},checkCaipNetwork:(e,t="")=>e?.caipNetworkId.toLocaleLowerCase().includes(t.toLowerCase()),isAndroid(){if(!this.isMobile())return!1;const e=window?.navigator.userAgent.toLowerCase();return B$.isMobile()&&e.includes("android")},isIos(){if(!this.isMobile())return!1;const e=window?.navigator.userAgent.toLowerCase();return e.includes("iphone")||e.includes("ipad")},isSafari(){return!!this.isClient()&&(window?.navigator.userAgent.toLowerCase()).includes("safari")},isClient:()=>typeof window<"u",isPairingExpired:e=>!e||e-Date.now()<=R$.TEN_SEC_MS,isAllowedRetry:(e,t=R$.ONE_SEC_MS)=>Date.now()-e>=t,copyToClopboard(e){navigator.clipboard.writeText(e)},isIframe(){try{return window?.self!==window?.top}catch{return!1}},isSafeApp(){if(B$.isClient()&&window.self!==window.top)try{const e=window?.location?.ancestorOrigins?.[0],t="https://app.safe.global";if(e){const r=new URL(e),n=new URL(t);return r.hostname===n.hostname}}catch{return!1}return!1},getPairingExpiry:()=>Date.now()+R$.FOUR_MINUTES_MS,getNetworkId:e=>e?.split(":")[1],getPlainAddress:e=>e?.split(":")[2],wait:async e=>new Promise((t=>{setTimeout(t,e)})),debounce(e,t=500){let r;return(...n)=>{r&&clearTimeout(r),r=setTimeout((function(){e(...n)}),t)}},isHttpUrl:e=>e.startsWith("http://")||e.startsWith("https://"),formatNativeUrl(e,t,r=null){if(B$.isHttpUrl(e))return this.formatUniversalUrl(e,t);let n=e,i=r;n.includes("://")||(n=e.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),i&&!i?.endsWith("/")&&(i=`${i}/`),this.isTelegram()&&this.isAndroid()&&(t=encodeURIComponent(t));const s=encodeURIComponent(t);return{redirect:`${n}wc?uri=${s}`,redirectUniversalLink:i?`${i}wc?uri=${s}`:void 0,href:n}},formatUniversalUrl(e,t){if(!B$.isHttpUrl(e))return this.formatNativeUrl(e,t);let r=e;r.endsWith("/")||(r=`${r}/`);return{redirect:`${r}wc?uri=${encodeURIComponent(t)}`,href:r}},getOpenTargetForPlatform(e){return"popupWindow"===e?e:this.isTelegram()?$$.getTelegramSocialProvider()?"_top":"_blank":e},openHref(e,t,r){window?.open(e,this.getOpenTargetForPlatform(t),r||"noreferrer noopener")},returnOpenHref(e,t,r){return window?.open(e,this.getOpenTargetForPlatform(t),r||"noreferrer noopener")},isTelegram:()=>typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto),isPWA(){if(typeof window>"u")return!1;const e=!(!window?.matchMedia||"function"!=typeof window.matchMedia)&&window.matchMedia("(display-mode: standalone)")?.matches,t=window?.navigator?.standalone;return!(!e&&!t)},async preloadImage(e){const t=new Promise(((t,r)=>{const n=new Image;n.onload=t,n.onerror=r,n.crossOrigin="anonymous",n.src=e}));return Promise.race([t,B$.wait(2e3)])},parseBalance(e,t){let r="0.000";if("string"==typeof e){const t=Number(e);if(!isNaN(t)){const e=(Math.floor(1e3*t)/1e3).toFixed(3);e&&(r=e)}}const[n,i]=r.split("."),s=n||"0",o=i||"000";return{formattedText:`${s}.${o}${t?` ${t}`:""}`,value:s,decimals:o,symbol:t}},getApiUrl:()=>dR.W3M_API_URL,getBlockchainApiUrl:()=>dR.BLOCKCHAIN_API_RPC_URL,getAnalyticsUrl:()=>dR.PULSE_API_URL,getUUID:()=>crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),parseError:e=>"string"==typeof e?e:"string"==typeof e?.issues?.[0]?.message?e.issues[0].message:e instanceof Error?e.message:"Unknown error",sortRequestedNetworks(e,t=[]){const r={};return t&&e&&(e.forEach(((e,t)=>{r[e]=t})),t.sort(((e,t)=>{const n=r[e.id],i=r[t.id];return void 0!==n&&void 0!==i?n-i:void 0!==n?-1:void 0!==i?1:0}))),t},calculateBalance(e){let t=0;for(const r of e)t+=r.value??0;return t},formatTokenBalance(e){const t=e.toFixed(2),[r,n]=t.split(".");return{dollars:r,pennies:n}},isAddress(e,t="eip155"){switch(t){case"eip155":return!!/^(?:0x)?[0-9a-f]{40}$/iu.test(e)&&!(!/^(?:0x)?[0-9a-f]{40}$/iu.test(e)&&!/^(?:0x)?[0-9A-F]{40}$/iu.test(e));case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(e);default:return!1}},uniqueBy(e,t){const r=new Set;return e.filter((e=>{const n=e[t];return!r.has(n)&&(r.add(n),!0)}))},generateSdkVersion:(e,t,r)=>`${t}-${0===e.length?R$.ADAPTER_TYPES.UNIVERSAL:e.map((e=>e.adapterType)).join(",")}-${r}`,createAccount:(e,t,r,n,i)=>({namespace:e,address:t,type:r,publicKey:n,path:i}),isCaipAddress(e){if("string"!=typeof e)return!1;const t=e.split(":"),r=t[0];return 3===t.filter(Boolean).length&&r in dR.CHAIN_NAME_MAP},getAccount:e=>e?"string"==typeof e?{address:e,chainId:void 0}:{address:e.address,chainId:e.chainId}:{address:void 0,chainId:void 0},isMac(){const e=window?.navigator.userAgent.toLowerCase();return e.includes("macintosh")&&!e.includes("safari")},formatTelegramSocialLoginUrl(e){const t=`--${encodeURIComponent(window?.location.href)}`,r="state=";if("auth.magic.link"===new URL(e).host){const n="provider_authorization_url=",i=e.substring(e.indexOf(n)+n.length),s=this.injectIntoUrl(decodeURIComponent(i),r,t);return e.replace(i,encodeURIComponent(s))}return this.injectIntoUrl(e,r,t)},injectIntoUrl(e,t,r){const n=e.indexOf(t);if(-1===n)throw new Error(`${t} parameter not found in the URL: ${e}`);const i=e.indexOf("&",n),s=t.length,o=-1!==i?i:e.length;return e.substring(0,n+s)+(e.substring(n+s,o)+r)+e.substring(i)}};for(var M$={},U$={byteLength:function(e){var t=F$(e),r=t[0],n=t[1];return 3*(r+n)/4-n},toByteArray:function(e){var t,r,n=F$(e),i=n[0],s=n[1],o=new j$(function(e,t,r){return 3*(t+r)/4-r}(0,i,s)),a=0,c=s>0?i-4:i;for(r=0;r<c;r+=4)t=D$[e.charCodeAt(r)]<<18|D$[e.charCodeAt(r+1)]<<12|D$[e.charCodeAt(r+2)]<<6|D$[e.charCodeAt(r+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=255&t;return 2===s&&(t=D$[e.charCodeAt(r)]<<2|D$[e.charCodeAt(r+1)]>>4,o[a++]=255&t),1===s&&(t=D$[e.charCodeAt(r)]<<10|D$[e.charCodeAt(r+1)]<<4|D$[e.charCodeAt(r+2)]>>2,o[a++]=t>>8&255,o[a++]=255&t),o},fromByteArray:function(e){for(var t,r=e.length,n=r%3,i=[],s=16383,o=0,a=r-n;o<a;o+=s)i.push(Z$(e,o,o+s>a?a:o+s));return 1===n?(t=e[r-1],i.push(L$[t>>2]+L$[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],i.push(L$[t>>10]+L$[t>>4&63]+L$[t<<2&63]+"=")),i.join("")}},L$=[],D$=[],j$=typeof Uint8Array<"u"?Uint8Array:Array,H$="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",z$=0;z$<64;++z$)L$[z$]=H$[z$],D$[H$.charCodeAt(z$)]=z$;function F$(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function V$(e){return L$[e>>18&63]+L$[e>>12&63]+L$[e>>6&63]+L$[63&e]}function Z$(e,t,r){for(var n,i=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(V$(n));return i.join("")}D$[45]=62,D$[95]=63;var q$={/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */read:function(e,t,r,n,i){var s,o,a=8*i-n-1,c=(1<<a)-1,l=c>>1,d=-7,u=r?i-1:0,h=r?-1:1,p=e[t+u];for(u+=h,s=p&(1<<-d)-1,p>>=-d,d+=a;d>0;s=256*s+e[t+u],u+=h,d-=8);for(o=s&(1<<-d)-1,s>>=-d,d+=n;d>0;o=256*o+e[t+u],u+=h,d-=8);if(0===s)s=1-l;else{if(s===c)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,n),s-=l}return(p?-1:1)*o*Math.pow(2,s-n)},write:function(e,t,r,n,i,s){var o,a,c,l=8*s-i-1,d=(1<<l)-1,u=d>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:s-1,f=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=d):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+u>=1?h/c:h*Math.pow(2,1-u))*c>=2&&(o++,c/=2),o+u>=d?(a=0,o=d):o+u>=1?(a=(t*c-1)*Math.pow(2,i),o+=u):(a=t*Math.pow(2,u-1)*Math.pow(2,i),o=0));i>=8;e[r+p]=255&a,p+=f,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;e[r+p]=255&o,p+=f,o/=256,l-=8);e[r+p-f]|=128*g}};
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
(function(e){const t=U$,r=q$,n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=o,e.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},e.INSPECT_MAX_BYTES=50;const i=2147483647;function s(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return a(e,t,r)}function a(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!o.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|p(e,t);let n=s(r);const i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(W(e,Uint8Array)){const t=new Uint8Array(e);return u(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(W(e,ArrayBuffer)||e&&W(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(W(e,SharedArrayBuffer)||e&&W(e.buffer,SharedArrayBuffer)))return u(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return o.from(n,t,r);const i=function(e){if(o.isBuffer(e)){const t=0|h(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||K(e.length)?s(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(i)return i;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return c(e),s(e<0?0:0|h(e))}function d(e){const t=e.length<0?0:0|h(e.length),r=s(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function u(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,o.prototype),n}function h(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function p(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||W(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Z(e).length;default:if(i)return n?-1:V(e).length;t=(""+t).toLowerCase(),i=!0}}function f(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,r);case"utf8":case"utf-8":return C(this,t,r);case"ascii":return I(this,t,r);case"latin1":case"binary":return _(this,t,r);case"base64":return x(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),K(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=o.from(t,n)),o.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,i){let s,o=1,a=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,a/=2,c/=2,r/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let n=-1;for(s=r;s<a;s++)if(l(e,s)===l(t,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===c)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+c>a&&(r=a-c),s=r;s>=0;s--){let r=!0;for(let n=0;n<c;n++)if(l(e,s+n)!==l(t,n)){r=!1;break}if(r)return s}return-1}function w(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=t.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(t.substr(2*o,2),16);if(K(n))return o;e[r+o]=n}return o}function b(e,t,r,n){return q(V(t,e.length-r),e,r,n)}function v(e,t,r,n){return q(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function E(e,t,r,n){return q(Z(t),e,r,n)}function A(e,t,r,n){return q(function(e,t){let r,n,i;const s=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(t,e.length-r),e,r,n)}function x(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function C(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let s=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=r){let r,n,a,c;switch(o){case 1:t<128&&(s=t);break;case 2:r=e[i+1],128==(192&r)&&(c=(31&t)<<6|63&r,c>127&&(s=c));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(c=(15&t)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(s=c));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(s=c))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(e){const t=e.length;if(t<=S)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=S));return r}(n)}e.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch{return!1}}(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,r){return a(e,t,r)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,r){return function(e,t,r){return c(e),e<=0?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)}(e,t,r)},o.allocUnsafe=function(e){return l(e)},o.allocUnsafeSlow=function(e){return l(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(W(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),W(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=o.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(W(t,Uint8Array))i+t.length>n.length?(o.isBuffer(t)||(t=o.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!o.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},o.byteLength=p,o.prototype._isBuffer=!0,o.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},o.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},o.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},o.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?C(this,0,e):f.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(e,t,r,n,i){if(W(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let s=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0);const c=Math.min(s,a),l=this.slice(n,i),d=e.slice(t,r);for(let e=0;e<c;++e)if(l[e]!==d[e]){s=l[e],a=d[e];break}return s<a?-1:a<s?1:0},o.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},o.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return w(this,e,t,r);case"utf8":case"utf-8":return b(this,e,t,r);case"ascii":case"latin1":case"binary":return v(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const S=4096;function I(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function _(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function k(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=G[e[n]];return i}function P(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function T(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,r,n,i,s){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function N(e,t,r,n,i){j(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function R(e,t,r,n,i){j(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function $(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(e,t,n,i,s){return t=+t,n>>>=0,s||$(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function M(e,t,n,i,s){return t=+t,n>>>=0,s||$(e,0,n,8),r.write(e,t,n,i,52,8),n+8}o.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,o.prototype),n},o.prototype.readUintLE=o.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n},o.prototype.readUintBE=o.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},o.prototype.readUint8=o.prototype.readUInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),this[e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||T(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readBigUInt64LE=Y((function(e){H(e>>>=0,"offset");const t=this[e],r=this[e+7];(void 0===t||void 0===r)&&z(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),o.prototype.readBigUInt64BE=Y((function(e){H(e>>>=0,"offset");const t=this[e],r=this[e+7];(void 0===t||void 0===r)&&z(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),o.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},o.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||T(e,t,this.length);let n=t,i=1,s=this[e+--n];for(;n>0&&(i*=256);)s+=this[e+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},o.prototype.readInt8=function(e,t){return e>>>=0,t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||T(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt16BE=function(e,t){e>>>=0,t||T(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readBigInt64LE=Y((function(e){H(e>>>=0,"offset");const t=this[e],r=this[e+7];(void 0===t||void 0===r)&&z(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),o.prototype.readBigInt64BE=Y((function(e){H(e>>>=0,"offset");const t=this[e],r=this[e+7];(void 0===t||void 0===r)&&z(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),o.prototype.readFloatLE=function(e,t){return e>>>=0,t||T(e,4,this.length),r.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||T(e,4,this.length),r.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||T(e,8,this.length),r.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||T(e,8,this.length),r.read(this,e,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){O(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){O(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},o.prototype.writeUint8=o.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigUInt64LE=Y((function(e,t=0){return N(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),o.prototype.writeBigUInt64BE=Y((function(e,t=0){return R(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),o.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);O(this,e,t,r,n-1,-n)}let i=0,s=1,o=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/s|0)-o&255;return t+r},o.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);O(this,e,t,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/s|0)-o&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigInt64LE=Y((function(e,t=0){return N(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),o.prototype.writeBigInt64BE=Y((function(e,t=0){return R(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),o.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return M(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return M(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,n){if(!o.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),!n&&0!==n&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},o.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!o.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const s=o.isBuffer(e)?e:o.from(e,n),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%a]}return this};const U={};function L(e,t,r){U[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function D(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function j(e,t,r,n,i,s){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=s>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new U.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){H(t,"offset"),(void 0===e[t]||void 0===e[t+r])&&z(t,e.length-(r+1))}(n,i,s)}function H(e,t){if("number"!=typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,"number",e)}function z(e,t,r){throw Math.floor(e)!==e?(H(e,r),new U.ERR_OUT_OF_RANGE(r||"offset","an integer",e)):t<0?new U.ERR_BUFFER_OUT_OF_BOUNDS:new U.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}L("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),L("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),L("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=D(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=D(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const F=/[^+/0-9A-Za-z-_]/g;function V(e,t){let r;t=t||1/0;const n=e.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function Z(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function W(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function K(e){return e!=e}const G=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function Y(e){return typeof BigInt>"u"?J:e}function J(){throw new Error("BigInt not supported")}})(M$),typeof window<"u"&&(window.Buffer||(window.Buffer=M$.Buffer),window.global||(window.global=window),window.process||(window.process={}),window.process?.env||(window.process={env:{}}));typeof process<"u"&&typeof process.env<"u"&&process.env.NEXT_PUBLIC_SECURE_SITE_SDK_URL,typeof process<"u"&&typeof process.env<"u"&&process.env.NEXT_PUBLIC_DEFAULT_LOG_LEVEL,typeof process<"u"&&typeof process.env<"u"&&process.env.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION;const W$={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",APP_RPC_ABORT:"@w3m-app/RPC_ABORT",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",FRAME_RPC_ABORT_SUCCESS:"@w3m-frame/RPC_ABORT_SUCCESS",FRAME_RPC_ABORT_ERROR:"@w3m-frame/RPC_ABORT_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},K$={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},G$=/^0x(?:[A-Fa-f0-9]{64})$/u,Y$=/^0x(?:[a-fA-F0-9]{62,})$/u,J$={set(e,t){Q$.isClient&&localStorage.setItem(`${W$.STORAGE_KEY}${e}`,t)},get:e=>Q$.isClient?localStorage.getItem(`${W$.STORAGE_KEY}${e}`):null,delete(e,t){Q$.isClient&&(t?localStorage.removeItem(e):localStorage.removeItem(`${W$.STORAGE_KEY}${e}`))}},X$=3e4,Q$={checkIfAllowedToTriggerEmail(){const e=J$.get(W$.LAST_EMAIL_LOGIN_TIME);if(e){const t=Date.now()-Number(e);if(t<X$){const e=Math.ceil((X$-t)/1e3);throw new Error(`Please try again after ${e} seconds`)}}},getTimeToNextEmailLogin(){const e=J$.get(W$.LAST_EMAIL_LOGIN_TIME);if(e){const t=Date.now()-Number(e);if(t<X$)return Math.ceil((X$-t)/1e3)}return 0},checkIfRequestExists:e=>K$.NOT_SAFE_RPC_METHODS.includes(e.method)||K$.SAFE_RPC_METHODS.includes(e.method),getResponseType:e=>"string"==typeof e&&(e?.match(G$)||e?.match(Y$))?W$.RPC_RESPONSE_TYPE_TX:W$.RPC_RESPONSE_TYPE_OBJECT,checkIfRequestIsSafe:e=>K$.SAFE_RPC_METHODS.includes(e.method),isClient:typeof window<"u"};var eB,tB;!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const r of e)t[r]=r;return t},e.getValidEnumValues=t=>{const r=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),n={};for(const e of r)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(const r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(eB||(eB={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(tB||(tB={}));const rB=eB.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),nB=e=>{switch(typeof e){case"undefined":return rB.undefined;case"string":return rB.string;case"number":return isNaN(e)?rB.nan:rB.number;case"boolean":return rB.boolean;case"function":return rB.function;case"bigint":return rB.bigint;case"symbol":return rB.symbol;case"object":return Array.isArray(e)?rB.array:null===e?rB.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?rB.promise:typeof Map<"u"&&e instanceof Map?rB.map:typeof Set<"u"&&e instanceof Set?rB.set:typeof Date<"u"&&e instanceof Date?rB.date:rB.object;default:return rB.unknown}},iB=eB.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class sB extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(const i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(n);else if("invalid_return_type"===i.code)n(i.returnTypeError);else if("invalid_arguments"===i.code)n(i.argumentsError);else if(0===i.path.length)r._errors.push(t(i));else{let e=r,n=0;for(;n<i.path.length;){const r=i.path[n];n===i.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(i))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,eB.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const t={},r=[];for(const n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}sB.create=e=>new sB(e);const oB=(e,t)=>{let r;switch(e.code){case iB.invalid_type:r=e.received===rB.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case iB.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,eB.jsonStringifyReplacer)}`;break;case iB.unrecognized_keys:r=`Unrecognized key(s) in object: ${eB.joinValues(e.keys,", ")}`;break;case iB.invalid_union:r="Invalid input";break;case iB.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${eB.joinValues(e.options)}`;break;case iB.invalid_enum_value:r=`Invalid enum value. Expected ${eB.joinValues(e.options)}, received '${e.received}'`;break;case iB.invalid_arguments:r="Invalid function arguments";break;case iB.invalid_return_type:r="Invalid function return type";break;case iB.invalid_date:r="Invalid date";break;case iB.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:eB.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case iB.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case iB.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case iB.custom:r="Invalid input";break;case iB.invalid_intersection_types:r="Intersection results could not be merged";break;case iB.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case iB.not_finite:r="Number must be finite";break;default:r=t.defaultError,eB.assertNever(e)}return{message:r}};let aB=oB;function cB(){return aB}const lB=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,s=[...r,...i.path||[]],o={...i,path:s};let a="";const c=n.filter((e=>!!e)).slice().reverse();for(const e of c)a=e(o,{data:t,defaultError:a}).message;return{...i,path:s,message:i.message||a}};function dB(e,t){const r=lB({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,cB(),oB].filter((e=>!!e))});e.common.issues.push(r)}class uB{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const n of t){if("aborted"===n.status)return hB;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const e of t)r.push({key:await e.key,value:await e.value});return uB.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const n of t){const{key:t,value:i}=n;if("aborted"===t.status||"aborted"===i.status)return hB;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"!==t.value&&(typeof i.value<"u"||n.alwaysSet)&&(r[t.value]=i.value)}return{status:e.value,value:r}}}const hB=Object.freeze({status:"aborted"}),pB=e=>({status:"dirty",value:e}),fB=e=>({status:"valid",value:e}),gB=e=>"aborted"===e.status,mB=e=>"dirty"===e.status,yB=e=>"valid"===e.status,wB=e=>typeof Promise<"u"&&e instanceof Promise;var bB;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(bB||(bB={}));class vB{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const EB=(e,t)=>{if(yB(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new sB(e.common.issues);return this._error=t,this._error}}};function AB(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:typeof t.data>"u"?{message:n??t.defaultError}:{message:r??t.defaultError},description:i}}class xB{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return nB(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:nB(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new uB,ctx:{common:e.parent.common,data:e.data,parsedType:nB(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(wB(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const n={common:{issues:[],async:null!==(r=t?.async)&&void 0!==r&&r,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:nB(e)},i=this._parseSync({data:e,path:n.path,parent:n});return EB(n,i)}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:nB(e)},n=this._parse({data:e,path:r.path,parent:r}),i=await(wB(n)?n:Promise.resolve(n));return EB(r,i)}refine(e,t){const r=e=>"string"==typeof t||typeof t>"u"?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,n)=>{const i=e(t),s=()=>n.addIssue({code:iB.custom,...r(t)});return typeof Promise<"u"&&i instanceof Promise?i.then((e=>!!e||(s(),!1))):!!i||(s(),!1)}))}refinement(e,t){return this._refinement(((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1)))}_refinement(e){return new hM({schema:this,typeName:CM.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return pM.create(this,this._def)}nullable(){return fM.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return WB.create(this,this._def)}promise(){return uM.create(this,this._def)}or(e){return YB.create([this,e],this._def)}and(e){return eM.create(this,e,this._def)}transform(e){return new hM({...AB(this._def),schema:this,typeName:CM.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new gM({...AB(this._def),innerType:this,defaultValue:t,typeName:CM.ZodDefault})}brand(){return new bM({typeName:CM.ZodBranded,type:this,...AB(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new mM({...AB(this._def),innerType:this,catchValue:t,typeName:CM.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return vM.create(this,e)}readonly(){return EM.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const CB=/^c[^\s-]{8,}$/i,SB=/^[a-z][a-z0-9]*$/,IB=/^[0-9A-HJKMNP-TV-Z]{26}$/,_B=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,kB=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let PB;const TB=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,OB=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,NB=e=>e.precision?e.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):0===e.precision?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function RB(e,t){return!(("v4"!==t&&t||!TB.test(e))&&("v6"!==t&&t||!OB.test(e)))}class $B extends xB{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==rB.string){const t=this._getOrReturnCtx(e);return dB(t,{code:iB.invalid_type,expected:rB.string,received:t.parsedType}),hB}const t=new uB;let r;for(const n of this._def.checks)if("min"===n.kind)e.data.length<n.value&&(r=this._getOrReturnCtx(e,r),dB(r,{code:iB.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),t.dirty());else if("max"===n.kind)e.data.length>n.value&&(r=this._getOrReturnCtx(e,r),dB(r,{code:iB.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),t.dirty());else if("length"===n.kind){const i=e.data.length>n.value,s=e.data.length<n.value;(i||s)&&(r=this._getOrReturnCtx(e,r),i?dB(r,{code:iB.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):s&&dB(r,{code:iB.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),t.dirty())}else if("email"===n.kind)kB.test(e.data)||(r=this._getOrReturnCtx(e,r),dB(r,{validation:"email",code:iB.invalid_string,message:n.message}),t.dirty());else if("emoji"===n.kind)PB||(PB=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),PB.test(e.data)||(r=this._getOrReturnCtx(e,r),dB(r,{validation:"emoji",code:iB.invalid_string,message:n.message}),t.dirty());else if("uuid"===n.kind)_B.test(e.data)||(r=this._getOrReturnCtx(e,r),dB(r,{validation:"uuid",code:iB.invalid_string,message:n.message}),t.dirty());else if("cuid"===n.kind)CB.test(e.data)||(r=this._getOrReturnCtx(e,r),dB(r,{validation:"cuid",code:iB.invalid_string,message:n.message}),t.dirty());else if("cuid2"===n.kind)SB.test(e.data)||(r=this._getOrReturnCtx(e,r),dB(r,{validation:"cuid2",code:iB.invalid_string,message:n.message}),t.dirty());else if("ulid"===n.kind)IB.test(e.data)||(r=this._getOrReturnCtx(e,r),dB(r,{validation:"ulid",code:iB.invalid_string,message:n.message}),t.dirty());else if("url"===n.kind)try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),dB(r,{validation:"url",code:iB.invalid_string,message:n.message}),t.dirty()}else"regex"===n.kind?(n.regex.lastIndex=0,n.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),dB(r,{validation:"regex",code:iB.invalid_string,message:n.message}),t.dirty())):"trim"===n.kind?e.data=e.data.trim():"includes"===n.kind?e.data.includes(n.value,n.position)||(r=this._getOrReturnCtx(e,r),dB(r,{code:iB.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),t.dirty()):"toLowerCase"===n.kind?e.data=e.data.toLowerCase():"toUpperCase"===n.kind?e.data=e.data.toUpperCase():"startsWith"===n.kind?e.data.startsWith(n.value)||(r=this._getOrReturnCtx(e,r),dB(r,{code:iB.invalid_string,validation:{startsWith:n.value},message:n.message}),t.dirty()):"endsWith"===n.kind?e.data.endsWith(n.value)||(r=this._getOrReturnCtx(e,r),dB(r,{code:iB.invalid_string,validation:{endsWith:n.value},message:n.message}),t.dirty()):"datetime"===n.kind?NB(n).test(e.data)||(r=this._getOrReturnCtx(e,r),dB(r,{code:iB.invalid_string,validation:"datetime",message:n.message}),t.dirty()):"ip"===n.kind?RB(e.data,n.version)||(r=this._getOrReturnCtx(e,r),dB(r,{validation:"ip",code:iB.invalid_string,message:n.message}),t.dirty()):eB.assertNever(n);return{status:t.value,value:e.data}}_regex(e,t,r){return this.refinement((t=>e.test(t)),{validation:t,code:iB.invalid_string,...bB.errToObj(r)})}_addCheck(e){return new $B({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...bB.errToObj(e)})}url(e){return this._addCheck({kind:"url",...bB.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...bB.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...bB.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...bB.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...bB.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...bB.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...bB.errToObj(e)})}datetime(e){var t;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:null!==(t=e?.offset)&&void 0!==t&&t,...bB.errToObj(e?.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...bB.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...bB.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...bB.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...bB.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...bB.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...bB.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...bB.errToObj(t)})}nonempty(e){return this.min(1,bB.errToObj(e))}trim(){return new $B({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new $B({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new $B({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function BB(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}$B.create=e=>{var t;return new $B({checks:[],typeName:CM.ZodString,coerce:null!==(t=e?.coerce)&&void 0!==t&&t,...AB(e)})};class MB extends xB{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==rB.number){const t=this._getOrReturnCtx(e);return dB(t,{code:iB.invalid_type,expected:rB.number,received:t.parsedType}),hB}let t;const r=new uB;for(const n of this._def.checks)"int"===n.kind?eB.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),dB(t,{code:iB.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(t=this._getOrReturnCtx(e,t),dB(t,{code:iB.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(t=this._getOrReturnCtx(e,t),dB(t,{code:iB.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==BB(e.data,n.value)&&(t=this._getOrReturnCtx(e,t),dB(t,{code:iB.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),dB(t,{code:iB.not_finite,message:n.message}),r.dirty()):eB.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,bB.toString(t))}gt(e,t){return this.setLimit("min",e,!1,bB.toString(t))}lte(e,t){return this.setLimit("max",e,!0,bB.toString(t))}lt(e,t){return this.setLimit("max",e,!1,bB.toString(t))}setLimit(e,t,r,n){return new MB({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:bB.toString(n)}]})}_addCheck(e){return new MB({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:bB.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:bB.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:bB.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:bB.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:bB.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:bB.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:bB.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:bB.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:bB.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&eB.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}MB.create=e=>new MB({checks:[],typeName:CM.ZodNumber,coerce:e?.coerce||!1,...AB(e)});class UB extends xB{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==rB.bigint){const t=this._getOrReturnCtx(e);return dB(t,{code:iB.invalid_type,expected:rB.bigint,received:t.parsedType}),hB}let t;const r=new uB;for(const n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(t=this._getOrReturnCtx(e,t),dB(t,{code:iB.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(t=this._getOrReturnCtx(e,t),dB(t,{code:iB.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),dB(t,{code:iB.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):eB.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,bB.toString(t))}gt(e,t){return this.setLimit("min",e,!1,bB.toString(t))}lte(e,t){return this.setLimit("max",e,!0,bB.toString(t))}lt(e,t){return this.setLimit("max",e,!1,bB.toString(t))}setLimit(e,t,r,n){return new UB({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:bB.toString(n)}]})}_addCheck(e){return new UB({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:bB.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:bB.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:bB.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:bB.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:bB.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}UB.create=e=>{var t;return new UB({checks:[],typeName:CM.ZodBigInt,coerce:null!==(t=e?.coerce)&&void 0!==t&&t,...AB(e)})};class LB extends xB{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==rB.boolean){const t=this._getOrReturnCtx(e);return dB(t,{code:iB.invalid_type,expected:rB.boolean,received:t.parsedType}),hB}return fB(e.data)}}LB.create=e=>new LB({typeName:CM.ZodBoolean,coerce:e?.coerce||!1,...AB(e)});class DB extends xB{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==rB.date){const t=this._getOrReturnCtx(e);return dB(t,{code:iB.invalid_type,expected:rB.date,received:t.parsedType}),hB}if(isNaN(e.data.getTime())){return dB(this._getOrReturnCtx(e),{code:iB.invalid_date}),hB}const t=new uB;let r;for(const n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(r=this._getOrReturnCtx(e,r),dB(r,{code:iB.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),t.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(r=this._getOrReturnCtx(e,r),dB(r,{code:iB.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),t.dirty()):eB.assertNever(n);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new DB({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:bB.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:bB.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}DB.create=e=>new DB({checks:[],coerce:e?.coerce||!1,typeName:CM.ZodDate,...AB(e)});class jB extends xB{_parse(e){if(this._getType(e)!==rB.symbol){const t=this._getOrReturnCtx(e);return dB(t,{code:iB.invalid_type,expected:rB.symbol,received:t.parsedType}),hB}return fB(e.data)}}jB.create=e=>new jB({typeName:CM.ZodSymbol,...AB(e)});class HB extends xB{_parse(e){if(this._getType(e)!==rB.undefined){const t=this._getOrReturnCtx(e);return dB(t,{code:iB.invalid_type,expected:rB.undefined,received:t.parsedType}),hB}return fB(e.data)}}HB.create=e=>new HB({typeName:CM.ZodUndefined,...AB(e)});class zB extends xB{_parse(e){if(this._getType(e)!==rB.null){const t=this._getOrReturnCtx(e);return dB(t,{code:iB.invalid_type,expected:rB.null,received:t.parsedType}),hB}return fB(e.data)}}zB.create=e=>new zB({typeName:CM.ZodNull,...AB(e)});class FB extends xB{constructor(){super(...arguments),this._any=!0}_parse(e){return fB(e.data)}}FB.create=e=>new FB({typeName:CM.ZodAny,...AB(e)});class VB extends xB{constructor(){super(...arguments),this._unknown=!0}_parse(e){return fB(e.data)}}VB.create=e=>new VB({typeName:CM.ZodUnknown,...AB(e)});class ZB extends xB{_parse(e){const t=this._getOrReturnCtx(e);return dB(t,{code:iB.invalid_type,expected:rB.never,received:t.parsedType}),hB}}ZB.create=e=>new ZB({typeName:CM.ZodNever,...AB(e)});class qB extends xB{_parse(e){if(this._getType(e)!==rB.undefined){const t=this._getOrReturnCtx(e);return dB(t,{code:iB.invalid_type,expected:rB.void,received:t.parsedType}),hB}return fB(e.data)}}qB.create=e=>new qB({typeName:CM.ZodVoid,...AB(e)});class WB extends xB{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==rB.array)return dB(t,{code:iB.invalid_type,expected:rB.array,received:t.parsedType}),hB;if(null!==n.exactLength){const e=t.data.length>n.exactLength.value,i=t.data.length<n.exactLength.value;(e||i)&&(dB(t,{code:e?iB.too_big:iB.too_small,minimum:i?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(dB(t,{code:iB.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(dB(t,{code:iB.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map(((e,r)=>n.type._parseAsync(new vB(t,e,t.path,r))))).then((e=>uB.mergeArray(r,e)));const i=[...t.data].map(((e,r)=>n.type._parseSync(new vB(t,e,t.path,r))));return uB.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new WB({...this._def,minLength:{value:e,message:bB.toString(t)}})}max(e,t){return new WB({...this._def,maxLength:{value:e,message:bB.toString(t)}})}length(e,t){return new WB({...this._def,exactLength:{value:e,message:bB.toString(t)}})}nonempty(e){return this.min(1,e)}}function KB(e){if(e instanceof GB){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=pM.create(KB(n))}return new GB({...e._def,shape:()=>t})}return e instanceof WB?new WB({...e._def,type:KB(e.element)}):e instanceof pM?pM.create(KB(e.unwrap())):e instanceof fM?fM.create(KB(e.unwrap())):e instanceof tM?tM.create(e.items.map((e=>KB(e)))):e}WB.create=(e,t)=>new WB({type:e,minLength:null,maxLength:null,exactLength:null,typeName:CM.ZodArray,...AB(t)});class GB extends xB{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=eB.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==rB.object){const t=this._getOrReturnCtx(e);return dB(t,{code:iB.invalid_type,expected:rB.object,received:t.parsedType}),hB}const{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),s=[];if(!(this._def.catchall instanceof ZB&&"strip"===this._def.unknownKeys))for(const e in r.data)i.includes(e)||s.push(e);const o=[];for(const e of i){const t=n[e],i=r.data[e];o.push({key:{status:"valid",value:e},value:t._parse(new vB(r,i,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof ZB){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of s)o.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)s.length>0&&(dB(r,{code:iB.unrecognized_keys,keys:s}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of s){const n=r.data[t];o.push({key:{status:"valid",value:t},value:e._parse(new vB(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of o){const r=await t.key;e.push({key:r,value:await t.value,alwaysSet:t.alwaysSet})}return e})).then((e=>uB.mergeObjectSync(t,e))):uB.mergeObjectSync(t,o)}get shape(){return this._def.shape()}strict(e){return bB.errToObj,new GB({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{var n,i,s,o;const a=null!==(s=null===(i=(n=this._def).errorMap)||void 0===i?void 0:i.call(n,t,r).message)&&void 0!==s?s:r.defaultError;return"unrecognized_keys"===t.code?{message:null!==(o=bB.errToObj(e).message)&&void 0!==o?o:a}:{message:a}}}:{}})}strip(){return new GB({...this._def,unknownKeys:"strip"})}passthrough(){return new GB({...this._def,unknownKeys:"passthrough"})}extend(e){return new GB({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new GB({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:CM.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new GB({...this._def,catchall:e})}pick(e){const t={};return eB.objectKeys(e).forEach((r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])})),new GB({...this._def,shape:()=>t})}omit(e){const t={};return eB.objectKeys(this.shape).forEach((r=>{e[r]||(t[r]=this.shape[r])})),new GB({...this._def,shape:()=>t})}deepPartial(){return KB(this)}partial(e){const t={};return eB.objectKeys(this.shape).forEach((r=>{const n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()})),new GB({...this._def,shape:()=>t})}required(e){const t={};return eB.objectKeys(this.shape).forEach((r=>{if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof pM;)e=e._def.innerType;t[r]=e}})),new GB({...this._def,shape:()=>t})}keyof(){return cM(eB.objectKeys(this.shape))}}GB.create=(e,t)=>new GB({shape:()=>e,unknownKeys:"strip",catchall:ZB.create(),typeName:CM.ZodObject,...AB(t)}),GB.strictCreate=(e,t)=>new GB({shape:()=>e,unknownKeys:"strict",catchall:ZB.create(),typeName:CM.ZodObject,...AB(t)}),GB.lazycreate=(e,t)=>new GB({shape:e,unknownKeys:"strip",catchall:ZB.create(),typeName:CM.ZodObject,...AB(t)});class YB extends xB{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map((async e=>{const r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const r=e.map((e=>new sB(e.ctx.common.issues)));return dB(t,{code:iB.invalid_union,unionErrors:r}),hB}));{let e;const n=[];for(const i of r){const r={...t,common:{...t.common,issues:[]},parent:null},s=i._parseSync({data:t.data,path:t.path,parent:r});if("valid"===s.status)return s;"dirty"===s.status&&!e&&(e={result:s,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const i=n.map((e=>new sB(e)));return dB(t,{code:iB.invalid_union,unionErrors:i}),hB}}get options(){return this._def.options}}YB.create=(e,t)=>new YB({options:e,typeName:CM.ZodUnion,...AB(t)});const JB=e=>e instanceof oM?JB(e.schema):e instanceof hM?JB(e.innerType()):e instanceof aM?[e.value]:e instanceof lM?e.options:e instanceof dM?Object.keys(e.enum):e instanceof gM?JB(e._def.innerType):e instanceof HB?[void 0]:e instanceof zB?[null]:null;class XB extends xB{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==rB.object)return dB(t,{code:iB.invalid_type,expected:rB.object,received:t.parsedType}),hB;const r=this.discriminator,n=t.data[r],i=this.optionsMap.get(n);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(dB(t,{code:iB.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),hB)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const n=new Map;for(const r of t){const t=JB(r.shape[e]);if(!t)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const i of t){if(n.has(i))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);n.set(i,r)}}return new XB({typeName:CM.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...AB(r)})}}function QB(e,t){const r=nB(e),n=nB(t);if(e===t)return{valid:!0,data:e};if(r===rB.object&&n===rB.object){const r=eB.objectKeys(t),n=eB.objectKeys(e).filter((e=>-1!==r.indexOf(e))),i={...e,...t};for(const r of n){const n=QB(e[r],t[r]);if(!n.valid)return{valid:!1};i[r]=n.data}return{valid:!0,data:i}}if(r===rB.array&&n===rB.array){if(e.length!==t.length)return{valid:!1};const r=[];for(let n=0;n<e.length;n++){const i=QB(e[n],t[n]);if(!i.valid)return{valid:!1};r.push(i.data)}return{valid:!0,data:r}}return r===rB.date&&n===rB.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class eM extends xB{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(gB(e)||gB(n))return hB;const i=QB(e.value,n.value);return i.valid?((mB(e)||mB(n))&&t.dirty(),{status:t.value,value:i.data}):(dB(r,{code:iB.invalid_intersection_types}),hB)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then((([e,t])=>n(e,t))):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}eM.create=(e,t,r)=>new eM({left:e,right:t,typeName:CM.ZodIntersection,...AB(r)});class tM extends xB{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==rB.array)return dB(r,{code:iB.invalid_type,expected:rB.array,received:r.parsedType}),hB;if(r.data.length<this._def.items.length)return dB(r,{code:iB.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),hB;!this._def.rest&&r.data.length>this._def.items.length&&(dB(r,{code:iB.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const n=[...r.data].map(((e,t)=>{const n=this._def.items[t]||this._def.rest;return n?n._parse(new vB(r,e,r.path,t)):null})).filter((e=>!!e));return r.common.async?Promise.all(n).then((e=>uB.mergeArray(t,e))):uB.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new tM({...this._def,rest:e})}}tM.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new tM({items:e,typeName:CM.ZodTuple,rest:null,...AB(t)})};class rM extends xB{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==rB.object)return dB(r,{code:iB.invalid_type,expected:rB.object,received:r.parsedType}),hB;const n=[],i=this._def.keyType,s=this._def.valueType;for(const e in r.data)n.push({key:i._parse(new vB(r,e,r.path,e)),value:s._parse(new vB(r,r.data[e],r.path,e))});return r.common.async?uB.mergeObjectAsync(t,n):uB.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new rM(t instanceof xB?{keyType:e,valueType:t,typeName:CM.ZodRecord,...AB(r)}:{keyType:$B.create(),valueType:e,typeName:CM.ZodRecord,...AB(t)})}}class nM extends xB{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==rB.map)return dB(r,{code:iB.invalid_type,expected:rB.map,received:r.parsedType}),hB;const n=this._def.keyType,i=this._def.valueType,s=[...r.data.entries()].map((([e,t],s)=>({key:n._parse(new vB(r,e,r.path,[s,"key"])),value:i._parse(new vB(r,t,r.path,[s,"value"]))})));if(r.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const r of s){const n=await r.key,i=await r.value;if("aborted"===n.status||"aborted"===i.status)return hB;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const r of s){const n=r.key,i=r.value;if("aborted"===n.status||"aborted"===i.status)return hB;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}}}nM.create=(e,t,r)=>new nM({valueType:t,keyType:e,typeName:CM.ZodMap,...AB(r)});class iM extends xB{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==rB.set)return dB(r,{code:iB.invalid_type,expected:rB.set,received:r.parsedType}),hB;const n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(dB(r,{code:iB.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(dB(r,{code:iB.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());const i=this._def.valueType;function s(e){const r=new Set;for(const n of e){if("aborted"===n.status)return hB;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}const o=[...r.data.values()].map(((e,t)=>i._parse(new vB(r,e,r.path,t))));return r.common.async?Promise.all(o).then((e=>s(e))):s(o)}min(e,t){return new iM({...this._def,minSize:{value:e,message:bB.toString(t)}})}max(e,t){return new iM({...this._def,maxSize:{value:e,message:bB.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}iM.create=(e,t)=>new iM({valueType:e,minSize:null,maxSize:null,typeName:CM.ZodSet,...AB(t)});class sM extends xB{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==rB.function)return dB(t,{code:iB.invalid_type,expected:rB.function,received:t.parsedType}),hB;function r(e,r){return lB({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,cB(),oB].filter((e=>!!e)),issueData:{code:iB.invalid_arguments,argumentsError:r}})}function n(e,r){return lB({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,cB(),oB].filter((e=>!!e)),issueData:{code:iB.invalid_return_type,returnTypeError:r}})}const i={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof uM){const e=this;return fB((async function(...t){const o=new sB([]),a=await e._def.args.parseAsync(t,i).catch((e=>{throw o.addIssue(r(t,e)),o})),c=await Reflect.apply(s,this,a);return await e._def.returns._def.type.parseAsync(c,i).catch((e=>{throw o.addIssue(n(c,e)),o}))}))}{const e=this;return fB((function(...t){const o=e._def.args.safeParse(t,i);if(!o.success)throw new sB([r(t,o.error)]);const a=Reflect.apply(s,this,o.data),c=e._def.returns.safeParse(a,i);if(!c.success)throw new sB([n(a,c.error)]);return c.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new sM({...this._def,args:tM.create(e).rest(VB.create())})}returns(e){return new sM({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new sM({args:e||tM.create([]).rest(VB.create()),returns:t||VB.create(),typeName:CM.ZodFunction,...AB(r)})}}class oM extends xB{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}oM.create=(e,t)=>new oM({getter:e,typeName:CM.ZodLazy,...AB(t)});class aM extends xB{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return dB(t,{received:t.data,code:iB.invalid_literal,expected:this._def.value}),hB}return{status:"valid",value:e.data}}get value(){return this._def.value}}function cM(e,t){return new lM({values:e,typeName:CM.ZodEnum,...AB(t)})}aM.create=(e,t)=>new aM({value:e,typeName:CM.ZodLiteral,...AB(t)});class lM extends xB{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),r=this._def.values;return dB(t,{expected:eB.joinValues(r),received:t.parsedType,code:iB.invalid_type}),hB}if(-1===this._def.values.indexOf(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return dB(t,{received:t.data,code:iB.invalid_enum_value,options:r}),hB}return fB(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return lM.create(e)}exclude(e){return lM.create(this.options.filter((t=>!e.includes(t))))}}lM.create=cM;class dM extends xB{_parse(e){const t=eB.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==rB.string&&r.parsedType!==rB.number){const e=eB.objectValues(t);return dB(r,{expected:eB.joinValues(e),received:r.parsedType,code:iB.invalid_type}),hB}if(-1===t.indexOf(e.data)){const e=eB.objectValues(t);return dB(r,{received:r.data,code:iB.invalid_enum_value,options:e}),hB}return fB(e.data)}get enum(){return this._def.values}}dM.create=(e,t)=>new dM({values:e,typeName:CM.ZodNativeEnum,...AB(t)});class uM extends xB{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==rB.promise&&!1===t.common.async)return dB(t,{code:iB.invalid_type,expected:rB.promise,received:t.parsedType}),hB;const r=t.parsedType===rB.promise?t.data:Promise.resolve(t.data);return fB(r.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}uM.create=(e,t)=>new uM({type:e,typeName:CM.ZodPromise,...AB(t)});class hM extends xB{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===CM.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:e=>{dB(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===n.type){const e=n.transform(r.data,i);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(e).then((e=>this._def.schema._parseAsync({data:e,path:r.path,parent:r}))):this._def.schema._parseSync({data:e,path:r.path,parent:r})}if("refinement"===n.type){const e=e=>{const t=n.refinement(e,i);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===r.common.async){const n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?hB:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then((r=>"aborted"===r.status?hB:("dirty"===r.status&&t.dirty(),e(r.value).then((()=>({status:t.value,value:r.value}))))))}if("transform"===n.type){if(!1===r.common.async){const e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!yB(e))return e;const s=n.transform(e.value,i);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then((e=>yB(e)?Promise.resolve(n.transform(e.value,i)).then((e=>({status:t.value,value:e}))):e))}eB.assertNever(n)}}hM.create=(e,t,r)=>new hM({schema:e,typeName:CM.ZodEffects,effect:t,...AB(r)}),hM.createWithPreprocess=(e,t,r)=>new hM({schema:t,effect:{type:"preprocess",transform:e},typeName:CM.ZodEffects,...AB(r)});class pM extends xB{_parse(e){return this._getType(e)===rB.undefined?fB(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}pM.create=(e,t)=>new pM({innerType:e,typeName:CM.ZodOptional,...AB(t)});class fM extends xB{_parse(e){return this._getType(e)===rB.null?fB(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}fM.create=(e,t)=>new fM({innerType:e,typeName:CM.ZodNullable,...AB(t)});class gM extends xB{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===rB.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}gM.create=(e,t)=>new gM({innerType:e,typeName:CM.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...AB(t)});class mM extends xB{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return wB(n)?n.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new sB(r.common.issues)},input:r.data})}))):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new sB(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}mM.create=(e,t)=>new mM({innerType:e,typeName:CM.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...AB(t)});class yM extends xB{_parse(e){if(this._getType(e)!==rB.nan){const t=this._getOrReturnCtx(e);return dB(t,{code:iB.invalid_type,expected:rB.nan,received:t.parsedType}),hB}return{status:"valid",value:e.data}}}yM.create=e=>new yM({typeName:CM.ZodNaN,...AB(e)});const wM=Symbol("zod_brand");class bM extends xB{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class vM extends xB{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?hB:"dirty"===e.status?(t.dirty(),pB(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{const e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?hB:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new vM({in:e,out:t,typeName:CM.ZodPipeline})}}class EM extends xB{_parse(e){const t=this._def.innerType._parse(e);return yB(t)&&(t.value=Object.freeze(t.value)),t}}EM.create=(e,t)=>new EM({innerType:e,typeName:CM.ZodReadonly,...AB(t)});const AM=(e,t={},r)=>e?FB.create().superRefine(((n,i)=>{var s,o;if(!e(n)){const e="function"==typeof t?t(n):"string"==typeof t?{message:t}:t,a=null===(o=null!==(s=e.fatal)&&void 0!==s?s:r)||void 0===o||o,c="string"==typeof e?{message:e}:e;i.addIssue({code:"custom",...c,fatal:a})}})):FB.create(),xM={object:GB.lazycreate};var CM;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(CM||(CM={}));const SM=$B.create,IM=MB.create,_M=yM.create,kM=UB.create,PM=LB.create,TM=DB.create,OM=jB.create,NM=HB.create,RM=zB.create,$M=FB.create,BM=VB.create,MM=ZB.create,UM=qB.create,LM=WB.create,DM=GB.create,jM=GB.strictCreate,HM=YB.create,zM=XB.create,FM=eM.create,VM=tM.create,ZM=rM.create,qM=nM.create,WM=iM.create,KM=sM.create,GM=oM.create,YM=aM.create,JM=lM.create,XM=dM.create,QM=uM.create,eU=hM.create,tU=pM.create,rU=fM.create,nU=hM.createWithPreprocess,iU=vM.create;var sU=Object.freeze({__proto__:null,defaultErrorMap:oB,setErrorMap:function(e){aB=e},getErrorMap:cB,makeIssue:lB,EMPTY_PATH:[],addIssueToContext:dB,ParseStatus:uB,INVALID:hB,DIRTY:pB,OK:fB,isAborted:gB,isDirty:mB,isValid:yB,isAsync:wB,get util(){return eB},get objectUtil(){return tB},ZodParsedType:rB,getParsedType:nB,ZodType:xB,ZodString:$B,ZodNumber:MB,ZodBigInt:UB,ZodBoolean:LB,ZodDate:DB,ZodSymbol:jB,ZodUndefined:HB,ZodNull:zB,ZodAny:FB,ZodUnknown:VB,ZodNever:ZB,ZodVoid:qB,ZodArray:WB,ZodObject:GB,ZodUnion:YB,ZodDiscriminatedUnion:XB,ZodIntersection:eM,ZodTuple:tM,ZodRecord:rM,ZodMap:nM,ZodSet:iM,ZodFunction:sM,ZodLazy:oM,ZodLiteral:aM,ZodEnum:lM,ZodNativeEnum:dM,ZodPromise:uM,ZodEffects:hM,ZodTransformer:hM,ZodOptional:pM,ZodNullable:fM,ZodDefault:gM,ZodCatch:mM,ZodNaN:yM,BRAND:wM,ZodBranded:bM,ZodPipeline:vM,ZodReadonly:EM,custom:AM,Schema:xB,ZodSchema:xB,late:xM,get ZodFirstPartyTypeKind(){return CM},coerce:{string:e=>$B.create({...e,coerce:!0}),number:e=>MB.create({...e,coerce:!0}),boolean:e=>LB.create({...e,coerce:!0}),bigint:e=>UB.create({...e,coerce:!0}),date:e=>DB.create({...e,coerce:!0})},any:$M,array:LM,bigint:kM,boolean:PM,date:TM,discriminatedUnion:zM,effect:eU,enum:JM,function:KM,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>AM((t=>t instanceof e),t),intersection:FM,lazy:GM,literal:YM,map:qM,nan:_M,nativeEnum:XM,never:MM,null:RM,nullable:rU,number:IM,object:DM,oboolean:()=>PM().optional(),onumber:()=>IM().optional(),optional:tU,ostring:()=>SM().optional(),pipeline:iU,preprocess:nU,promise:QM,record:ZM,set:WM,strictObject:jM,string:SM,symbol:OM,transformer:eU,tuple:VM,undefined:NM,union:HM,unknown:BM,void:UM,NEVER:hB,ZodIssueCode:iB,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:sB});const oU=sU.object({message:sU.string()});function aU(e){return sU.literal(W$[e])}const cU=sU.object({serializedMessage:sU.string().optional(),accountAddress:sU.string(),chainId:sU.string(),notBefore:sU.string().optional(),domain:sU.string(),uri:sU.string(),version:sU.string(),nonce:sU.string(),statement:sU.string().optional(),resources:sU.array(sU.string()).optional(),requestId:sU.string().optional(),issuedAt:sU.string().optional(),expirationTime:sU.string().optional()});sU.object({accessList:sU.array(sU.string()),blockHash:sU.string().nullable(),blockNumber:sU.string().nullable(),chainId:sU.string().or(sU.number()),from:sU.string(),gas:sU.string(),hash:sU.string(),input:sU.string().nullable(),maxFeePerGas:sU.string(),maxPriorityFeePerGas:sU.string(),nonce:sU.string(),r:sU.string(),s:sU.string(),to:sU.string(),transactionIndex:sU.string().nullable(),type:sU.string(),v:sU.string(),value:sU.string()});const lU=sU.object({chainId:sU.string().or(sU.number()),rpcUrl:sU.optional(sU.string())}),dU=sU.object({email:sU.string().email()}),uU=sU.object({otp:sU.string()}),hU=sU.object({uri:sU.string(),preferredAccountType:sU.optional(sU.string()),chainId:sU.optional(sU.string().or(sU.number())),siwxMessage:sU.optional(cU),rpcUrl:sU.optional(sU.string())}),pU=sU.object({chainId:sU.optional(sU.string().or(sU.number())),preferredAccountType:sU.optional(sU.string()),socialUri:sU.optional(sU.string()),siwxMessage:sU.optional(cU),rpcUrl:sU.optional(sU.string())}),fU=sU.object({provider:sU.enum(["google","github","apple","facebook","x","discord"])}),gU=sU.object({email:sU.string().email()}),mU=sU.object({otp:sU.string()}),yU=sU.object({otp:sU.string()}),wU=sU.object({themeMode:sU.optional(sU.enum(["light","dark"])),themeVariables:sU.optional(sU.record(sU.string(),sU.string().or(sU.number()))),w3mThemeVariables:sU.optional(sU.record(sU.string(),sU.string()))}),bU=sU.object({metadata:sU.object({name:sU.string(),description:sU.string(),url:sU.string(),icons:sU.array(sU.string())}).optional(),sdkVersion:sU.string().optional(),sdkType:sU.string().optional(),projectId:sU.string()}),vU=sU.object({type:sU.string()}),EU=sU.object({action:sU.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),AU=sU.object({url:sU.string()}),xU=sU.object({userName:sU.string()}),CU=sU.object({email:sU.string().optional().nullable(),address:sU.string(),chainId:sU.string().or(sU.number()),accounts:sU.array(sU.object({address:sU.string(),type:sU.enum([K$.ACCOUNT_TYPES.EOA,K$.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:sU.string().optional().nullable(),preferredAccountType:sU.optional(sU.string()),signature:sU.string().optional(),message:sU.string().optional(),siwxMessage:sU.optional(cU)}),SU=sU.object({action:sU.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),IU=sU.object({email:sU.string().email().optional().nullable(),address:sU.string(),chainId:sU.string().or(sU.number()),smartAccountDeployed:sU.optional(sU.boolean()),accounts:sU.array(sU.object({address:sU.string(),type:sU.enum([K$.ACCOUNT_TYPES.EOA,K$.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:sU.optional(sU.string()),signature:sU.string().optional(),message:sU.string().optional(),siwxMessage:sU.optional(cU)}),_U=sU.object({uri:sU.string()}),kU=sU.object({isConnected:sU.boolean()}),PU=sU.object({chainId:sU.string().or(sU.number())}),TU=sU.object({chainId:sU.string().or(sU.number())}),OU=sU.object({newEmail:sU.string().email()}),NU=sU.object({smartAccountEnabledNetworks:sU.array(sU.number())});sU.object({address:sU.string(),isDeployed:sU.boolean()});const RU=sU.object({version:sU.string().optional()}),$U=sU.object({type:sU.string(),address:sU.string()}),BU=sU.any(),MU=sU.object({method:sU.literal("eth_accounts")}),UU=sU.object({method:sU.literal("eth_blockNumber")}),LU=sU.object({method:sU.literal("eth_call"),params:sU.array(sU.any())}),DU=sU.object({method:sU.literal("eth_chainId")}),jU=sU.object({method:sU.literal("eth_estimateGas"),params:sU.array(sU.any())}),HU=sU.object({method:sU.literal("eth_feeHistory"),params:sU.array(sU.any())}),zU=sU.object({method:sU.literal("eth_gasPrice")}),FU=sU.object({method:sU.literal("eth_getAccount"),params:sU.array(sU.any())}),VU=sU.object({method:sU.literal("eth_getBalance"),params:sU.array(sU.any())}),ZU=sU.object({method:sU.literal("eth_getBlockByHash"),params:sU.array(sU.any())}),qU=sU.object({method:sU.literal("eth_getBlockByNumber"),params:sU.array(sU.any())}),WU=sU.object({method:sU.literal("eth_getBlockReceipts"),params:sU.array(sU.any())}),KU=sU.object({method:sU.literal("eth_getBlockTransactionCountByHash"),params:sU.array(sU.any())}),GU=sU.object({method:sU.literal("eth_getBlockTransactionCountByNumber"),params:sU.array(sU.any())}),YU=sU.object({method:sU.literal("eth_getCode"),params:sU.array(sU.any())}),JU=sU.object({method:sU.literal("eth_getFilterChanges"),params:sU.array(sU.any())}),XU=sU.object({method:sU.literal("eth_getFilterLogs"),params:sU.array(sU.any())}),QU=sU.object({method:sU.literal("eth_getLogs"),params:sU.array(sU.any())}),eL=sU.object({method:sU.literal("eth_getProof"),params:sU.array(sU.any())}),tL=sU.object({method:sU.literal("eth_getStorageAt"),params:sU.array(sU.any())}),rL=sU.object({method:sU.literal("eth_getTransactionByBlockHashAndIndex"),params:sU.array(sU.any())}),nL=sU.object({method:sU.literal("eth_getTransactionByBlockNumberAndIndex"),params:sU.array(sU.any())}),iL=sU.object({method:sU.literal("eth_getTransactionByHash"),params:sU.array(sU.any())}),sL=sU.object({method:sU.literal("eth_getTransactionCount"),params:sU.array(sU.any())}),oL=sU.object({method:sU.literal("eth_getTransactionReceipt"),params:sU.array(sU.any())}),aL=sU.object({method:sU.literal("eth_getUncleCountByBlockHash"),params:sU.array(sU.any())}),cL=sU.object({method:sU.literal("eth_getUncleCountByBlockNumber"),params:sU.array(sU.any())}),lL=sU.object({method:sU.literal("eth_maxPriorityFeePerGas")}),dL=sU.object({method:sU.literal("eth_newBlockFilter")}),uL=sU.object({method:sU.literal("eth_newFilter"),params:sU.array(sU.any())}),hL=sU.object({method:sU.literal("eth_newPendingTransactionFilter")}),pL=sU.object({method:sU.literal("eth_sendRawTransaction"),params:sU.array(sU.any())}),fL=sU.object({method:sU.literal("eth_syncing"),params:sU.array(sU.any())}),gL=sU.object({method:sU.literal("eth_uninstallFilter"),params:sU.array(sU.any())}),mL=sU.object({method:sU.literal("personal_sign"),params:sU.array(sU.any())}),yL=sU.object({method:sU.literal("eth_signTypedData_v4"),params:sU.array(sU.any())}),wL=sU.object({method:sU.literal("eth_sendTransaction"),params:sU.array(sU.any())}),bL=sU.object({method:sU.literal("solana_signMessage"),params:sU.object({message:sU.string(),pubkey:sU.string()})}),vL=sU.object({method:sU.literal("solana_signTransaction"),params:sU.object({transaction:sU.string()})}),EL=sU.object({method:sU.literal("solana_signAllTransactions"),params:sU.object({transactions:sU.array(sU.string())})}),AL=sU.object({method:sU.literal("solana_signAndSendTransaction"),params:sU.object({transaction:sU.string(),options:sU.object({skipPreflight:sU.boolean().optional(),preflightCommitment:sU.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:sU.number().optional(),minContextSlot:sU.number().optional()}).optional()})}),xL=sU.object({method:sU.literal("wallet_sendCalls"),params:sU.array(sU.object({chainId:sU.string().or(sU.number()).optional(),from:sU.string().optional(),version:sU.string().optional(),capabilities:sU.any().optional(),calls:sU.array(sU.object({to:sU.string().startsWith("0x"),data:sU.string().startsWith("0x").optional(),value:sU.string().optional()}))}))}),CL=sU.object({method:sU.literal("wallet_getCallsStatus"),params:sU.array(sU.string())}),SL=sU.object({method:sU.literal("wallet_getCapabilities"),params:sU.array(sU.string().or(sU.number()).optional()).optional()}),IL=sU.object({method:sU.literal("wallet_grantPermissions"),params:sU.array(sU.any())}),_L=sU.object({method:sU.literal("wallet_revokePermissions"),params:sU.any()}),kL=sU.object({method:sU.literal("wallet_getAssets"),params:sU.any()}),PL=sU.object({token:sU.string()}),TL=sU.object({id:sU.string().optional()});TL.extend({type:aU("APP_SWITCH_NETWORK"),payload:lU}).or(TL.extend({type:aU("APP_CONNECT_EMAIL"),payload:dU})).or(TL.extend({type:aU("APP_CONNECT_DEVICE")})).or(TL.extend({type:aU("APP_CONNECT_OTP"),payload:uU})).or(TL.extend({type:aU("APP_CONNECT_SOCIAL"),payload:hU})).or(TL.extend({type:aU("APP_GET_FARCASTER_URI")})).or(TL.extend({type:aU("APP_CONNECT_FARCASTER")})).or(TL.extend({type:aU("APP_GET_USER"),payload:sU.optional(pU)})).or(TL.extend({type:aU("APP_GET_SOCIAL_REDIRECT_URI"),payload:fU})).or(TL.extend({type:aU("APP_SIGN_OUT")})).or(TL.extend({type:aU("APP_IS_CONNECTED"),payload:sU.optional(PL)})).or(TL.extend({type:aU("APP_GET_CHAIN_ID")})).or(TL.extend({type:aU("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(TL.extend({type:aU("APP_INIT_SMART_ACCOUNT")})).or(TL.extend({type:aU("APP_SET_PREFERRED_ACCOUNT"),payload:vU})).or(TL.extend({type:aU("APP_RPC_REQUEST"),payload:mL.or(kL).or(MU).or(UU).or(LU).or(DU).or(jU).or(HU).or(zU).or(FU).or(VU).or(ZU).or(qU).or(WU).or(KU).or(GU).or(YU).or(JU).or(XU).or(QU).or(eL).or(tL).or(rL).or(nL).or(iL).or(sL).or(oL).or(aL).or(cL).or(lL).or(dL).or(uL).or(hL).or(pL).or(fL).or(gL).or(mL).or(yL).or(wL).or(bL).or(vL).or(EL).or(AL).or(CL).or(xL).or(SL).or(IL).or(_L).and(sU.object({chainId:sU.string().or(sU.number()).optional(),chainNamespace:sU.enum(["eip155","solana","polkadot","bip122","cosmos"]).optional(),rpcUrl:sU.string().optional()}))})).or(TL.extend({type:aU("APP_UPDATE_EMAIL"),payload:gU})).or(TL.extend({type:aU("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:mU})).or(TL.extend({type:aU("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:yU})).or(TL.extend({type:aU("APP_SYNC_THEME"),payload:wU})).or(TL.extend({type:aU("APP_SYNC_DAPP_DATA"),payload:bU})).or(TL.extend({type:aU("APP_RELOAD")})).or(TL.extend({type:aU("APP_RPC_ABORT")})),TL.extend({type:aU("FRAME_SWITCH_NETWORK_ERROR"),payload:oU}).or(TL.extend({type:aU("FRAME_SWITCH_NETWORK_SUCCESS"),payload:TU})).or(TL.extend({type:aU("FRAME_CONNECT_EMAIL_SUCCESS"),payload:EU})).or(TL.extend({type:aU("FRAME_CONNECT_EMAIL_ERROR"),payload:oU})).or(TL.extend({type:aU("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:AU})).or(TL.extend({type:aU("FRAME_GET_FARCASTER_URI_ERROR"),payload:oU})).or(TL.extend({type:aU("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:xU})).or(TL.extend({type:aU("FRAME_CONNECT_FARCASTER_ERROR"),payload:oU})).or(TL.extend({type:aU("FRAME_CONNECT_OTP_ERROR"),payload:oU})).or(TL.extend({type:aU("FRAME_CONNECT_OTP_SUCCESS")})).or(TL.extend({type:aU("FRAME_CONNECT_DEVICE_ERROR"),payload:oU})).or(TL.extend({type:aU("FRAME_CONNECT_DEVICE_SUCCESS")})).or(TL.extend({type:aU("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:CU})).or(TL.extend({type:aU("FRAME_CONNECT_SOCIAL_ERROR"),payload:oU})).or(TL.extend({type:aU("FRAME_GET_USER_ERROR"),payload:oU})).or(TL.extend({type:aU("FRAME_GET_USER_SUCCESS"),payload:IU})).or(TL.extend({type:aU("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:oU})).or(TL.extend({type:aU("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:_U})).or(TL.extend({type:aU("FRAME_SIGN_OUT_ERROR"),payload:oU})).or(TL.extend({type:aU("FRAME_SIGN_OUT_SUCCESS")})).or(TL.extend({type:aU("FRAME_IS_CONNECTED_ERROR"),payload:oU})).or(TL.extend({type:aU("FRAME_IS_CONNECTED_SUCCESS"),payload:kU})).or(TL.extend({type:aU("FRAME_GET_CHAIN_ID_ERROR"),payload:oU})).or(TL.extend({type:aU("FRAME_GET_CHAIN_ID_SUCCESS"),payload:PU})).or(TL.extend({type:aU("FRAME_RPC_REQUEST_ERROR"),payload:oU})).or(TL.extend({type:aU("FRAME_RPC_REQUEST_SUCCESS"),payload:BU})).or(TL.extend({type:aU("FRAME_SESSION_UPDATE"),payload:PL})).or(TL.extend({type:aU("FRAME_UPDATE_EMAIL_ERROR"),payload:oU})).or(TL.extend({type:aU("FRAME_UPDATE_EMAIL_SUCCESS"),payload:SU})).or(TL.extend({type:aU("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:oU})).or(TL.extend({type:aU("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(TL.extend({type:aU("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:oU})).or(TL.extend({type:aU("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:OU})).or(TL.extend({type:aU("FRAME_SYNC_THEME_ERROR"),payload:oU})).or(TL.extend({type:aU("FRAME_SYNC_THEME_SUCCESS")})).or(TL.extend({type:aU("FRAME_SYNC_DAPP_DATA_ERROR"),payload:oU})).or(TL.extend({type:aU("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(TL.extend({type:aU("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:NU})).or(TL.extend({type:aU("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:oU})).or(TL.extend({type:aU("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:oU})).or(TL.extend({type:aU("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:$U})).or(TL.extend({type:aU("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:oU})).or(TL.extend({type:aU("FRAME_READY"),payload:RU})).or(TL.extend({type:aU("FRAME_RELOAD_ERROR"),payload:oU})).or(TL.extend({type:aU("FRAME_RELOAD_SUCCESS")}));class OL extends Error{constructor(e,t={}){const r=t.cause instanceof OL?t.cause.details:t.cause?.message?t.cause.message:t.details,n=t.cause instanceof OL&&t.cause.docsPath||t.docsPath;super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...n?[`Docs: https://abitype.dev${n}`]:[],...r?[`Details: ${r}`]:[],"Version: abitype@1.1.0"].join("\n")),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=n,this.metaMessages=t.metaMessages,this.shortMessage=e}}function NL(e,t){return e.exec(t)?.groups}const RL=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,$L=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,BL=/^\(.+?\).*?$/,ML=/^tuple(?<array>(\[(\d*)\])*)$/;function UL(e){let t=e.type;if(ML.test(e.type)&&"components"in e){t="(";const r=e.components.length;for(let n=0;n<r;n++){t+=UL(e.components[n]),n<r-1&&(t+=", ")}const n=NL(ML,e.type);return t+=`)${n?.array??""}`,UL({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function LL(e){let t="";const r=e.length;for(let n=0;n<r;n++){t+=UL(e[n]),n!==r-1&&(t+=", ")}return t}function DL(e){return"function"===e.type?`function ${e.name}(${LL(e.inputs)})${e.stateMutability&&"nonpayable"!==e.stateMutability?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${LL(e.outputs)})`:""}`:"event"===e.type?`event ${e.name}(${LL(e.inputs)})`:"error"===e.type?`error ${e.name}(${LL(e.inputs)})`:"constructor"===e.type?`constructor(${LL(e.inputs)})${"payable"===e.stateMutability?" payable":""}`:"fallback"===e.type?"fallback() external"+("payable"===e.stateMutability?" payable":""):"receive() external payable"}const jL=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;const HL=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;const zL=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;const FL=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function VL(e){return FL.test(e)}function ZL(e){return NL(FL,e)}const qL=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;const WL=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;const KL=/^receive\(\) external payable$/;const GL=new Set(["memory","indexed","storage","calldata"]),YL=new Set(["indexed"]),JL=new Set(["calldata","memory","storage"]);class XL extends OL{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class QL extends OL{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class eD extends OL{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class tD extends OL{constructor({param:e}){super("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameter-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParameterError"})}}class rD extends OL{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class nD extends OL{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class iD extends OL{constructor({param:e,name:t}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${t}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class sD extends OL{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class oD extends OL{constructor({param:e,type:t,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${t?` in "${t}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class aD extends OL{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class cD extends OL{constructor({signature:e,type:t}){super(`Invalid ${t} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class lD extends OL{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class dD extends OL{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class uD extends OL{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class hD extends OL{constructor({current:e,depth:t}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${t>0?"opening":"closing"} parentheses.`],details:`Depth "${t}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}const pD=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function fD(e,t={}){if(function(e){return zL.test(e)}(e))return function(e,t={}){const r=function(e){return NL(zL,e)}(e);if(!r)throw new cD({signature:e,type:"function"});const n=bD(r.parameters),i=[],s=n.length;for(let e=0;e<s;e++)i.push(wD(n[e],{modifiers:JL,structs:t,type:"function"}));const o=[];if(r.returns){const e=bD(r.returns),n=e.length;for(let r=0;r<n;r++)o.push(wD(e[r],{modifiers:JL,structs:t,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:i,outputs:o}}(e,t);if(function(e){return HL.test(e)}(e))return function(e,t={}){const r=function(e){return NL(HL,e)}(e);if(!r)throw new cD({signature:e,type:"event"});const n=bD(r.parameters),i=[],s=n.length;for(let e=0;e<s;e++)i.push(wD(n[e],{modifiers:YL,structs:t,type:"event"}));return{name:r.name,type:"event",inputs:i}}(e,t);if(function(e){return jL.test(e)}(e))return function(e,t={}){const r=function(e){return NL(jL,e)}(e);if(!r)throw new cD({signature:e,type:"error"});const n=bD(r.parameters),i=[],s=n.length;for(let e=0;e<s;e++)i.push(wD(n[e],{structs:t,type:"error"}));return{name:r.name,type:"error",inputs:i}}(e,t);if(function(e){return qL.test(e)}(e))return function(e,t={}){const r=function(e){return NL(qL,e)}(e);if(!r)throw new cD({signature:e,type:"constructor"});const n=bD(r.parameters),i=[],s=n.length;for(let e=0;e<s;e++)i.push(wD(n[e],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:i}}(e,t);if(function(e){return WL.test(e)}(e))return function(e){const t=function(e){return NL(WL,e)}(e);if(!t)throw new cD({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}(e);if(function(e){return KL.test(e)}(e))return{type:"receive",stateMutability:"payable"};throw new lD({signature:e})}const gD=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,mD=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,yD=/^u?int$/;function wD(e,t){const r=function(e,t,r){let n="";if(r)for(const e of Object.entries(r)){if(!e)continue;let t="";for(const r of e[1])t+=`[${r.type}${r.name?`:${r.name}`:""}]`;n+=`(${e[0]}{${t}})`}return t?`${t}:${e}${n}`:e}(e,t?.type,t?.structs);if(pD.has(r))return pD.get(r);const n=BL.test(e),i=NL(n?mD:gD,e);if(!i)throw new nD({param:e});if(i.name&&function(e){return"address"===e||"bool"===e||"function"===e||"string"===e||"tuple"===e||RL.test(e)||$L.test(e)||ED.test(e)}(i.name))throw new iD({param:e,name:i.name});const s=i.name?{name:i.name}:{},o="indexed"===i.modifier?{indexed:!0}:{},a=t?.structs??{};let c,l={};if(n){c="tuple";const e=bD(i.type),t=[],r=e.length;for(let n=0;n<r;n++)t.push(wD(e[n],{structs:a}));l={components:t}}else if(i.type in a)c="tuple",l={components:a[i.type]};else if(yD.test(i.type))c=`${i.type}256`;else if("address payable"===i.type)c="address";else if(c=i.type,"struct"!==t?.type&&!vD(c))throw new eD({type:c});if(i.modifier){if(!t?.modifiers?.has?.(i.modifier))throw new sD({param:e,type:t?.type,modifier:i.modifier});if(JL.has(i.modifier)&&!function(e,t){return t||"bytes"===e||"string"===e||"tuple"===e}(c,!!i.array))throw new oD({param:e,type:t?.type,modifier:i.modifier})}const d={type:`${c}${i.array??""}`,...s,...o,...l};return pD.set(r,d),d}function bD(e,t=[],r="",n=0){const i=e.trim().length;for(let s=0;s<i;s++){const i=e[s],o=e.slice(s+1);switch(i){case",":return 0===n?bD(o,[...t,r.trim()]):bD(o,t,`${r}${i}`,n);case"(":return bD(o,t,`${r}${i}`,n+1);case")":return bD(o,t,`${r}${i}`,n-1);default:return bD(o,t,`${r}${i}`,n)}}if(""===r)return t;if(0!==n)throw new hD({current:r,depth:n});return t.push(r.trim()),t}function vD(e){return"address"===e||"bool"===e||"function"===e||"string"===e||RL.test(e)||$L.test(e)}const ED=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function AD(e){const t={},r=e.length;for(let n=0;n<r;n++){const r=e[n];if(!VL(r))continue;const i=ZL(r);if(!i)throw new cD({signature:r,type:"struct"});const s=i.properties.split(";"),o=[],a=s.length;for(let e=0;e<a;e++){const t=s[e].trim();if(!t)continue;const r=wD(t,{type:"struct"});o.push(r)}if(!o.length)throw new dD({signature:r});t[i.name]=o}const n={},i=Object.entries(t),s=i.length;for(let e=0;e<s;e++){const[r,s]=i[e];n[r]=CD(s,t)}return n}const xD=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function CD(e,t,r=new Set){const n=[],i=e.length;for(let s=0;s<i;s++){const i=e[s];if(BL.test(i.type))n.push(i);else{const e=NL(xD,i.type);if(!e?.type)throw new aD({abiParameter:i});const{array:s,type:o}=e;if(o in t){if(r.has(o))throw new uD({type:o});n.push({...i,type:`tuple${s??""}`,components:CD(t[o]??[],t,new Set([...r,o]))})}else{if(!vD(o))throw new QL({type:o});n.push(i)}}}return n}function SD(e){const t=AD(e),r=[],n=e.length;for(let i=0;i<n;i++){const n=e[i];VL(n)||r.push(fD(n,t))}return r}function ID(e){let t;if("string"==typeof e)t=fD(e);else{const r=AD(e),n=e.length;for(let i=0;i<n;i++){const n=e[i];if(!VL(n)){t=fD(n,r);break}}}if(!t)throw new XL({signature:e});return t}function _D(e){const t=[];if("string"==typeof e){const r=bD(e),n=r.length;for(let e=0;e<n;e++)t.push(wD(r[e],{modifiers:GL}))}else{const r=AD(e),n=e.length;for(let i=0;i<n;i++){const n=e[i];if(VL(n))continue;const s=bD(n),o=s.length;for(let e=0;e<o;e++)t.push(wD(s[e],{modifiers:GL,structs:r}))}}if(0===t.length)throw new rD({params:e});return t}function kD(e,t,r){const n=e[t.name];if("function"==typeof n)return n;const i=e[r];return"function"==typeof i?i:r=>t(e,r)}function PD(e,{includeName:t=!1}={}){if("function"!==e.type&&"event"!==e.type&&"error"!==e.type)throw new oj(e.type);return`${e.name}(${TD(e.inputs,{includeName:t})})`}function TD(e,{includeName:t=!1}={}){return e?e.map((e=>function(e,{includeName:t}){return e.type.startsWith("tuple")?`(${TD(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}(e,{includeName:t}))).join(t?", ":","):""}function OD(e,{strict:t=!0}={}){return!(!e||"string"!=typeof e)&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x"))}function ND(e){return OD(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const RD="2.38.3";let $D={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:r})=>t?`${e??"https://viem.sh"}${t}${r?`#${r}`:""}`:void 0,version:`viem@${RD}`};class BD extends Error{constructor(e,t={}){const r=t.cause instanceof BD?t.cause.details:t.cause?.message?t.cause.message:t.details,n=t.cause instanceof BD&&t.cause.docsPath||t.docsPath,i=$D.getDocsUrl?.({...t,docsPath:n});super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...$D.version?[`Version: ${$D.version}`]:[]].join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=n,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=RD}walk(e){return MD(this,e)}}function MD(e,t){return t?.(e)?e:e&&"object"==typeof e&&"cause"in e&&void 0!==e.cause?MD(e.cause,t):t?null:e}class UD extends BD{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join("\n"),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class LD extends BD{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join("\n"),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class DD extends BD{constructor({data:e,params:t,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join("\n"),{metaMessages:[`Params: (${TD(t,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=t,this.size=r}}class jD extends BD{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class HD extends BD{constructor({expectedLength:e,givenLength:t,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${t}`].join("\n"),{name:"AbiEncodingArrayLengthMismatchError"})}}class zD extends BD{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${ND(t)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class FD extends BD{constructor({expectedLength:e,givenLength:t}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${t}`].join("\n"),{name:"AbiEncodingLengthMismatchError"})}}class VD extends BD{constructor(e,{docsPath:t}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join("\n"),{docsPath:t,name:"AbiErrorInputsNotFoundError"})}}class ZD extends BD{constructor(e,{docsPath:t}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join("\n"),{docsPath:t,name:"AbiErrorNotFoundError"})}}class qD extends BD{constructor(e,{docsPath:t}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class WD extends BD{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class KD extends BD{constructor(e,{docsPath:t}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t,name:"AbiEventSignatureNotFoundError"})}}class GD extends BD{constructor(e,{docsPath:t}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join("\n"),{docsPath:t,name:"AbiEventNotFoundError"})}}class YD extends BD{constructor(e,{docsPath:t}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t,name:"AbiFunctionNotFoundError"})}}class JD extends BD{constructor(e,{docsPath:t}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join("\n"),{docsPath:t,name:"AbiFunctionOutputsNotFoundError"})}}class XD extends BD{constructor(e,{docsPath:t}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join("\n"),{docsPath:t,name:"AbiFunctionSignatureNotFoundError"})}}class QD extends BD{constructor(e,t){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${PD(e.abiItem)}\`, and`,`\`${t.type}\` in \`${PD(t.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class ej extends BD{constructor({expectedSize:e,givenSize:t}){super(`Expected bytes${e}, got bytes${t}.`,{name:"BytesSizeMismatchError"})}}class tj extends BD{constructor({abiItem:e,data:t,params:r,size:n}){super([`Data size of ${n} bytes is too small for non-indexed event parameters.`].join("\n"),{metaMessages:[`Params: (${TD(r,{includeName:!0})})`,`Data:   ${t} (${n} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=t,this.params=r,this.size=n}}class rj extends BD{constructor({abiItem:e,param:t}){super([`Expected a topic for indexed event parameter${t.name?` "${t.name}"`:""} on event "${PD(e,{includeName:!0})}".`].join("\n"),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class nj extends BD{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:t,name:"InvalidAbiEncodingType"})}}class ij extends BD{constructor(e,{docsPath:t}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join("\n"),{docsPath:t,name:"InvalidAbiDecodingType"})}}class sj extends BD{constructor(e){super([`Value "${e}" is not a valid array.`].join("\n"),{name:"InvalidArrayError"})}}class oj extends BD{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join("\n"),{name:"InvalidDefinitionTypeError"})}}class aj extends BD{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}class cj extends BD{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}class lj extends BD{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}class dj extends BD{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}}class uj extends BD{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${t} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function hj(e,{dir:t,size:r=32}={}){return"string"==typeof e?pj(e,{dir:t,size:r}):fj(e,{dir:t,size:r})}function pj(e,{dir:t,size:r=32}={}){if(null===r)return e;const n=e.replace("0x","");if(n.length>2*r)throw new dj({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n["right"===t?"padEnd":"padStart"](2*r,"0")}`}function fj(e,{dir:t,size:r=32}={}){if(null===r)return e;if(e.length>r)throw new dj({size:e.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s="right"===t;n[s?i:r-i-1]=e[s?i:e.length-i-1]}return n}class gj extends BD{constructor({max:e,min:t,signed:r,size:n,value:i}){super(`Number "${i}" is not in safe ${n?`${8*n}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}}class mj extends BD{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class yj extends BD{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}class wj extends BD{constructor(e){super(`Hex value "${e}" is an odd length (${e.length}). It must be an even length.`,{name:"InvalidHexValueError"})}}class bj extends BD{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function vj(e,{dir:t="left"}={}){let r="string"==typeof e?e.replace("0x",""):e,n=0;for(let e=0;e<r.length-1&&"0"===r["left"===t?e:r.length-e-1].toString();e++)n++;return r="left"===t?r.slice(n):r.slice(0,r.length-n),"string"==typeof e?(1===r.length&&"right"===t&&(r=`${r}0`),`0x${r.length%2==1?`0${r}`:r}`):r}function Ej(e,{size:t}){if(ND(e)>t)throw new bj({givenSize:ND(e),maxSize:t})}function Aj(e,t={}){const{signed:r}=t;t.size&&Ej(e,{size:t.size});const n=BigInt(e);if(!r)return n;const i=(e.length-2)/2;return n<=(1n<<8n*BigInt(i)-1n)-1n?n:n-BigInt(`0x${"f".padStart(2*i,"f")}`)-1n}function xj(e,t={}){let r=e;if(t.size&&(Ej(r,{size:t.size}),r=vj(r)),"0x00"===vj(r))return!1;if("0x01"===vj(r))return!0;throw new yj(r)}function Cj(e,t={}){return Number(Aj(e,t))}function Sj(e,t={}){let r=Lj(e);return t.size&&(Ej(r,{size:t.size}),r=vj(r,{dir:"right"})),(new TextDecoder).decode(r)}const Ij=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function _j(e,t={}){return"number"==typeof e||"bigint"==typeof e?Tj(e,t):"string"==typeof e?Nj(e,t):"boolean"==typeof e?kj(e,t):Pj(e,t)}function kj(e,t={}){const r=`0x${Number(e)}`;return"number"==typeof t.size?(Ej(r,{size:t.size}),hj(r,{size:t.size})):r}function Pj(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=Ij[e[t]];const n=`0x${r}`;return"number"==typeof t.size?(Ej(n,{size:t.size}),hj(n,{dir:"right",size:t.size})):n}function Tj(e,t={}){const{signed:r,size:n}=t,i=BigInt(e);let s;n?s=r?(1n<<8n*BigInt(n)-1n)-1n:2n**(8n*BigInt(n))-1n:"number"==typeof e&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o="bigint"==typeof s&&r?-s-1n:0;if(s&&i>s||i<o){const t="bigint"==typeof e?"n":"";throw new gj({max:s?`${s}${t}`:void 0,min:`${o}${t}`,signed:r,size:n,value:`${e}${t}`})}const a=`0x${(r&&i<0?(1n<<BigInt(8*n))+BigInt(i):i).toString(16)}`;return n?hj(a,{size:n}):a}const Oj=new TextEncoder;function Nj(e,t={}){return Pj(Oj.encode(e),t)}const Rj=new TextEncoder;function $j(e,t={}){return"number"==typeof e||"bigint"==typeof e?Dj(e,t):"boolean"==typeof e?Bj(e,t):OD(e)?Lj(e,t):jj(e,t)}function Bj(e,t={}){const r=new Uint8Array(1);return r[0]=Number(e),"number"==typeof t.size?(Ej(r,{size:t.size}),hj(r,{size:t.size})):r}const Mj={zero:48,nine:57,A:65,F:70,a:97,f:102};function Uj(e){return e>=Mj.zero&&e<=Mj.nine?e-Mj.zero:e>=Mj.A&&e<=Mj.F?e-(Mj.A-10):e>=Mj.a&&e<=Mj.f?e-(Mj.a-10):void 0}function Lj(e,t={}){let r=e;t.size&&(Ej(r,{size:t.size}),r=hj(r,{dir:"right",size:t.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let e=0,t=0;e<i;e++){const r=Uj(n.charCodeAt(t++)),i=Uj(n.charCodeAt(t++));if(void 0===r||void 0===i)throw new BD(`Invalid byte sequence ("${n[t-2]}${n[t-1]}" in "${n}").`);s[e]=16*r+i}return s}function Dj(e,t){return Lj(Tj(e,t))}function jj(e,t={}){const r=Rj.encode(e);return"number"==typeof t.size?(Ej(r,{size:t.size}),hj(r,{dir:"right",size:t.size})):r}function Hj(e,t){const r=t||"hex",n=Zt(OD(e,{strict:!1})?$j(e):e);return"bytes"===r?n:_j(n)}function zj(e){return(e=>Hj($j(e)))(e)}const Fj=e=>function(e){let t=!0,r="",n=0,i="",s=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),"("===a&&n++,")"===a&&n--,t){if(0===n){if(" "===a&&["event","function",""].includes(i))i="";else if(i+=a,")"===a){s=!0;break}continue}if(" "===a){","!==e[o-1]&&","!==r&&",("!==r&&(r="",t=!1);continue}i+=a,r+=a}}if(!s)throw new BD("Unable to normalize signature.");return i}("string"==typeof e?e:DL(e));function Vj(e){return zj(Fj(e))}const Zj=Vj;class qj extends BD{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class Wj extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const e=this.keys().next().value;e&&this.delete(e)}return this}}const Kj=new Wj(8192);function Gj(e,t){if(Kj.has(`${e}.${t}`))return Kj.get(`${e}.${t}`);const r=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),n=Hj(jj(r),"bytes"),i=(t?r.substring(`${t}0x`.length):r).split("");for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&i[e]&&(i[e]=i[e].toUpperCase()),(15&n[e>>1])>=8&&i[e+1]&&(i[e+1]=i[e+1].toUpperCase());const s=`0x${i.join("")}`;return Kj.set(`${e}.${t}`,s),s}function Yj(e,t){if(!Qj(e,{strict:!1}))throw new qj({address:e});return Gj(e,t)}const Jj=/^0x[a-fA-F0-9]{40}$/,Xj=new Wj(8192);function Qj(e,t){const{strict:r=!0}=t??{},n=`${e}.${r}`;if(Xj.has(n))return Xj.get(n);const i=!!Jj.test(e)&&(e.toLowerCase()===e||(!r||Gj(e)===e));return Xj.set(n,i),i}function eH(e){return"string"==typeof e[0]?rH(e):tH(e)}function tH(e){let t=0;for(const r of e)t+=r.length;const r=new Uint8Array(t);let n=0;for(const t of e)r.set(t,n),n+=t.length;return r}function rH(e){return`0x${e.reduce(((e,t)=>e+t.replace("0x","")),"")}`}function nH(e,t,r,{strict:n}={}){return OD(e,{strict:!1})?aH(e,t,r,{strict:n}):oH(e,t,r,{strict:n})}function iH(e,t){if("number"==typeof t&&t>0&&t>ND(e)-1)throw new lj({offset:t,position:"start",size:ND(e)})}function sH(e,t,r){if("number"==typeof t&&"number"==typeof r&&ND(e)!==r-t)throw new lj({offset:r,position:"end",size:ND(e)})}function oH(e,t,r,{strict:n}={}){iH(e,t);const i=e.slice(t,r);return n&&sH(i,t,r),i}function aH(e,t,r,{strict:n}={}){iH(e,t);const i=`0x${e.replace("0x","").slice(2*(t??0),2*(r??e.length))}`;return n&&sH(i,t,r),i}const cH=/^(.*)\[([0-9]*)\]$/,lH=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,dH=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function uH(e,t){if(e.length!==t.length)throw new FD({expectedLength:e.length,givenLength:t.length});const r=function({params:e,values:t}){const r=[];for(let n=0;n<e.length;n++)r.push(hH({param:e[n],value:t[n]}));return r}({params:e,values:t}),n=pH(r);return 0===n.length?"0x":n}function hH({param:e,value:t}){const r=fH(e.type);if(r){const[n,i]=r;return function(e,{length:t,param:r}){const n=null===t;if(!Array.isArray(e))throw new sj(e);if(!n&&e.length!==t)throw new HD({expectedLength:t,givenLength:e.length,type:`${r.type}[${t}]`});let i=!1;const s=[];for(let t=0;t<e.length;t++){const n=hH({param:r,value:e[t]});n.dynamic&&(i=!0),s.push(n)}if(n||i){const e=pH(s);if(n){const t=Tj(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?eH([t,e]):t}}if(i)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:eH(s.map((({encoded:e})=>e)))}}(t,{length:n,param:{...e,type:i}})}if("tuple"===e.type)return function(e,{param:t}){let r=!1;const n=[];for(let i=0;i<t.components.length;i++){const s=t.components[i],o=hH({param:s,value:e[Array.isArray(e)?i:s.name]});n.push(o),o.dynamic&&(r=!0)}return{dynamic:r,encoded:r?pH(n):eH(n.map((({encoded:e})=>e)))}}(t,{param:e});if("address"===e.type)return function(e){if(!Qj(e))throw new qj({address:e});return{dynamic:!1,encoded:pj(e.toLowerCase())}}(t);if("bool"===e.type)return function(e){if("boolean"!=typeof e)throw new BD(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:pj(kj(e))}}(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,n="256"]=dH.exec(e.type)??[];return function(e,{signed:t,size:r=256}){if("number"==typeof r){const n=2n**(BigInt(r)-(t?1n:0n))-1n,i=t?-n-1n:0n;if(e>n||e<i)throw new gj({max:n.toString(),min:i.toString(),signed:t,size:r/8,value:e.toString()})}return{dynamic:!1,encoded:Tj(e,{size:32,signed:t})}}(t,{signed:r,size:Number(n)})}if(e.type.startsWith("bytes"))return function(e,{param:t}){const[,r]=t.type.split("bytes"),n=ND(e);if(!r){let t=e;return n%32!=0&&(t=pj(t,{dir:"right",size:32*Math.ceil((e.length-2)/2/32)})),{dynamic:!0,encoded:eH([pj(Tj(n,{size:32})),t])}}if(n!==Number.parseInt(r,10))throw new zD({expectedSize:Number.parseInt(r,10),value:e});return{dynamic:!1,encoded:pj(e,{dir:"right"})}}(t,{param:e});if("string"===e.type)return function(e){const t=Nj(e),r=Math.ceil(ND(t)/32),n=[];for(let e=0;e<r;e++)n.push(pj(nH(t,32*e,32*(e+1)),{dir:"right"}));return{dynamic:!0,encoded:eH([pj(Tj(ND(t),{size:32})),...n])}}(t);throw new nj(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function pH(e){let t=0;for(let r=0;r<e.length;r++){const{dynamic:n,encoded:i}=e[r];t+=n?32:ND(i)}const r=[],n=[];let i=0;for(let s=0;s<e.length;s++){const{dynamic:o,encoded:a}=e[s];o?(r.push(Tj(t+i,{size:32})),n.push(a),i+=ND(a)):r.push(a)}return eH([...r,...n])}function fH(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const gH=e=>nH(Vj(e),0,4);function mH(e){const{abi:t,args:r=[],name:n}=e,i=OD(n,{strict:!1}),s=t.filter((e=>i?"function"===e.type?gH(e)===n:"event"===e.type&&Zj(e)===n:"name"in e&&e.name===n));if(0===s.length)return;if(1===s.length)return s[0];let o;for(const e of s)if("inputs"in e)if(r&&0!==r.length){if(e.inputs&&0!==e.inputs.length&&e.inputs.length===r.length&&r.every(((t,r)=>{const n="inputs"in e&&e.inputs[r];return!!n&&yH(t,n)}))){if(o&&"inputs"in o&&o.inputs){const t=wH(e.inputs,o.inputs,r);if(t)throw new QD({abiItem:e,type:t[0]},{abiItem:o,type:t[1]})}o=e}}else if(!e.inputs||0===e.inputs.length)return e;return o||s[0]}function yH(e,t){const r=typeof e,n=t.type;switch(n){case"address":return Qj(e,{strict:!1});case"bool":return"boolean"===r;case"function":case"string":return"string"===r;default:return"tuple"===n&&"components"in t?Object.values(t.components).every(((t,r)=>yH(Object.values(e)[r],t))):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?"number"===r||"bigint"===r:/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?"string"===r||e instanceof Uint8Array:!!/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)&&(Array.isArray(e)&&e.every((e=>yH(e,{...t,type:n.replace(/(\[[0-9]{0,}\])$/,"")}))))}}function wH(e,t,r){for(const n in e){const i=e[n],s=t[n];if("tuple"===i.type&&"tuple"===s.type&&"components"in i&&"components"in s)return wH(i.components,s.components,r[n]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")||(o.includes("address")&&o.includes("string")||o.includes("address")&&o.includes("bytes"))&&Qj(r[n],{strict:!1}))return o}}const bH="/docs/contract/encodeEventTopics";function vH(e){const{abi:t,eventName:r,args:n}=e;let i=t[0];if(r){const e=mH({abi:t,name:r});if(!e)throw new GD(r,{docsPath:bH});i=e}if("event"!==i.type)throw new GD(void 0,{docsPath:bH});const s=PD(i),o=Zj(s);let a=[];if(n&&"inputs"in i){const e=i.inputs?.filter((e=>"indexed"in e&&e.indexed)),t=Array.isArray(n)?n:Object.values(n).length>0?e?.map((e=>n[e.name]))??[]:[];t.length>0&&(a=e?.map(((e,r)=>Array.isArray(t[r])?t[r].map(((n,i)=>EH({param:e,value:t[r][i]}))):typeof t[r]<"u"&&null!==t[r]?EH({param:e,value:t[r]}):null))??[])}return[o,...a]}function EH({param:e,value:t}){if("string"===e.type||"bytes"===e.type)return Hj($j(t));if("tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))throw new cj(e.type);return uH([e],[t])}function AH(e,{method:t}){const r={};return"fallback"===e.transport.type&&e.transport.onResponse?.((({method:e,response:n,status:i,transport:s})=>{"success"===i&&t===e&&(r[n]=s.request)})),t=>r[t]||e.request}async function xH(e,t){const{address:r,abi:n,args:i,eventName:s,fromBlock:o,strict:a,toBlock:c}=t,l=AH(e,{method:"eth_newFilter"}),d=s?vH({abi:n,args:i,eventName:s}):void 0,u=await e.request({method:"eth_newFilter",params:[{address:r,fromBlock:"bigint"==typeof o?Tj(o):o,toBlock:"bigint"==typeof c?Tj(c):c,topics:d}]});return{abi:n,args:i,eventName:s,id:u,request:l(u),strict:!!a,type:"event"}}function CH(e){return"string"==typeof e?{address:e,type:"json-rpc"}:e}const SH="/docs/contract/encodeFunctionData";function IH(e){const{abi:t,args:r,functionName:n}=e;let i=t[0];if(n){const e=mH({abi:t,args:r,name:n});if(!e)throw new YD(n,{docsPath:SH});i=e}if("function"!==i.type)throw new YD(void 0,{docsPath:SH});return{abi:[i],functionName:gH(PD(i))}}function _H(e){const{args:t}=e,{abi:r,functionName:n}=1===e.abi.length&&e.functionName?.startsWith("0x")?e:IH(e),i=r[0];return rH([n,("inputs"in i&&i.inputs?uH(i.inputs,t??[]):void 0)??"0x"])}const kH={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},PH={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},TH={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class OH extends BD{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class NH extends BD{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class RH extends BD{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const $H={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new RH({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new NH({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new OH({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new OH({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function BH(e,{recursiveReadLimit:t=8192}={}){const r=Object.create($H);return r.bytes=e,r.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}function MH(e,t={}){typeof t.size<"u"&&Ej(e,{size:t.size});return Aj(Pj(e,t),t)}function UH(e,t={}){let r=e;if(typeof t.size<"u"&&(Ej(r,{size:t.size}),r=vj(r)),r.length>1||r[0]>1)throw new mj(r);return!!r[0]}function LH(e,t={}){typeof t.size<"u"&&Ej(e,{size:t.size});return Cj(Pj(e,t),t)}function DH(e,t={}){let r=e;return typeof t.size<"u"&&(Ej(r,{size:t.size}),r=vj(r,{dir:"right"})),(new TextDecoder).decode(r)}function jH(e,t){const r="string"==typeof t?Lj(t):t,n=BH(r);if(0===ND(r)&&e.length>0)throw new jD;if(ND(t)&&ND(t)<32)throw new DD({data:"string"==typeof t?t:Pj(t),params:e,size:ND(t)});let i=0;const s=[];for(let t=0;t<e.length;++t){const r=e[t];n.setPosition(i);const[o,a]=HH(n,r,{staticPosition:0});i+=a,s.push(o)}return s}function HH(e,t,{staticPosition:r}){const n=fH(t.type);if(n){const[i,s]=n;return function(e,t,{length:r,staticPosition:n}){if(!r){const r=n+LH(e.readBytes(FH)),i=r+zH;e.setPosition(r);const s=LH(e.readBytes(zH)),o=VH(t);let a=0;const c=[];for(let r=0;r<s;++r){e.setPosition(i+(o?32*r:a));const[n,s]=HH(e,t,{staticPosition:i});a+=s,c.push(n)}return e.setPosition(n+32),[c,32]}if(VH(t)){const i=n+LH(e.readBytes(FH)),s=[];for(let n=0;n<r;++n){e.setPosition(i+32*n);const[r]=HH(e,t,{staticPosition:i});s.push(r)}return e.setPosition(n+32),[s,32]}let i=0;const s=[];for(let o=0;o<r;++o){const[r,o]=HH(e,t,{staticPosition:n+i});i+=o,s.push(r)}return[s,i]}(e,{...t,type:s},{length:i,staticPosition:r})}if("tuple"===t.type)return function(e,t,{staticPosition:r}){const n=0===t.components.length||t.components.some((({name:e})=>!e)),i=n?[]:{};let s=0;if(VH(t)){const o=r+LH(e.readBytes(FH));for(let r=0;r<t.components.length;++r){const a=t.components[r];e.setPosition(o+s);const[c,l]=HH(e,a,{staticPosition:o});s+=l,i[n?r:a?.name]=c}return e.setPosition(r+32),[i,32]}for(let o=0;o<t.components.length;++o){const a=t.components[o],[c,l]=HH(e,a,{staticPosition:r});i[n?o:a?.name]=c,s+=l}return[i,s]}(e,t,{staticPosition:r});if("address"===t.type)return function(e){const t=e.readBytes(32);return[Gj(Pj(oH(t,-20))),32]}(e);if("bool"===t.type)return function(e){return[UH(e.readBytes(32),{size:32}),32]}(e);if(t.type.startsWith("bytes"))return function(e,t,{staticPosition:r}){const[n,i]=t.type.split("bytes");if(!i){const t=LH(e.readBytes(32));e.setPosition(r+t);const n=LH(e.readBytes(32));if(0===n)return e.setPosition(r+32),["0x",32];const i=e.readBytes(n);return e.setPosition(r+32),[Pj(i),32]}return[Pj(e.readBytes(Number.parseInt(i,10),32)),32]}(e,t,{staticPosition:r});if(t.type.startsWith("uint")||t.type.startsWith("int"))return function(e,t){const r=t.type.startsWith("int"),n=Number.parseInt(t.type.split("int")[1]||"256",10),i=e.readBytes(32);return[n>48?MH(i,{signed:r}):LH(i,{signed:r}),32]}(e,t);if("string"===t.type)return function(e,{staticPosition:t}){const r=LH(e.readBytes(32)),n=t+r;e.setPosition(n);const i=LH(e.readBytes(32));if(0===i)return e.setPosition(t+32),["",32];const s=e.readBytes(i,32),o=DH(vj(s));return e.setPosition(t+32),[o,32]}(e,{staticPosition:r});throw new ij(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const zH=32,FH=32;function VH(e){const{type:t}=e;if("string"===t||"bytes"===t||t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(VH);const r=fH(e.type);return!(!r||!VH({...e,type:r[1]}))}function ZH(e){const{abi:t,data:r}=e,n=nH(r,0,4);if("0x"===n)throw new jD;const i=[...t||[],PH,TH].find((e=>"error"===e.type&&n===gH(PD(e))));if(!i)throw new qD(n,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?jH(i.inputs,nH(r,4)):void 0,errorName:i.name}}const qH=(e,t,r)=>JSON.stringify(e,((e,r)=>{const n="bigint"==typeof r?r.toString():r;return"function"==typeof t?t(e,n):n}),r);function WH({abiItem:e,args:t,includeFunctionName:r=!0,includeName:n=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${r?e.name:""}(${e.inputs.map(((e,r)=>`${n&&e.name?`${e.name}: `:""}${"object"==typeof t[r]?qH(t[r]):t[r]}`)).join(", ")})`}const KH={gwei:9,wei:18},GH={ether:-9,wei:9};function YH(e,t){let r=e.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(t,"0");let[i,s]=[r.slice(0,r.length-t),r.slice(r.length-t)];return s=s.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${s?`.${s}`:""}`}function JH(e,t="wei"){return YH(e,KH[t])}function XH(e,t="wei"){return YH(e,GH[t])}class QH extends BD{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class ez extends BD{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function tz(e){return e.reduce(((e,{slot:t,value:r})=>`${e}        ${t}: ${r}\n`),"")}function rz(e){const t=Object.entries(e).map((([e,t])=>void 0===t||!1===t?null:[e,t])).filter(Boolean),r=t.reduce(((e,[t])=>Math.max(e,t.length)),0);return t.map((([e,t])=>`  ${`${e}:`.padEnd(r+1)}  ${t}`)).join("\n")}class nz extends BD{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join("\n"),{name:"FeeConflictError"})}}class iz extends BD{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class sz extends BD{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",rz(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class oz extends BD{constructor({serializedType:e}){super(`Serialized transaction type "${e}" is invalid.`,{name:"InvalidSerializedTransactionType"}),Object.defineProperty(this,"serializedType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedType=e}}class az extends BD{constructor({attributes:e,serializedTransaction:t,type:r}){const n=Object.entries(e).map((([e,t])=>typeof t>"u"?e:void 0)).filter(Boolean);super(`Invalid serialized transaction of type "${r}" was provided.`,{metaMessages:[`Serialized Transaction: "${t}"`,n.length>0?`Missing Attributes: ${n.join(", ")}`:""].filter(Boolean),name:"InvalidSerializedTransactionError"}),Object.defineProperty(this,"serializedTransaction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedTransaction=t,this.type=r}}class cz extends BD{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class lz extends BD{constructor(e,{account:t,docsPath:r,chain:n,data:i,gas:s,gasPrice:o,maxFeePerGas:a,maxPriorityFeePerGas:c,nonce:l,to:d,value:u}){const h=rz({chain:n&&`${n?.name} (id: ${n?.id})`,from:t?.address,to:d,value:typeof u<"u"&&`${JH(u)} ${n?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:s,gasPrice:typeof o<"u"&&`${XH(o)} gwei`,maxFeePerGas:typeof a<"u"&&`${XH(a)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${XH(c)} gwei`,nonce:l});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class dz extends BD{constructor({blockHash:e,blockNumber:t,blockTag:r,hash:n,index:i}){let s="Transaction";r&&void 0!==i&&(s=`Transaction at block time "${r}" at index "${i}"`),e&&void 0!==i&&(s=`Transaction at block hash "${e}" at index "${i}"`),t&&void 0!==i&&(s=`Transaction at block number "${t}" at index "${i}"`),n&&(s=`Transaction with hash "${n}"`),super(`${s} could not be found.`,{name:"TransactionNotFoundError"})}}class uz extends BD{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class hz extends BD{constructor({receipt:e}){super(`Transaction with hash "${e.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}}class pz extends BD{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}class fz extends BD{constructor(e,{account:t,docsPath:r,chain:n,data:i,gas:s,gasPrice:o,maxFeePerGas:a,maxPriorityFeePerGas:c,nonce:l,to:d,value:u,stateOverride:h}){const p=t?CH(t):void 0;let f=rz({from:p?.address,to:d,value:typeof u<"u"&&`${JH(u)} ${n?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:s,gasPrice:typeof o<"u"&&`${XH(o)} gwei`,maxFeePerGas:typeof a<"u"&&`${XH(a)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${XH(c)} gwei`,nonce:l});h&&(f+=`\n${function(e){return e.reduce(((e,{address:t,...r})=>{let n=`${e}    ${t}:\n`;return r.nonce&&(n+=`      nonce: ${r.nonce}\n`),r.balance&&(n+=`      balance: ${r.balance}\n`),r.code&&(n+=`      code: ${r.code}\n`),r.state&&(n+="      state:\n",n+=tz(r.state)),r.stateDiff&&(n+="      stateDiff:\n",n+=tz(r.stateDiff)),n}),"  State Override:\n").slice(0,-1)}(h)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",f].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class gz extends BD{constructor(e,{abi:t,args:r,contractAddress:n,docsPath:i,functionName:s,sender:o}){const a=mH({abi:t,args:r,name:s}),c=a?WH({abiItem:a,args:r,includeFunctionName:!1,includeName:!1}):void 0,l=rz({address:n&&n,function:a?PD(a,{includeName:!0}):void 0,args:c&&"()"!==c&&`${[...Array(s?.length??0).keys()].map((()=>" ")).join("")}${c}`,sender:o});super(e.shortMessage||`An unknown error occurred while executing the contract function "${s}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],l&&"Contract Call:",l].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=t,this.args=r,this.cause=e,this.contractAddress=n,this.functionName=s,this.sender=o}}class mz extends BD{constructor({abi:e,data:t,functionName:r,message:n}){let i,s,o,a,c;if(t&&"0x"!==t)try{s=ZH({abi:e,data:t});const{abiItem:r,errorName:n,args:i}=s;if("Error"===n)a=i[0];else if("Panic"===n){const[e]=i;a=kH[e]}else{const e=r?PD(r,{includeName:!0}):void 0,t=r&&i?WH({abiItem:r,args:i,includeFunctionName:!1,includeName:!1}):void 0;o=[e?`Error: ${e}`:"",t&&"()"!==t?`       ${[...Array(n?.length??0).keys()].map((()=>" ")).join("")}${t}`:""]}}catch(e){i=e}else n&&(a=n);i instanceof qD&&(c=i.signature,o=[`Unable to decode signature "${c}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${c}.`]),super(a&&"execution reverted"!==a||c?[`The contract function "${r}" reverted with the following ${c?"signature":"reason"}:`,a||c].join("\n"):`The contract function "${r}" reverted.`,{cause:i,metaMessages:o,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=s,this.raw=t,this.reason=a,this.signature=c}}class yz extends BD{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class wz extends BD{constructor({factory:e}){super("Deployment for counterfactual contract call failed"+(e?` for factory "${e}".`:""),{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class bz extends BD{constructor({data:e,message:t}){super(t||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class vz extends BD{constructor({body:e,cause:t,details:r,headers:n,status:i,url:s}){super("HTTP request failed.",{cause:t,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${s}`,e&&`Request body: ${qH(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=n,this.status=i,this.url=s}}class Ez extends BD{constructor({body:e,cause:t,details:r,url:n}){super("WebSocket request failed.",{cause:t,details:r,metaMessages:[`URL: ${n}`,e&&`Request body: ${qH(e)}`].filter(Boolean),name:"WebSocketRequestError"})}}class Az extends BD{constructor({body:e,error:t,url:r}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${r}`,`Request body: ${qH(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code,this.data=t.data}}class xz extends BD{constructor({url:e}={}){super("The socket has been closed.",{metaMessages:[e&&`URL: ${e}`].filter(Boolean),name:"SocketClosedError"})}}class Cz extends BD{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${t}`,`Request body: ${qH(e)}`],name:"TimeoutError"})}}class Sz extends BD{constructor(e,{code:t,docsPath:r,metaMessages:n,name:i,shortMessage:s}){super(s,{cause:e,docsPath:r,metaMessages:n||e?.metaMessages,name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof Az?e.code:t??-1}}class Iz extends Sz{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class _z extends Sz{constructor(e){super(e,{code:_z.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(_z,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class kz extends Sz{constructor(e){super(e,{code:kz.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(kz,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Pz extends Sz{constructor(e,{method:t}={}){super(e,{code:Pz.code,name:"MethodNotFoundRpcError",shortMessage:`The method${t?` "${t}"`:""} does not exist / is not available.`})}}Object.defineProperty(Pz,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Tz extends Sz{constructor(e){super(e,{code:Tz.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join("\n")})}}Object.defineProperty(Tz,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Oz extends Sz{constructor(e){super(e,{code:Oz.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Oz,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Nz extends Sz{constructor(e){super(e,{code:Nz.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join("\n")})}}Object.defineProperty(Nz,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Rz extends Sz{constructor(e){super(e,{code:Rz.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Rz,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class $z extends Sz{constructor(e){super(e,{code:$z.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty($z,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Bz extends Sz{constructor(e){super(e,{code:Bz.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Bz,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Mz extends Sz{constructor(e,{method:t}={}){super(e,{code:Mz.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${t?` "${t}"`:""} is not supported.`})}}Object.defineProperty(Mz,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Uz extends Sz{constructor(e){super(e,{code:Uz.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Uz,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Lz extends Sz{constructor(e){super(e,{code:Lz.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Lz,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Dz extends Iz{constructor(e){super(e,{code:Dz.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Dz,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class jz extends Iz{constructor(e){super(e,{code:jz.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(jz,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Hz extends Iz{constructor(e,{method:t}={}){super(e,{code:Hz.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${t?` " ${t}"`:""}.`})}}Object.defineProperty(Hz,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class zz extends Iz{constructor(e){super(e,{code:zz.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(zz,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Fz extends Iz{constructor(e){super(e,{code:Fz.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Fz,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Vz extends Iz{constructor(e){super(e,{code:Vz.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Vz,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Zz extends Iz{constructor(e){super(e,{code:Zz.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Zz,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class qz extends Iz{constructor(e){super(e,{code:qz.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(qz,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Wz extends Iz{constructor(e){super(e,{code:Wz.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Wz,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Kz extends Iz{constructor(e){super(e,{code:Kz.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Kz,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Gz extends Iz{constructor(e){super(e,{code:Gz.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Gz,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Yz extends Iz{constructor(e){super(e,{code:Yz.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Yz,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Jz extends Iz{constructor(e){super(e,{code:Jz.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Jz,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Xz extends Sz{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const Qz=3;function eF(e,{abi:t,address:r,args:n,docsPath:i,functionName:s,sender:o}){const a=e instanceof bz?e:e instanceof BD?e.walk((e=>"data"in e))||e.walk():{},{code:c,data:l,details:d,message:u,shortMessage:h}=a,p=e instanceof jD?new yz({functionName:s}):[Qz,Oz.code].includes(c)&&(l||d||u||h)?new mz({abi:t,data:"object"==typeof l?l.data:l,functionName:s,message:a instanceof Az?d:h??u}):e;return new gz(p,{abi:t,args:n,contractAddress:r,docsPath:i,functionName:s,sender:o})}async function tF({hash:e,signature:t}){const r=OD(e)?e:_j(e),{secp256k1:n}=await Promise.resolve().then((function(){return VQ}));return`0x${(()=>{if("object"==typeof t&&"r"in t&&"s"in t){const{r:e,s:r,v:i,yParity:s}=t,o=rF(Number(s??i));return new n.Signature(Aj(e),Aj(r)).addRecoveryBit(o)}const e=OD(t)?t:_j(t);if(65!==ND(e))throw new Error("invalid signature length");const r=rF(Cj(`0x${e.slice(130)}`));return n.Signature.fromCompact(e.substring(2,130)).addRecoveryBit(r)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function rF(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw new Error("Invalid yParityOrV value")}async function nF({hash:e,signature:t}){return function(e){return Gj(`0x${Hj(`0x${e.substring(4)}`).substring(26)}`)}(await tF({hash:e,signature:t}))}function iF(e,t="hex"){const r=sF(e),n=BH(new Uint8Array(r.length));return r.encode(n),"hex"===t?Pj(n.bytes):n.bytes}function sF(e){return Array.isArray(e)?function(e){const t=e.reduce(((e,t)=>e+t.length),0),r=oF(t);return{length:t<=55?1+t:1+r+t,encode(n){t<=55?n.pushByte(192+t):(n.pushByte(247+r),1===r?n.pushUint8(t):2===r?n.pushUint16(t):3===r?n.pushUint24(t):n.pushUint32(t));for(const{encode:t}of e)t(n)}}}(e.map((e=>sF(e)))):function(e){const t="string"==typeof e?Lj(e):e,r=oF(t.length);return{length:1===t.length&&t[0]<128?1:t.length<=55?1+t.length:1+r+t.length,encode(e){1===t.length&&t[0]<128?e.pushBytes(t):t.length<=55?(e.pushByte(128+t.length),e.pushBytes(t)):(e.pushByte(183+r),1===r?e.pushUint8(t.length):2===r?e.pushUint16(t.length):3===r?e.pushUint24(t.length):e.pushUint32(t.length),e.pushBytes(t))}}}(e)}function oF(e){if(e<256)return 1;if(e<65536)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new BD("Length is too large.")}function aF(e){const{chainId:t,nonce:r,to:n}=e,i=e.contractAddress??e.address,s=Hj(rH(["0x05",iF([t?Tj(t):"0x",i,r?Tj(r):"0x"])]));return"bytes"===n?Lj(s):s}async function cF(e){const{authorization:t,signature:r}=e;return nF({hash:aF(t),signature:r??t})}class lF extends BD{constructor(e,{account:t,docsPath:r,chain:n,data:i,gas:s,gasPrice:o,maxFeePerGas:a,maxPriorityFeePerGas:c,nonce:l,to:d,value:u}){const h=rz({from:t?.address,to:d,value:typeof u<"u"&&`${JH(u)} ${n?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:s,gasPrice:typeof o<"u"&&`${XH(o)} gwei`,maxFeePerGas:typeof a<"u"&&`${XH(a)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${XH(c)} gwei`,nonce:l});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class dF extends BD{constructor({cause:e,message:t}={}){const r=t?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(dF,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(dF,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class uF extends BD{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${XH(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(uF,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class hF extends BD{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${XH(t)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(hF,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class pF extends BD{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(pF,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class fF extends BD{constructor({cause:e,nonce:t}={}){super([`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join("\n"),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(fF,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class gF extends BD{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(gF,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class mF extends BD{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join("\n"),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(mF,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class yF extends BD{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(yF,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class wF extends BD{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(wF,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class bF extends BD{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(bF,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class vF extends BD{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${XH(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${XH(r)} gwei`:""}).`].join("\n"),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(vF,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class EF extends BD{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function AF(e,t){const r=(e.details||"").toLowerCase(),n=e instanceof BD?e.walk((e=>e?.code===dF.code)):e;return n instanceof BD?new dF({cause:e,message:n.details}):dF.nodeMessage.test(r)?new dF({cause:e,message:e.details}):uF.nodeMessage.test(r)?new uF({cause:e,maxFeePerGas:t?.maxFeePerGas}):hF.nodeMessage.test(r)?new hF({cause:e,maxFeePerGas:t?.maxFeePerGas}):pF.nodeMessage.test(r)?new pF({cause:e,nonce:t?.nonce}):fF.nodeMessage.test(r)?new fF({cause:e,nonce:t?.nonce}):gF.nodeMessage.test(r)?new gF({cause:e,nonce:t?.nonce}):mF.nodeMessage.test(r)?new mF({cause:e}):yF.nodeMessage.test(r)?new yF({cause:e,gas:t?.gas}):wF.nodeMessage.test(r)?new wF({cause:e,gas:t?.gas}):bF.nodeMessage.test(r)?new bF({cause:e}):vF.nodeMessage.test(r)?new vF({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new EF({cause:e})}function xF(e,{format:t}){if(!t)return{};const r={};return function t(n){const i=Object.keys(n);for(const s of i)s in e&&(r[s]=e[s]),n[s]&&"object"==typeof n[s]&&!Array.isArray(n[s])&&t(n[s])}(t(e||{})),r}function CF(e,t){return({exclude:r,format:n})=>({exclude:r,format:(e,i)=>{const s=t(e,i);if(r)for(const e of r)delete s[e];return{...s,...n(e,i)}},type:e})}const SF={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function IF(e,t){const r={};return typeof e.authorizationList<"u"&&(r.authorizationList=function(e){return e.map((e=>({address:e.address,r:e.r?Tj(BigInt(e.r)):e.r,s:e.s?Tj(BigInt(e.s)):e.s,chainId:Tj(e.chainId),nonce:Tj(e.nonce),...typeof e.yParity<"u"?{yParity:Tj(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:Tj(e.v)}:{}})))}(e.authorizationList)),typeof e.accessList<"u"&&(r.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(r.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&("string"!=typeof e.blobs[0]?r.blobs=e.blobs.map((e=>Pj(e))):r.blobs=e.blobs),typeof e.data<"u"&&(r.data=e.data),typeof e.from<"u"&&(r.from=e.from),typeof e.gas<"u"&&(r.gas=Tj(e.gas)),typeof e.gasPrice<"u"&&(r.gasPrice=Tj(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(r.maxFeePerBlobGas=Tj(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(r.maxFeePerGas=Tj(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(r.maxPriorityFeePerGas=Tj(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(r.nonce=Tj(e.nonce)),typeof e.to<"u"&&(r.to=e.to),typeof e.type<"u"&&(r.type=SF[e.type]),typeof e.value<"u"&&(r.value=Tj(e.value)),r}const _F=CF("transactionRequest",IF);function kF(e){if(e&&0!==e.length)return e.reduce(((e,{slot:t,value:r})=>{if(66!==t.length)throw new uj({size:t.length,targetSize:66,type:"hex"});if(66!==r.length)throw new uj({size:r.length,targetSize:66,type:"hex"});return e[t]=r,e}),{})}function PF(e){const{balance:t,nonce:r,state:n,stateDiff:i,code:s}=e,o={};if(void 0!==s&&(o.code=s),void 0!==t&&(o.balance=Tj(t)),void 0!==r&&(o.nonce=Tj(r)),void 0!==n&&(o.state=kF(n)),void 0!==i){if(o.state)throw new ez;o.stateDiff=kF(i)}return o}function TF(e){if(!e)return;const t={};for(const{address:r,...n}of e){if(!Qj(r,{strict:!1}))throw new qj({address:r});if(t[r])throw new QH({address:r});t[r]=PF(n)}return t}const OF=2n**256n-1n;function NF(e){const{account:t,gasPrice:r,maxFeePerGas:n,maxPriorityFeePerGas:i,to:s}=e,o=t?CH(t):void 0;if(o&&!Qj(o.address))throw new qj({address:o.address});if(s&&!Qj(s))throw new qj({address:s});if(typeof r<"u"&&(typeof n<"u"||typeof i<"u"))throw new nz;if(n&&n>OF)throw new uF({maxFeePerGas:n});if(i&&n&&i>n)throw new vF({maxFeePerGas:n,maxPriorityFeePerGas:i})}class RF extends BD{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class $F extends BD{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class BF extends BD{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${XH(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class MF extends BD{constructor({blockHash:e,blockNumber:t}){let r="Block";e&&(r=`Block at hash "${e}"`),t&&(r=`Block at number "${t}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const UF={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function LF(e,t){const r={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Cj(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Cj(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?UF[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(r.authorizationList=function(e){return e.map((e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)})))}(e.authorizationList)),r.yParity=(()=>{if(e.yParity)return Number(e.yParity);if("bigint"==typeof r.v){if(0n===r.v||27n===r.v)return 0;if(1n===r.v||28n===r.v)return 1;if(r.v>=35n)return r.v%2n===0n?1:0}})(),"legacy"===r.type&&(delete r.accessList,delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.yParity),"eip2930"===r.type&&(delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas),"eip1559"===r.type&&delete r.maxFeePerBlobGas,r}const DF=CF("transaction",LF);function jF(e,t){const r=(e.transactions??[]).map((e=>"string"==typeof e?e:LF(e)));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:r,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const HF=CF("block",jF);async function zF(e,{blockHash:t,blockNumber:r,blockTag:n=e.experimental_blockTag??"latest",includeTransactions:i}={}){const s=i??!1,o=void 0!==r?Tj(r):void 0;let a=null;if(a=t?await e.request({method:"eth_getBlockByHash",params:[t,s]},{dedupe:!0}):await e.request({method:"eth_getBlockByNumber",params:[o||n,s]},{dedupe:!!o}),!a)throw new MF({blockHash:t,blockNumber:r});return(e.chain?.formatters?.block?.format||jF)(a,"getBlock")}async function FF(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function VF(e,t){const{block:r,chain:n=e.chain,request:i}=t||{};try{const t=n?.fees?.maxPriorityFeePerGas??n?.fees?.defaultPriorityFee;if("function"==typeof t){const n=r||await kD(e,zF,"getBlock")({}),s=await t({block:n,client:e,request:i});if(null===s)throw new Error;return s}if(typeof t<"u")return t;return Aj(await e.request({method:"eth_maxPriorityFeePerGas"}))}catch{const[t,n]=await Promise.all([r?Promise.resolve(r):kD(e,zF,"getBlock")({}),kD(e,FF,"getGasPrice")({})]);if("bigint"!=typeof t.baseFeePerGas)throw new $F;const i=n-t.baseFeePerGas;return i<0n?0n:i}}async function ZF(e,t){const{block:r,chain:n=e.chain,request:i,type:s="eip1559"}=t||{},o=await(async()=>"function"==typeof n?.fees?.baseFeeMultiplier?n.fees.baseFeeMultiplier({block:r,client:e,request:i}):n?.fees?.baseFeeMultiplier??1.2)();if(o<1)throw new RF;const a=10**(o.toString().split(".")[1]?.length??0),c=e=>e*BigInt(Math.ceil(o*a))/BigInt(a),l=r||await kD(e,zF,"getBlock")({});if("function"==typeof n?.fees?.estimateFeesPerGas){const t=await n.fees.estimateFeesPerGas({block:r,client:e,multiply:c,request:i,type:s});if(null!==t)return t}if("eip1559"===s){if("bigint"!=typeof l.baseFeePerGas)throw new $F;const t="bigint"==typeof i?.maxPriorityFeePerGas?i.maxPriorityFeePerGas:await VF(e,{block:l,chain:n,request:i}),r=c(l.baseFeePerGas);return{maxFeePerGas:i?.maxFeePerGas??r+t,maxPriorityFeePerGas:t}}return{gasPrice:i?.gasPrice??c(await kD(e,FF,"getGasPrice")({}))}}async function qF(e,{address:t,blockTag:r="latest",blockNumber:n}){return Cj(await e.request({method:"eth_getTransactionCount",params:[t,"bigint"==typeof n?Tj(n):r]},{dedupe:!!n}))}function WF(e){const{kzg:t}=e,r=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),n="string"==typeof e.blobs[0]?e.blobs.map((e=>Lj(e))):e.blobs,i=[];for(const e of n)i.push(Uint8Array.from(t.blobToKzgCommitment(e)));return"bytes"===r?i:i.map((e=>Pj(e)))}function KF(e){const{kzg:t}=e,r=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),n="string"==typeof e.blobs[0]?e.blobs.map((e=>Lj(e))):e.blobs,i="string"==typeof e.commitments[0]?e.commitments.map((e=>Lj(e))):e.commitments,s=[];for(let e=0;e<n.length;e++){const r=n[e],o=i[e];s.push(Uint8Array.from(t.computeBlobKzgProof(r,o)))}return"bytes"===r?s:s.map((e=>Pj(e)))}function GF(e,t){const r=t||"hex",n=cr(OD(e,{strict:!1})?$j(e):e);return"bytes"===r?n:_j(n)}function YF(e){const{commitment:t,version:r=1}=e,n=e.to??("string"==typeof t?"hex":"bytes"),i=GF(t,"bytes");return i.set([r],0),"bytes"===n?i:Pj(i)}function JF(e){const{commitments:t,version:r}=e,n=e.to??("string"==typeof t[0]?"hex":"bytes"),i=[];for(const e of t)i.push(YF({commitment:e,to:n,version:r}));return i}const XF=4096,QF=32*XF,eV=761855;class tV extends BD{constructor({maxSize:e,size:t}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${t} bytes`],name:"BlobSizeTooLargeError"})}}class rV extends BD{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class nV extends BD{constructor({hash:e,size:t}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${t}`],name:"InvalidVersionedHashSizeError"})}}class iV extends BD{constructor({hash:e,version:t}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:["Expected: 1",`Received: ${t}`],name:"InvalidVersionedHashVersionError"})}}function sV(e){const t=e.to??("string"==typeof e.data?"hex":"bytes"),r="string"==typeof e.data?Lj(e.data):e.data,n=ND(r);if(!n)throw new rV;if(n>eV)throw new tV({maxSize:eV,size:n});const i=[];let s=!0,o=0;for(;s;){const e=BH(new Uint8Array(QF));let t=0;for(;t<XF;){const n=r.slice(o,o+31);if(e.pushByte(0),e.pushBytes(n),n.length<31){e.pushByte(128),s=!1;break}t++,o+=31}i.push(e)}return"bytes"===t?i.map((e=>e.bytes)):i.map((e=>Pj(e.bytes)))}function oV(e){const{data:t,kzg:r,to:n}=e,i=e.blobs??sV({data:t,to:n}),s=e.commitments??WF({blobs:i,kzg:r,to:n}),o=e.proofs??KF({blobs:i,commitments:s,kzg:r,to:n}),a=[];for(let e=0;e<i.length;e++)a.push({blob:i[e],commitment:s[e],proof:o[e]});return a}function aV(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new sz({transaction:e})}async function cV(e){return Cj(await e.request({method:"eth_chainId"},{dedupe:!0}))}const lV=["blobVersionedHashes","chainId","fees","gas","nonce","type"],dV=new Map;async function uV(e,t){const{account:r=e.account,blobs:n,chain:i,gas:s,kzg:o,nonce:a,nonceManager:c,parameters:l=lV,type:d}=t,u=r&&CH(r),h={...t,...u?{from:u?.address}:{}};let p,f;async function g(){return p||(p=await kD(e,zF,"getBlock")({blockTag:"latest"}),p)}async function m(){return f||(i?i.id:typeof t.chainId<"u"?t.chainId:(f=await kD(e,cV,"getChainId")({}),f))}if(l.includes("nonce")&&typeof a>"u"&&u)if(c){const t=await m();h.nonce=await c.consume({address:u.address,chainId:t,client:e})}else h.nonce=await kD(e,qF,"getTransactionCount")({address:u.address,blockTag:"pending"});if((l.includes("blobVersionedHashes")||l.includes("sidecars"))&&n&&o){const e=WF({blobs:n,kzg:o});if(l.includes("blobVersionedHashes")){const t=JF({commitments:e,to:"hex"});h.blobVersionedHashes=t}if(l.includes("sidecars")){const t=oV({blobs:n,commitments:e,proofs:KF({blobs:n,commitments:e,kzg:o}),to:"hex"});h.sidecars=t}}if(l.includes("chainId")&&(h.chainId=await m()),(l.includes("fees")||l.includes("type"))&&typeof d>"u")try{h.type=aV(h)}catch{let t=dV.get(e.uid);typeof t>"u"&&(t="bigint"==typeof(await g())?.baseFeePerGas,dV.set(e.uid,t)),h.type=t?"eip1559":"legacy"}if(l.includes("fees"))if("legacy"!==h.type&&"eip2930"!==h.type){if(typeof h.maxFeePerGas>"u"||typeof h.maxPriorityFeePerGas>"u"){const r=await g(),{maxFeePerGas:n,maxPriorityFeePerGas:s}=await ZF(e,{block:r,chain:i,request:h});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<s)throw new BF({maxPriorityFeePerGas:s});h.maxPriorityFeePerGas=s,h.maxFeePerGas=n}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new $F;if(typeof t.gasPrice>"u"){const t=await g(),{gasPrice:r}=await ZF(e,{block:t,chain:i,request:h,type:"legacy"});h.gasPrice=r}}return l.includes("gas")&&typeof s>"u"&&(h.gas=await kD(e,hV,"estimateGas")({...h,account:u&&{address:u.address,type:"json-rpc"}})),NF(h),delete h.parameters,h}async function hV(e,t){const{account:r=e.account}=t,n=r?CH(r):void 0;try{const{accessList:r,authorizationList:i,blobs:s,blobVersionedHashes:o,blockNumber:a,blockTag:c,data:l,gas:d,gasPrice:u,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:f,nonce:g,value:m,stateOverride:y,...w}=await uV(e,{...t,parameters:"local"===n?.type?void 0:["blobVersionedHashes"]}),b=("bigint"==typeof a?Tj(a):void 0)||c,v=TF(y),E=await(async()=>w.to?w.to:i&&i.length>0?await cF({authorization:i[0]}).catch((()=>{throw new BD("`to` is required. Could not infer from `authorizationList`")})):void 0)();NF(t);const A=e.chain?.formatters?.transactionRequest?.format,x=(A||IF)({...xF(w,{format:A}),from:n?.address,accessList:r,authorizationList:i,blobs:s,blobVersionedHashes:o,data:l,gas:d,gasPrice:u,maxFeePerBlobGas:h,maxFeePerGas:p,maxPriorityFeePerGas:f,nonce:g,to:E,value:m},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:v?[x,b??e.experimental_blockTag??"latest",v]:b?[x,b]:[x]}))}catch(r){throw function(e,{docsPath:t,...r}){const n=(()=>{const t=AF(e,r);return t instanceof EF?e:t})();return new lF(n,{docsPath:t,...r})}(r,{...t,account:n,chain:e.chain})}}async function pV(e,t){const{abi:r,address:n,args:i,functionName:s,dataSuffix:o,...a}=t,c=_H({abi:r,args:i,functionName:s});try{return await kD(e,hV,"estimateGas")({data:`${c}${o?o.replace("0x",""):""}`,to:n,...a})}catch(e){const t=a.account?CH(a.account):void 0;throw eF(e,{abi:r,address:n,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:t?.address})}}function fV(e,t){if(!Qj(e,{strict:!1}))throw new qj({address:e});if(!Qj(t,{strict:!1}))throw new qj({address:t});return e.toLowerCase()===t.toLowerCase()}const gV="/docs/contract/decodeEventLog";function mV(e){const{abi:t,data:r,strict:n,topics:i}=e,s=n??!0,[o,...a]=i;if(!o)throw new WD({docsPath:gV});const c=t.find((e=>"event"===e.type&&o===Zj(PD(e))));if(!c||!("name"in c)||"event"!==c.type)throw new KD(o,{docsPath:gV});const{name:l,inputs:d}=c,u=d?.some((e=>!("name"in e&&e.name))),h=u?[]:{},p=d.map(((e,t)=>[e,t])).filter((([e])=>"indexed"in e&&e.indexed));for(let e=0;e<p.length;e++){const[t,r]=p[e],n=a[e];if(!n)throw new rj({abiItem:c,param:t});h[u?r:t.name||r]=yV({param:t,value:n})}const f=d.filter((e=>!("indexed"in e&&e.indexed)));if(f.length>0)if(r&&"0x"!==r)try{const e=jH(f,r);if(e)if(u)for(let t=0;t<d.length;t++)h[t]=h[t]??e.shift();else for(let t=0;t<f.length;t++)h[f[t].name]=e[t]}catch(e){if(s)throw e instanceof DD||e instanceof NH?new tj({abiItem:c,data:r,params:f,size:ND(r)}):e}else if(s)throw new tj({abiItem:c,data:"0x",params:f,size:0});return{eventName:l,args:Object.values(h).length>0?h:void 0}}function yV({param:e,value:t}){return"string"===e.type||"bytes"===e.type||"tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(jH([e],t)||[])[0]}function wV(e){const{abi:t,args:r,logs:n,strict:i=!0}=e,s=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return n.map((e=>{try{const n=t.find((t=>"event"===t.type&&e.topics[0]===Zj(t)));if(!n)return null;const o=mV({...e,abi:[n],strict:i});return s&&!s.includes(o.eventName)||!function(e){const{args:t,inputs:r,matchArgs:n}=e;if(!n)return!0;if(!t)return!1;function i(e,t,r){try{return"address"===e.type?fV(t,r):"string"===e.type||"bytes"===e.type?Hj($j(t))===r:t===r}catch{return!1}}return Array.isArray(t)&&Array.isArray(n)?n.every(((e,n)=>{if(null==e)return!0;const s=r[n];return!!s&&(Array.isArray(e)?e:[e]).some((e=>i(s,e,t[n])))})):"object"==typeof t&&!Array.isArray(t)&&"object"==typeof n&&!Array.isArray(n)&&Object.entries(n).every((([e,n])=>{if(null==n)return!0;const s=r.find((t=>t.name===e));return!!s&&(Array.isArray(n)?n:[n]).some((r=>i(s,r,t[e])))}))}({args:o.args,inputs:n.inputs,matchArgs:r})?null:{...o,...e}}catch(t){let r,n;if(t instanceof KD)return null;if(t instanceof tj||t instanceof rj){if(i)return null;r=t.abiItem.name,n=t.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}return{...e,args:n?[]:{},eventName:r}}})).filter(Boolean)}function bV(e,{args:t,eventName:r}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...r?{args:t,eventName:r}:{}}}async function vV(e,{address:t,blockHash:r,fromBlock:n,toBlock:i,event:s,events:o,args:a,strict:c}={}){const l=c??!1,d=o??(s?[s]:void 0);let u,h=[];d&&(h=[d.flatMap((e=>vH({abi:[e],eventName:e.name,args:o?void 0:a})))],s&&(h=h[0])),u=r?await e.request({method:"eth_getLogs",params:[{address:t,topics:h,blockHash:r}]}):await e.request({method:"eth_getLogs",params:[{address:t,topics:h,fromBlock:"bigint"==typeof n?Tj(n):n,toBlock:"bigint"==typeof i?Tj(i):i}]});const p=u.map((e=>bV(e)));return d?wV({abi:d,args:a,logs:p,strict:l}):p}async function EV(e,t){const{abi:r,address:n,args:i,blockHash:s,eventName:o,fromBlock:a,toBlock:c,strict:l}=t,d=o?mH({abi:r,name:o}):void 0,u=d?void 0:r.filter((e=>"event"===e.type));return kD(e,vV,"getLogs")({address:n,args:i,blockHash:s,event:d,events:u,fromBlock:a,toBlock:c,strict:l})}const AV="/docs/contract/decodeFunctionResult";function xV(e){const{abi:t,args:r,functionName:n,data:i}=e;let s=t[0];if(n){const e=mH({abi:t,args:r,name:n});if(!e)throw new YD(n,{docsPath:AV});s=e}if("function"!==s.type)throw new YD(void 0,{docsPath:AV});if(!s.outputs)throw new JD(s.name,{docsPath:AV});const o=jH(s.outputs,i);return o&&o.length>1?o:o&&1===o.length?o[0]:void 0}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const CV=BigInt(0),SV=BigInt(1);function IV(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function _V(e){if(!IV(e))throw new Error("Uint8Array expected")}function kV(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)}function PV(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function TV(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?CV:BigInt("0x"+e)}const OV="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,NV=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function RV(e){if(_V(e),OV)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=NV[e[r]];return t}const $V=48,BV=57,MV=65,UV=70,LV=97,DV=102;function jV(e){return e>=$V&&e<=BV?e-$V:e>=MV&&e<=UV?e-(MV-10):e>=LV&&e<=DV?e-(LV-10):void 0}function HV(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(OV)return Uint8Array.fromHex(e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=jV(e.charCodeAt(i)),s=jV(e.charCodeAt(i+1));if(void 0===r||void 0===s){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+s}return n}function zV(e){return TV(RV(e))}function FV(e){return _V(e),TV(RV(Uint8Array.from(e).reverse()))}function VV(e,t){return HV(e.toString(16).padStart(2*t,"0"))}function ZV(e,t){return VV(e,t).reverse()}function qV(e,t,r){let n;if("string"==typeof t)try{n=HV(t)}catch(t){throw new Error(e+" must be hex string or Uint8Array, cause: "+t)}else{if(!IV(t))throw new Error(e+" must be hex string or Uint8Array");n=Uint8Array.from(t)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(e+" of length "+r+" expected, got "+i);return n}function WV(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];_V(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}const KV=e=>"bigint"==typeof e&&CV<=e;function GV(e,t,r){return KV(e)&&KV(t)&&KV(r)&&t<=e&&e<r}function YV(e,t,r,n){if(!GV(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}const JV=e=>(SV<<BigInt(e))-SV,XV=e=>new Uint8Array(e),QV=e=>Uint8Array.from(e);const eZ={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||IV(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function tZ(e,t,r={}){const n=(t,r,n)=>{const i=eZ[r];if("function"!=typeof i)throw new Error("invalid validator function");const s=e[t];if(!(n&&void 0===s||i(s,e)))throw new Error("param "+String(t)+" is invalid. Expected "+r+", got "+s)};for(const[e,r]of Object.entries(t))n(e,r,!1);for(const[e,t]of Object.entries(r))n(e,t,!0);return e}function rZ(e){const t=new WeakMap;return(r,...n)=>{const i=t.get(r);if(void 0!==i)return i;const s=e(r,...n);return t.set(r,s),s}}class nZ extends Error{constructor(e,t={}){const r=(()=>{if(t.cause instanceof nZ){if(t.cause.details)return t.cause.details;if(t.cause.shortMessage)return t.cause.shortMessage}return t.cause&&"details"in t.cause&&"string"==typeof t.cause.details?t.cause.details:t.cause?.message?t.cause.message:t.details})(),n=t.cause instanceof nZ&&t.cause.docsPath||t.docsPath,i=`https://oxlib.sh${n??""}`;super([e||"An error occurred.",...t.metaMessages?["",...t.metaMessages]:[],...r||n?["",r?`Details: ${r}`:void 0,n?`See: ${i}`:void 0]:[]].filter((e=>"string"==typeof e)).join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"ox@0.1.1"}),this.cause=t.cause,this.details=r,this.docs=i,this.docsPath=n,this.shortMessage=e}walk(e){return iZ(this,e)}}function iZ(e,t){return t?.(e)?e:e&&"object"==typeof e&&"cause"in e&&e.cause?iZ(e.cause,t):t?null:e}function sZ(e,t){if(AZ(e)>t)throw new NZ({givenSize:AZ(e),maxSize:t})}const oZ=48,aZ=57,cZ=65,lZ=70,dZ=97,uZ=102;function hZ(e){return e>=oZ&&e<=aZ?e-oZ:e>=cZ&&e<=lZ?e-(cZ-10):e>=dZ&&e<=uZ?e-(dZ-10):void 0}function pZ(e,t={}){const{dir:r="left"}=t;let n=e,i=0;for(let e=0;e<n.length-1&&"0"===n["left"===r?e:n.length-e-1].toString();e++)i++;return n="left"===r?n.slice(i):n.slice(0,n.length-i),n}function fZ(e,t){if(qZ(e)>t)throw new eq({givenSize:qZ(e),maxSize:t})}function gZ(e,t={}){const{dir:r,size:n=32}=t;if(0===n)return e;const i=e.replace("0x","");if(i.length>2*n)throw new rq({size:Math.ceil(i.length/2),targetSize:n,type:"Hex"});return`0x${i["right"===r?"padEnd":"padStart"](2*n,"0")}`}function mZ(e,t,r){return JSON.stringify(e,((e,r)=>"function"==typeof t?t(e,r):"bigint"==typeof r?r.toString()+"#__bigint":r),r)}const yZ=new TextDecoder,wZ=new TextEncoder;function bZ(e){return e instanceof Uint8Array?e:"string"==typeof e?vZ(e):function(e){return e instanceof Uint8Array?e:new Uint8Array(e)}(e)}function vZ(e,t={}){const{size:r}=t;let n=e;r&&(fZ(e,r),n=VZ(e,r));let i=n.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let e=0,t=0;e<s;e++){const r=hZ(i.charCodeAt(t++)),n=hZ(i.charCodeAt(t++));if(void 0===r||void 0===n)throw new nZ(`Invalid byte sequence ("${i[t-2]}${i[t-1]}" in "${i}").`);o[e]=16*r+n}return o}function EZ(e,t={}){const{size:r}=t,n=wZ.encode(e);return"number"==typeof r?(sZ(n,r),function(e,t){return function(e,t={}){const{dir:r,size:n=32}=t;if(0===n)return e;if(e.length>n)throw new $Z({size:e.length,targetSize:n,type:"Bytes"});const i=new Uint8Array(n);for(let t=0;t<n;t++){const s="right"===r;i[s?t:n-t-1]=e[s?t:e.length-t-1]}return i}(e,{dir:"right",size:t})}(n,r)):n}function AZ(e){return e.length}function xZ(e,t,r,n={}){const{strict:i}=n;!function(e,t){if("number"==typeof t&&t>0&&t>AZ(e)-1)throw new RZ({offset:t,position:"start",size:AZ(e)})}(e,t);const s=e.slice(t,r);return i&&function(e,t,r){if("number"==typeof t&&"number"==typeof r&&AZ(e)!==r-t)throw new RZ({offset:r,position:"end",size:AZ(e)})}(s,t,r),s}function CZ(e,t={}){const{size:r}=t;typeof r<"u"&&sZ(e,r);return KZ(jZ(e,t),t)}function SZ(e,t={}){const{size:r}=t;let n=e;if(typeof r<"u"&&(sZ(n,r),n=kZ(n)),n.length>1||n[0]>1)throw new TZ(n);return!!n[0]}function IZ(e,t={}){const{size:r}=t;typeof r<"u"&&sZ(e,r);return GZ(jZ(e,t),t)}function _Z(e,t={}){const{size:r}=t;let n=e;return typeof r<"u"&&(sZ(n,r),n=function(e){return pZ(e,{dir:"right"})}(n)),yZ.decode(n)}function kZ(e){return pZ(e,{dir:"left"})}function PZ(e){try{return function(e){if(!(e instanceof Uint8Array)){if(!e)throw new OZ(e);if("object"!=typeof e)throw new OZ(e);if(!("BYTES_PER_ELEMENT"in e))throw new OZ(e);if(1!==e.BYTES_PER_ELEMENT||"Uint8Array"!==e.constructor.name)throw new OZ(e)}}(e),!0}catch{return!1}}class TZ extends nZ{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}class OZ extends nZ{constructor(e){super(`Value \`${"object"==typeof e?mZ(e):e}\` of type \`${typeof e}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}class NZ extends nZ{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}}class RZ extends nZ{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SliceOffsetOutOfBoundsError"})}}class $Z extends nZ{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}const BZ=new TextEncoder,MZ=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function UZ(...e){return`0x${e.reduce(((e,t)=>e+t.replace("0x","")),"")}`}function LZ(e){return e instanceof Uint8Array?jZ(e):Array.isArray(e)?jZ(new Uint8Array(e)):e}function DZ(e,t={}){const r=`0x${Number(e)}`;return"number"==typeof t.size?(fZ(r,t.size),FZ(r,t.size)):r}function jZ(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=MZ[e[t]];const n=`0x${r}`;return"number"==typeof t.size?(fZ(n,t.size),VZ(n,t.size)):n}function HZ(e,t={}){const{signed:r,size:n}=t,i=BigInt(e);let s;n?s=r?(1n<<8n*BigInt(n)-1n)-1n:2n**(8n*BigInt(n))-1n:"number"==typeof e&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o="bigint"==typeof s&&r?-s-1n:0;if(s&&i>s||i<o){const t="bigint"==typeof e?"n":"";throw new JZ({max:s?`${s}${t}`:void 0,min:`${o}${t}`,signed:r,size:n,value:`${e}${t}`})}const a=`0x${(r&&i<0?(1n<<BigInt(8*n))+BigInt(i):i).toString(16)}`;return n?FZ(a,n):a}function zZ(e,t={}){return jZ(BZ.encode(e),t)}function FZ(e,t){return gZ(e,{dir:"left",size:t})}function VZ(e,t){return gZ(e,{dir:"right",size:t})}function ZZ(e,t,r,n={}){const{strict:i}=n;!function(e,t){if("number"==typeof t&&t>0&&t>qZ(e)-1)throw new tq({offset:t,position:"start",size:qZ(e)})}(e,t);const s=`0x${e.replace("0x","").slice(2*(t??0),2*(r??e.length))}`;return i&&function(e,t,r){if("number"==typeof t&&"number"==typeof r&&qZ(e)!==r-t)throw new tq({offset:r,position:"end",size:qZ(e)})}(s,t,r),s}function qZ(e){return Math.ceil((e.length-2)/2)}function WZ(e){return function(e,t={}){const{dir:r="left"}=t;let n=e.replace("0x",""),i=0;for(let e=0;e<n.length-1&&"0"===n["left"===r?e:n.length-e-1].toString();e++)i++;return n="left"===r?n.slice(i):n.slice(0,n.length-i),"0"===n?"0x":"right"===r&&n.length%2==1?`0x${n}0`:`0x${n}`}(e,{dir:"left"})}function KZ(e,t={}){const{signed:r}=t;t.size&&fZ(e,t.size);const n=BigInt(e);if(!r)return n;const i=(e.length-2)/2,s=(1n<<8n*BigInt(i))-1n;return n<=s>>1n?n:n-s-1n}function GZ(e,t={}){const{signed:r,size:n}=t;return Number(r||n?KZ(e,t):e)}function YZ(e,t={}){const{strict:r=!1}=t;try{return function(e,t={}){const{strict:r=!1}=t;if(!e)throw new XZ(e);if("string"!=typeof e)throw new XZ(e);if(r&&!/^0x[0-9a-fA-F]*$/.test(e))throw new QZ(e);if(!e.startsWith("0x"))throw new QZ(e)}(e,{strict:r}),!0}catch{return!1}}class JZ extends nZ{constructor({max:e,min:t,signed:r,size:n,value:i}){super(`Number \`${i}\` is not in safe${n?` ${8*n}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${t}\` to \`${e}\`)`:`(above \`${t}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class XZ extends nZ{constructor(e){super(`Value \`${"object"==typeof e?mZ(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class QZ extends nZ{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class eq extends nZ{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed \`${t}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class tq extends nZ{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class rq extends nZ{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function nq(e){return{address:e.address,amount:HZ(e.amount),index:HZ(e.index),validatorIndex:HZ(e.validatorIndex)}}function iq(e){return{..."bigint"==typeof e.baseFeePerGas&&{baseFeePerGas:HZ(e.baseFeePerGas)},..."bigint"==typeof e.blobBaseFee&&{blobBaseFee:HZ(e.blobBaseFee)},..."string"==typeof e.feeRecipient&&{feeRecipient:e.feeRecipient},..."bigint"==typeof e.gasLimit&&{gasLimit:HZ(e.gasLimit)},..."bigint"==typeof e.number&&{number:HZ(e.number)},..."bigint"==typeof e.prevRandao&&{prevRandao:HZ(e.prevRandao)},..."bigint"==typeof e.time&&{time:HZ(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(nq)}}}const sq=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],oq=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],aq=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],cq=[...aq,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],lq=[...aq,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],dq=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],uq=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],hq=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],pq=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],fq=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],gq="0x82ad56cb",mq="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",yq="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",wq="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",bq="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class vq extends BD{constructor({blockNumber:e,chain:t,contract:r}){super(`Chain "${t.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Eq extends BD{constructor({chain:e,currentChainId:t}){super(`The current chain of the wallet (id: ${t}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${t}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class Aq extends BD{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join("\n"),{name:"ChainNotFoundError"})}}class xq extends BD{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class Cq extends BD{constructor({chainId:e}){super("number"==typeof e?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const Sq="/docs/contract/encodeDeployData";function Iq(e){const{abi:t,args:r,bytecode:n}=e;if(!r||0===r.length)return n;const i=t.find((e=>"type"in e&&"constructor"===e.type));if(!i)throw new UD({docsPath:Sq});if(!("inputs"in i))throw new LD({docsPath:Sq});if(!i.inputs||0===i.inputs.length)throw new LD({docsPath:Sq});return rH([n,uH(i.inputs,r)])}function _q({blockNumber:e,chain:t,contract:r}){const n=t?.contracts?.[r];if(!n)throw new vq({chain:t,contract:{name:r}});if(e&&n.blockCreated&&n.blockCreated>e)throw new vq({blockNumber:e,chain:t,contract:{name:r,blockCreated:n.blockCreated}});return n.address}function kq(e,{docsPath:t,...r}){const n=(()=>{const t=AF(e,r);return t instanceof EF?e:t})();return new fz(n,{docsPath:t,...r})}function Pq(){let e=()=>{},t=()=>{};return{promise:new Promise(((r,n)=>{e=r,t=n})),resolve:e,reject:t}}const Tq=new Map;function Oq({fn:e,id:t,shouldSplitBatch:r,wait:n=0,sort:i}){const s=async()=>{const t=a();o();const r=t.map((({args:e})=>e));0!==r.length&&e(r).then((e=>{i&&Array.isArray(e)&&e.sort(i);for(let r=0;r<t.length;r++){const{resolve:n}=t[r];n?.([e[r],e])}})).catch((e=>{for(let r=0;r<t.length;r++){const{reject:n}=t[r];n?.(e)}}))},o=()=>Tq.delete(t),a=()=>Tq.get(t)||[],c=e=>Tq.set(t,[...a(),e]);return{flush:o,async schedule(e){const{promise:t,resolve:i,reject:o}=Pq();return r?.([...a().map((({args:e})=>e)),e])&&s(),a().length>0?(c({args:e,resolve:i,reject:o}),t):(c({args:e,resolve:i,reject:o}),setTimeout(s,n),t)}}}async function Nq(e,t){const{account:r=e.account,authorizationList:n,batch:i=!!e.batch?.multicall,blockNumber:s,blockTag:o=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:l,code:d,data:u,factory:h,factoryData:p,gas:f,gasPrice:g,maxFeePerBlobGas:m,maxFeePerGas:y,maxPriorityFeePerGas:w,nonce:b,to:v,value:E,stateOverride:A,...x}=t,C=r?CH(r):void 0;if(d&&(h||p))throw new BD("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(d&&v)throw new BD("Cannot provide both `code` & `to` as parameters.");const S=d&&u,I=h&&p&&v&&u,_=S||I,k=S?Rq({code:d,data:u}):I?function(e){const{data:t,factory:r,factoryData:n,to:i}=e;return Iq({abi:SD(["constructor(address, bytes, address, bytes)"]),bytecode:yq,args:[i,t,r,n]})}({data:u,factory:h,factoryData:p,to:v}):u;try{NF(t);const r=("bigint"==typeof s?Tj(s):void 0)||o,d=l?iq(l):void 0,u=TF(A),h=e.chain?.formatters?.transactionRequest?.format,p=(h||IF)({...xF(x,{format:h}),from:C?.address,accessList:a,authorizationList:n,blobs:c,data:k,gas:f,gasPrice:g,maxFeePerBlobGas:m,maxFeePerGas:y,maxPriorityFeePerGas:w,nonce:b,to:_?void 0:v,value:E},"call");if(i&&function({request:e}){const{data:t,to:r,...n}=e;return!(!t||t.startsWith(gq)||!r||Object.values(n).filter((e=>typeof e<"u")).length>0)}({request:p})&&!u&&!d)try{return await async function(e,t){const{batchSize:r=1024,deployless:n=!1,wait:i=0}="object"==typeof e.batch?.multicall?e.batch.multicall:{},{blockNumber:s,blockTag:o=e.experimental_blockTag??"latest",data:a,to:c}=t,l=(()=>{if(n)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return _q({blockNumber:s,chain:e.chain,contract:"multicall3"});throw new xq})(),d=("bigint"==typeof s?Tj(s):void 0)||o,{schedule:u}=Oq({id:`${e.uid}.${d}`,wait:i,shouldSplitBatch:e=>e.reduce(((e,{data:t})=>e+(t.length-2)),0)>2*r,fn:async t=>{const r=t.map((e=>({allowFailure:!0,callData:e.data,target:e.to}))),n=_H({abi:sq,args:[r],functionName:"aggregate3"}),i=await e.request({method:"eth_call",params:[{...null===l?{data:Rq({code:bq,data:n})}:{to:l,data:n}},d]});return xV({abi:sq,args:[r],functionName:"aggregate3",data:i||"0x"})}}),[{returnData:h,success:p}]=await u({data:a,to:c});if(!p)throw new bz({data:h});return"0x"===h?{data:void 0}:{data:h}}(e,{...p,blockNumber:s,blockTag:o})}catch(e){if(!(e instanceof xq||e instanceof vq))throw e}const S=(()=>{const e=[p,r];return u&&d?[...e,u,d]:u?[...e,u]:d?[...e,{},d]:e})(),I=await e.request({method:"eth_call",params:S});return"0x"===I?{data:void 0}:{data:I}}catch(r){const n=function(e){if(!(e instanceof BD))return;const t=e.walk();return"object"==typeof t?.data?t.data?.data:t.data}(r),{offchainLookup:i,offchainLookupSignature:s}=await Promise.resolve().then((function(){return xK}));if(!1!==e.ccipRead&&n?.slice(0,10)===s&&v)return{data:await i(e,{data:n,to:v})};throw _&&"0x101bb98d"===n?.slice(0,10)?new wz({factory:h}):kq(r,{...t,account:C,chain:e.chain})}}function Rq(e){const{code:t,data:r}=e;return Iq({abi:SD(["constructor(bytes, bytes)"]),bytecode:mq,args:[t,r]})}async function $q(e,t){const{abi:r,address:n,args:i,functionName:s,...o}=t,a=_H({abi:r,args:i,functionName:s});try{const{data:t}=await kD(e,Nq,"call")({...o,data:a,to:n});return xV({abi:r,args:i,functionName:s,data:t||"0x"})}catch(e){throw eF(e,{abi:r,address:n,args:i,docsPath:"/docs/contract/readContract",functionName:s})}}async function Bq(e,t){const{abi:r,address:n,args:i,dataSuffix:s,functionName:o,...a}=t,c=a.account?CH(a.account):e.account,l=_H({abi:r,args:i,functionName:o});try{const{data:d}=await kD(e,Nq,"call")({batch:!1,data:`${l}${s?s.replace("0x",""):""}`,to:n,...a,account:c}),u=xV({abi:r,args:i,functionName:o,data:d||"0x"});return{result:u,request:{abi:r.filter((e=>"name"in e&&e.name===t.functionName)),address:n,args:i,dataSuffix:s,functionName:o,...a,account:c}}}catch(e){throw eF(e,{abi:r,address:n,args:i,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c?.address})}}const Mq=new Map,Uq=new Map;let Lq=0;function Dq(e,t,r){const n=++Lq,i=()=>Mq.get(e)||[],s=()=>{const t=i();if(!t.some((e=>e.id===n)))return;const r=Uq.get(e);if(1===t.length&&r){const e=r();e instanceof Promise&&e.catch((()=>{}))}(()=>{const t=i();Mq.set(e,t.filter((e=>e.id!==n)))})()},o=i();if(Mq.set(e,[...o,{id:n,fns:t}]),o&&o.length>0)return s;const a={};for(const e in t)a[e]=(...t)=>{const r=i();if(0!==r.length)for(const n of r)n.fns[e]?.(...t)};const c=r(a);return"function"==typeof c&&Uq.set(e,c),s}async function jq(e){return new Promise((t=>setTimeout(t,e)))}function Hq(e,{emitOnBegin:t,initialWaitTime:r,interval:n}){let i=!0;const s=()=>i=!1;return(async()=>{let o;t&&(o=await e({unpoll:s}));const a=await(r?.(o))??n;await jq(a);const c=async()=>{i&&(await e({unpoll:s}),await jq(n),c())};c()})(),s}const zq=new Map,Fq=new Map;async function Vq(e,{cacheKey:t,cacheTime:r=Number.POSITIVE_INFINITY}){const n=function(e){const t=(e,t)=>({clear:()=>t.delete(e),get:()=>t.get(e),set:r=>t.set(e,r)}),r=t(e,zq),n=t(e,Fq);return{clear:()=>{r.clear(),n.clear()},promise:r,response:n}}(t),i=n.response.get();if(i&&r>0&&Date.now()-i.created.getTime()<r)return i.data;let s=n.promise.get();s||(s=e(),n.promise.set(s));try{const e=await s;return n.response.set({created:new Date,data:e}),e}finally{n.promise.clear()}}const Zq=e=>`blockNumber.${e}`;async function qq(e,{cacheTime:t=e.cacheTime}={}){const r=await Vq((()=>e.request({method:"eth_blockNumber"})),{cacheKey:Zq(e.uid),cacheTime:t});return BigInt(r)}async function Wq(e,{filter:t}){const r="strict"in t&&t.strict,n=await t.request({method:"eth_getFilterChanges",params:[t.id]});if("string"==typeof n[0])return n;const i=n.map((e=>bV(e)));return"abi"in t&&t.abi?wV({abi:t.abi,logs:i,strict:r}):i}async function Kq(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Gq(e,t){const{abi:r,address:n,args:i,batch:s=!0,eventName:o,fromBlock:a,onError:c,onLogs:l,poll:d,pollingInterval:u=e.pollingInterval,strict:h}=t;return(typeof d<"u"?d:"bigint"==typeof a||"webSocket"!==e.transport.type&&"ipc"!==e.transport.type&&("fallback"!==e.transport.type||"webSocket"!==e.transport.transports[0].config.type&&"ipc"!==e.transport.transports[0].config.type))?(()=>{const t=h??!1;return Dq(qH(["watchContractEvent",n,i,s,e.uid,o,u,t,a]),{onLogs:l,onError:c},(c=>{let l;void 0!==a&&(l=a-1n);let d,h=!1;const p=Hq((async()=>{if(h)try{let a;if(d)a=await kD(e,Wq,"getFilterChanges")({filter:d});else{const s=await kD(e,qq,"getBlockNumber")({});a=l&&l<s?await kD(e,EV,"getContractEvents")({abi:r,address:n,args:i,eventName:o,fromBlock:l+1n,toBlock:s,strict:t}):[],l=s}if(0===a.length)return;if(s)c.onLogs(a);else for(const e of a)c.onLogs([e])}catch(e){d&&e instanceof Nz&&(h=!1),c.onError?.(e)}else{try{d=await kD(e,xH,"createContractEventFilter")({abi:r,address:n,args:i,eventName:o,strict:t,fromBlock:a})}catch{}h=!0}}),{emitOnBegin:!0,interval:u});return async()=>{d&&await kD(e,Kq,"uninstallFilter")({filter:d}),p()}}))})():(()=>{const t=h??!1,a=qH(["watchContractEvent",n,i,s,e.uid,o,u,t]);let d=!0,p=()=>d=!1;return Dq(a,{onLogs:l,onError:c},(t=>((async()=>{try{const s=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find((e=>"webSocket"===e.config.type||"ipc"===e.config.type));return t?t.value:e.transport}return e.transport})(),a=o?vH({abi:r,eventName:o,args:i}):[],{unsubscribe:c}=await s.subscribe({params:["logs",{address:n,topics:a}],onData(e){if(!d)return;const n=e.result;try{const{eventName:e,args:i}=mV({abi:r,data:n.data,topics:n.topics,strict:h}),s=bV(n,{args:i,eventName:e});t.onLogs([s])}catch(e){let r,i;if(e instanceof tj||e instanceof rj){if(h)return;r=e.abiItem.name,i=e.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}const s=bV(n,{args:i?[]:{},eventName:r});t.onLogs([s])}},onError(e){t.onError?.(e)}});p=c,d||p()}catch(e){c?.(e)}})(),()=>p())))})()}class Yq extends BD{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join("\n"),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class Jq extends BD{constructor({docsPath:e,metaMessages:t,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:e,metaMessages:t,name:"AccountTypeNotSupportedError"})}}function Xq({chain:e,currentChainId:t}){if(!e)throw new Aq;if(t!==e.id)throw new Eq({chain:e,currentChainId:t})}function Qq(e,{docsPath:t,...r}){const n=(()=>{const t=AF(e,r);return t instanceof EF?e:t})();return new lz(n,{docsPath:t,...r})}async function eW(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const tW=new Wj(128);async function rW(e,t){const{account:r=e.account,chain:n=e.chain,accessList:i,authorizationList:s,blobs:o,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:d,maxFeePerGas:u,maxPriorityFeePerGas:h,nonce:p,type:f,value:g,...m}=t;if(typeof r>"u")throw new Yq({docsPath:"/docs/actions/wallet/sendTransaction"});const y=r?CH(r):null;try{NF(t);const r=await(async()=>t.to?t.to:null!==t.to&&s&&s.length>0?await cF({authorization:s[0]}).catch((()=>{throw new BD("`to` is required. Could not infer from `authorizationList`.")})):void 0)();if("json-rpc"===y?.type||null===y){let t;null!==n&&(t=await kD(e,cV,"getChainId")({}),Xq({currentChainId:t,chain:n}));const w=e.chain?.formatters?.transactionRequest?.format,b=(w||IF)({...xF(m,{format:w}),accessList:i,authorizationList:s,blobs:o,chainId:t,data:a,from:y?.address,gas:c,gasPrice:l,maxFeePerBlobGas:d,maxFeePerGas:u,maxPriorityFeePerGas:h,nonce:p,to:r,type:f,value:g},"sendTransaction"),v=tW.get(e.uid),E=v?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:E,params:[b]},{retryCount:0})}catch(t){if(!1===v)throw t;const r=t;if("InvalidInputRpcError"===r.name||"InvalidParamsRpcError"===r.name||"MethodNotFoundRpcError"===r.name||"MethodNotSupportedRpcError"===r.name)return await e.request({method:"wallet_sendTransaction",params:[b]},{retryCount:0}).then((t=>(tW.set(e.uid,!0),t))).catch((t=>{const n=t;throw"MethodNotFoundRpcError"===n.name||"MethodNotSupportedRpcError"===n.name?(tW.set(e.uid,!1),r):n}));throw r}}if("local"===y?.type){const t=await kD(e,uV,"prepareTransactionRequest")({account:y,accessList:i,authorizationList:s,blobs:o,chain:n,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:d,maxFeePerGas:u,maxPriorityFeePerGas:h,nonce:p,nonceManager:y.nonceManager,parameters:[...lV,"sidecars"],type:f,value:g,...m,to:r}),w=n?.serializers?.transaction,b=await y.signTransaction(t,{serializer:w});return await kD(e,eW,"sendRawTransaction")({serializedTransaction:b})}throw new Jq("smart"===y?.type?{metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}:{docsPath:"/docs/actions/wallet/sendTransaction",type:y?.type})}catch(e){throw e instanceof Jq?e:Qq(e,{...t,account:y,chain:t.chain||void 0})}}async function nW(e,t){return nW.internal(e,rW,"sendTransaction",t)}function iW(e){const t=e.length&&Array.isArray(e[0]);return{args:t?e[0]:[],options:(t?e[1]:e[0])??{}}}function sW(e,t){let r=!1;Array.isArray(e[0])?r=!0:1===e.length?r=t.inputs.some((e=>e.indexed)):2===e.length&&(r=!0);return{args:r?e[0]:void 0,options:(r?e[1]:e[0])??{}}}!function(e){e.internal=async function(e,t,r,n){const{abi:i,account:s=e.account,address:o,args:a,dataSuffix:c,functionName:l,...d}=n;if(typeof s>"u")throw new Yq({docsPath:"/docs/contract/writeContract"});const u=s?CH(s):null,h=_H({abi:i,args:a,functionName:l});try{return await kD(e,t,r)({data:`${h}${c?c.replace("0x",""):""}`,to:o,account:u,...d})}catch(e){throw eF(e,{abi:i,address:o,args:a,docsPath:"/docs/contract/writeContract",functionName:l,sender:u?.address})}}}(nW||(nW={}));class oW extends BD{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}function aW(e,{delay:t=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise(((i,s)=>{const o=async({count:a=0}={})=>{try{const t=await e();i(t)}catch(e){if(a<r&&await n({count:a,error:e}))return(async({error:e})=>{const r="function"==typeof t?t({count:a,error:e}):t;r&&await jq(r),o({count:a+1})})({error:e});s(e)}};o()}))}const cW={"0x0":"reverted","0x1":"success"};function lW(e,t){const r={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map((e=>bV(e))):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Cj(e.transactionIndex):null,status:e.status?cW[e.status]:null,type:e.type?UF[e.type]||e.type:null};return e.blobGasPrice&&(r.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(r.blobGasUsed=BigInt(e.blobGasUsed)),r}const dW=CF("transactionReceipt",lW),uW="0x5792579257925792579257925792579257925792579257925792579257925792",hW=Tj(0,{size:32});async function pW(e,t){const{account:r=e.account,capabilities:n,chain:i=e.chain,experimental_fallback:s,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:c,version:l="2.0.0"}=t,d=r?CH(r):null,u=t.calls.map((e=>{const t=e,r=t.abi?_H({abi:t.abi,functionName:t.functionName,args:t.args}):t.data;return{data:t.dataSuffix&&r?eH([r,t.dataSuffix]):r,to:t.to,value:t.value?Tj(t.value):void 0}}));try{const t=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:u,capabilities:n,chainId:Tj(i.id),from:d?.address,id:c,version:l}]},{retryCount:0});return"string"==typeof t?{id:t}:t}catch(r){const c=r;if(s&&("MethodNotFoundRpcError"===c.name||"MethodNotSupportedRpcError"===c.name||"UnknownRpcError"===c.name||c.details.toLowerCase().includes("does not exist / is not available")||c.details.toLowerCase().includes("missing or invalid. request()")||c.details.toLowerCase().includes("did not match any variant of untagged enum")||c.details.toLowerCase().includes("account upgraded to unsupported contract")||c.details.toLowerCase().includes("eip-7702 not supported")||c.details.toLowerCase().includes("unsupported wc_ method")||c.details.toLowerCase().includes("feature toggled misconfigured")||c.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(n&&Object.values(n).some((e=>!e.optional))){const e="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Zz(new BD(e,{details:e}))}if(a&&u.length>1){const e="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Jz(new BD(e,{details:e}))}const t=[];for(const r of u){const n=rW(e,{account:d,chain:i,data:r.data,to:r.to,value:r.value?Aj(r.value):void 0});t.push(n),o>0&&await new Promise((e=>setTimeout(e,o)))}const r=await Promise.allSettled(t);if(r.every((e=>"rejected"===e.status)))throw r[0].reason;return{id:eH([...r.map((e=>"fulfilled"===e.status?e.value:hW)),Tj(i.id,{size:32}),uW])}}throw Qq(r,{...t,account:d,chain:t.chain})}}async function fW(e,t){const{atomic:r=!1,chainId:n,receipts:i,version:s="2.0.0",...o}=await async function(t){if(t.endsWith(uW.slice(2))){const r=vj(aH(t,-64,-32)),n=aH(t,0,-64).slice(2).match(/.{1,64}/g),i=await Promise.all(n.map((t=>hW.slice(2)!==t?e.request({method:"eth_getTransactionReceipt",params:[`0x${t}`]},{dedupe:!0}):void 0))),s=i.some((e=>null===e))?100:i.every((e=>"0x1"===e?.status))?200:i.every((e=>"0x0"===e?.status))?500:600;return{atomic:!1,chainId:Cj(r),receipts:i.filter(Boolean),status:s,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[t]})}(t.id),[a,c]=(()=>{const e=o.status;return e>=100&&e<200?["pending",e]:e>=200&&e<300?["success",e]:e>=300&&e<700?["failure",e]:"CONFIRMED"===e?["success",200]:"PENDING"===e?["pending",100]:[void 0,e]})();return{...o,atomic:r,chainId:n?Cj(n):void 0,receipts:i?.map((e=>({...e,blockNumber:Aj(e.blockNumber),gasUsed:Aj(e.gasUsed),status:cW[e.status]})))??[],statusCode:c,status:a,version:s}}async function gW(e,t){const{id:r,pollingInterval:n=e.pollingInterval,status:i=({statusCode:e})=>200===e||e>=300,retryCount:s=4,retryDelay:o=({count:e})=>200*(1<<e),timeout:a=6e4,throwOnFailure:c=!1}=t,l=qH(["waitForCallsStatus",e.uid,r]),{promise:d,resolve:u,reject:h}=Pq();let p;const f=Dq(l,{resolve:u,reject:h},(t=>{const a=Hq((async()=>{const n=e=>{clearTimeout(p),a(),e(),f()};try{const a=await aW((async()=>{const t=await kD(e,fW,"getCallsStatus")({id:r});if(c&&"failure"===t.status)throw new oW(t);return t}),{retryCount:s,delay:o});if(!i(a))return;n((()=>t.resolve(a)))}catch(e){n((()=>t.reject(e)))}}),{interval:n,emitOnBegin:!0});return a}));return p=a?setTimeout((()=>{f(),clearTimeout(p),h(new mW({id:r}))}),a):void 0,await d}class mW extends BD{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}let yW,wW=256;function bW(e=11){if(!yW||wW+e>512){yW="",wW=0;for(let e=0;e<256;e++)yW+=(256+256*Math.random()|0).toString(16).substring(1)}return yW.substring(wW,wW+++e)}function vW(e){const{batch:t,chain:r,ccipRead:n,key:i="base",name:s="Base Client",type:o="base"}=e,a=e.experimental_blockTag??("number"==typeof r?.experimental_preconfirmationTime?"pending":void 0),c=r?.blockTime??12e3,l=Math.min(Math.max(Math.floor(c/2),500),4e3),d=e.pollingInterval??l,u=e.cacheTime??d,h=e.account?CH(e.account):void 0,{config:p,request:f,value:g}=e.transport({chain:r,pollingInterval:d}),m={account:h,batch:t,cacheTime:u,ccipRead:n,chain:r,key:i,name:s,pollingInterval:d,request:f,transport:{...p,...g},type:o,uid:bW(),...a?{experimental_blockTag:a}:{}};return Object.assign(m,{extend:function e(t){return r=>{const n=r(t);for(const e in m)delete n[e];const i={...t,...n};return Object.assign(i,{extend:e(i)})}}(m)})}function EW(e){if(!(e instanceof BD))return!1;const t=e.walk((e=>e instanceof mz));return t instanceof mz&&("HttpError"===t.data?.errorName||"ResolverError"===t.data?.errorName||"ResolverNotContract"===t.data?.errorName||"ResolverNotFound"===t.data?.errorName||"ReverseAddressMismatch"===t.data?.errorName||"UnsupportedResolverProfile"===t.data?.errorName)}function AW(e){const{abi:t,data:r}=e,n=nH(r,0,4),i=t.find((e=>"function"===e.type&&n===gH(PD(e))));if(!i)throw new XD(n,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?jH(i.inputs,nH(r,4)):void 0}}const xW="/docs/contract/encodeErrorResult";function CW(e){const{abi:t,errorName:r,args:n}=e;let i=t[0];if(r){const e=mH({abi:t,args:n,name:r});if(!e)throw new ZD(r,{docsPath:xW});i=e}if("error"!==i.type)throw new ZD(void 0,{docsPath:xW});const s=PD(i),o=gH(s);let a="0x";if(n&&n.length>0){if(!i.inputs)throw new VD(i.name,{docsPath:xW});a=uH(i.inputs,n)}return rH([o,a])}const SW="/docs/contract/encodeFunctionResult";function IW(e){const{abi:t,functionName:r,result:n}=e;let i=t[0];if(r){const e=mH({abi:t,name:r});if(!e)throw new YD(r,{docsPath:SW});i=e}if("function"!==i.type)throw new YD(void 0,{docsPath:SW});if(!i.outputs)throw new JD(i.name,{docsPath:SW});const s=(()=>{if(0===i.outputs.length)return[];if(1===i.outputs.length)return[n];if(Array.isArray(n))return n;throw new sj(n)})();return uH(i.outputs,s)}const _W="x-batch-gateway:true";async function kW(e){const{data:t,ccipRequest:r}=e,{args:[n]}=AW({abi:oq,data:t}),i=[],s=[];return await Promise.all(n.map((async(e,t)=>{try{s[t]=e.urls.includes(_W)?await kW({data:e.data,ccipRequest:r}):await r(e),i[t]=!1}catch(e){i[t]=!0,s[t]=function(e){return"HttpRequestError"===e.name&&e.status?CW({abi:oq,errorName:"HttpError",args:[e.status,e.shortMessage]}):CW({abi:[PH],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}(e)}}))),IW({abi:oq,functionName:"query",result:[i,s]})}function PW(e){if(66!==e.length||0!==e.indexOf("[")||65!==e.indexOf("]"))return null;const t=`0x${e.slice(1,65)}`;return OD(t)?t:null}function TW(e){let t=new Uint8Array(32).fill(0);if(!e)return Pj(t);const r=e.split(".");for(let e=r.length-1;e>=0;e-=1){const n=PW(r[e]),i=n?$j(n):Hj(jj(r[e]),"bytes");t=Hj(eH([t,i]),"bytes")}return Pj(t)}function OW(e){return`[${e.slice(2)}]`}function NW(e){const t=new Uint8Array(32).fill(0);return e?PW(e)||Hj(jj(e)):Pj(t)}function RW(e){const t=e.replace(/^\.|\.$/gm,"");if(0===t.length)return new Uint8Array(1);const r=new Uint8Array(jj(t).byteLength+2);let n=0;const i=t.split(".");for(let e=0;e<i.length;e++){let t=jj(i[e]);t.byteLength>255&&(t=jj(OW(NW(i[e])))),r[n]=t.length,r.set(t,n+1),n+=t.length+1}return r.byteLength!==n+1?r.slice(0,n+1):r}class $W extends BD{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class BW extends BD{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class MW extends BD{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class UW extends BD{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}class LW extends BD{constructor({chainId:e}){super(`Invalid ENSIP-11 chainId: ${e}. Must be between 0 and 0x7fffffff, or 1.`,{name:"EnsInvalidChainIdError"})}}const DW=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,jW=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,HW=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,zW=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;function FW(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function VW({uri:e,gatewayUrls:t}){const r=HW.test(e);if(r)return{uri:e,isOnChain:!0,isEncoded:r};const n=FW(t?.ipfs,"https://ipfs.io"),i=FW(t?.arweave,"https://arweave.net"),s=e.match(DW),{protocol:o,subpath:a,target:c,subtarget:l=""}=s?.groups||{},d="ipns:/"===o||"ipns/"===a,u="ipfs:/"===o||"ipfs/"===a||jW.test(e);if(e.startsWith("http")&&!d&&!u){let r=e;return t?.arweave&&(r=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:r,isOnChain:!1,isEncoded:!1}}if((d||u)&&c)return{uri:`${n}/${d?"ipns":"ipfs"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if("ar:/"===o&&c)return{uri:`${i}/${c}${l||""}`,isOnChain:!1,isEncoded:!1};let h=e.replace(zW,"");if(h.startsWith("<svg")&&(h=`data:image/svg+xml;base64,${btoa(h)}`),h.startsWith("data:")||h.startsWith("{"))return{uri:h,isOnChain:!0,isEncoded:!1};throw new MW({uri:e})}function ZW(e){if("object"!=typeof e||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new $W({data:e});return e.image||e.image_url||e.image_data}async function qW({gatewayUrls:e,uri:t}){const{uri:r,isOnChain:n}=VW({uri:t,gatewayUrls:e});if(n||await async function(e){try{const t=await fetch(e,{method:"HEAD"});return 200===t.status&&t.headers.get("content-type")?.startsWith("image/")}catch(t){return!("object"==typeof t&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image"))&&new Promise((t=>{const r=new Image;r.onload=()=>{t(!0)},r.onerror=()=>{t(!1)},r.src=e}))}}(r))return r;throw new MW({uri:t})}async function WW(e,{gatewayUrls:t,record:r}){return/eip155:/i.test(r)?async function(e,{gatewayUrls:t,record:r}){const n=function(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[r,n,i]=t.split("/"),[s,o]=r.split(":"),[a,c]=n.split(":");if(!s||"eip155"!==s.toLowerCase())throw new BW({reason:"Only EIP-155 supported"});if(!o)throw new BW({reason:"Chain ID not found"});if(!c)throw new BW({reason:"Contract address not found"});if(!i)throw new BW({reason:"Token ID not found"});if(!a)throw new BW({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:i}}(r),i=await async function(e,{nft:t}){if("erc721"===t.namespace)return $q(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if("erc1155"===t.namespace)return $q(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new UW({namespace:t.namespace})}(e,{nft:n}),{uri:s,isOnChain:o,isEncoded:a}=VW({uri:i,gatewayUrls:t});if(o&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const e=a?atob(s.replace("data:application/json;base64,","")):s;return qW({uri:ZW(JSON.parse(e)),gatewayUrls:t})}let c=n.tokenID;return"erc1155"===n.namespace&&(c=c.replace("0x","").padStart(64,"0")),async function({gatewayUrls:e,uri:t}){try{const r=await fetch(t).then((e=>e.json()));return await qW({gatewayUrls:e,uri:ZW(r)})}catch{throw new MW({uri:t})}}({gatewayUrls:t,uri:s.replace(/(?:0x)?{id}/,c)})}(e,{gatewayUrls:t,record:r}):qW({uri:r,gatewayUrls:t})}async function KW(e,t){const{blockNumber:r,blockTag:n,key:i,name:s,gatewayUrls:o,strict:a}=t,{chain:c}=e,l=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return _q({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})(),d=c?.ensTlds;if(d&&!d.some((e=>s.endsWith(e))))return null;try{const t={address:l,abi:cq,args:[_j(RW(s)),_H({abi:dq,functionName:"text",args:[TW(s),i]}),o??[_W]],functionName:"resolveWithGateways",blockNumber:r,blockTag:n},a=await kD(e,$q,"readContract")(t);if("0x"===a[0])return null;const c=xV({abi:dq,functionName:"text",data:a[0]});return""===c?null:c}catch(e){if(a)throw e;if(EW(e))return null;throw e}}async function GW(e,t){const{account:r=e.account,blockNumber:n,blockTag:i="latest",blobs:s,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:d,maxPriorityFeePerGas:u,to:h,value:p,...f}=t,g=r?CH(r):void 0;try{NF(t);const r=("bigint"==typeof n?Tj(n):void 0)||i,m=e.chain?.formatters?.transactionRequest?.format,y=(m||IF)({...xF(f,{format:m}),from:g?.address,blobs:s,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:d,maxPriorityFeePerGas:u,to:h,value:p},"createAccessList"),w=await e.request({method:"eth_createAccessList",params:[y,r]});return{accessList:w.accessList,gasUsed:BigInt(w.gasUsed)}}catch(r){throw kq(r,{...t,account:g,chain:e.chain})}}async function YW(e,{address:t,args:r,event:n,events:i,fromBlock:s,strict:o,toBlock:a}={}){const c=i??(n?[n]:void 0),l=AH(e,{method:"eth_newFilter"});let d=[];c&&(d=[c.flatMap((e=>vH({abi:[e],eventName:e.name,args:r})))],n&&(d=d[0]));const u=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:"bigint"==typeof s?Tj(s):s,toBlock:"bigint"==typeof a?Tj(a):a,...d.length?{topics:d}:{}}]});return{abi:c,args:r,eventName:n?n.name:void 0,fromBlock:s,id:u,request:l(u),strict:!!o,toBlock:a,type:"event"}}async function JW(e){const t=AH(e,{method:"eth_newPendingTransactionFilter"}),r=await e.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:t(r),type:"transaction"}}async function XW(e,{address:t,blockNumber:r,blockTag:n="latest"}){const i=void 0!==r?Tj(r):void 0,s=await e.request({method:"eth_getCode",params:[t,i||n]},{dedupe:!!i});if("0x"!==s)return s}class QW extends BD{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}const eK=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];async function tK(e,{blockCount:t,blockNumber:r,blockTag:n="latest",rewardPercentiles:i}){const s="bigint"==typeof r?Tj(r):void 0;return function(e){return{baseFeePerGas:e.baseFeePerGas.map((e=>BigInt(e))),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map((e=>e.map((e=>BigInt(e)))))}}(await e.request({method:"eth_feeHistory",params:[Tj(t),s||n,i]},{dedupe:!!s}))}function rK(e,t,r=!1){if("address"===e){const e=t;if(!Qj(e))throw new qj({address:e});return hj(e.toLowerCase(),{size:r?32:null})}if("string"===e)return Nj(t);if("bytes"===e)return t;if("bool"===e)return hj(kj(t),{size:r?32:1});const n=e.match(dH);if(n){const[e,i,s="256"]=n,o=Number.parseInt(s,10)/8;return Tj(t,{size:r?32:o,signed:"int"===i})}const i=e.match(lH);if(i){const[e,n]=i;if(Number.parseInt(n,10)!==(t.length-2)/2)throw new ej({expectedSize:Number.parseInt(n,10),givenSize:(t.length-2)/2});return hj(t,{dir:"right",size:r?32:null})}const s=e.match(cH);if(s&&Array.isArray(t)){const[e,r]=s,n=[];for(let e=0;e<t.length;e++)n.push(rK(r,t[e],!0));return 0===n.length?"0x":rH(n)}throw new aj(e)}function nK(e){return!(!e||"object"!=typeof e||!("BYTES_PER_ELEMENT"in e))&&(1===e.BYTES_PER_ELEMENT&&"Uint8Array"===e.constructor.name)}function iK(e){const t=$j(Yj(e.from));let r=$j(e.nonce);return 0===r[0]&&(r=new Uint8Array([])),Yj(`0x${Hj(iF([t,r],"bytes")).slice(26)}`)}function sK(e){const t=$j(Yj(e.from)),r=hj(nK(e.salt)?e.salt:$j(e.salt),{size:32}),n="bytecodeHash"in e?nK(e.bytecodeHash)?e.bytecodeHash:$j(e.bytecodeHash):Hj(e.bytecode,"bytes");return Yj(nH(Hj(eH([$j("0xff"),t,r,n])),12))}function oK(e){const{authorizationList:t}=e;if(t)for(const e of t){const{chainId:t}=e,r=e.address;if(!Qj(r))throw new qj({address:r});if(t<0)throw new Cq({chainId:t})}cK(e)}function aK(e){const{blobVersionedHashes:t}=e;if(t){if(0===t.length)throw new rV;for(const e of t){const t=ND(e),r=Cj(nH(e,0,1));if(32!==t)throw new nV({hash:e,size:t});if(1!==r)throw new iV({hash:e,version:r})}}cK(e)}function cK(e){const{chainId:t,maxPriorityFeePerGas:r,maxFeePerGas:n,to:i}=e;if(t<=0)throw new Cq({chainId:t});if(i&&!Qj(i))throw new qj({address:i});if(n&&n>OF)throw new uF({maxFeePerGas:n});if(r&&n&&r>n)throw new vF({maxFeePerGas:n,maxPriorityFeePerGas:r})}function lK(e){const{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:s}=e;if(t<=0)throw new Cq({chainId:t});if(s&&!Qj(s))throw new qj({address:s});if(r||i)throw new BD("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(n&&n>OF)throw new uF({maxFeePerGas:n})}function dK(e){const{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:s}=e;if(s&&!Qj(s))throw new qj({address:s});if(typeof t<"u"&&t<=0)throw new Cq({chainId:t});if(r||i)throw new BD("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(n&&n>OF)throw new uF({maxFeePerGas:n})}function uK(e){if(!e||0===e.length)return[];const t=[];for(let r=0;r<e.length;r++){const{address:n,storageKeys:i}=e[r];for(let e=0;e<i.length;e++)if(i[e].length-2!=64)throw new cz({storageKey:i[e]});if(!Qj(n,{strict:!1}))throw new qj({address:n});t.push([n,i])}return t}function hK(e,t){const r=aV(e);return"eip1559"===r?function(e,t){const{chainId:r,gas:n,nonce:i,to:s,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:l,data:d}=e;cK(e);const u=uK(l),h=[Tj(r),i?Tj(i):"0x",c?Tj(c):"0x",a?Tj(a):"0x",n?Tj(n):"0x",s??"0x",o?Tj(o):"0x",d??"0x",u,...pK(e,t)];return rH(["0x02",iF(h)])}(e,t):"eip2930"===r?function(e,t){const{chainId:r,gas:n,data:i,nonce:s,to:o,value:a,accessList:c,gasPrice:l}=e;lK(e);const d=uK(c),u=[Tj(r),s?Tj(s):"0x",l?Tj(l):"0x",n?Tj(n):"0x",o??"0x",a?Tj(a):"0x",i??"0x",d,...pK(e,t)];return rH(["0x01",iF(u)])}(e,t):"eip4844"===r?function(e,t){const{chainId:r,gas:n,nonce:i,to:s,value:o,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:d,data:u}=e;aK(e);let h=e.blobVersionedHashes,p=e.sidecars;if(e.blobs&&(typeof h>"u"||typeof p>"u")){const t="string"==typeof e.blobs[0]?e.blobs:e.blobs.map((e=>Pj(e))),r=e.kzg,n=WF({blobs:t,kzg:r});if(typeof h>"u"&&(h=JF({commitments:n})),typeof p>"u"){p=oV({blobs:t,commitments:n,proofs:KF({blobs:t,commitments:n,kzg:r})})}}const f=uK(d),g=[Tj(r),i?Tj(i):"0x",l?Tj(l):"0x",c?Tj(c):"0x",n?Tj(n):"0x",s??"0x",o?Tj(o):"0x",u??"0x",f,a?Tj(a):"0x",h??[],...pK(e,t)],m=[],y=[],w=[];if(p)for(let e=0;e<p.length;e++){const{blob:t,commitment:r,proof:n}=p[e];m.push(t),y.push(r),w.push(n)}return rH(["0x03",iF(p?[g,m,y,w]:g)])}(e,t):"eip7702"===r?function(e,t){const{authorizationList:r,chainId:n,gas:i,nonce:s,to:o,value:a,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:d,data:u}=e;oK(e);const h=uK(d),p=function(e){if(!e||0===e.length)return[];const t=[];for(const r of e){const{chainId:e,nonce:n,...i}=r,s=r.address;t.push([e?_j(e):"0x",s,n?_j(n):"0x",...pK({},i)])}return t}(r);return rH(["0x04",iF([Tj(n),s?Tj(s):"0x",l?Tj(l):"0x",c?Tj(c):"0x",i?Tj(i):"0x",o??"0x",a?Tj(a):"0x",u??"0x",h,p,...pK(e,t)])])}(e,t):function(e,t){const{chainId:r=0,gas:n,data:i,nonce:s,to:o,value:a,gasPrice:c}=e;dK(e);let l=[s?Tj(s):"0x",c?Tj(c):"0x",n?Tj(n):"0x",o??"0x",a?Tj(a):"0x",i??"0x"];if(t){const e=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(35n===t.v?0n:1n);if(r>0)return BigInt(2*r)+BigInt(35n+t.v-27n);const e=27n+(27n===t.v?0n:1n);if(t.v!==e)throw new iz({v:t.v});return e})(),n=vj(t.r),i=vj(t.s);l=[...l,Tj(e),"0x00"===n?"0x":n,"0x00"===i?"0x":i]}else r>0&&(l=[...l,Tj(r),"0x","0x"]);return iF(l)}(e,t)}function pK(e,t){const r=t??e,{v:n,yParity:i}=r;if(typeof r.r>"u")return[];if(typeof r.s>"u")return[];if(typeof n>"u"&&typeof i>"u")return[];const s=vj(r.r),o=vj(r.s);return["number"==typeof i?i?Tj(1):"0x":0n===n?"0x":1n===n?Tj(1):27n===n?"0x":Tj(1),"0x00"===s?"0x":s,"0x00"===o?"0x":o]}const fK=new Wj(8192);function gK(e,t={}){return async(r,n={})=>{const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:c}={...t,...n},{method:l}=r;if(s?.exclude?.includes(l))throw new Mz(new Error("method not supported"),{method:l});if(s?.include&&!s.include.includes(l))throw new Mz(new Error("method not supported"),{method:l});return function(e,{enabled:t=!0,id:r}){if(!t||!r)return e();if(fK.get(r))return fK.get(r);const n=e().finally((()=>fK.delete(r)));return fK.set(r,n),n}((()=>aW((async()=>{try{return await e(r)}catch(e){const t=e;switch(t.code){case _z.code:throw new _z(t);case kz.code:throw new kz(t);case Pz.code:throw new Pz(t,{method:r.method});case Tz.code:throw new Tz(t);case Oz.code:throw new Oz(t);case Nz.code:throw new Nz(t);case Rz.code:throw new Rz(t);case $z.code:throw new $z(t);case Bz.code:throw new Bz(t);case Mz.code:throw new Mz(t,{method:r.method});case Uz.code:throw new Uz(t);case Lz.code:throw new Lz(t);case Dz.code:throw new Dz(t);case jz.code:throw new jz(t);case Hz.code:throw new Hz(t);case zz.code:throw new zz(t);case Fz.code:throw new Fz(t);case Vz.code:throw new Vz(t);case Zz.code:throw new Zz(t);case qz.code:throw new qz(t);case Wz.code:throw new Wz(t);case Kz.code:throw new Kz(t);case Gz.code:throw new Gz(t);case Yz.code:throw new Yz(t);case Jz.code:throw new Jz(t);case 5e3:throw new Dz(t);default:throw e instanceof BD?e:new Xz(t)}}}),{delay:({count:e,error:t})=>{if(t&&t instanceof vz){const e=t?.headers?.get("Retry-After");if(e?.match(/\d/))return 1e3*Number.parseInt(e,10)}return(1<<e)*o},retryCount:a,shouldRetry:({error:e})=>function(e){return"code"in e&&"number"==typeof e.code?-1===e.code||e.code===Uz.code||e.code===Oz.code:!(e instanceof vz&&e.status)||(403===e.status||408===e.status||413===e.status||429===e.status||500===e.status||502===e.status||503===e.status||504===e.status)}(e)})),{enabled:i,id:i?Nj(`${c}.${qH(r)}`):void 0})}}class mK extends BD{constructor({callbackSelector:e,cause:t,data:r,extraData:n,sender:i,urls:s}){super(t.shortMessage||"An error occurred while fetching for an offchain result.",{cause:t,metaMessages:[...t.metaMessages||[],t.metaMessages?.length?"":[],"Offchain Gateway Call:",s&&["  Gateway URL(s):",...s.map((e=>`    ${e}`))],`  Sender: ${i}`,`  Data: ${r}`,`  Callback selector: ${e}`,`  Extra data: ${n}`].flat(),name:"OffchainLookupError"})}}class yK extends BD{constructor({result:e,url:t}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${t}`,`Response: ${qH(e)}`],name:"OffchainLookupResponseMalformedError"})}}class wK extends BD{constructor({sender:e,to:t}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${t}`,`OffchainLookup sender address: ${e}`],name:"OffchainLookupSenderMismatchError"})}}const bK="0x556f1830",vK={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function EK(e,{blockNumber:t,blockTag:r,data:n,to:i}){const{args:s}=ZH({data:n,abi:[vK]}),[o,a,c,l,d]=s,{ccipRead:u}=e,h=u&&"function"==typeof u?.request?u.request:AK;try{if(!fV(i,o))throw new wK({sender:o,to:i});const n=a.includes(_W)?await kW({data:c,ccipRequest:h}):await h({data:c,sender:o,urls:a}),{data:s}=await Nq(e,{blockNumber:t,blockTag:r,data:eH([l,uH([{type:"bytes"},{type:"bytes"}],[n,d])]),to:i});return s}catch(e){throw new mK({callbackSelector:l,cause:e,data:n,extraData:d,sender:o,urls:a})}}async function AK({data:e,sender:t,urls:r}){let n=new Error("An unknown error occurred.");for(let i=0;i<r.length;i++){const s=r[i],o=s.includes("{data}")?"GET":"POST",a="POST"===o?{data:e,sender:t}:void 0,c="POST"===o?{"Content-Type":"application/json"}:{};try{const r=await fetch(s.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(a),headers:c,method:o});let i;if(i=r.headers.get("Content-Type")?.startsWith("application/json")?(await r.json()).data:await r.text(),!r.ok){n=new vz({body:a,details:i?.error?qH(i.error):r.statusText,headers:r.headers,status:r.status,url:s});continue}if(!OD(i)){n=new yK({result:i,url:s});continue}return i}catch(e){n=new vz({body:a,details:e.message,url:s})}}throw n}var xK=Object.freeze({__proto__:null,offchainLookupSignature:bK,offchainLookupAbiItem:vK,offchainLookup:EK,ccipRequest:AK});function CK(e,t="hex"){return SK(BH((()=>{if("string"==typeof e){if(e.length>3&&e.length%2!=0)throw new wj(e);return Lj(e)}return e})(),{recursiveReadLimit:Number.POSITIVE_INFINITY}),t)}function SK(e,t="hex"){if(0===e.bytes.length)return"hex"===t?Pj(e.bytes):e.bytes;const r=e.readByte();if(r<128&&e.decrementPosition(1),r<192){const n=IK(e,r,128),i=e.readBytes(n);return"hex"===t?Pj(i):i}return function(e,t,r){const n=e.position,i=[];for(;e.position-n<t;)i.push(SK(e,r));return i}(e,IK(e,r,192),t)}function IK(e,t,r){if(128===r&&t<128)return 1;if(t<=r+55)return t-r;if(t===r+55+1)return e.readUint8();if(t===r+55+2)return e.readUint16();if(t===r+55+3)return e.readUint24();if(t===r+55+4)return e.readUint32();throw new BD("Invalid RLP prefix")}function _K(e){return OD(e)&&32===ND(e)}function kK(e){const{source:t}=e,r=new Map,n=new Wj(8192),i=new Map,s=({address:e,chainId:t})=>`${e}.${t}`;return{async consume({address:e,chainId:r,client:i}){const o=s({address:e,chainId:r}),a=this.get({address:e,chainId:r,client:i});this.increment({address:e,chainId:r});const c=await a;return await t.set({address:e,chainId:r},c),n.set(o,c),c},async increment({address:e,chainId:t}){const n=s({address:e,chainId:t}),i=r.get(n)??0;r.set(n,i+1)},async get({address:e,chainId:o,client:a}){const c=s({address:e,chainId:o});let l=i.get(c);return l||(l=(async()=>{try{const r=await t.get({address:e,chainId:o,client:a}),i=n.get(c)??0;return i>0&&r<=i?i+1:(n.delete(c),r)}finally{this.reset({address:e,chainId:o})}})(),i.set(c,l)),(r.get(c)??0)+await l},reset({address:e,chainId:t}){const n=s({address:e,chainId:t});r.delete(n),i.delete(n)}}}const PK=kK({source:{async get(e){const{address:t,client:r}=e;return qF(r,{address:t,blockTag:"pending"})},set(){}}});function TK(e,{errorInstance:t=new Error("timed out"),timeout:r,signal:n}){return new Promise(((i,s)=>{(async()=>{let o;try{const a=new AbortController;r>0&&(o=setTimeout((()=>{n?a.abort():s(t)}),r)),i(await e({signal:a?.signal||null}))}catch(e){"AbortError"===e?.name&&s(t),s(e)}finally{clearTimeout(o)}})()}))}const OK={current:0,take(){return this.current++},reset(){this.current=0}};const NK=new Map;async function RK(e,t={}){const{keepAlive:r,reconnect:n}=t;return async function(e){const{getSocket:t,keepAlive:r=!0,key:n="socket",reconnect:i=!0,url:s}=e,{interval:o=3e4}="object"==typeof r?r:{},{attempts:a=5,delay:c=2e3}="object"==typeof i?i:{},l=JSON.stringify({keepAlive:r,key:n,url:s,reconnect:i});let d=NK.get(l);if(d)return d;let u=0;const{schedule:h}=Oq({id:l,fn:async()=>{const e=new Map,n=new Map;let h,p,f,g=!1;function m(){if(i&&u<a){if(g)return;g=!0,u++,p?.close(),setTimeout((async()=>{await y().catch(console.error),g=!1}),c)}else e.clear(),n.clear()}async function y(){const a=await t({onClose(){for(const t of e.values())t.onError?.(new xz({url:s}));for(const e of n.values())e.onError?.(new xz({url:s}));m()},onError(t){h=t;for(const t of e.values())t.onError?.(h);for(const e of n.values())e.onError?.(h);m()},onOpen(){h=void 0,u=0},onResponse(t){const r="eth_subscription"===t.method,i=r?t.params.subscription:t.id,s=r?n:e,o=s.get(i);o&&o.onResponse(t),r||s.delete(i)}});if(p=a,r&&(f&&clearInterval(f),f=setInterval((()=>p.ping?.()),o)),i&&n.size>0){const e=n.entries();for(const[t,{onResponse:r,body:i,onError:s}]of e)i&&(n.delete(t),d?.request({body:i,onResponse:r,onError:s}))}return a}return await y(),h=void 0,d={close(){f&&clearInterval(f),p.close(),NK.delete(l)},get socket(){return p},request({body:t,onError:r,onResponse:i}){h&&r&&r(h);const s=t.id??OK.take(),o=e=>{"number"==typeof e.id&&s!==e.id||("eth_subscribe"===t.method&&"string"==typeof e.result&&n.set(e.result,{onResponse:o,onError:r,body:t}),"eth_unsubscribe"===t.method&&n.delete(t.params?.[0]),i(e))};e.set(s,{onResponse:o,onError:r});try{p.request({body:{jsonrpc:"2.0",id:s,...t}})}catch(e){r?.(e)}},requestAsync({body:e,timeout:t=1e4}){return TK((()=>new Promise(((t,r)=>this.request({body:e,onError:r,onResponse:t})))),{errorInstance:new Cz({body:e,url:s}),timeout:t})},requests:e,subscriptions:n,url:s},NK.set(l,d),[d]}}),[p,[f]]=await h();return f}({async getSocket({onClose:t,onError:r,onOpen:n,onResponse:i}){const s=await Promise.resolve().then((function(){return k8})).then((e=>e.WebSocket)),o=new s(e);function a(){o.removeEventListener("close",a),o.removeEventListener("message",c),o.removeEventListener("error",r),o.removeEventListener("open",n),t()}function c({data:e}){if("string"!=typeof e||0!==e.trim().length)try{const t=JSON.parse(e);i(t)}catch(e){r(e)}}o.addEventListener("close",a),o.addEventListener("message",c),o.addEventListener("error",r),o.addEventListener("open",n),o.readyState===s.CONNECTING&&await new Promise(((e,t)=>{o&&(o.onopen=e,o.onerror=t)}));const{close:l}=o;return Object.assign(o,{close(){l.bind(o)(),a()},ping(){try{if(o.readyState===o.CLOSED||o.readyState===o.CLOSING)throw new Ez({url:o.url,cause:new xz({url:o.url})});const e={jsonrpc:"2.0",id:null,method:"net_version",params:[]};o.send(JSON.stringify(e))}catch(e){r(e)}},request({body:e}){if(o.readyState===o.CLOSED||o.readyState===o.CLOSING)throw new Ez({body:e,url:o.url,cause:new xz({url:o.url})});return o.send(JSON.stringify(e))}})},keepAlive:r,reconnect:n,url:e})}const $K="Ethereum Signed Message:\n";function BK(e){const t="string"==typeof e?Nj(e):"string"==typeof e.raw?e.raw:Pj(e.raw);return eH([Nj(`${$K}${ND(t)}`),t])}function MK(e,t){return Hj(BK(e),t)}class UK extends BD{constructor({domain:e}){super(`Invalid domain "${qH(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class LK extends BD{constructor({primaryType:e,types:t}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(t))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class DK extends BD{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function jK(e){const{domain:t,message:r,primaryType:n,types:i}=e,s=(e,t)=>{const r={...t};for(const t of e){const{name:e,type:n}=t;"address"===n&&(r[e]=r[e].toLowerCase())}return r},o=i.EIP712Domain&&t?s(i.EIP712Domain,t):{},a=(()=>{if("EIP712Domain"!==n)return s(i[n],r)})();return qH({domain:o,message:a,primaryType:n,types:i})}function HK(e){const{domain:t,message:r,primaryType:n,types:i}=e,s=(e,t)=>{for(const r of e){const{name:e,type:n}=r,o=t[e],a=n.match(dH);if(a&&("number"==typeof o||"bigint"==typeof o)){const[e,t,r]=a;Tj(o,{signed:"int"===t,size:Number.parseInt(r,10)/8})}if("address"===n&&"string"==typeof o&&!Qj(o))throw new qj({address:o});const c=n.match(lH);if(c){const[e,t]=c;if(t&&ND(o)!==Number.parseInt(t,10))throw new ej({expectedSize:Number.parseInt(t,10),givenSize:ND(o)})}const l=i[n];l&&(FK(n),s(l,o))}};if(i.EIP712Domain&&t){if("object"!=typeof t)throw new UK({domain:t});s(i.EIP712Domain,t)}if("EIP712Domain"!==n){if(!i[n])throw new LK({primaryType:n,types:i});s(i[n],r)}}function zK({domain:e}){return["string"==typeof e?.name&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},("number"==typeof e?.chainId||"bigint"==typeof e?.chainId)&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function FK(e){if("address"===e||"bool"===e||"string"===e||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new DK({type:e})}function VK(e){const{domain:t={},message:r,primaryType:n}=e,i={EIP712Domain:zK({domain:t}),...e.types};HK({domain:t,message:r,primaryType:n,types:i});const s=["0x1901"];return t&&s.push(ZK({domain:t,types:i})),"EIP712Domain"!==n&&s.push(qK({data:r,primaryType:n,types:i})),Hj(eH(s))}function ZK({domain:e,types:t}){return qK({data:e,primaryType:"EIP712Domain",types:t})}function qK({data:e,primaryType:t,types:r}){return Hj(WK({data:e,primaryType:t,types:r}))}function WK({data:e,primaryType:t,types:r}){const n=[{type:"bytes32"}],i=[KK({primaryType:t,types:r})];for(const s of r[t]){const[t,o]=YK({types:r,name:s.name,type:s.type,value:e[s.name]});n.push(t),i.push(o)}return uH(n,i)}function KK({primaryType:e,types:t}){const r=_j(function({primaryType:e,types:t}){let r="";const n=GK({primaryType:e,types:t});n.delete(e);const i=[e,...Array.from(n).sort()];for(const e of i)r+=`${e}(${t[e].map((({name:e,type:t})=>`${t} ${e}`)).join(",")})`;return r}({primaryType:e,types:t}));return Hj(r)}function GK({primaryType:e,types:t},r=new Set){const n=e.match(/^\w*/u)?.[0];if(r.has(n)||void 0===t[n])return r;r.add(n);for(const e of t[n])GK({primaryType:e.type,types:t},r);return r}function YK({types:e,name:t,type:r,value:n}){if(void 0!==e[r])return[{type:"bytes32"},Hj(WK({data:n,primaryType:r,types:e}))];if("bytes"===r)return[{type:"bytes32"},Hj(n="0x"+((n.length%2?"0":"")+n.slice(2)))];if("string"===r)return[{type:"bytes32"},Hj(_j(n))];if(r.lastIndexOf("]")===r.length-1){const i=r.slice(0,r.lastIndexOf("[")),s=n.map((r=>YK({name:t,type:i,types:e,value:r})));return[{type:"bytes32"},Hj(uH(s.map((([e])=>e)),s.map((([,e])=>e))))]}return[{type:r},n]}const JK="0x6492649264926492649264926492649264926492649264926492649264926492";function XK(e){return aH(e,-32)===JK}class QK extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const e=this.keys().next().value;e&&this.delete(e)}return this}}const eG=new QK(8192);function tG(e,t={}){const{as:r=("string"==typeof e?"Hex":"Bytes")}=t,n=Zt(bZ(e));return"Bytes"===r?n:jZ(n)}function rG(e,t={}){const{compressed:r}=t,{prefix:n,x:i,y:s}=e;if(!1===r||"bigint"==typeof i&&"bigint"==typeof s){if(4!==n)throw new oG({prefix:n,cause:new cG})}else{if(!(!0===r||"bigint"==typeof i&&typeof s>"u"))throw new sG({publicKey:e});if(3!==n&&2!==n)throw new oG({prefix:n,cause:new aG})}}function nG(e){const t=(()=>{if(YZ(e))return iG(e);if(PZ(e))return function(e){return iG(jZ(e))}(e);const{prefix:t,x:r,y:n}=e;return"bigint"==typeof r&&"bigint"==typeof n?{prefix:t??4,x:r,y:n}:{prefix:t,x:r}})();return rG(t),t}function iG(e){if(132!==e.length&&130!==e.length&&68!==e.length)throw new lG({publicKey:e});if(130===e.length){return{prefix:4,x:BigInt(ZZ(e,0,32)),y:BigInt(ZZ(e,32,64))}}if(132===e.length){return{prefix:Number(ZZ(e,0,1)),x:BigInt(ZZ(e,1,33)),y:BigInt(ZZ(e,33,65))}}return{prefix:Number(ZZ(e,0,1)),x:BigInt(ZZ(e,1,33))}}class sG extends nZ{constructor({publicKey:e}){super(`Value \`${mZ(e)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class oG extends nZ{constructor({prefix:e,cause:t}){super(`Prefix "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class aG extends nZ{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class cG extends nZ{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}class lG extends nZ{constructor({publicKey:e}){super(`Value \`${e}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${qZ(LZ(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}const dG=/^0x[a-fA-F0-9]{40}$/;function uG(e,t={}){const{strict:r=!0}=t;if(!dG.test(e))throw new gG({address:e,cause:new mG});if(r){if(e.toLowerCase()===e)return;if(hG(e)!==e)throw new gG({address:e,cause:new yG})}}function hG(e){if(eG.has(e))return eG.get(e);uG(e,{strict:!1});const t=e.substring(2).toLowerCase(),r=tG(EZ(t),{as:"Bytes"}),n=t.split("");for(let e=0;e<40;e+=2)r[e>>1]>>4>=8&&n[e]&&(n[e]=n[e].toUpperCase()),(15&r[e>>1])>=8&&n[e+1]&&(n[e+1]=n[e+1].toUpperCase());const i=`0x${n.join("")}`;return eG.set(e,i),i}function pG(e,t={}){const r=tG(`0x${function(e,t={}){rG(e);const{prefix:r,x:n,y:i}=e,{includePrefix:s=!0}=t;return UZ(s?HZ(r,{size:1}):"0x",HZ(n,{size:32}),"bigint"==typeof i?HZ(i,{size:32}):"0x")}(e).slice(4)}`).substring(26);return function(e,t={}){const{checksum:r=!1}=t;return uG(e),r?hG(e):e}(`0x${r}`,t)}function fG(e,t={}){const{strict:r=!0}=t??{};try{return uG(e,{strict:r}),!0}catch{return!1}}class gG extends nZ{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class mG extends nZ{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class yG extends nZ{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const wG=/^(.*)\[([0-9]*)\]$/,bG=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,vG=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,EG=2n**256n-1n;function AG(e,t,r){const{checksumAddress:n,staticPosition:i}=r,s=_G(t.type);if(s){const[r,o]=s;return function(e,t,r){const{checksumAddress:n,length:i,staticPosition:s}=r;if(!i){const r=s+IZ(e.readBytes(CG)),i=r+xG;e.setPosition(r);const o=IZ(e.readBytes(xG)),a=kG(t);let c=0;const l=[];for(let r=0;r<o;++r){e.setPosition(i+(a?32*r:c));const[s,o]=AG(e,t,{checksumAddress:n,staticPosition:i});c+=o,l.push(s)}return e.setPosition(s+32),[l,32]}if(kG(t)){const r=s+IZ(e.readBytes(CG)),o=[];for(let s=0;s<i;++s){e.setPosition(r+32*s);const[i]=AG(e,t,{checksumAddress:n,staticPosition:r});o.push(i)}return e.setPosition(s+32),[o,32]}let o=0;const a=[];for(let r=0;r<i;++r){const[r,i]=AG(e,t,{checksumAddress:n,staticPosition:s+o});o+=i,a.push(r)}return[a,o]}(e,{...t,type:o},{checksumAddress:n,length:r,staticPosition:i})}if("tuple"===t.type)return function(e,t,r){const{checksumAddress:n,staticPosition:i}=r,s=0===t.components.length||t.components.some((({name:e})=>!e)),o=s?[]:{};let a=0;if(kG(t)){const r=i+IZ(e.readBytes(CG));for(let i=0;i<t.components.length;++i){const c=t.components[i];e.setPosition(r+a);const[l,d]=AG(e,c,{checksumAddress:n,staticPosition:r});a+=d,o[s?i:c?.name]=l}return e.setPosition(i+32),[o,32]}for(let r=0;r<t.components.length;++r){const c=t.components[r],[l,d]=AG(e,c,{checksumAddress:n,staticPosition:i});o[s?r:c?.name]=l,a+=d}return[o,a]}(e,t,{checksumAddress:n,staticPosition:i});if("address"===t.type)return function(e,t={}){const{checksum:r=!1}=t,n=e.readBytes(32);return[(e=>r?hG(e):e)(jZ(xZ(n,-20))),32]}(e,{checksum:n});if("bool"===t.type)return function(e){return[SZ(e.readBytes(32),{size:32}),32]}(e);if(t.type.startsWith("bytes"))return function(e,t,{staticPosition:r}){const[n,i]=t.type.split("bytes");if(!i){const t=IZ(e.readBytes(32));e.setPosition(r+t);const n=IZ(e.readBytes(32));if(0===n)return e.setPosition(r+32),["0x",32];const i=e.readBytes(n);return e.setPosition(r+32),[jZ(i),32]}return[jZ(e.readBytes(Number.parseInt(i,10),32)),32]}(e,t,{staticPosition:i});if(t.type.startsWith("uint")||t.type.startsWith("int"))return function(e,t){const r=t.type.startsWith("int"),n=Number.parseInt(t.type.split("int")[1]||"256",10),i=e.readBytes(32);return[n>48?CZ(i,{signed:r}):IZ(i,{signed:r}),32]}(e,t);if("string"===t.type)return function(e,{staticPosition:t}){const r=IZ(e.readBytes(32)),n=t+r;e.setPosition(n);const i=IZ(e.readBytes(32));if(0===i)return e.setPosition(t+32),["",32];const s=e.readBytes(i,32),o=_Z(kZ(s));return e.setPosition(t+32),[o,32]}(e,{staticPosition:i});throw new FG(t.type)}const xG=32,CG=32;function SG({checksumAddress:e=!1,parameter:t,value:r}){const n=t,i=_G(n.type);if(i){const[t,s]=i;return function(e,t){const{checksumAddress:r,length:n,parameter:i}=t,s=null===n;if(!Array.isArray(e))throw new zG(e);if(!s&&e.length!==n)throw new DG({expectedLength:n,givenLength:e.length,type:`${i.type}[${n}]`});let o=!1;const a=[];for(let t=0;t<e.length;t++){const n=SG({checksumAddress:r,parameter:i,value:e[t]});n.dynamic&&(o=!0),a.push(n)}if(s||o){const e=IG(a);if(s){const t=HZ(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?UZ(t,e):t}}if(o)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:UZ(...a.map((({encoded:e})=>e)))}}(r,{checksumAddress:e,length:t,parameter:{...n,type:s}})}if("tuple"===n.type)return function(e,t){const{checksumAddress:r,parameter:n}=t;let i=!1;const s=[];for(let t=0;t<n.components.length;t++){const o=n.components[t],a=SG({checksumAddress:r,parameter:o,value:e[Array.isArray(e)?t:o.name]});s.push(a),a.dynamic&&(i=!0)}return{dynamic:i,encoded:i?IG(s):UZ(...s.map((({encoded:e})=>e)))}}(r,{checksumAddress:e,parameter:n});if("address"===n.type)return function(e,t){const{checksum:r=!1}=t;return uG(e,{strict:r}),{dynamic:!1,encoded:FZ(e.toLowerCase())}}(r,{checksum:e});if("bool"===n.type)return function(e){if("boolean"!=typeof e)throw new nZ(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:FZ(DZ(e))}}(r);if(n.type.startsWith("uint")||n.type.startsWith("int")){const e=n.type.startsWith("int"),[,,t="256"]=vG.exec(n.type)??[];return function(e,{signed:t,size:r}){if("number"==typeof r){const n=2n**(BigInt(r)-(t?1n:0n))-1n,i=t?-n-1n:0n;if(e>n||e<i)throw new JZ({max:n.toString(),min:i.toString(),signed:t,size:r/8,value:e.toString()})}return{dynamic:!1,encoded:HZ(e,{size:32,signed:t})}}(r,{signed:e,size:Number(t)})}if(n.type.startsWith("bytes"))return function(e,{type:t}){const[,r]=t.split("bytes"),n=qZ(e);if(!r){let t=e;return n%32!=0&&(t=VZ(t,32*Math.ceil((e.length-2)/2/32))),{dynamic:!0,encoded:UZ(FZ(HZ(n,{size:32})),t)}}if(n!==Number.parseInt(r,10))throw new jG({expectedSize:Number.parseInt(r,10),value:e});return{dynamic:!1,encoded:VZ(e)}}(r,{type:n.type});if("string"===n.type)return function(e){const t=zZ(e),r=Math.ceil(qZ(t)/32),n=[];for(let e=0;e<r;e++)n.push(VZ(ZZ(t,32*e,32*(e+1))));return{dynamic:!0,encoded:UZ(VZ(HZ(qZ(t),{size:32})),...n)}}(r);throw new FG(n.type)}function IG(e){let t=0;for(let r=0;r<e.length;r++){const{dynamic:n,encoded:i}=e[r];t+=n?32:qZ(i)}const r=[],n=[];let i=0;for(let s=0;s<e.length;s++){const{dynamic:o,encoded:a}=e[s];o?(r.push(HZ(t+i,{size:32})),n.push(a),i+=qZ(a)):r.push(a)}return UZ(...r,...n)}function _G(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function kG(e){const{type:t}=e;if("string"===t||"bytes"===t||t.endsWith("[]"))return!0;if("tuple"===t)return e.components?.some(kG);const r=_G(e.type);return!(!r||!kG({...e,type:r[1]}))}const PG={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new RG({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new NG({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new OG({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new OG({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,255&e),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function TG(e,{recursiveReadLimit:t=8192}={}){const r=Object.create(PG);return r.bytes=e,r.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}class OG extends nZ{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class NG extends nZ{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class RG extends nZ{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function $G(e,t,r){const{checksumAddress:n=!1}=r??{};if(e.length!==t.length)throw new HG({expectedLength:e.length,givenLength:t.length});const i=function({checksumAddress:e,parameters:t,values:r}){const n=[];for(let i=0;i<t.length;i++)n.push(SG({checksumAddress:e,parameter:t[i],value:r[i]}));return n}({checksumAddress:n,parameters:e,values:t}),s=IG(i);return 0===s.length?"0x":s}function BG(e,t){if(e.length!==t.length)throw new HG({expectedLength:e.length,givenLength:t.length});const r=[];for(let n=0;n<e.length;n++){const i=e[n],s=t[n];r.push(BG.encode(i,s))}return UZ(...r)}function MG(e){return Array.isArray(e)&&"string"==typeof e[0]||"string"==typeof e?_D(e):e}!function(e){e.encode=function e(t,r,n=!1){if("address"===t){const e=r;return uG(e),FZ(e.toLowerCase(),n?32:0)}if("string"===t)return zZ(r);if("bytes"===t)return r;if("bool"===t)return FZ(DZ(r),n?32:1);const i=t.match(vG);if(i){const[e,t,s="256"]=i,o=Number.parseInt(s,10)/8;return HZ(r,{size:n?32:o,signed:"int"===t})}const s=t.match(bG);if(s){const[e,t]=s;if(Number.parseInt(t,10)!==(r.length-2)/2)throw new jG({expectedSize:Number.parseInt(t,10),value:r});return VZ(r,n?32:0)}const o=t.match(wG);if(o&&Array.isArray(r)){const[t,n]=o,i=[];for(let t=0;t<r.length;t++)i.push(e(n,r[t],!0));return 0===i.length?"0x":UZ(...i)}throw new FG(t)}}(BG||(BG={}));class UG extends nZ{constructor({data:e,parameters:t,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${LL(t)})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class LG extends nZ{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class DG extends nZ{constructor({expectedLength:e,givenLength:t,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${t}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class jG extends nZ{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${qZ(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class HG extends nZ{constructor({expectedLength:e,givenLength:t}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${t}`].join("\n")),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class zG extends nZ{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class FG extends nZ{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function VG(e,t){const{as:r}=t,n=ZG(e),i=TG(new Uint8Array(n.length));return n.encode(i),"Hex"===r?jZ(i.bytes):i.bytes}function ZG(e){return Array.isArray(e)?function(e){const t=e.reduce(((e,t)=>e+t.length),0),r=qG(t);return{length:t<=55?1+t:1+r+t,encode(n){t<=55?n.pushByte(192+t):(n.pushByte(247+r),1===r?n.pushUint8(t):2===r?n.pushUint16(t):3===r?n.pushUint24(t):n.pushUint32(t));for(const{encode:t}of e)t(n)}}}(e.map((e=>ZG(e)))):function(e){const t="string"==typeof e?vZ(e):e,r=qG(t.length);return{length:1===t.length&&t[0]<128?1:t.length<=55?1+t.length:1+r+t.length,encode(e){1===t.length&&t[0]<128?e.pushBytes(t):t.length<=55?(e.pushByte(128+t.length),e.pushBytes(t)):(e.pushByte(183+r),1===r?e.pushUint8(t.length):2===r?e.pushUint16(t.length):3===r?e.pushUint24(t.length):e.pushUint32(t.length),e.pushBytes(t))}}}(e)}function qG(e){if(e<256)return 1;if(e<65536)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new nZ("Length is too large.")}const WG=BigInt(0),KG=BigInt(1),GG=BigInt(2),YG=BigInt(3),JG=BigInt(4),XG=BigInt(5),QG=BigInt(8);function eY(e,t){const r=e%t;return r>=WG?r:t+r}function tY(e,t,r){let n=e;for(;t-- >WG;)n*=n,n%=r;return n}function rY(e,t){if(e===WG)throw new Error("invert: expected non-zero number");if(t<=WG)throw new Error("invert: expected positive modulus, got "+t);let r=eY(e,t),n=t,i=WG,s=KG;for(;r!==WG;){const e=n%r,t=i-s*(n/r);n=r,r=e,i=s,s=t}if(n!==KG)throw new Error("invert: does not exist");return eY(i,t)}function nY(e,t){const r=(e.ORDER+KG)/JG,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw new Error("Cannot find square root");return n}function iY(e,t){const r=(e.ORDER-XG)/QG,n=e.mul(t,GG),i=e.pow(n,r),s=e.mul(t,i),o=e.mul(e.mul(s,GG),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function sY(e){return e%JG===YG?nY:e%QG===XG?iY:function(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-KG,r=0;for(;t%GG===WG;)t/=GG,r++;let n=GG;const i=dY(e);for(;1===cY(i,n);)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===r)return nY;let s=i.pow(n,t);const o=(t+KG)/GG;return function(e,n){if(e.is0(n))return n;if(1!==cY(e,n))throw new Error("Cannot find square root");let i=r,a=e.mul(e.ONE,s),c=e.pow(n,t),l=e.pow(n,o);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,r=e.sqr(c);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===i)throw new Error("Cannot find square root");const n=KG<<BigInt(i-t-1),s=e.pow(a,n);i=t,a=e.sqr(s),c=e.mul(c,a),l=e.mul(l,s)}return l}}(e)}const oY=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function aY(e,t,r=!1){const n=new Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),s=e.inv(i);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),s),n}function cY(e,t){const r=(e.ORDER-KG)/GG,n=e.pow(t,r),i=e.eql(n,e.ONE),s=e.eql(n,e.ZERO),o=e.eql(n,e.neg(e.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function lY(e,t){void 0!==t&&we(t);const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function dY(e,t,r=!1,n={}){if(e<=WG)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=lY(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:r,BITS:i,BYTES:s,MASK:JV(i),ZERO:WG,ONE:KG,create:t=>eY(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return WG<=t&&t<e},is0:e=>e===WG,isOdd:e=>(e&KG)===KG,neg:t=>eY(-t,e),eql:(e,t)=>e===t,sqr:t=>eY(t*t,e),add:(t,r)=>eY(t+r,e),sub:(t,r)=>eY(t-r,e),mul:(t,r)=>eY(t*r,e),pow:(e,t)=>function(e,t,r){if(r<WG)throw new Error("invalid exponent, negatives unsupported");if(r===WG)return e.ONE;if(r===KG)return t;let n=e.ONE,i=t;for(;r>WG;)r&KG&&(n=e.mul(n,i)),i=e.sqr(i),r>>=KG;return n}(a,e,t),div:(t,r)=>eY(t*rY(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>rY(t,e),sqrt:n.sqrt||(t=>(o||(o=sY(e)),o(a,t))),toBytes:e=>r?ZV(e,s):VV(e,s),fromBytes:e=>{if(e.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return r?FV(e):zV(e)},invertBatch:e=>aY(a,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(a)}function uY(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function hY(e){const t=uY(e);return t+Math.ceil(t/2)}const pY=BigInt(0),fY=BigInt(1);function gY(e,t){const r=t.negate();return e?r:t}function mY(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function yY(e,t){mY(e,t);const r=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:JV(e),maxNumber:r,shiftBy:BigInt(e)}}function wY(e,t,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(e&i),c=e>>o;a>n&&(a-=s,c+=fY);const l=t*n;return{nextN:c,offset:l+Math.abs(a)-1,isZero:0===a,isNeg:a<0,isNegF:t%2!=0,offsetF:l}}const bY=new WeakMap,vY=new WeakMap;function EY(e){return vY.get(e)||1}function AY(e,t,r,n){(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach(((e,r)=>{if(!(e instanceof t))throw new Error("invalid point at index "+r)}))})(r,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach(((e,r)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+r)}))}(n,t);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=function(e){let t;for(t=0;e>CV;e>>=SV,t+=1);return t}(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=JV(c),d=new Array(Number(l)+1).fill(o);let u=o;for(let e=Math.floor((t.BITS-1)/c)*c;e>=0;e-=c){d.fill(o);for(let t=0;t<s;t++){const i=n[t],s=Number(i>>BigInt(e)&l);d[s]=d[s].add(r[t])}let t=o;for(let e=d.length-1,r=o;e>0;e--)r=r.add(d[e]),t=t.add(r);if(u=u.add(t),0!==e)for(let e=0;e<c;e++)u=u.double()}return u}function xY(e){return function(e){tZ(e,oY.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(e.Fp),tZ(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...lY(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function CY(e){void 0!==e.lowS&&kV("lowS",e.lowS),void 0!==e.prehash&&kV("prehash",e.prehash)}class SY extends Error{constructor(e=""){super(e)}}const IY={Err:SY,_tlv:{encode:(e,t)=>{const{Err:r}=IY;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");const n=t.length/2,i=PV(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?PV(i.length/2|128):"";return PV(e)+s+i+t},decode(e,t){const{Err:r}=IY;let n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");const i=t[n++];let s=0;if(!!(128&i)){const e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");const o=t.subarray(n,n+e);if(o.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===o[0])throw new r("tlv.decode(long): zero leftmost byte");for(const e of o)s=s<<8|e;if(n+=e,s<128)throw new r("tlv.decode(long): not minimal encoding")}else s=i;const o=t.subarray(n,n+s);if(o.length!==s)throw new r("tlv.decode: wrong value length");return{v:o,l:t.subarray(n+s)}}},_int:{encode(e){const{Err:t}=IY;if(e<kY)throw new t("integer: negative integers are not allowed");let r=PV(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){const{Err:t}=IY;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return zV(e)}},toSig(e){const{Err:t,_int:r,_tlv:n}=IY,i=qV("signature",e),{v:s,l:o}=n.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,s),{v:l,l:d}=n.decode(2,c);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(e){const{_tlv:t,_int:r}=IY,n=t.encode(2,r.encode(e.r))+t.encode(2,r.encode(e.s));return t.encode(48,n)}};function _Y(e,t){return RV(VV(e,t))}const kY=BigInt(0),PY=BigInt(1);BigInt(2);const TY=BigInt(3),OY=BigInt(4);function NY(e){const t=function(e){const t=xY(e);tZ(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}(e),{Fp:r}=t,n=dY(t.n,t.nBitLength),i=t.toBytes||((e,t,n)=>{const i=t.toAffine();return WV(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),s=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function o(e){const{a:n,b:i}=t,s=r.sqr(e),o=r.mul(s,e);return r.add(r.add(o,r.mul(e,n)),i)}function a(e,t){const n=r.sqr(t),i=o(e);return r.eql(n,i)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=r.mul(r.pow(t.a,TY),OY),l=r.mul(r.sqr(t.b),BigInt(27));if(r.is0(r.add(c,l)))throw new Error("bad curve params: a or b");function d(e){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:i,n:s}=t;if(r&&"bigint"!=typeof e){if(IV(e)&&(e=RV(e)),"string"!=typeof e||!r.includes(e.length))throw new Error("invalid private key");e=e.padStart(2*n,"0")}let o;try{o="bigint"==typeof e?e:zV(qV("private key",e,n))}catch{throw new Error("invalid private key, expected hex or "+n+" bytes, got "+typeof e)}return i&&(o=eY(o,s)),YV("private key",o,PY,s),o}function u(e){if(!(e instanceof f))throw new Error("ProjectivePoint expected")}const h=rZ(((e,t)=>{const{px:n,py:i,pz:s}=e;if(r.eql(s,r.ONE))return{x:n,y:i};const o=e.is0();null==t&&(t=o?r.ONE:r.inv(s));const a=r.mul(n,t),c=r.mul(i,t),l=r.mul(s,t);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(l,r.ONE))throw new Error("invZ was invalid");return{x:a,y:c}})),p=rZ((e=>{if(e.is0()){if(t.allowInfinityPoint&&!r.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:n,y:i}=e.toAffine();if(!r.isValid(n)||!r.isValid(i))throw new Error("bad point: x or y not FE");if(!a(n,i))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0}));class f{constructor(e,t,n){if(null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t)||r.is0(t))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required");this.px=e,this.py=t,this.pz=n,Object.freeze(this)}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof f)throw new Error("projective point not allowed");const i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?f.ZERO:new f(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=aY(r,e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(f.fromAffine)}static fromHex(e){const t=f.fromAffine(s(qV("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return f.BASE.multiply(d(e))}static msm(e,t){return AY(f,n,e,t)}_setWindowSize(e){y.setWindowSize(this,e)}assertValidity(){p(this)}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){u(e);const{px:t,py:n,pz:i}=this,{px:s,py:o,pz:a}=e,c=r.eql(r.mul(t,a),r.mul(s,i)),l=r.eql(r.mul(n,a),r.mul(o,i));return c&&l}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:n}=t,i=r.mul(n,TY),{px:s,py:o,pz:a}=this;let c=r.ZERO,l=r.ZERO,d=r.ZERO,u=r.mul(s,s),h=r.mul(o,o),p=r.mul(a,a),g=r.mul(s,o);return g=r.add(g,g),d=r.mul(s,a),d=r.add(d,d),c=r.mul(e,d),l=r.mul(i,p),l=r.add(c,l),c=r.sub(h,l),l=r.add(h,l),l=r.mul(c,l),c=r.mul(g,c),d=r.mul(i,d),p=r.mul(e,p),g=r.sub(u,p),g=r.mul(e,g),g=r.add(g,d),d=r.add(u,u),u=r.add(d,u),u=r.add(u,p),u=r.mul(u,g),l=r.add(l,u),p=r.mul(o,a),p=r.add(p,p),u=r.mul(p,g),c=r.sub(c,u),d=r.mul(p,h),d=r.add(d,d),d=r.add(d,d),new f(c,l,d)}add(e){u(e);const{px:n,py:i,pz:s}=this,{px:o,py:a,pz:c}=e;let l=r.ZERO,d=r.ZERO,h=r.ZERO;const p=t.a,g=r.mul(t.b,TY);let m=r.mul(n,o),y=r.mul(i,a),w=r.mul(s,c),b=r.add(n,i),v=r.add(o,a);b=r.mul(b,v),v=r.add(m,y),b=r.sub(b,v),v=r.add(n,s);let E=r.add(o,c);return v=r.mul(v,E),E=r.add(m,w),v=r.sub(v,E),E=r.add(i,s),l=r.add(a,c),E=r.mul(E,l),l=r.add(y,w),E=r.sub(E,l),h=r.mul(p,v),l=r.mul(g,w),h=r.add(l,h),l=r.sub(y,h),h=r.add(y,h),d=r.mul(l,h),y=r.add(m,m),y=r.add(y,m),w=r.mul(p,w),v=r.mul(g,v),y=r.add(y,w),w=r.sub(m,w),w=r.mul(p,w),v=r.add(v,w),m=r.mul(y,v),d=r.add(d,m),m=r.mul(E,v),l=r.mul(b,l),l=r.sub(l,m),m=r.mul(b,y),h=r.mul(E,h),h=r.add(h,m),new f(l,d,h)}subtract(e){return this.add(e.negate())}is0(){return this.equals(f.ZERO)}wNAF(e){return y.wNAFCached(this,e,f.normalizeZ)}multiplyUnsafe(e){const{endo:n,n:i}=t;YV("scalar",e,kY,i);const s=f.ZERO;if(e===kY)return s;if(this.is0()||e===PY)return this;if(!n||y.hasPrecomputes(this))return y.wNAFCachedUnsafe(this,e,f.normalizeZ);let{k1neg:o,k1:a,k2neg:c,k2:l}=n.splitScalar(e),d=s,u=s,h=this;for(;a>kY||l>kY;)a&PY&&(d=d.add(h)),l&PY&&(u=u.add(h)),h=h.double(),a>>=PY,l>>=PY;return o&&(d=d.negate()),c&&(u=u.negate()),u=new f(r.mul(u.px,n.beta),u.py,u.pz),d.add(u)}multiply(e){const{endo:n,n:i}=t;let s,o;if(YV("scalar",e,PY,i),n){const{k1neg:t,k1:i,k2neg:a,k2:c}=n.splitScalar(e);let{p:l,f:d}=this.wNAF(i),{p:u,f:h}=this.wNAF(c);l=y.constTimeNegate(t,l),u=y.constTimeNegate(a,u),u=new f(r.mul(u.px,n.beta),u.py,u.pz),s=l.add(u),o=d.add(h)}else{const{p:t,f:r}=this.wNAF(e);s=t,o=r}return f.normalizeZ([s,o])[0]}multiplyAndAddUnsafe(e,t,r){const n=f.BASE,i=(e,t)=>t!==kY&&t!==PY&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,r));return s.is0()?void 0:s}toAffine(e){return h(this,e)}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===PY)return!0;if(r)return r(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===PY?this:r?r(f,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return kV("isCompressed",e),this.assertValidity(),i(f,this,e)}toHex(e=!0){return kV("isCompressed",e),RV(this.toRawBytes(e))}}f.BASE=new f(t.Gx,t.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);const{endo:g,nBitLength:m}=t,y=function(e,t){return{constTimeNegate:gY,hasPrecomputes:e=>1!==EY(e),unsafeLadder(t,r,n=e.ZERO){let i=t;for(;r>pY;)r&fY&&(n=n.add(i)),i=i.double(),r>>=fY;return n},precomputeWindow(e,r){const{windows:n,windowSize:i}=yY(r,t),s=[];let o=e,a=o;for(let e=0;e<n;e++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(r,n,i){let s=e.ZERO,o=e.BASE;const a=yY(r,t);for(let e=0;e<a.windows;e++){const{nextN:t,offset:r,isZero:c,isNeg:l,isNegF:d,offsetF:u}=wY(i,e,a);i=t,c?o=o.add(gY(d,n[u])):s=s.add(gY(l,n[r]))}return{p:s,f:o}},wNAFUnsafe(r,n,i,s=e.ZERO){const o=yY(r,t);for(let e=0;e<o.windows&&i!==pY;e++){const{nextN:t,offset:r,isZero:a,isNeg:c}=wY(i,e,o);if(i=t,!a){const e=n[r];s=s.add(c?e.negate():e)}}return s},getPrecomputes(e,t,r){let n=bY.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&bY.set(t,r(n))),n},wNAFCached(e,t,r){const n=EY(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){const i=EY(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){mY(r,t),vY.set(e,r),bY.delete(e)}}}(f,g?Math.ceil(m/2):m);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:function(e){return GV(e,PY,t.n)}}}function RY(e){const t=function(e){const t=xY(e);return tZ(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n,nByteLength:i,nBitLength:s}=t,o=r.BYTES+1,a=2*r.BYTES+1;function c(e){return eY(e,n)}function l(e){return rY(e,n)}const{ProjectivePoint:d,normPrivateKeyToScalar:u,weierstrassEquation:h,isWithinCurveOrder:p}=NY({...t,toBytes(e,t,n){const i=t.toAffine(),s=r.toBytes(i.x),o=WV;return kV("isCompressed",n),n?o(Uint8Array.from([t.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,r.toBytes(i.y))},fromBytes(e){const t=e.length,n=e[0],i=e.subarray(1);if(t!==o||2!==n&&3!==n){if(t===a&&4===n){return{x:r.fromBytes(i.subarray(0,r.BYTES)),y:r.fromBytes(i.subarray(r.BYTES,2*r.BYTES))}}throw new Error("invalid Point, expected length of "+o+", or uncompressed "+a+", got "+t)}{const e=zV(i);if(!GV(e,PY,r.ORDER))throw new Error("Point is not on curve");const t=h(e);let s;try{s=r.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+t)}return!(1&~n)!==((s&PY)===PY)&&(s=r.neg(s)),{x:e,y:s}}}});function f(e){return e>n>>PY}const g=(e,t,r)=>zV(e.slice(t,r));class m{constructor(e,t,r){YV("r",e,PY,n),YV("s",t,PY,n),this.r=e,this.s=t,null!=r&&(this.recovery=r),Object.freeze(this)}static fromCompact(e){const t=i;return e=qV("compactSignature",e,2*t),new m(g(e,0,t),g(e,t,2*t))}static fromDER(e){const{r:t,s:r}=IY.toSig(qV("DER",e));return new m(t,r)}assertValidity(){}addRecoveryBit(e){return new m(this.r,this.s,e)}recoverPublicKey(e){const{r:n,s:i,recovery:s}=this,o=v(qV("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const a=2===s||3===s?n+t.n:n;if(a>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const u=1&s?"03":"02",h=d.fromHex(u+_Y(a,r.BYTES)),p=l(a),f=c(-o*p),g=c(i*p),m=d.BASE.multiplyAndAddUnsafe(h,f,g);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return HV(this.toDERHex())}toDERHex(){return IY.hexFromSig(this)}toCompactRawBytes(){return HV(this.toCompactHex())}toCompactHex(){const e=i;return _Y(this.r,e)+_Y(this.s,e)}}const y={isValidPrivateKey(e){try{return u(e),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const e=hY(t.n);return function(e,t,r=!1){const n=e.length,i=uY(t),s=hY(t);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=eY(r?FV(e):zV(e),t-KG)+KG;return r?ZV(o,i):VV(o,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=d.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function w(e){if("bigint"==typeof e)return!1;if(e instanceof d)return!0;const n=qV("key",e).length,s=r.BYTES,o=s+1,a=2*s+1;return t.allowedPrivateKeyLengths||i===o?void 0:n===o||n===a}const b=t.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const t=zV(e),r=8*e.length-s;return r>0?t>>BigInt(r):t},v=t.bits2int_modN||function(e){return c(b(e))},E=JV(s);function A(e){return YV("num < 2^"+s,e,kY,E),VV(e,i)}function x(e,n,i=C){if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:o}=t;let{lowS:a,prehash:h,extraEntropy:g}=i;null==a&&(a=!0),e=qV("msgHash",e),CY(i),h&&(e=qV("prehashed msgHash",s(e)));const y=v(e),w=u(n),E=[A(w),A(y)];if(null!=g&&!1!==g){const e=!0===g?o(r.BYTES):g;E.push(qV("extraEntropy",e))}const x=WV(...E),S=y;return{seed:x,k2sig:function(e){const t=b(e);if(!p(t))return;const r=l(t),n=d.BASE.multiply(t).toAffine(),i=c(n.x);if(i===kY)return;const s=c(r*c(S+i*w));if(s===kY)return;let o=(n.x===i?0:2)|Number(n.y&PY),u=s;return a&&f(s)&&(u=function(e){return f(e)?c(-e):e}(s),o^=1),new m(i,u,o)}}}const C={lowS:t.lowS,prehash:!1},S={lowS:t.lowS,prehash:!1};return d.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return d.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(!0===w(e))throw new Error("first arg must be private key");if(!1===w(t))throw new Error("second arg must be public key");return d.fromHex(t).multiply(u(e)).toRawBytes(r)},sign:function(e,r,n=C){const{seed:i,k2sig:s}=x(e,r,n),o=t;return function(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=XV(e),i=XV(e),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...e)=>r(i,n,...e),c=(e=XV(0))=>{i=a(QV([0]),e),n=a(),0!==e.length&&(i=a(QV([1]),e),n=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){n=a();const t=n.slice();r.push(t),e+=n.length}return WV(...r)};return(e,t)=>{let r;for(o(),c(e);!(r=t(l()));)c();return o(),r}}(o.hash.outputLen,o.nByteLength,o.hmac)(i,s)},verify:function(e,r,n,i=S){const s=e;r=qV("msgHash",r),n=qV("publicKey",n);const{lowS:o,prehash:a,format:u}=i;if(CY(i),"strict"in i)throw new Error("options.strict was renamed to lowS");if(void 0!==u&&"compact"!==u&&"der"!==u)throw new Error("format must be compact or der");const h="string"==typeof s||IV(s),p=!h&&!u&&"object"==typeof s&&null!==s&&"bigint"==typeof s.r&&"bigint"==typeof s.s;if(!h&&!p)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let f,g;try{if(p&&(f=new m(s.r,s.s)),h){try{"compact"!==u&&(f=m.fromDER(s))}catch(e){if(!(e instanceof IY.Err))throw e}!f&&"der"!==u&&(f=m.fromCompact(s))}g=d.fromHex(n)}catch{return!1}if(!f||o&&f.hasHighS())return!1;a&&(r=t.hash(r));const{r:y,s:w}=f,b=v(r),E=l(w),A=c(b*E),x=c(y*E),C=d.BASE.multiplyAndAddUnsafe(g,A,x)?.toAffine();return!!C&&c(C.x)===y},ProjectivePoint:d,Signature:m,utils:y}}function $Y(e){return{hash:e,hmac:(t,...r)=>ei(e,t,ze(...r)),randomBytes:Ze}}const BY=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),MY=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),UY=BigInt(0),LY=BigInt(1),DY=BigInt(2),jY=(e,t)=>(e+t/DY)/t;const HY=dY(BY,void 0,void 0,{sqrt:function(e){const t=BY,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,d=l*l*e%t,u=tY(d,r,t)*d%t,h=tY(u,r,t)*d%t,p=tY(h,DY,t)*l%t,f=tY(p,i,t)*p%t,g=tY(f,s,t)*f%t,m=tY(g,a,t)*g%t,y=tY(m,c,t)*m%t,w=tY(y,a,t)*g%t,b=tY(w,r,t)*d%t,v=tY(b,o,t)*f%t,E=tY(v,n,t)*l%t,A=tY(E,DY,t);if(!HY.eql(HY.sqr(A),e))throw new Error("Cannot find square root");return A}}),zY=function(e,t){const r=t=>RY({...e,...$Y(t)});return{...r(t),create:r}}({a:UY,b:BigInt(7),Fp:HY,n:MY,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=MY,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-LY*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=jY(s*e,t),c=jY(-n*e,t);let l=eY(e-a*r-c*i,t),d=eY(-a*n-c*s,t);const u=l>o,h=d>o;if(u&&(l=t-l),h&&(d=t-d),l>o||d>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:u,k1:l,k2neg:h,k2:d}}}},sr);function FY(e,t={}){const{recovered:r}=t;if(typeof e.r>"u")throw new YY({signature:e});if(typeof e.s>"u")throw new YY({signature:e});if(r&&typeof e.yParity>"u")throw new YY({signature:e});if(e.r<0n||e.r>EG)throw new JY({value:e.r});if(e.s<0n||e.s>EG)throw new XY({value:e.s});if("number"==typeof e.yParity&&0!==e.yParity&&1!==e.yParity)throw new QY({value:e.yParity})}function VY(e){if(130!==e.length&&132!==e.length)throw new GY({signature:e});const t=BigInt(ZZ(e,0,32)),r=BigInt(ZZ(e,32,64)),n=(()=>{const t=+`0x${e.slice(130)}`;if(!Number.isNaN(t))try{return KY(t)}catch{throw new QY({value:t})}})();return typeof n>"u"?{r:t,s:r}:{r:t,s:r,yParity:n}}function ZY(e){if(!(typeof e.r>"u"||typeof e.s>"u"))return qY(e)}function qY(e){const t="string"==typeof e?VY(e):e instanceof Uint8Array?function(e){return VY(jZ(e))}(e):"string"==typeof e.r?function(e){const t=(()=>{const t=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if("number"==typeof t&&"number"!=typeof r&&(r=KY(t)),"number"!=typeof r)throw new QY({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}(e):e.v?function(e){return{r:e.r,s:e.s,yParity:KY(e.v)}}(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return FY(t),t}function WY(e){const{r:t,s:r,yParity:n}=e;return[n?"0x01":"0x",0n===t?"0x":WZ(HZ(t)),0n===r?"0x":WZ(HZ(r))]}function KY(e){if(0===e||27===e)return 0;if(1===e||28===e)return 1;if(e>=35)return e%2==0?1:0;throw new eJ({value:e})}class GY extends nZ{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${qZ(LZ(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class YY extends nZ{constructor({signature:e}){super(`Signature \`${mZ(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class JY extends nZ{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class XY extends nZ{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class QY extends nZ{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class eJ extends nZ{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function tJ(e,t={}){return"string"==typeof e.chainId?function(e){const{address:t,chainId:r,nonce:n}=e,i=ZY(e);return{address:t,chainId:Number(r),nonce:BigInt(n),...i}}(e):{...e,...t.signature}}function rJ(e){return function(e,t={}){const{presign:r}=t;return tG(UZ("0x05",function(e,t={}){const{as:r="Hex"}=t;return VG(e,{as:r})}(function(e){const{address:t,chainId:r,nonce:n}=e,i=ZY(e);return[r?HZ(r):"0x",t,n?HZ(n):"0x",...i?WY(i):[]]}(r?{address:e.address,chainId:e.chainId,nonce:e.nonce}:e))))}(e,{presign:!0})}function nJ(e){return pG(function(e){const{payload:t,signature:r}=e,{r:n,s:i,yParity:s}=r,o=new zY.Signature(BigInt(n),BigInt(i)).addRecoveryBit(s).recoverPublicKey(LZ(t).substring(2));return nG(o)}(e))}const iJ="0x8010801080108010801080108010801080108010801080108010801080108010",sJ=MG("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function oJ(e){if("string"==typeof e){if(ZZ(e,-32)!==iJ)throw new lJ(e)}else FY(e.authorization)}function aJ(e){oJ(e);const t=GZ(ZZ(e,-64,-32)),r=ZZ(e,-t-64,-64),n=ZZ(e,0,-t-64),[i,s,o]=function(e,t,r={}){const{as:n="Array",checksumAddress:i=!1}=r,s="string"==typeof t?vZ(t):t,o=TG(s);if(0===AZ(s)&&e.length>0)throw new LG;if(AZ(s)&&AZ(s)<32)throw new UG({data:"string"==typeof t?t:jZ(t),parameters:e,size:AZ(s)});let a=0;const c="Array"===n?[]:{};for(let t=0;t<e.length;++t){const r=e[t];o.setPosition(a);const[s,l]=AG(o,r,{checksumAddress:i,staticPosition:0});a+=l,"Array"===n?c.push(s):c[r.name??t]=s}return c}(sJ,r);return{authorization:tJ({address:i.delegation,chainId:Number(i.chainId),nonce:i.nonce,yParity:i.yParity,r:i.r,s:i.s}),signature:n,...o&&"0x"!==o?{data:o,to:s}:{}}}function cJ(e){try{return oJ(e),!0}catch{return!1}}class lJ extends nZ{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}}function dJ(e){return cJ(e)}async function uJ({message:e,signature:t}){return nF({hash:MK(e),signature:t})}async function hJ(e){const{domain:t,message:r,primaryType:n,signature:i,types:s}=e;return nF({hash:VK({domain:t,message:r,primaryType:n,types:s}),signature:i})}function pJ(e){const t=aH(e,0,1);if("0x04"===t)return"eip7702";if("0x03"===t)return"eip4844";if("0x02"===t)return"eip1559";if("0x01"===t)return"eip2930";if("0x"!==t&&Cj(t)>=192)return"legacy";throw new oz({serializedType:t})}function fJ(e){const t=pJ(e);return"eip1559"===t?function(e){const t=gJ(e),[r,n,i,s,o,a,c,l,d,u,h,p]=t;if(9!==t.length&&12!==t.length)throw new az({attributes:{chainId:r,nonce:n,maxPriorityFeePerGas:i,maxFeePerGas:s,gas:o,to:a,value:c,data:l,accessList:d,...t.length>9?{v:u,r:h,s:p}:{}},serializedTransaction:e,type:"eip1559"});const f={chainId:Cj(r),type:"eip1559"};return OD(a)&&"0x"!==a&&(f.to=a),OD(o)&&"0x"!==o&&(f.gas=Aj(o)),OD(l)&&"0x"!==l&&(f.data=l),OD(n)&&(f.nonce="0x"===n?0:Cj(n)),OD(c)&&"0x"!==c&&(f.value=Aj(c)),OD(s)&&"0x"!==s&&(f.maxFeePerGas=Aj(s)),OD(i)&&"0x"!==i&&(f.maxPriorityFeePerGas=Aj(i)),0!==d.length&&"0x"!==d&&(f.accessList=mJ(d)),cK(f),{...12===t.length?yJ(t):void 0,...f}}(e):"eip2930"===t?function(e){const t=gJ(e),[r,n,i,s,o,a,c,l,d,u,h]=t;if(8!==t.length&&11!==t.length)throw new az({attributes:{chainId:r,nonce:n,gasPrice:i,gas:s,to:o,value:a,data:c,accessList:l,...t.length>8?{v:d,r:u,s:h}:{}},serializedTransaction:e,type:"eip2930"});const p={chainId:Cj(r),type:"eip2930"};return OD(o)&&"0x"!==o&&(p.to=o),OD(s)&&"0x"!==s&&(p.gas=Aj(s)),OD(c)&&"0x"!==c&&(p.data=c),OD(n)&&(p.nonce="0x"===n?0:Cj(n)),OD(a)&&"0x"!==a&&(p.value=Aj(a)),OD(i)&&"0x"!==i&&(p.gasPrice=Aj(i)),0!==l.length&&"0x"!==l&&(p.accessList=mJ(l)),lK(p),{...11===t.length?yJ(t):void 0,...p}}(e):"eip4844"===t?function(e){const t=gJ(e),r=4===t.length,n=r?t[0]:t,i=r?t.slice(1):[],[s,o,a,c,l,d,u,h,p,f,g,m,y,w]=n,[b,v,E]=i;if(11!==n.length&&14!==n.length)throw new az({attributes:{chainId:s,nonce:o,maxPriorityFeePerGas:a,maxFeePerGas:c,gas:l,to:d,value:u,data:h,accessList:p,...n.length>9?{v:m,r:y,s:w}:{}},serializedTransaction:e,type:"eip4844"});const A={blobVersionedHashes:g,chainId:Cj(s),to:d,type:"eip4844"};return OD(l)&&"0x"!==l&&(A.gas=Aj(l)),OD(h)&&"0x"!==h&&(A.data=h),OD(o)&&(A.nonce="0x"===o?0:Cj(o)),OD(u)&&"0x"!==u&&(A.value=Aj(u)),OD(f)&&"0x"!==f&&(A.maxFeePerBlobGas=Aj(f)),OD(c)&&"0x"!==c&&(A.maxFeePerGas=Aj(c)),OD(a)&&"0x"!==a&&(A.maxPriorityFeePerGas=Aj(a)),0!==p.length&&"0x"!==p&&(A.accessList=mJ(p)),b&&v&&E&&(A.sidecars=oV({blobs:b,commitments:v,proofs:E})),aK(A),{...14===n.length?yJ(n):void 0,...A}}(e):"eip7702"===t?function(e){const t=gJ(e),[r,n,i,s,o,a,c,l,d,u,h,p,f]=t;if(10!==t.length&&13!==t.length)throw new az({attributes:{chainId:r,nonce:n,maxPriorityFeePerGas:i,maxFeePerGas:s,gas:o,to:a,value:c,data:l,accessList:d,authorizationList:u,...t.length>9?{v:h,r:p,s:f}:{}},serializedTransaction:e,type:"eip7702"});const g={chainId:Cj(r),type:"eip7702"};return OD(a)&&"0x"!==a&&(g.to=a),OD(o)&&"0x"!==o&&(g.gas=Aj(o)),OD(l)&&"0x"!==l&&(g.data=l),OD(n)&&(g.nonce="0x"===n?0:Cj(n)),OD(c)&&"0x"!==c&&(g.value=Aj(c)),OD(s)&&"0x"!==s&&(g.maxFeePerGas=Aj(s)),OD(i)&&"0x"!==i&&(g.maxPriorityFeePerGas=Aj(i)),0!==d.length&&"0x"!==d&&(g.accessList=mJ(d)),0!==u.length&&"0x"!==u&&(g.authorizationList=function(e){const t=[];for(let r=0;r<e.length;r++){const[n,i,s,o,a,c]=e[r];t.push({address:i,chainId:"0x"===n?0:Cj(n),nonce:"0x"===s?0:Cj(s),...yJ([o,a,c])})}return t}(u)),oK(g),{...13===t.length?yJ(t):void 0,...g}}(e):function(e){const t=CK(e,"hex"),[r,n,i,s,o,a,c,l,d]=t;if(6!==t.length&&9!==t.length)throw new az({attributes:{nonce:r,gasPrice:n,gas:i,to:s,value:o,data:a,...t.length>6?{v:c,r:l,s:d}:{}},serializedTransaction:e,type:"legacy"});const u={type:"legacy"};if(OD(s)&&"0x"!==s&&(u.to=s),OD(i)&&"0x"!==i&&(u.gas=Aj(i)),OD(a)&&"0x"!==a&&(u.data=a),OD(r)&&(u.nonce="0x"===r?0:Cj(r)),OD(o)&&"0x"!==o&&(u.value=Aj(o)),OD(n)&&"0x"!==n&&(u.gasPrice=Aj(n)),dK(u),6===t.length)return u;const h=OD(c)&&"0x"!==c?Aj(c):0n;if("0x"===d&&"0x"===l)return h>0&&(u.chainId=Number(h)),u;const p=h,f=Number((p-35n)/2n);if(f>0)u.chainId=f;else if(27n!==p&&28n!==p)throw new iz({v:p});return u.v=p,u.s=d,u.r=l,u.yParity=p%2n===0n?1:0,u}(e)}function gJ(e){return CK(`0x${e.slice(4)}`,"hex")}function mJ(e){const t=[];for(let r=0;r<e.length;r++){const[n,i]=e[r];if(!Qj(n,{strict:!1}))throw new qj({address:n});t.push({address:n,storageKeys:i.map((e=>_K(e)?e:vj(e)))})}return t}function yJ(e){const t=e.slice(-3),r="0x"===t[0]||0n===Aj(t[0])?27n:28n;return{r:pj(t[1],{size:32}),s:pj(t[2],{size:32}),v:r,yParity:27n===r?0:1}}class wJ extends BD{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function bJ(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new wJ({value:e});let[r,n="0"]=e.split(".");const i=r.startsWith("-");if(i&&(r=r.slice(1)),n=n.replace(/(0+)$/,""),0===t)1===Math.round(+`.${n}`)&&(r=`${BigInt(r)+1n}`),n="";else if(n.length>t){const[e,i,s]=[n.slice(0,t-1),n.slice(t-1,t),n.slice(t)],o=Math.round(+`${i}.${s}`);n=o>9?`${BigInt(e)+BigInt(1)}0`.padStart(e.length+1,"0"):`${e}${o}`,n.length>t&&(n=n.slice(1),r=`${BigInt(r)+1n}`),n=n.slice(0,t)}else n=n.padEnd(t,"0");return BigInt(`${i?"-":""}${r}${n}`)}function vJ(e){return e.map((e=>({...e,value:BigInt(e.value)})))}async function EJ(e,{address:t,blockNumber:r,blockTag:n,storageKeys:i}){const s=n??"latest",o=void 0!==r?Tj(r):void 0;return function(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Cj(e.nonce):void 0,storageProof:e.storageProof?vJ(e.storageProof):void 0}}(await e.request({method:"eth_getProof",params:[t,i,o||s]}))}async function AJ(e,{blockHash:t,blockNumber:r,blockTag:n,hash:i,index:s}){const o=n||"latest",a=void 0!==r?Tj(r):void 0;let c=null;if(i?c=await e.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,Tj(s)]},{dedupe:!0}):(a||o)&&(c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,Tj(s)]},{dedupe:!!a})),!c)throw new dz({blockHash:t,blockNumber:r,blockTag:o,hash:i,index:s});return(e.chain?.formatters?.transaction?.format||LF)(c,"getTransaction")}async function xJ(e,{hash:t}){const r=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!r)throw new uz({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||lW)(r,"getTransactionReceipt")}async function CJ(e,t){const{blockNumber:r,blockTag:n=e.experimental_blockTag??"latest",blocks:i,returnFullTransactions:s,traceTransfers:o,validation:a}=t;try{const t=[];for(const e of i){const r=e.blockOverrides?iq(e.blockOverrides):void 0,n=e.calls.map((e=>{const t=e,r=t.account?CH(t.account):void 0,n=t.abi?_H(t):t.data,i={...t,data:t.dataSuffix?eH([n||"0x",t.dataSuffix]):n,from:t.from??r?.address};return NF(i),IF(i)})),i=e.stateOverrides?TF(e.stateOverrides):void 0;t.push({blockOverrides:r,calls:n,stateOverrides:i})}const c=("bigint"==typeof r?Tj(r):void 0)||n;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:t,returnFullTransactions:s,traceTransfers:o,validation:a},c]})).map(((e,t)=>({...jF(e),calls:e.calls.map(((e,r)=>{const{abi:n,args:s,functionName:o,to:a}=i[t].calls[r],c=e.error?.data??e.returnData,l=BigInt(e.gasUsed),d=e.logs?.map((e=>bV(e))),u="0x1"===e.status?"success":"failure",h=n&&"success"===u&&"0x"!==c?xV({abi:n,data:c,functionName:o}):null,p=(()=>{if("success"===u)return;let t;return"0x"===e.error?.data?t=new jD:e.error&&(t=new bz(e.error)),t?eF(t,{abi:n??[],address:a??"0x",args:s,functionName:o??"<unknown>"}):void 0})();return{data:c,gasUsed:l,logs:d,status:u,..."success"===u?{result:h}:{error:p}}}))})))}catch(e){const t=e,r=AF(t,{});throw r instanceof EF?t:r}}function SJ(e){let t=!0,r="",n=0,i="",s=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),"("===a&&n++,")"===a&&n--,t){if(0===n){if(" "===a&&["event","function","error",""].includes(i))i="";else if(i+=a,")"===a){s=!0;break}continue}if(" "===a){","!==e[o-1]&&","!==r&&",("!==r&&(r="",t=!1);continue}i+=a,r+=a}}if(!s)throw new nZ("Unable to normalize signature.");return i}function IJ(e,t){const r=typeof e,n=t.type;switch(n){case"address":return fG(e,{strict:!1});case"bool":return"boolean"===r;case"function":case"string":return"string"===r;default:return"tuple"===n&&"components"in t?Object.values(t.components).every(((t,r)=>IJ(Object.values(e)[r],t))):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?"number"===r||"bigint"===r:/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?"string"===r||e instanceof Uint8Array:!!/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)&&(Array.isArray(e)&&e.every((e=>IJ(e,{...t,type:n.replace(/(\[[0-9]{0,}\])$/,"")}))))}}function _J(e,t,r){for(const n in e){const i=e[n],s=t[n];if("tuple"===i.type&&"tuple"===s.type&&"components"in i&&"components"in s)return _J(i.components,s.components,r[n]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")||(o.includes("address")&&o.includes("string")||o.includes("address")&&o.includes("bytes"))&&fG(r[n],{strict:!1}))return o}}function kJ(e,t={}){const{prepare:r=!0}=t,n=Array.isArray(e)||"string"==typeof e?ID(e):e;return{...n,...r?{hash:OJ(n)}:{}}}function PJ(e,t,r){const{args:n=[],prepare:i=!0}=r??{},s=YZ(t,{strict:!1}),o=e.filter((e=>s?"function"===e.type||"error"===e.type?TJ(e)===ZZ(t,0,4):"event"===e.type&&OJ(e)===t:"name"in e&&e.name===t));if(0===o.length)throw new RJ({name:t});if(1===o.length)return{...o[0],...i?{hash:OJ(o[0])}:{}};let a;for(const e of o)if("inputs"in e)if(n&&0!==n.length){if(e.inputs&&0!==e.inputs.length&&e.inputs.length===n.length&&n.every(((t,r)=>{const n="inputs"in e&&e.inputs[r];return!!n&&IJ(t,n)}))){if(a&&"inputs"in a&&a.inputs){const t=_J(e.inputs,a.inputs,n);if(t)throw new NJ({abiItem:e,type:t[0]},{abiItem:a,type:t[1]})}a=e}}else if(!e.inputs||0===e.inputs.length)return{...e,...i?{hash:OJ(e)}:{}};const c=(()=>{if(a)return a;const[e,...t]=o;return{...e,overloads:t}})();if(!c)throw new RJ({name:t});return{...c,...i?{hash:OJ(c)}:{}}}function TJ(...e){const t=(()=>{if(Array.isArray(e[0])){const[t,r]=e;return PJ(t,r)}return e[0]})();return ZZ(OJ(t),0,4)}function OJ(...e){const t=(()=>{if(Array.isArray(e[0])){const[t,r]=e;return PJ(t,r)}return e[0]})();return"string"!=typeof t&&"hash"in t&&t.hash?t.hash:tG(zZ(function(...e){const t=(()=>{if(Array.isArray(e[0])){const[t,r]=e;return PJ(t,r)}return e[0]})();return SJ("string"==typeof t?t:DL(t))}(t)))}class NJ extends nZ{constructor(e,t){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${SJ(DL(e.abiItem))}\`, and`,`\`${t.type}\` in \`${SJ(DL(t.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class RJ extends nZ{constructor({name:e,data:t,type:r="item"}){super(`ABI ${r}${e?` with name "${e}"`:t?` with data "${t}"`:""} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function $J(e){const t=e.find((e=>"constructor"===e.type));if(!t)throw new RJ({name:"constructor"});return t}function BJ(...e){const[t,r=[]]=(()=>{if(Array.isArray(e[0])){const[t,r,n]=e;return[UJ(t,r,{args:n}),n]}const[t,r]=e;return[t,r]})(),{overloads:n}=t,i=n?UJ([t,...n],t.name,{args:r}):t,s=function(e){return TJ(e)}(i),o=r.length>0?$G(i.inputs,r):void 0;return o?UZ(s,o):s}function MJ(e,t={}){return kJ(e,t)}function UJ(e,t,r){const n=PJ(e,t,r);if("function"!==n.type)throw new RJ({name:t,type:"function"});return n}const LJ="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",DJ="0x0000000000000000000000000000000000000000";async function jJ(e,t){const{blockNumber:r,blockTag:n,calls:i,stateOverrides:s,traceAssetChanges:o,traceTransfers:a,validation:c}=t,l=t.account?CH(t.account):void 0;if(o&&!l)throw new BD("`account` is required when `traceAssetChanges` is true");const d=l?function(...e){const[t,r]=(()=>{if(Array.isArray(e[0])){const[t,r]=e;return[$J(t),r]}return e})(),{bytecode:n,args:i}=r;return UZ(n,t.inputs?.length&&i?.length?$G(t.inputs,i):"0x")}(function(e){return kJ(e)}("constructor(bytes, bytes)"),{bytecode:mq,args:["0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033",BJ(MJ("function getBalance(address)"),[l.address])]}):void 0,u=o?await Promise.all(t.calls.map((async t=>{if(!t.data&&!t.abi)return;const{accessList:r}=await GW(e,{account:l.address,...t,data:t.abi?_H(t):t.data});return r.map((({address:e,storageKeys:t})=>t.length>0?e:null))}))).then((e=>e.flat().filter(Boolean))):[],h=await CJ(e,{blockNumber:r,blockTag:n,blocks:[...o?[{calls:[{data:d}],stateOverrides:s},{calls:u.map(((e,t)=>({abi:[MJ("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:e,from:DJ,nonce:t}))),stateOverrides:[{address:DJ,nonce:0}]}]:[],{calls:[...i,{}].map((e=>({...e,from:l?.address}))),stateOverrides:s},...o?[{calls:[{data:d}]},{calls:u.map(((e,t)=>({abi:[MJ("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:e,from:DJ,nonce:t}))),stateOverrides:[{address:DJ,nonce:0}]},{calls:u.map(((e,t)=>({to:e,abi:[MJ("function decimals() returns (uint256)")],functionName:"decimals",from:DJ,nonce:t}))),stateOverrides:[{address:DJ,nonce:0}]},{calls:u.map(((e,t)=>({to:e,abi:[MJ("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:DJ,nonce:t}))),stateOverrides:[{address:DJ,nonce:0}]},{calls:u.map(((e,t)=>({to:e,abi:[MJ("function symbol() returns (string)")],functionName:"symbol",from:DJ,nonce:t}))),stateOverrides:[{address:DJ,nonce:0}]}]:[]],traceTransfers:a,validation:c}),p=o?h[2]:h[0],[f,g,,m,y,w,b,v]=o?h:[],{calls:E,...A}=p,x=E.slice(0,-1)??[],C=[...f?.calls??[],...g?.calls??[]].map((e=>"success"===e.status?Aj(e.data):null)),S=[...m?.calls??[],...y?.calls??[]].map((e=>"success"===e.status?Aj(e.data):null)),I=(w?.calls??[]).map((e=>"success"===e.status?e.result:null)),_=(v?.calls??[]).map((e=>"success"===e.status?e.result:null)),k=(b?.calls??[]).map((e=>"success"===e.status?e.result:null)),P=[];for(const[e,t]of S.entries()){const r=C[e];if("bigint"!=typeof t||"bigint"!=typeof r)continue;const n=I[e-1],i=_[e-1],s=k[e-1],o=0===e?{address:LJ,decimals:18,symbol:"ETH"}:{address:u[e-1],decimals:s||n?Number(n??1):void 0,symbol:i??void 0};P.some((e=>e.token.address===o.address))||P.push({token:o,value:{pre:r,post:t,diff:t-r}})}return{assetChanges:P,block:A,results:x}}const HJ="0x6492649264926492649264926492649264926492649264926492649264926492";function zJ(e){try{return function(e){if(ZZ(e,-32)!==HJ)throw new FJ(e)}(e),!0}catch{return!1}}class FJ extends nZ{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */}}const VJ=BigInt(0),ZJ=BigInt(1);function qJ(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function WJ(e){if(!qJ(e))throw new Error("Uint8Array expected")}function KJ(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)}function GJ(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function YJ(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?VJ:BigInt("0x"+e)}const JJ="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,XJ=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function QJ(e){if(WJ(e),JJ)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=XJ[e[r]];return t}const eX=48,tX=57,rX=65,nX=70,iX=97,sX=102;function oX(e){return e>=eX&&e<=tX?e-eX:e>=rX&&e<=nX?e-(rX-10):e>=iX&&e<=sX?e-(iX-10):void 0}function aX(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(JJ)return Uint8Array.fromHex(e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=oX(e.charCodeAt(i)),s=oX(e.charCodeAt(i+1));if(void 0===r||void 0===s){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+s}return n}function cX(e){return YJ(QJ(e))}function lX(e){return WJ(e),YJ(QJ(Uint8Array.from(e).reverse()))}function dX(e,t){return aX(e.toString(16).padStart(2*t,"0"))}function uX(e,t){return dX(e,t).reverse()}function hX(e,t,r){let n;if("string"==typeof t)try{n=aX(t)}catch(t){throw new Error(e+" must be hex string or Uint8Array, cause: "+t)}else{if(!qJ(t))throw new Error(e+" must be hex string or Uint8Array");n=Uint8Array.from(t)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(e+" of length "+r+" expected, got "+i);return n}function pX(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];WJ(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}function fX(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}const gX=e=>"bigint"==typeof e&&VJ<=e;function mX(e,t,r){return gX(e)&&gX(t)&&gX(r)&&t<=e&&e<r}function yX(e,t,r,n){if(!mX(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}const wX=e=>(ZJ<<BigInt(e))-ZJ,bX=e=>new Uint8Array(e),vX=e=>Uint8Array.from(e);const EX={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||qJ(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function AX(e,t,r={}){const n=(t,r,n)=>{const i=EX[r];if("function"!=typeof i)throw new Error("invalid validator function");const s=e[t];if(!(n&&void 0===s||i(s,e)))throw new Error("param "+String(t)+" is invalid. Expected "+r+", got "+s)};for(const[e,r]of Object.entries(t))n(e,r,!1);for(const[e,t]of Object.entries(r))n(e,t,!0);return e}function xX(e){const t=new WeakMap;return(r,...n)=>{const i=t.get(r);if(void 0!==i)return i;const s=e(r,...n);return t.set(r,s),s}}const CX=BigInt(0),SX=BigInt(1),IX=BigInt(2),_X=BigInt(3),kX=BigInt(4),PX=BigInt(5),TX=BigInt(8);function OX(e,t){const r=e%t;return r>=CX?r:t+r}function NX(e,t,r){let n=e;for(;t-- >CX;)n*=n,n%=r;return n}function RX(e,t){if(e===CX)throw new Error("invert: expected non-zero number");if(t<=CX)throw new Error("invert: expected positive modulus, got "+t);let r=OX(e,t),n=t,i=CX,s=SX;for(;r!==CX;){const e=n%r,t=i-s*(n/r);n=r,r=e,i=s,s=t}if(n!==SX)throw new Error("invert: does not exist");return OX(i,t)}function $X(e,t){const r=(e.ORDER+SX)/kX,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw new Error("Cannot find square root");return n}function BX(e,t){const r=(e.ORDER-PX)/TX,n=e.mul(t,IX),i=e.pow(n,r),s=e.mul(t,i),o=e.mul(e.mul(s,IX),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function MX(e){return e%kX===_X?$X:e%TX===PX?BX:function(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-SX,r=0;for(;t%IX===CX;)t/=IX,r++;let n=IX;const i=zX(e);for(;1===jX(i,n);)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===r)return $X;let s=i.pow(n,t);const o=(t+SX)/IX;return function(e,n){if(e.is0(n))return n;if(1!==jX(e,n))throw new Error("Cannot find square root");let i=r,a=e.mul(e.ONE,s),c=e.pow(n,t),l=e.pow(n,o);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,r=e.sqr(c);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===i)throw new Error("Cannot find square root");const n=SX<<BigInt(i-t-1),s=e.pow(a,n);i=t,a=e.sqr(s),c=e.mul(c,a),l=e.mul(l,s)}return l}}(e)}const UX=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function LX(e){return AX(e,UX.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}function DX(e,t,r=!1){const n=new Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),s=e.inv(i);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),s),n}function jX(e,t){const r=(e.ORDER-SX)/IX,n=e.pow(t,r),i=e.eql(n,e.ONE),s=e.eql(n,e.ZERO),o=e.eql(n,e.neg(e.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function HX(e,t){void 0!==t&&we(t);const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function zX(e,t,r=!1,n={}){if(e<=CX)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=HX(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:r,BITS:i,BYTES:s,MASK:wX(i),ZERO:CX,ONE:SX,create:t=>OX(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return CX<=t&&t<e},is0:e=>e===CX,isOdd:e=>(e&SX)===SX,neg:t=>OX(-t,e),eql:(e,t)=>e===t,sqr:t=>OX(t*t,e),add:(t,r)=>OX(t+r,e),sub:(t,r)=>OX(t-r,e),mul:(t,r)=>OX(t*r,e),pow:(e,t)=>function(e,t,r){if(r<CX)throw new Error("invalid exponent, negatives unsupported");if(r===CX)return e.ONE;if(r===SX)return t;let n=e.ONE,i=t;for(;r>CX;)r&SX&&(n=e.mul(n,i)),i=e.sqr(i),r>>=SX;return n}(a,e,t),div:(t,r)=>OX(t*RX(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>RX(t,e),sqrt:n.sqrt||(t=>(o||(o=MX(e)),o(a,t))),toBytes:e=>r?uX(e,s):dX(e,s),fromBytes:e=>{if(e.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return r?lX(e):cX(e)},invertBatch:e=>DX(a,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(a)}function FX(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function VX(e){const t=FX(e);return t+Math.ceil(t/2)}const ZX=BigInt(0),qX=BigInt(1);function WX(e,t){const r=t.negate();return e?r:t}function KX(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function GX(e,t){KX(e,t);const r=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:wX(e),maxNumber:r,shiftBy:BigInt(e)}}function YX(e,t,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(e&i),c=e>>o;a>n&&(a-=s,c+=qX);const l=t*n;return{nextN:c,offset:l+Math.abs(a)-1,isZero:0===a,isNeg:a<0,isNegF:t%2!=0,offsetF:l}}const JX=new WeakMap,XX=new WeakMap;function QX(e){return XX.get(e)||1}function eQ(e,t,r,n){(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach(((e,r)=>{if(!(e instanceof t))throw new Error("invalid point at index "+r)}))})(r,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach(((e,r)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+r)}))}(n,t);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=function(e){let t;for(t=0;e>VJ;e>>=ZJ,t+=1);return t}(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=wX(c),d=new Array(Number(l)+1).fill(o);let u=o;for(let e=Math.floor((t.BITS-1)/c)*c;e>=0;e-=c){d.fill(o);for(let t=0;t<s;t++){const i=n[t],s=Number(i>>BigInt(e)&l);d[s]=d[s].add(r[t])}let t=o;for(let e=d.length-1,r=o;e>0;e--)r=r.add(d[e]),t=t.add(r);if(u=u.add(t),0!==e)for(let e=0;e<c;e++)u=u.double()}return u}function tQ(e){return LX(e.Fp),AX(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...HX(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function rQ(e){void 0!==e.lowS&&KJ("lowS",e.lowS),void 0!==e.prehash&&KJ("prehash",e.prehash)}class nQ extends Error{constructor(e=""){super(e)}}const iQ={Err:nQ,_tlv:{encode:(e,t)=>{const{Err:r}=iQ;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");const n=t.length/2,i=GJ(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?GJ(i.length/2|128):"";return GJ(e)+s+i+t},decode(e,t){const{Err:r}=iQ;let n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");const i=t[n++];let s=0;if(!!(128&i)){const e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");const o=t.subarray(n,n+e);if(o.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===o[0])throw new r("tlv.decode(long): zero leftmost byte");for(const e of o)s=s<<8|e;if(n+=e,s<128)throw new r("tlv.decode(long): not minimal encoding")}else s=i;const o=t.subarray(n,n+s);if(o.length!==s)throw new r("tlv.decode: wrong value length");return{v:o,l:t.subarray(n+s)}}},_int:{encode(e){const{Err:t}=iQ;if(e<oQ)throw new t("integer: negative integers are not allowed");let r=GJ(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){const{Err:t}=iQ;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return cX(e)}},toSig(e){const{Err:t,_int:r,_tlv:n}=iQ,i=hX("signature",e),{v:s,l:o}=n.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,s),{v:l,l:d}=n.decode(2,c);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(e){const{_tlv:t,_int:r}=iQ,n=t.encode(2,r.encode(e.r))+t.encode(2,r.encode(e.s));return t.encode(48,n)}};function sQ(e,t){return QJ(dX(e,t))}const oQ=BigInt(0),aQ=BigInt(1),cQ=BigInt(2),lQ=BigInt(3),dQ=BigInt(4);function uQ(e){const t=function(e){const t=tQ(e);AX(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}(e),{Fp:r}=t,n=zX(t.n,t.nBitLength),i=t.toBytes||((e,t,n)=>{const i=t.toAffine();return pX(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),s=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function o(e){const{a:n,b:i}=t,s=r.sqr(e),o=r.mul(s,e);return r.add(r.add(o,r.mul(e,n)),i)}function a(e,t){const n=r.sqr(t),i=o(e);return r.eql(n,i)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=r.mul(r.pow(t.a,lQ),dQ),l=r.mul(r.sqr(t.b),BigInt(27));if(r.is0(r.add(c,l)))throw new Error("bad curve params: a or b");function d(e){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:i,n:s}=t;if(r&&"bigint"!=typeof e){if(qJ(e)&&(e=QJ(e)),"string"!=typeof e||!r.includes(e.length))throw new Error("invalid private key");e=e.padStart(2*n,"0")}let o;try{o="bigint"==typeof e?e:cX(hX("private key",e,n))}catch{throw new Error("invalid private key, expected hex or "+n+" bytes, got "+typeof e)}return i&&(o=OX(o,s)),yX("private key",o,aQ,s),o}function u(e){if(!(e instanceof f))throw new Error("ProjectivePoint expected")}const h=xX(((e,t)=>{const{px:n,py:i,pz:s}=e;if(r.eql(s,r.ONE))return{x:n,y:i};const o=e.is0();null==t&&(t=o?r.ONE:r.inv(s));const a=r.mul(n,t),c=r.mul(i,t),l=r.mul(s,t);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(l,r.ONE))throw new Error("invZ was invalid");return{x:a,y:c}})),p=xX((e=>{if(e.is0()){if(t.allowInfinityPoint&&!r.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:n,y:i}=e.toAffine();if(!r.isValid(n)||!r.isValid(i))throw new Error("bad point: x or y not FE");if(!a(n,i))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0}));class f{constructor(e,t,n){if(null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t)||r.is0(t))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required");this.px=e,this.py=t,this.pz=n,Object.freeze(this)}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof f)throw new Error("projective point not allowed");const i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?f.ZERO:new f(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=DX(r,e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(f.fromAffine)}static fromHex(e){const t=f.fromAffine(s(hX("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return f.BASE.multiply(d(e))}static msm(e,t){return eQ(f,n,e,t)}_setWindowSize(e){y.setWindowSize(this,e)}assertValidity(){p(this)}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){u(e);const{px:t,py:n,pz:i}=this,{px:s,py:o,pz:a}=e,c=r.eql(r.mul(t,a),r.mul(s,i)),l=r.eql(r.mul(n,a),r.mul(o,i));return c&&l}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:n}=t,i=r.mul(n,lQ),{px:s,py:o,pz:a}=this;let c=r.ZERO,l=r.ZERO,d=r.ZERO,u=r.mul(s,s),h=r.mul(o,o),p=r.mul(a,a),g=r.mul(s,o);return g=r.add(g,g),d=r.mul(s,a),d=r.add(d,d),c=r.mul(e,d),l=r.mul(i,p),l=r.add(c,l),c=r.sub(h,l),l=r.add(h,l),l=r.mul(c,l),c=r.mul(g,c),d=r.mul(i,d),p=r.mul(e,p),g=r.sub(u,p),g=r.mul(e,g),g=r.add(g,d),d=r.add(u,u),u=r.add(d,u),u=r.add(u,p),u=r.mul(u,g),l=r.add(l,u),p=r.mul(o,a),p=r.add(p,p),u=r.mul(p,g),c=r.sub(c,u),d=r.mul(p,h),d=r.add(d,d),d=r.add(d,d),new f(c,l,d)}add(e){u(e);const{px:n,py:i,pz:s}=this,{px:o,py:a,pz:c}=e;let l=r.ZERO,d=r.ZERO,h=r.ZERO;const p=t.a,g=r.mul(t.b,lQ);let m=r.mul(n,o),y=r.mul(i,a),w=r.mul(s,c),b=r.add(n,i),v=r.add(o,a);b=r.mul(b,v),v=r.add(m,y),b=r.sub(b,v),v=r.add(n,s);let E=r.add(o,c);return v=r.mul(v,E),E=r.add(m,w),v=r.sub(v,E),E=r.add(i,s),l=r.add(a,c),E=r.mul(E,l),l=r.add(y,w),E=r.sub(E,l),h=r.mul(p,v),l=r.mul(g,w),h=r.add(l,h),l=r.sub(y,h),h=r.add(y,h),d=r.mul(l,h),y=r.add(m,m),y=r.add(y,m),w=r.mul(p,w),v=r.mul(g,v),y=r.add(y,w),w=r.sub(m,w),w=r.mul(p,w),v=r.add(v,w),m=r.mul(y,v),d=r.add(d,m),m=r.mul(E,v),l=r.mul(b,l),l=r.sub(l,m),m=r.mul(b,y),h=r.mul(E,h),h=r.add(h,m),new f(l,d,h)}subtract(e){return this.add(e.negate())}is0(){return this.equals(f.ZERO)}wNAF(e){return y.wNAFCached(this,e,f.normalizeZ)}multiplyUnsafe(e){const{endo:n,n:i}=t;yX("scalar",e,oQ,i);const s=f.ZERO;if(e===oQ)return s;if(this.is0()||e===aQ)return this;if(!n||y.hasPrecomputes(this))return y.wNAFCachedUnsafe(this,e,f.normalizeZ);let{k1neg:o,k1:a,k2neg:c,k2:l}=n.splitScalar(e),d=s,u=s,h=this;for(;a>oQ||l>oQ;)a&aQ&&(d=d.add(h)),l&aQ&&(u=u.add(h)),h=h.double(),a>>=aQ,l>>=aQ;return o&&(d=d.negate()),c&&(u=u.negate()),u=new f(r.mul(u.px,n.beta),u.py,u.pz),d.add(u)}multiply(e){const{endo:n,n:i}=t;let s,o;if(yX("scalar",e,aQ,i),n){const{k1neg:t,k1:i,k2neg:a,k2:c}=n.splitScalar(e);let{p:l,f:d}=this.wNAF(i),{p:u,f:h}=this.wNAF(c);l=y.constTimeNegate(t,l),u=y.constTimeNegate(a,u),u=new f(r.mul(u.px,n.beta),u.py,u.pz),s=l.add(u),o=d.add(h)}else{const{p:t,f:r}=this.wNAF(e);s=t,o=r}return f.normalizeZ([s,o])[0]}multiplyAndAddUnsafe(e,t,r){const n=f.BASE,i=(e,t)=>t!==oQ&&t!==aQ&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,r));return s.is0()?void 0:s}toAffine(e){return h(this,e)}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===aQ)return!0;if(r)return r(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===aQ?this:r?r(f,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return KJ("isCompressed",e),this.assertValidity(),i(f,this,e)}toHex(e=!0){return KJ("isCompressed",e),QJ(this.toRawBytes(e))}}f.BASE=new f(t.Gx,t.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);const{endo:g,nBitLength:m}=t,y=function(e,t){return{constTimeNegate:WX,hasPrecomputes:e=>1!==QX(e),unsafeLadder(t,r,n=e.ZERO){let i=t;for(;r>ZX;)r&qX&&(n=n.add(i)),i=i.double(),r>>=qX;return n},precomputeWindow(e,r){const{windows:n,windowSize:i}=GX(r,t),s=[];let o=e,a=o;for(let e=0;e<n;e++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(r,n,i){let s=e.ZERO,o=e.BASE;const a=GX(r,t);for(let e=0;e<a.windows;e++){const{nextN:t,offset:r,isZero:c,isNeg:l,isNegF:d,offsetF:u}=YX(i,e,a);i=t,c?o=o.add(WX(d,n[u])):s=s.add(WX(l,n[r]))}return{p:s,f:o}},wNAFUnsafe(r,n,i,s=e.ZERO){const o=GX(r,t);for(let e=0;e<o.windows&&i!==ZX;e++){const{nextN:t,offset:r,isZero:a,isNeg:c}=YX(i,e,o);if(i=t,!a){const e=n[r];s=s.add(c?e.negate():e)}}return s},getPrecomputes(e,t,r){let n=JX.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&JX.set(t,r(n))),n},wNAFCached(e,t,r){const n=QX(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){const i=QX(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){KX(r,t),XX.set(e,r),JX.delete(e)}}}(f,g?Math.ceil(m/2):m);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:function(e){return mX(e,aQ,t.n)}}}function hQ(e){const t=function(e){const t=tQ(e);return AX(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n,nByteLength:i,nBitLength:s}=t,o=r.BYTES+1,a=2*r.BYTES+1;function c(e){return OX(e,n)}function l(e){return RX(e,n)}const{ProjectivePoint:d,normPrivateKeyToScalar:u,weierstrassEquation:h,isWithinCurveOrder:p}=uQ({...t,toBytes(e,t,n){const i=t.toAffine(),s=r.toBytes(i.x),o=pX;return KJ("isCompressed",n),n?o(Uint8Array.from([t.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,r.toBytes(i.y))},fromBytes(e){const t=e.length,n=e[0],i=e.subarray(1);if(t!==o||2!==n&&3!==n){if(t===a&&4===n){return{x:r.fromBytes(i.subarray(0,r.BYTES)),y:r.fromBytes(i.subarray(r.BYTES,2*r.BYTES))}}throw new Error("invalid Point, expected length of "+o+", or uncompressed "+a+", got "+t)}{const e=cX(i);if(!mX(e,aQ,r.ORDER))throw new Error("Point is not on curve");const t=h(e);let s;try{s=r.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+t)}return!(1&~n)!==((s&aQ)===aQ)&&(s=r.neg(s)),{x:e,y:s}}}});function f(e){return e>n>>aQ}const g=(e,t,r)=>cX(e.slice(t,r));class m{constructor(e,t,r){yX("r",e,aQ,n),yX("s",t,aQ,n),this.r=e,this.s=t,null!=r&&(this.recovery=r),Object.freeze(this)}static fromCompact(e){const t=i;return e=hX("compactSignature",e,2*t),new m(g(e,0,t),g(e,t,2*t))}static fromDER(e){const{r:t,s:r}=iQ.toSig(hX("DER",e));return new m(t,r)}assertValidity(){}addRecoveryBit(e){return new m(this.r,this.s,e)}recoverPublicKey(e){const{r:n,s:i,recovery:s}=this,o=v(hX("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const a=2===s||3===s?n+t.n:n;if(a>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const u=1&s?"03":"02",h=d.fromHex(u+sQ(a,r.BYTES)),p=l(a),f=c(-o*p),g=c(i*p),m=d.BASE.multiplyAndAddUnsafe(h,f,g);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return aX(this.toDERHex())}toDERHex(){return iQ.hexFromSig(this)}toCompactRawBytes(){return aX(this.toCompactHex())}toCompactHex(){const e=i;return sQ(this.r,e)+sQ(this.s,e)}}const y={isValidPrivateKey(e){try{return u(e),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const e=VX(t.n);return function(e,t,r=!1){const n=e.length,i=FX(t),s=VX(t);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=OX(r?lX(e):cX(e),t-SX)+SX;return r?uX(o,i):dX(o,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=d.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function w(e){if("bigint"==typeof e)return!1;if(e instanceof d)return!0;const n=hX("key",e).length,s=r.BYTES,o=s+1,a=2*s+1;return t.allowedPrivateKeyLengths||i===o?void 0:n===o||n===a}const b=t.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const t=cX(e),r=8*e.length-s;return r>0?t>>BigInt(r):t},v=t.bits2int_modN||function(e){return c(b(e))},E=wX(s);function A(e){return yX("num < 2^"+s,e,oQ,E),dX(e,i)}function x(e,n,i=C){if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:o}=t;let{lowS:a,prehash:h,extraEntropy:g}=i;null==a&&(a=!0),e=hX("msgHash",e),rQ(i),h&&(e=hX("prehashed msgHash",s(e)));const y=v(e),w=u(n),E=[A(w),A(y)];if(null!=g&&!1!==g){const e=!0===g?o(r.BYTES):g;E.push(hX("extraEntropy",e))}const x=pX(...E),S=y;return{seed:x,k2sig:function(e){const t=b(e);if(!p(t))return;const r=l(t),n=d.BASE.multiply(t).toAffine(),i=c(n.x);if(i===oQ)return;const s=c(r*c(S+i*w));if(s===oQ)return;let o=(n.x===i?0:2)|Number(n.y&aQ),u=s;return a&&f(s)&&(u=function(e){return f(e)?c(-e):e}(s),o^=1),new m(i,u,o)}}}const C={lowS:t.lowS,prehash:!1},S={lowS:t.lowS,prehash:!1};return d.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return d.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(!0===w(e))throw new Error("first arg must be private key");if(!1===w(t))throw new Error("second arg must be public key");return d.fromHex(t).multiply(u(e)).toRawBytes(r)},sign:function(e,r,n=C){const{seed:i,k2sig:s}=x(e,r,n),o=t;return function(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=bX(e),i=bX(e),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...e)=>r(i,n,...e),c=(e=bX(0))=>{i=a(vX([0]),e),n=a(),0!==e.length&&(i=a(vX([1]),e),n=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){n=a();const t=n.slice();r.push(t),e+=n.length}return pX(...r)};return(e,t)=>{let r;for(o(),c(e);!(r=t(l()));)c();return o(),r}}(o.hash.outputLen,o.nByteLength,o.hmac)(i,s)},verify:function(e,r,n,i=S){const s=e;r=hX("msgHash",r),n=hX("publicKey",n);const{lowS:o,prehash:a,format:u}=i;if(rQ(i),"strict"in i)throw new Error("options.strict was renamed to lowS");if(void 0!==u&&"compact"!==u&&"der"!==u)throw new Error("format must be compact or der");const h="string"==typeof s||qJ(s),p=!h&&!u&&"object"==typeof s&&null!==s&&"bigint"==typeof s.r&&"bigint"==typeof s.s;if(!h&&!p)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let f,g;try{if(p&&(f=new m(s.r,s.s)),h){try{"compact"!==u&&(f=m.fromDER(s))}catch(e){if(!(e instanceof iQ.Err))throw e}!f&&"der"!==u&&(f=m.fromCompact(s))}g=d.fromHex(n)}catch{return!1}if(!f||o&&f.hasHighS())return!1;a&&(r=t.hash(r));const{r:y,s:w}=f,b=v(r),E=l(w),A=c(b*E),x=c(y*E),C=d.BASE.multiplyAndAddUnsafe(g,A,x)?.toAffine();return!!C&&c(C.x)===y},ProjectivePoint:d,Signature:m,utils:y}}function pQ(e){return{hash:e,hmac:(t,...r)=>ei(e,t,ze(...r)),randomBytes:Ze}}const fQ=cX;function gQ(e,t){if(yQ(e),yQ(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=255&e,e>>>=8;return new Uint8Array(r)}function mQ(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function yQ(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function wQ(e,t,r){AX(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:n,k:i,m:s,hash:o,expand:a,DST:c}=r;WJ(e),yQ(t);const l="string"==typeof c?fX(c):c,d=n.toString(2).length,u=Math.ceil((d+i)/8),h=t*s*u;let p;if("xmd"===a)p=function(e,t,r,n){WJ(e),WJ(t),yQ(r),t.length>255&&(t=n(pX(fX("H2C-OVERSIZE-DST-"),t)));const{outputLen:i,blockLen:s}=n,o=Math.ceil(r/i);if(r>65535||o>255)throw new Error("expand_message_xmd: invalid lenInBytes");const a=pX(t,gQ(t.length,1)),c=gQ(0,s),l=gQ(r,2),d=new Array(o),u=n(pX(c,e,l,gQ(0,1),a));d[0]=n(pX(u,gQ(1,1),a));for(let e=1;e<=o;e++){const t=[mQ(u,d[e-1]),gQ(e+1,1),a];d[e]=n(pX(...t))}return pX(...d).slice(0,r)}(e,l,h,o);else if("xof"===a)p=function(e,t,r,n,i){if(WJ(e),WJ(t),yQ(r),t.length>255){const e=Math.ceil(2*n/8);t=i.create({dkLen:e}).update(fX("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(e).update(gQ(r,2)).update(t).update(gQ(t.length,1)).digest()}(e,l,h,i,o);else{if("_internal_pass"!==a)throw new Error('expand must be "xmd" or "xof"');p=e}const f=new Array(t);for(let e=0;e<t;e++){const t=new Array(s);for(let r=0;r<s;r++){const i=u*(r+e*s),o=p.subarray(i,i+u);t[r]=OX(fQ(o),n)}f[e]=t}return f}const bQ=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),vQ=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),EQ=BigInt(0),AQ=BigInt(1),xQ=BigInt(2),CQ=(e,t)=>(e+t/xQ)/t;function SQ(e){const t=bQ,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,d=l*l*e%t,u=NX(d,r,t)*d%t,h=NX(u,r,t)*d%t,p=NX(h,xQ,t)*l%t,f=NX(p,i,t)*p%t,g=NX(f,s,t)*f%t,m=NX(g,a,t)*g%t,y=NX(m,c,t)*m%t,w=NX(y,a,t)*g%t,b=NX(w,r,t)*d%t,v=NX(b,o,t)*f%t,E=NX(v,n,t)*l%t,A=NX(E,xQ,t);if(!IQ.eql(IQ.sqr(A),e))throw new Error("Cannot find square root");return A}const IQ=zX(bQ,void 0,void 0,{sqrt:SQ}),_Q=function(e,t){const r=t=>hQ({...e,...pQ(t)});return{...r(t),create:r}}({a:EQ,b:BigInt(7),Fp:IQ,n:vQ,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=vQ,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-AQ*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=CQ(s*e,t),c=CQ(-n*e,t);let l=OX(e-a*r-c*i,t),d=OX(-a*n-c*s,t);const u=l>o,h=d>o;if(u&&(l=t-l),h&&(d=t-d),l>o||d>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:u,k1:l,k2neg:h,k2:d}}}},sr),kQ={};function PQ(e,...t){let r=kQ[e];if(void 0===r){const t=sr(Uint8Array.from(e,(e=>e.charCodeAt(0))));r=pX(t,t),kQ[e]=r}return sr(pX(r,...t))}const TQ=e=>e.toRawBytes(!0).slice(1),OQ=e=>dX(e,32),NQ=e=>OX(e,bQ),RQ=e=>OX(e,vQ),$Q=_Q.ProjectivePoint;function BQ(e){let t=_Q.utils.normPrivateKeyToScalar(e),r=$Q.fromPrivateKey(t);return{scalar:r.hasEvenY()?t:RQ(-t),bytes:TQ(r)}}function MQ(e){yX("x",e,AQ,bQ);const t=NQ(e*e);let r=SQ(NQ(t*e+BigInt(7)));r%xQ!==EQ&&(r=NQ(-r));const n=new $Q(e,r,AQ);return n.assertValidity(),n}const UQ=cX;function LQ(...e){return RQ(UQ(PQ("BIP0340/challenge",...e)))}function DQ(e,t,r){const n=hX("signature",e,64),i=hX("message",t),s=hX("publicKey",r,32);try{const e=MQ(UQ(s)),t=UQ(n.subarray(0,32));if(!mX(t,AQ,bQ))return!1;const r=UQ(n.subarray(32,64));if(!mX(r,AQ,vQ))return!1;const o=LQ(OQ(t),TQ(e),i),a=((e,t,r)=>$Q.BASE.multiplyAndAddUnsafe(e,t,r))(e,r,RQ(-o));return!(!a||!a.hasEvenY()||a.toAffine().x!==t)}catch{return!1}}const jQ={getPublicKey:function(e){return BQ(e).bytes},sign:function(e,t,r=Ze(32)){const n=hX("message",e),{bytes:i,scalar:s}=BQ(t),o=hX("auxRand",r,32),a=OQ(s^UQ(PQ("BIP0340/aux",o))),c=PQ("BIP0340/nonce",a,i,n),l=RQ(UQ(c));if(l===EQ)throw new Error("sign failed: k is zero");const{bytes:d,scalar:u}=BQ(l),h=LQ(d,i,n),p=new Uint8Array(64);if(p.set(d,0),p.set(OQ(RQ(u+h*s)),32),!DQ(p,n,i))throw new Error("sign: Invalid signature produced");return p},verify:DQ,utils:{randomPrivateKey:_Q.utils.randomPrivateKey,lift_x:MQ,pointToBytes:TQ,numberToBytesBE:dX,bytesToNumberBE:cX,taggedHash:PQ,mod:OX}},HQ=function(e,t){const r=t.map((e=>Array.from(e).reverse()));return(t,n)=>{const[i,s,o,a]=r.map((r=>r.reduce(((r,n)=>e.add(e.mul(r,t),n))))),[c,l]=DX(e,[s,a],!0);return t=e.mul(i,c),n=e.mul(n,e.mul(o,l)),{x:t,y:n}}}(IQ,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map((e=>e.map((e=>BigInt(e)))))),zQ=function(e,t){if(LX(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const r=function(e,t){const r=e.ORDER;let n=oQ;for(let e=r-aQ;e%cQ===oQ;e/=cQ)n+=aQ;const i=n,s=cQ<<i-aQ-aQ,o=s*cQ,a=(r-aQ)/o,c=(a-aQ)/cQ,l=o-aQ,d=s,u=e.pow(t,a),h=e.pow(t,(a+aQ)/cQ);let p=(t,r)=>{let n=u,s=e.pow(r,l),o=e.sqr(s);o=e.mul(o,r);let a=e.mul(t,o);a=e.pow(a,c),a=e.mul(a,s),s=e.mul(a,r),o=e.mul(a,t);let p=e.mul(o,s);a=e.pow(p,d);let f=e.eql(a,e.ONE);s=e.mul(o,h),a=e.mul(p,n),o=e.cmov(s,o,f),p=e.cmov(a,p,f);for(let t=i;t>aQ;t--){let r=t-cQ;r=cQ<<r-aQ;let i=e.pow(p,r);const a=e.eql(i,e.ONE);s=e.mul(o,n),n=e.mul(n,n),i=e.mul(p,n),o=e.cmov(s,o,a),p=e.cmov(i,p,a)}return{isValid:f,value:o}};if(e.ORDER%dQ===lQ){const r=(e.ORDER-lQ)/dQ,n=e.sqrt(e.neg(t));p=(t,i)=>{let s=e.sqr(i);const o=e.mul(t,i);s=e.mul(s,o);let a=e.pow(s,r);a=e.mul(a,o);const c=e.mul(a,n),l=e.mul(e.sqr(a),i),d=e.eql(l,t);return{isValid:d,value:e.cmov(c,a,d)}}}return p}(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,s,o,a,c,l,d,u;i=e.sqr(n),i=e.mul(i,t.Z),s=e.sqr(i),s=e.add(s,i),o=e.add(s,e.ONE),o=e.mul(o,t.B),a=e.cmov(t.Z,e.neg(s),!e.eql(s,e.ZERO)),a=e.mul(a,t.A),s=e.sqr(o),l=e.sqr(a),c=e.mul(l,t.A),s=e.add(s,c),s=e.mul(s,o),l=e.mul(l,a),c=e.mul(l,t.B),s=e.add(s,c),d=e.mul(i,o);const{isValid:h,value:p}=r(s,l);u=e.mul(i,n),u=e.mul(u,p),d=e.cmov(d,o,h),u=e.cmov(u,p,h);const f=e.isOdd(n)===e.isOdd(u);u=e.cmov(e.neg(u),u,f);const g=DX(e,[a],!0)[0];return d=e.mul(d,g),{x:d,y:u}}}(IQ,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:IQ.create(BigInt("-11"))}),FQ=function(e,t,r){if("function"!=typeof t)throw new Error("mapToCurve() must be defined");function n(r){return e.fromAffine(t(r))}function i(t){const r=t.clearCofactor();return r.equals(e.ZERO)?e.ZERO:(r.assertValidity(),r)}return{defaults:r,hashToCurve(e,t){const s=wQ(e,2,{...r,DST:r.DST,...t}),o=n(s[0]),a=n(s[1]);return i(o.add(a))},encodeToCurve:(e,t)=>i(n(wQ(e,1,{...r,DST:r.encodeDST,...t})[0])),mapToCurve(e){if(!Array.isArray(e))throw new Error("expected array of bigints");for(const t of e)if("bigint"!=typeof t)throw new Error("expected array of bigints");return i(n(e))}}}(_Q.ProjectivePoint,(e=>{const{x:t,y:r}=zQ(IQ.create(e[0]));return HQ(t,r)}),{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:IQ.ORDER,m:1,k:128,expand:"xmd",hash:sr});var VQ=Object.freeze({__proto__:null,secp256k1:_Q,schnorr:jQ,secp256k1_hasher:FQ,hashToCurve:FQ.hashToCurve,encodeToCurve:FQ.encodeToCurve});function ZQ({r:e,s:t,to:r="hex",v:n,yParity:i}){const s=(()=>{if(0===i||1===i)return i;if(n&&(27n===n||28n===n||n>=35n))return n%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new _Q.Signature(Aj(e),Aj(t)).toCompactHex()}${0===s?"1b":"1c"}`;return"hex"===r?o:Lj(o)}async function qQ(e,t){const{address:r,hash:n,erc6492VerifierAddress:i=t.universalSignatureVerifierAddress??e.chain?.contracts?.erc6492Verifier?.address,multicallAddress:s=t.multicallAddress??e.chain?.contracts?.multicall3?.address}=t,o=(()=>{const e=t.signature;return OD(e)?e:"object"==typeof e&&"r"in e&&"s"in e?ZQ(e):Pj(e)})();try{return cJ(o)?await async function(e,t){const{address:r,blockNumber:n,blockTag:i,hash:s,multicallAddress:o}=t,{authorization:a,data:c,signature:l,to:d}=aJ(t.signature);if(await XW(e,{address:r,blockNumber:n,blockTag:i})===rH(["0xef0100",a.address]))return await async function(e,t){const{address:r,blockNumber:n,blockTag:i,hash:s,signature:o}=t;if((await kD(e,$q,"readContract")({address:r,abi:hq,args:[s,o],blockNumber:n,blockTag:i,functionName:"isValidSignature"}).catch((e=>{throw e instanceof gz?new WQ:e}))).startsWith("0x1626ba7e"))return!0;throw new WQ}(e,{address:r,blockNumber:n,blockTag:i,hash:s,signature:l});const u={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:Tj(a.r,{size:32}),s:Tj(a.s,{size:32}),yParity:a.yParity};if(!await async function({address:e,authorization:t,signature:r}){return fV(Yj(e),await cF({authorization:t,signature:r}))}({address:r,authorization:u}))throw new WQ;const h=await kD(e,$q,"readContract")({...o?{address:o}:{code:bq},authorizationList:[u],abi:sq,blockNumber:n,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:d??r,callData:c}]:[],{allowFailure:!0,target:r,callData:_H({abi:hq,functionName:"isValidSignature",args:[s,l]})}]]});if(h[h.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new WQ}(e,{...t,multicallAddress:s,signature:o}):await async function(e,t){const{address:r,factory:n,factoryData:i,hash:s,signature:o,verifierAddress:a,...c}=t,l=await(async()=>!n&&!i||zJ(o)?o:function(e){const{data:t,signature:r,to:n}=e;return UZ($G(MG("address, bytes, bytes"),[n,t,r]),HJ)}({data:i,signature:o,to:n}))(),d=a?{to:a,data:_H({abi:pq,functionName:"isValidSig",args:[r,s,l]}),...c}:{data:Iq({abi:pq,args:[r,s,l],bytecode:wq}),...c},{data:u}=await kD(e,Nq,"call")(d).catch((e=>{throw e instanceof fz?new WQ:e}));if(xj(u??"0x0"))return!0;throw new WQ}(e,{...t,verifierAddress:i,signature:o})}catch(e){try{if(fV(Yj(r),await nF({hash:n,signature:o})))return!0}catch{}if(e instanceof WQ)return!1;throw e}}class WQ extends Error{}function KQ(e,{emitOnBegin:t=!1,emitMissed:r=!1,onBlockNumber:n,onError:i,poll:s,pollingInterval:o=e.pollingInterval}){let a;return(typeof s<"u"?s:!("webSocket"===e.transport.type||"ipc"===e.transport.type||"fallback"===e.transport.type&&("webSocket"===e.transport.transports[0].config.type||"ipc"===e.transport.transports[0].config.type)))?Dq(qH(["watchBlockNumber",e.uid,t,r,o]),{onBlockNumber:n,onError:i},(n=>Hq((async()=>{try{const t=await kD(e,qq,"getBlockNumber")({cacheTime:0});if(void 0!==a){if(t===a)return;if(t-a>1&&r)for(let e=a+1n;e<t;e++)n.onBlockNumber(e,a),a=e}(void 0===a||t>a)&&(n.onBlockNumber(t,a),a=t)}catch(e){n.onError?.(e)}}),{emitOnBegin:t,interval:o}))):Dq(qH(["watchBlockNumber",e.uid,t,r]),{onBlockNumber:n,onError:i},(t=>{let r=!0,n=()=>r=!1;return(async()=>{try{const i=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find((e=>"webSocket"===e.config.type||"ipc"===e.config.type));return t?t.value:e.transport}return e.transport})(),{unsubscribe:s}=await i.subscribe({params:["newHeads"],onData(e){if(!r)return;const n=Aj(e.result?.number);t.onBlockNumber(n,a),a=n},onError(e){t.onError?.(e)}});n=s,r||n()}catch(e){i?.(e)}})(),()=>n()}))}async function GQ(e,t){const{checkReplacement:r=!0,confirmations:n=1,hash:i,onReplaced:s,retryCount:o=6,retryDelay:a=({count:e})=>200*(1<<e),timeout:c=18e4}=t,l=qH(["waitForTransactionReceipt",e.uid,i]),d=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval;let u,h,p,f,g,m=!1;const{promise:y,resolve:w,reject:b}=Pq(),v=c?setTimeout((()=>{g?.(),f?.(),b(new pz({hash:i}))}),c):void 0;return f=Dq(l,{onReplaced:s,resolve:w,reject:b},(async t=>{if(p=await kD(e,xJ,"getTransactionReceipt")({hash:i}).catch((()=>{})),p&&n<=1)return clearTimeout(v),t.resolve(p),void f?.();g=kD(e,KQ,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:d,async onBlockNumber(s){const c=e=>{clearTimeout(v),g?.(),e(),f?.()};let l=s;if(!m)try{if(p){if(n>1&&(!p.blockNumber||l-p.blockNumber+1n<n))return;return void c((()=>t.resolve(p)))}if(r&&!u&&(m=!0,await aW((async()=>{u=await kD(e,AJ,"getTransaction")({hash:i}),u.blockNumber&&(l=u.blockNumber)}),{delay:a,retryCount:o}),m=!1),p=await kD(e,xJ,"getTransactionReceipt")({hash:i}),n>1&&(!p.blockNumber||l-p.blockNumber+1n<n))return;c((()=>t.resolve(p)))}catch(r){if(r instanceof dz||r instanceof uz){if(!u)return void(m=!1);try{h=u,m=!0;const r=await aW((()=>kD(e,zF,"getBlock")({blockNumber:l,includeTransactions:!0})),{delay:a,retryCount:o,shouldRetry:({error:e})=>e instanceof MF});m=!1;const i=r.transactions.find((({from:e,nonce:t})=>e===h.from&&t===h.nonce));if(!i||(p=await kD(e,xJ,"getTransactionReceipt")({hash:i.hash}),n>1&&(!p.blockNumber||l-p.blockNumber+1n<n)))return;let s="replaced";i.to===h.to&&i.value===h.value&&i.input===h.input?s="repriced":i.from===i.to&&0n===i.value&&(s="cancelled"),c((()=>{t.onReplaced?.({reason:s,replacedTransaction:h,transaction:i,transactionReceipt:p}),t.resolve(p)}))}catch(e){c((()=>t.reject(e)))}}else c((()=>t.reject(r)))}}})})),y}const YQ=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,JQ=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;async function XQ(e,t){const{address:r,domain:n,message:i,nonce:s,scheme:o,signature:a,time:c=new Date,...l}=t,d=function(e){const{scheme:t,statement:r,...n}=e.match(YQ)?.groups??{},{chainId:i,expirationTime:s,issuedAt:o,notBefore:a,requestId:c,...l}=e.match(JQ)?.groups??{},d=e.split("Resources:")[1]?.split("\n- ").slice(1);return{...n,...l,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...d?{resources:d}:{},...t?{scheme:t}:{},...r?{statement:r}:{}}}(i);if(!d.address||!function(e){const{address:t,domain:r,message:n,nonce:i,scheme:s,time:o=new Date}=e;if(r&&n.domain!==r||i&&n.nonce!==i||s&&n.scheme!==s||n.expirationTime&&o>=n.expirationTime||n.notBefore&&o<n.notBefore)return!1;try{if(!n.address||!Qj(n.address,{strict:!1})||t&&!fV(n.address,t))return!1}catch{return!1}return!0}({address:r,domain:n,message:d,nonce:s,scheme:o,time:c}))return!1;const u=MK(i);return qQ(e,{address:d.address,hash:u,signature:a,...l})}async function QQ(e,{serializedTransaction:t,throwOnReceiptRevert:r,timeout:n}){const i=await e.request({method:"eth_sendRawTransactionSync",params:n?[t,Tj(n)]:[t]},{retryCount:0}),s=(e.chain?.formatters?.transactionReceipt?.format||lW)(i);if("reverted"===s.status&&r)throw new hz({receipt:s});return s}function e0(e){return{call:t=>Nq(e,t),createAccessList:t=>GW(e,t),createBlockFilter:()=>async function(e){const t=AH(e,{method:"eth_newBlockFilter"}),r=await e.request({method:"eth_newBlockFilter"});return{id:r,request:t(r),type:"block"}}(e),createContractEventFilter:t=>xH(e,t),createEventFilter:t=>YW(e,t),createPendingTransactionFilter:()=>JW(e),estimateContractGas:t=>pV(e,t),estimateGas:t=>hV(e,t),getBalance:t=>async function(e,{address:t,blockNumber:r,blockTag:n=e.experimental_blockTag??"latest"}){const i="bigint"==typeof r?Tj(r):void 0,s=await e.request({method:"eth_getBalance",params:[t,i||n]});return BigInt(s)}(e,t),getBlobBaseFee:()=>async function(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}(e),getBlock:t=>zF(e,t),getBlockNumber:t=>qq(e,t),getBlockTransactionCount:t=>async function(e,{blockHash:t,blockNumber:r,blockTag:n="latest"}={}){const i=void 0!==r?Tj(r):void 0;let s;return s=t?await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):await e.request({method:"eth_getBlockTransactionCountByNumber",params:[i||n]},{dedupe:!!i}),Cj(s)}(e,t),getBytecode:t=>XW(e,t),getChainId:()=>cV(e),getCode:t=>XW(e,t),getContractEvents:t=>EV(e,t),getEip712Domain:t=>async function(e,t){const{address:r,factory:n,factoryData:i}=t;try{const[t,s,o,a,c,l,d]=await kD(e,$q,"readContract")({abi:eK,address:r,functionName:"eip712Domain",factory:n,factoryData:i});return{domain:{name:s,version:o,chainId:Number(a),verifyingContract:c,salt:l},extensions:d,fields:t}}catch(e){const t=e;throw"ContractFunctionExecutionError"===t.name&&"ContractFunctionZeroDataError"===t.cause.name?new QW({address:r}):t}}(e,t),getEnsAddress:t=>async function(e,t){const{blockNumber:r,blockTag:n,coinType:i,name:s,gatewayUrls:o,strict:a}=t,{chain:c}=e,l=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return _q({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})(),d=c?.ensTlds;if(d&&!d.some((e=>s.endsWith(e))))return null;const u=null!=i?[TW(s),BigInt(i)]:[TW(s)];try{const t=_H({abi:uq,functionName:"addr",args:u}),i={address:l,abi:cq,functionName:"resolveWithGateways",args:[_j(RW(s)),t,o??[_W]],blockNumber:r,blockTag:n},a=await kD(e,$q,"readContract")(i);if("0x"===a[0])return null;const c=xV({abi:uq,args:u,functionName:"addr",data:a[0]});return"0x"===c||"0x00"===vj(c)?null:c}catch(e){if(a)throw e;if(EW(e))return null;throw e}}(e,t),getEnsAvatar:t=>async function(e,{blockNumber:t,blockTag:r,assetGatewayUrls:n,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){const c=await kD(e,KW,"getEnsText")({blockNumber:t,blockTag:r,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:s,strict:o});if(!c)return null;try{return await WW(e,{record:c,gatewayUrls:n})}catch{return null}}(e,t),getEnsName:t=>async function(e,t){const{address:r,blockNumber:n,blockTag:i,coinType:s=60n,gatewayUrls:o,strict:a}=t,{chain:c}=e,l=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return _q({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})();try{const t={address:l,abi:lq,args:[r,s,o??[_W]],functionName:"reverseWithGateways",blockNumber:n,blockTag:i},a=kD(e,$q,"readContract"),[c]=await a(t);return c||null}catch(e){if(a)throw e;if(EW(e))return null;throw e}}(e,t),getEnsResolver:t=>async function(e,t){const{blockNumber:r,blockTag:n,name:i}=t,{chain:s}=e,o=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!s)throw new Error("client chain not configured. universalResolverAddress is required.");return _q({blockNumber:r,chain:s,contract:"ensUniversalResolver"})})(),a=s?.ensTlds;if(a&&!a.some((e=>i.endsWith(e))))throw new Error(`${i} is not a valid ENS TLD (${a?.join(", ")}) for chain "${s.name}" (id: ${s.id}).`);const[c]=await kD(e,$q,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[_j(RW(i))],blockNumber:r,blockTag:n});return c}(e,t),getEnsText:t=>KW(e,t),getFeeHistory:t=>tK(e,t),estimateFeesPerGas:t=>async function(e,t){return ZF(e,t)}(e,t),getFilterChanges:e=>Wq(0,e),getFilterLogs:e=>async function(e,{filter:t}){const r=t.strict??!1,n=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map((e=>bV(e)));return t.abi?wV({abi:t.abi,logs:n,strict:r}):n}(0,e),getGasPrice:()=>FF(e),getLogs:t=>vV(e,t),getProof:t=>EJ(e,t),estimateMaxPriorityFeePerGas:t=>async function(e,t){return VF(e,t)}(e,t),getStorageAt:t=>async function(e,{address:t,blockNumber:r,blockTag:n="latest",slot:i}){const s=void 0!==r?Tj(r):void 0;return await e.request({method:"eth_getStorageAt",params:[t,i,s||n]})}(e,t),getTransaction:t=>AJ(e,t),getTransactionConfirmations:t=>async function(e,{hash:t,transactionReceipt:r}){const[n,i]=await Promise.all([kD(e,qq,"getBlockNumber")({}),t?kD(e,AJ,"getTransaction")({hash:t}):void 0]),s=r?.blockNumber||i?.blockNumber;return s?n-s+1n:0n}(e,t),getTransactionCount:t=>qF(e,t),getTransactionReceipt:t=>xJ(e,t),multicall:t=>async function(e,t){const{account:r,authorizationList:n,allowFailure:i=!0,blockNumber:s,blockOverrides:o,blockTag:a,stateOverride:c}=t,l=t.contracts,{batchSize:d=t.batchSize??1024,deployless:u=t.deployless??!1}="object"==typeof e.batch?.multicall?e.batch.multicall:{},h=(()=>{if(t.multicallAddress)return t.multicallAddress;if(u)return null;if(e.chain)return _q({blockNumber:s,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),p=[[]];let f=0,g=0;for(let e=0;e<l.length;e++){const{abi:t,address:n,args:s,functionName:o}=l[e];try{const e=_H({abi:t,args:s,functionName:o});g+=(e.length-2)/2,d>0&&g>d&&p[f].length>0&&(f++,g=(e.length-2)/2,p[f]=[]),p[f]=[...p[f],{allowFailure:!0,callData:e,target:n}]}catch(e){const a=eF(e,{abi:t,address:n,args:s,docsPath:"/docs/contract/multicall",functionName:o,sender:r});if(!i)throw a;p[f]=[...p[f],{allowFailure:!0,callData:"0x",target:n}]}}const m=await Promise.allSettled(p.map((t=>kD(e,$q,"readContract")({...null===h?{code:bq}:{address:h},abi:sq,account:r,args:[t],authorizationList:n,blockNumber:s,blockOverrides:o,blockTag:a,functionName:"aggregate3",stateOverride:c})))),y=[];for(let e=0;e<m.length;e++){const t=m[e];if("rejected"===t.status){if(!i)throw t.reason;for(let r=0;r<p[e].length;r++)y.push({status:"failure",error:t.reason,result:void 0});continue}const r=t.value;for(let t=0;t<r.length;t++){const{returnData:n,success:s}=r[t],{callData:o}=p[e][t],{abi:a,address:c,functionName:d,args:u}=l[y.length];try{if("0x"===o)throw new jD;if(!s)throw new bz({data:n});const e=xV({abi:a,args:u,data:n,functionName:d});y.push(i?{result:e,status:"success"}:e)}catch(e){const t=eF(e,{abi:a,address:c,args:u,docsPath:"/docs/contract/multicall",functionName:d});if(!i)throw t;y.push({error:t,result:void 0,status:"failure"})}}}if(y.length!==l.length)throw new BD("multicall results mismatch");return y}(e,t),prepareTransactionRequest:t=>uV(e,t),readContract:t=>$q(e,t),sendRawTransaction:t=>eW(e,t),sendRawTransactionSync:t=>QQ(e,t),simulate:t=>CJ(e,t),simulateBlocks:t=>CJ(e,t),simulateCalls:t=>jJ(e,t),simulateContract:t=>Bq(e,t),verifyHash:t=>qQ(e,t),verifyMessage:t=>async function(e,{address:t,message:r,factory:n,factoryData:i,signature:s,...o}){return qQ(e,{address:t,factory:n,factoryData:i,hash:MK(r),signature:s,...o})}(e,t),verifySiweMessage:t=>XQ(e,t),verifyTypedData:t=>async function(e,t){const{address:r,factory:n,factoryData:i,signature:s,message:o,primaryType:a,types:c,domain:l,...d}=t;return qQ(e,{address:r,factory:n,factoryData:i,hash:VK({message:o,primaryType:a,types:c,domain:l}),signature:s,...d})}(e,t),uninstallFilter:e=>Kq(0,e),waitForTransactionReceipt:t=>GQ(e,t),watchBlocks:t=>function(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:r=!1,emitOnBegin:n=!1,onBlock:i,onError:s,includeTransactions:o,poll:a,pollingInterval:c=e.pollingInterval}){const l=typeof a<"u"?a:!("webSocket"===e.transport.type||"ipc"===e.transport.type||"fallback"===e.transport.type&&("webSocket"===e.transport.transports[0].config.type||"ipc"===e.transport.transports[0].config.type)),d=o??!1;let u;return l?Dq(qH(["watchBlocks",e.uid,t,r,n,d,c]),{onBlock:i,onError:s},(i=>Hq((async()=>{try{const n=await kD(e,zF,"getBlock")({blockTag:t,includeTransactions:d});if(null!==n.number&&null!=u?.number){if(n.number===u.number)return;if(n.number-u.number>1&&r)for(let t=u?.number+1n;t<n.number;t++){const r=await kD(e,zF,"getBlock")({blockNumber:t,includeTransactions:d});i.onBlock(r,u),u=r}}(null==u?.number||"pending"===t&&null==n?.number||null!==n.number&&n.number>u.number)&&(i.onBlock(n,u),u=n)}catch(e){i.onError?.(e)}}),{emitOnBegin:n,interval:c}))):(()=>{let r=!0,o=!0,a=()=>r=!1;return(async()=>{try{n&&kD(e,zF,"getBlock")({blockTag:t,includeTransactions:d}).then((e=>{r&&o&&(i(e,void 0),o=!1)})).catch(s);const c=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find((e=>"webSocket"===e.config.type||"ipc"===e.config.type));return t?t.value:e.transport}return e.transport})(),{unsubscribe:l}=await c.subscribe({params:["newHeads"],async onData(t){if(!r)return;const n=await kD(e,zF,"getBlock")({blockNumber:t.result?.number,includeTransactions:d}).catch((()=>{}));r&&(i(n,u),o=!1,u=n)},onError(e){s?.(e)}});a=l,r||a()}catch(e){s?.(e)}})(),()=>a()})()}(e,t),watchBlockNumber:t=>KQ(e,t),watchContractEvent:t=>Gq(e,t),watchEvent:t=>function(e,{address:t,args:r,batch:n=!0,event:i,events:s,fromBlock:o,onError:a,onLogs:c,poll:l,pollingInterval:d=e.pollingInterval,strict:u}){const h=typeof l<"u"?l:"bigint"==typeof o||!("webSocket"===e.transport.type||"ipc"===e.transport.type||"fallback"===e.transport.type&&("webSocket"===e.transport.transports[0].config.type||"ipc"===e.transport.transports[0].config.type)),p=u??!1;return h?Dq(qH(["watchEvent",t,r,n,e.uid,i,d,o]),{onLogs:c,onError:a},(a=>{let c;void 0!==o&&(c=o-1n);let l,u=!1;const h=Hq((async()=>{if(u)try{let o;if(l)o=await kD(e,Wq,"getFilterChanges")({filter:l});else{const n=await kD(e,qq,"getBlockNumber")({});o=c&&c!==n?await kD(e,vV,"getLogs")({address:t,args:r,event:i,events:s,fromBlock:c+1n,toBlock:n}):[],c=n}if(0===o.length)return;if(n)a.onLogs(o);else for(const e of o)a.onLogs([e])}catch(e){l&&e instanceof Nz&&(u=!1),a.onError?.(e)}else{try{l=await kD(e,YW,"createEventFilter")({address:t,args:r,event:i,events:s,strict:p,fromBlock:o})}catch{}u=!0}}),{emitOnBegin:!0,interval:d});return async()=>{l&&await kD(e,Kq,"uninstallFilter")({filter:l}),h()}})):(()=>{let n=!0,o=()=>n=!1;return(async()=>{try{const l=(()=>{if("fallback"===e.transport.type){const t=e.transport.transports.find((e=>"webSocket"===e.config.type||"ipc"===e.config.type));return t?t.value:e.transport}return e.transport})(),d=s??(i?[i]:void 0);let h=[];d&&(h=[d.flatMap((e=>vH({abi:[e],eventName:e.name,args:r})))],i&&(h=h[0]));const{unsubscribe:f}=await l.subscribe({params:["logs",{address:t,topics:h}],onData(e){if(!n)return;const t=e.result;try{const{eventName:e,args:r}=mV({abi:d??[],data:t.data,topics:t.topics,strict:p}),n=bV(t,{args:r,eventName:e});c([n])}catch(e){let r,n;if(e instanceof tj||e instanceof rj){if(u)return;r=e.abiItem.name,n=e.abiItem.inputs?.some((e=>!("name"in e&&e.name)))}const i=bV(t,{args:n?[]:{},eventName:r});c([i])}},onError(e){a?.(e)}});o=f,n||o()}catch(e){a?.(e)}})(),()=>o()})()}(e,t),watchPendingTransactions:t=>function(e,{batch:t=!0,onError:r,onTransactions:n,poll:i,pollingInterval:s=e.pollingInterval}){return(typeof i<"u"?i:"webSocket"!==e.transport.type&&"ipc"!==e.transport.type)?Dq(qH(["watchPendingTransactions",e.uid,t,s]),{onTransactions:n,onError:r},(r=>{let n;const i=Hq((async()=>{try{if(!n)try{return void(n=await kD(e,JW,"createPendingTransactionFilter")({}))}catch(e){throw i(),e}const s=await kD(e,Wq,"getFilterChanges")({filter:n});if(0===s.length)return;if(t)r.onTransactions(s);else for(const e of s)r.onTransactions([e])}catch(e){r.onError?.(e)}}),{emitOnBegin:!0,interval:s});return async()=>{n&&await kD(e,Kq,"uninstallFilter")({filter:n}),i()}})):(()=>{let t=!0,i=()=>t=!1;return(async()=>{try{const{unsubscribe:s}=await e.transport.subscribe({params:["newPendingTransactions"],onData(e){if(!t)return;const r=e.result;n([r])},onError(e){r?.(e)}});i=s,t||i()}catch(e){r?.(e)}})(),()=>i()})()}(e,t)}}function t0({mode:e}){return t=>{const r=t.extend((()=>({mode:e})));return{dropTransaction:e=>async function(e,{hash:t}){await e.request({method:`${e.mode}_dropTransaction`,params:[t]})}(r,e),dumpState:()=>async function(e){return e.request({method:`${e.mode}_dumpState`})}(r),getAutomine:()=>async function(e){return"ganache"===e.mode?await e.request({method:"eth_mining"}):await e.request({method:`${e.mode}_getAutomine`})}(r),getTxpoolContent:()=>async function(e){return await e.request({method:"txpool_content"})}(r),getTxpoolStatus:()=>async function(e){const{pending:t,queued:r}=await e.request({method:"txpool_status"});return{pending:Cj(t),queued:Cj(r)}}(r),impersonateAccount:e=>async function(e,{address:t}){await e.request({method:`${e.mode}_impersonateAccount`,params:[t]})}(r,e),increaseTime:e=>async function(e,{seconds:t}){return await e.request({method:"evm_increaseTime",params:[Tj(t)]})}(r,e),inspectTxpool:()=>async function(e){return await e.request({method:"txpool_inspect"})}(r),loadState:e=>async function(e,{state:t}){await e.request({method:`${e.mode}_loadState`,params:[t]})}(r,e),mine:e=>async function(e,{blocks:t,interval:r}){"ganache"===e.mode?await e.request({method:"evm_mine",params:[{blocks:Tj(t)}]}):await e.request({method:`${e.mode}_mine`,params:[Tj(t),Tj(r||0)]})}(r,e),removeBlockTimestampInterval:()=>async function(e){await e.request({method:`${e.mode}_removeBlockTimestampInterval`})}(r),reset:e=>async function(e,{blockNumber:t,jsonRpcUrl:r}={}){await e.request({method:`${e.mode}_reset`,params:[{forking:{blockNumber:Number(t),jsonRpcUrl:r}}]})}(r,e),revert:e=>async function(e,{id:t}){await e.request({method:"evm_revert",params:[t]})}(r,e),sendUnsignedTransaction:e=>async function(e,t){const{accessList:r,data:n,from:i,gas:s,gasPrice:o,maxFeePerGas:a,maxPriorityFeePerGas:c,nonce:l,to:d,value:u,...h}=t,p=e.chain?.formatters?.transactionRequest?.format,f=(p||IF)({...xF(h,{format:p}),accessList:r,data:n,from:i,gas:s,gasPrice:o,maxFeePerGas:a,maxPriorityFeePerGas:c,nonce:l,to:d,value:u},"sendUnsignedTransaction");return await e.request({method:"eth_sendUnsignedTransaction",params:[f]})}(r,e),setAutomine:e=>async function(e,t){"ganache"===e.mode?t?await e.request({method:"miner_start"}):await e.request({method:"miner_stop"}):await e.request({method:"evm_setAutomine",params:[t]})}(r,e),setBalance:e=>async function(e,{address:t,value:r}){"ganache"===e.mode?await e.request({method:"evm_setAccountBalance",params:[t,Tj(r)]}):await e.request({method:`${e.mode}_setBalance`,params:[t,Tj(r)]})}(r,e),setBlockGasLimit:e=>async function(e,{gasLimit:t}){await e.request({method:"evm_setBlockGasLimit",params:[Tj(t)]})}(r,e),setBlockTimestampInterval:e=>async function(e,{interval:t}){const r="hardhat"===e.mode?1e3*t:t;await e.request({method:`${e.mode}_setBlockTimestampInterval`,params:[r]})}(r,e),setCode:e=>async function(e,{address:t,bytecode:r}){"ganache"===e.mode?await e.request({method:"evm_setAccountCode",params:[t,r]}):await e.request({method:`${e.mode}_setCode`,params:[t,r]})}(r,e),setCoinbase:e=>async function(e,{address:t}){await e.request({method:`${e.mode}_setCoinbase`,params:[t]})}(r,e),setIntervalMining:e=>async function(e,{interval:t}){const r="hardhat"===e.mode?1e3*t:t;await e.request({method:"evm_setIntervalMining",params:[r]})}(r,e),setLoggingEnabled:e=>async function(e,t){await e.request({method:`${e.mode}_setLoggingEnabled`,params:[t]})}(r,e),setMinGasPrice:e=>async function(e,{gasPrice:t}){await e.request({method:`${e.mode}_setMinGasPrice`,params:[Tj(t)]})}(r,e),setNextBlockBaseFeePerGas:e=>async function(e,{baseFeePerGas:t}){await e.request({method:`${e.mode}_setNextBlockBaseFeePerGas`,params:[Tj(t)]})}(r,e),setNextBlockTimestamp:e=>async function(e,{timestamp:t}){await e.request({method:"evm_setNextBlockTimestamp",params:[Tj(t)]})}(r,e),setNonce:e=>async function(e,{address:t,nonce:r}){await e.request({method:`${e.mode}_setNonce`,params:[t,Tj(r)]})}(r,e),setRpcUrl:e=>async function(e,t){await e.request({method:`${e.mode}_setRpcUrl`,params:[t]})}(r,e),setStorageAt:e=>async function(e,{address:t,index:r,value:n}){await e.request({method:`${e.mode}_setStorageAt`,params:[t,"number"==typeof r?Tj(r):r,n]})}(r,e),snapshot:()=>async function(e){return await e.request({method:"evm_snapshot"})}(r),stopImpersonatingAccount:e=>async function(e,{address:t}){await e.request({method:`${e.mode}_stopImpersonatingAccount`,params:[t]})}(r,e)}}}async function r0(e,t){const{account:r=e.account,chainId:n,nonce:i}=t;if(!r)throw new Yq({docsPath:"/docs/eip7702/prepareAuthorization"});const s=CH(r),o=(()=>{if(t.executor)return"self"===t.executor?t.executor:CH(t.executor)})(),a={address:t.contractAddress??t.address,chainId:n,nonce:i};return typeof a.chainId>"u"&&(a.chainId=e.chain?.id??await kD(e,cV,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await kD(e,qF,"getTransactionCount")({address:s.address,blockTag:"pending"}),("self"===o||o?.address&&fV(o.address,s.address))&&(a.nonce+=1)),a}const n0=new Wj(128);async function i0(e,t){const{account:r=e.account,chain:n=e.chain,accessList:i,authorizationList:s,blobs:o,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:d,maxFeePerGas:u,maxPriorityFeePerGas:h,nonce:p,pollingInterval:f,throwOnReceiptRevert:g,type:m,value:y,...w}=t,b=t.timeout??Math.max(3*(n?.blockTime??0),5e3);if(typeof r>"u")throw new Yq({docsPath:"/docs/actions/wallet/sendTransactionSync"});const v=r?CH(r):null;try{NF(t);const r=await(async()=>t.to?t.to:null!==t.to&&s&&s.length>0?await cF({authorization:s[0]}).catch((()=>{throw new BD("`to` is required. Could not infer from `authorizationList`.")})):void 0)();if("json-rpc"===v?.type||null===v){let t;null!==n&&(t=await kD(e,cV,"getChainId")({}),Xq({currentChainId:t,chain:n}));const E=e.chain?.formatters?.transactionRequest?.format,A=(E||IF)({...xF(w,{format:E}),accessList:i,authorizationList:s,blobs:o,chainId:t,data:a,from:v?.address,gas:c,gasPrice:l,maxFeePerBlobGas:d,maxFeePerGas:u,maxPriorityFeePerGas:h,nonce:p,to:r,type:m,value:y},"sendTransaction"),x=n0.get(e.uid),C=x?"wallet_sendTransaction":"eth_sendTransaction",S=await(async()=>{try{return await e.request({method:C,params:[A]},{retryCount:0})}catch(t){if(!1===x)throw t;const r=t;if("InvalidInputRpcError"===r.name||"InvalidParamsRpcError"===r.name||"MethodNotFoundRpcError"===r.name||"MethodNotSupportedRpcError"===r.name)return await e.request({method:"wallet_sendTransaction",params:[A]},{retryCount:0}).then((t=>(n0.set(e.uid,!0),t))).catch((t=>{const n=t;throw"MethodNotFoundRpcError"===n.name||"MethodNotSupportedRpcError"===n.name?(n0.set(e.uid,!1),r):n}));throw r}})(),I=await kD(e,GQ,"waitForTransactionReceipt")({checkReplacement:!1,hash:S,pollingInterval:f,timeout:b});if(g&&"reverted"===I.status)throw new hz({receipt:I});return I}if("local"===v?.type){const t=await kD(e,uV,"prepareTransactionRequest")({account:v,accessList:i,authorizationList:s,blobs:o,chain:n,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:d,maxFeePerGas:u,maxPriorityFeePerGas:h,nonce:p,nonceManager:v.nonceManager,parameters:[...lV,"sidecars"],type:m,value:y,...w,to:r}),f=n?.serializers?.transaction,b=await v.signTransaction(t,{serializer:f});return await kD(e,QQ,"sendRawTransactionSync")({serializedTransaction:b,throwOnReceiptRevert:g})}throw new Jq("smart"===v?.type?{metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}:{docsPath:"/docs/actions/wallet/sendTransactionSync",type:v?.type})}catch(e){throw e instanceof Jq?e:Qq(e,{...t,account:v,chain:t.chain||void 0})}}function s0(e){return{addChain:t=>async function(e,{chain:t}){const{id:r,name:n,nativeCurrency:i,rpcUrls:s,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:Tj(r),chainName:n,nativeCurrency:i,rpcUrls:s.default.http,blockExplorerUrls:o?Object.values(o).map((({url:e})=>e)):void 0}]},{dedupe:!0,retryCount:0})}(e,t),deployContract:t=>function(e,t){const{abi:r,args:n,bytecode:i,...s}=t,o=Iq({abi:r,args:n,bytecode:i});return rW(e,{...s,...s.authorizationList?{to:null}:{},data:o})}(e,t),getAddresses:()=>async function(e){return"local"===e.account?.type?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map((e=>Gj(e)))}(e),getCallsStatus:t=>fW(e,t),getCapabilities:t=>async function(e,t={}){const{account:r=e.account,chainId:n}=t,i=r?CH(r):void 0,s=n?[i?.address,[Tj(n)]]:[i?.address],o=await e.request({method:"wallet_getCapabilities",params:s}),a={};for(const[e,t]of Object.entries(o)){a[Number(e)]={};for(let[r,n]of Object.entries(t))"addSubAccount"===r&&(r="unstable_addSubAccount"),a[Number(e)][r]=n}return"number"==typeof n?a[n]:a}(e,t),getChainId:()=>cV(e),getPermissions:()=>async function(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}(e),prepareAuthorization:t=>r0(e,t),prepareTransactionRequest:t=>uV(e,t),requestAddresses:()=>async function(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map((e=>Yj(e)))}(e),requestPermissions:t=>async function(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}(e,t),sendCalls:t=>pW(e,t),sendCallsSync:t=>async function(e,t){const{chain:r=e.chain}=t,n=t.timeout??Math.max(3*(r?.blockTime??0),5e3),i=await pW(e,t);return await gW(e,{...t,id:i.id,timeout:n})}(e,t),sendRawTransaction:t=>eW(e,t),sendRawTransactionSync:t=>QQ(e,t),sendTransaction:t=>rW(e,t),sendTransactionSync:t=>i0(e,t),showCallsStatus:t=>async function(e,t){const{id:r}=t;await e.request({method:"wallet_showCallsStatus",params:[r]})}(e,t),signAuthorization:t=>async function(e,t){const{account:r=e.account}=t;if(!r)throw new Yq({docsPath:"/docs/eip7702/signAuthorization"});const n=CH(r);if(!n.signAuthorization)throw new Jq({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:n.type});const i=await r0(e,t);return n.signAuthorization(i)}(e,t),signMessage:t=>async function(e,{account:t=e.account,message:r}){if(!t)throw new Yq({docsPath:"/docs/actions/wallet/signMessage"});const n=CH(t);if(n.signMessage)return n.signMessage({message:r});const i="string"==typeof r?Nj(r):r.raw instanceof Uint8Array?_j(r.raw):r.raw;return e.request({method:"personal_sign",params:[i,n.address]},{retryCount:0})}(e,t),signTransaction:t=>async function(e,t){const{account:r=e.account,chain:n=e.chain,...i}=t;if(!r)throw new Yq({docsPath:"/docs/actions/wallet/signTransaction"});const s=CH(r);NF({account:s,...t});const o=await kD(e,cV,"getChainId")({});null!==n&&Xq({currentChainId:o,chain:n});const a=(n?.formatters||e.chain?.formatters)?.transactionRequest?.format||IF;return s.signTransaction?s.signTransaction({...i,chainId:o},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...a(i,"signTransaction"),chainId:Tj(o),from:s.address}]},{retryCount:0})}(e,t),signTypedData:t=>async function(e,t){const{account:r=e.account,domain:n,message:i,primaryType:s}=t;if(!r)throw new Yq({docsPath:"/docs/actions/wallet/signTypedData"});const o=CH(r),a={EIP712Domain:zK({domain:n}),...t.types};if(HK({domain:n,message:i,primaryType:s,types:a}),o.signTypedData)return o.signTypedData({domain:n,message:i,primaryType:s,types:a});const c=jK({domain:n,message:i,primaryType:s,types:a});return e.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}(e,t),switchChain:t=>async function(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:Tj(t)}]},{retryCount:0})}(e,t),waitForCallsStatus:t=>gW(e,t),watchAsset:t=>async function(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}(e,t),writeContract:t=>nW(e,t),writeContractSync:t=>async function(e,t){return nW.internal(e,i0,"sendTransactionSync",t)}(e,t)}}function o0({key:e,methods:t,name:r,request:n,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},c){return{config:{key:e,methods:t,name:r,request:n,retryCount:i,retryDelay:s,timeout:o,type:a},request:gK(n,{methods:t,retryCount:i,retryDelay:s,uid:bW()}),value:c}}function a0(e,t={}){const{key:r="fallback",name:n="Fallback",rank:i=!1,shouldThrow:s=c0,retryCount:o,retryDelay:a}=t;return({chain:t,pollingInterval:c=4e3,timeout:l,...d})=>{let u=e,h=()=>{};const p=o0({key:r,name:n,async request({method:e,params:r}){let n;const i=async(o=0)=>{const a=u[o]({...d,chain:t,retryCount:0,timeout:l});try{const t=await a.request({method:e,params:r});return h({method:e,params:r,response:t,transport:a,status:"success"}),t}catch(c){if(h({error:c,method:e,params:r,transport:a,status:"error"}),s(c)||o===u.length-1||(n??=u.slice(o+1).some((r=>{const{include:n,exclude:i}=r({chain:t}).config.methods||{};return n?n.includes(e):!i||!i.includes(e)})),!n))throw c;return i(o+1)}};return i()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:e=>h=e,transports:u.map((e=>e({chain:t,retryCount:0})))});if(i){const e="object"==typeof i?i:{};!function({chain:e,interval:t=4e3,onTransports:r,ping:n,sampleCount:i=10,timeout:s=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,d=[],u=async()=>{const a=await Promise.all(o.map((async t=>{const r=t({chain:e,retryCount:0,timeout:s}),i=Date.now();let o,a;try{await(n?n({transport:r}):r.request({method:"net_listening"})),a=1}catch{a=0}finally{o=Date.now()}return{latency:o-i,success:a}})));d.push(a),d.length>i&&d.shift();const h=Math.max(...d.map((e=>Math.max(...e.map((({latency:e})=>e)))))),p=o.map(((e,t)=>{const r=d.map((e=>e[t].latency)),n=1-r.reduce(((e,t)=>e+t),0)/r.length/h,i=d.map((e=>e[t].success)),s=i.reduce(((e,t)=>e+t),0)/i.length;return 0===s?[0,t]:[l*n+c*s,t]})).sort(((e,t)=>t[0]-e[0]));r(p.map((([,e])=>o[e]))),await jq(t),u()};u()}({chain:t,interval:e.interval??c,onTransports:e=>u=e,ping:e.ping,sampleCount:e.sampleCount,timeout:e.timeout,transports:u,weights:e.weights})}return p}}function c0(e){return!(!("code"in e)||"number"!=typeof e.code||e.code!==Bz.code&&e.code!==Dz.code&&!dF.nodeMessage.test(e.message)&&5e3!==e.code)}class l0 extends BD{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function d0(e,t={}){const{batch:r,fetchFn:n,fetchOptions:i,key:s="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:l,retryDelay:d,raw:u}=t;return({chain:h,retryCount:p,timeout:f})=>{const{batchSize:g=1e3,wait:m=0}="object"==typeof r?r:{},y=t.retryCount??p,w=f??t.timeout??1e4,b=e||h?.rpcUrls.default.http[0];if(!b)throw new l0;const v=function(e,t={}){return{async request(r){const{body:n,fetchFn:i=t.fetchFn??fetch,onRequest:s=t.onRequest,onResponse:o=t.onResponse,timeout:a=t.timeout??1e4}=r,c={...t.fetchOptions??{},...r.fetchOptions??{}},{headers:l,method:d,signal:u}=c;try{const t=await TK((async({signal:t})=>{const r={...c,body:Array.isArray(n)?qH(n.map((e=>({jsonrpc:"2.0",id:e.id??OK.take(),...e})))):qH({jsonrpc:"2.0",id:n.id??OK.take(),...n}),headers:{"Content-Type":"application/json",...l},method:d||"POST",signal:u||(a>0?t:null)},o=new Request(e,r),h=await(s?.(o,r))??{...r,url:e};return await i(h.url??e,h)}),{errorInstance:new Cz({body:n,url:e}),timeout:a,signal:!0});let r;if(o&&await o(t),t.headers.get("Content-Type")?.startsWith("application/json"))r=await t.json();else{r=await t.text();try{r=JSON.parse(r||"{}")}catch(e){if(t.ok)throw e;r={error:r}}}if(!t.ok)throw new vz({body:n,details:qH(r.error)||t.statusText,headers:t.headers,status:t.status,url:e});return r}catch(t){throw t instanceof vz||t instanceof Cz?t:new vz({body:n,cause:t,url:e})}}}}(b,{fetchFn:n,fetchOptions:i,onRequest:c,onResponse:l,timeout:w});return o0({key:s,methods:o,name:a,async request({method:e,params:t}){const n={method:e,params:t},{schedule:i}=Oq({id:b,wait:m,shouldSplitBatch:e=>e.length>g,fn:e=>v.request({body:e}),sort:(e,t)=>e.id-t.id}),[{error:s,result:o}]=await(async e=>r?i(e):[await v.request({body:e})])(n);if(u)return{error:s,result:o};if(s)throw new Az({body:n,error:s,url:b});return o},retryCount:y,retryDelay:d,timeout:w,type:"http"},{fetchOptions:i,url:b})}}class u0 extends Error{constructor(e,t){super(t),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=e,this.details=t}}const h0="/docs/contract/decodeDeployData";function p0({blobToKzgCommitment:e,computeBlobKzgProof:t}){return{blobToKzgCommitment:e,computeBlobKzgProof:t}}function f0(e){const{r:t,s:r}=_Q.Signature.fromCompact(e.slice(2,130));return{r:Tj(t,{size:32}),yParityAndS:Tj(r,{size:32})}}function g0(e){const{r:t,s:r}=_Q.Signature.fromCompact(e.slice(2,130)),n=+`0x${e.slice(130)}`,[i,s]=(()=>{if(0===n||1===n)return[void 0,n];if(27===n)return[BigInt(n),0];if(28===n)return[BigInt(n),1];throw new Error("Invalid yParityOrV value")})();return typeof i<"u"?{r:Tj(t,{size:32}),s:Tj(r,{size:32}),v:i,yParity:s}:{r:Tj(t,{size:32}),s:Tj(r,{size:32}),yParity:s}}function m0({r:e,yParityAndS:t}){return`0x${new _Q.Signature(Aj(e),Aj(t)).toCompactHex()}`}var y0=Object.freeze({__proto__:null,CircularReferenceError:uD,InvalidAbiItemError:XL,InvalidAbiParameterError:tD,InvalidAbiParametersError:rD,InvalidAbiTypeParameterError:aD,InvalidFunctionModifierError:oD,InvalidModifierError:sD,InvalidParameterError:nD,InvalidParenthesisError:hD,InvalidSignatureError:cD,InvalidStructSignatureError:dD,parseAbi:SD,parseAbiItem:ID,parseAbiParameter:function(e){let t;if("string"==typeof e)t=wD(e,{modifiers:GL});else{const r=AD(e),n=e.length;for(let i=0;i<n;i++){const n=e[i];if(!VL(n)){t=wD(n,{modifiers:GL,structs:r});break}}}if(!t)throw new tD({param:e});return t},parseAbiParameters:_D,SolidityProtectedKeywordError:iD,UnknownSignatureError:lD,UnknownTypeError:QL,getContract:function({abi:e,address:t,client:r}){const n=r,[i,s]=n?"public"in n&&"wallet"in n?[n.public,n.wallet]:"public"in n?[n.public,void 0]:"wallet"in n?[void 0,n.wallet]:[n,n]:[void 0,void 0],o=null!=i,a=null!=s,c={};let l=!1,d=!1,u=!1;for(const t of e)if("function"===t.type?"view"===t.stateMutability||"pure"===t.stateMutability?l=!0:d=!0:"event"===t.type&&(u=!0),l&&d&&u)break;return o&&(l&&(c.read=new Proxy({},{get:(r,n)=>(...r)=>{const{args:s,options:o}=iW(r);return kD(i,$q,"readContract")({abi:e,address:t,functionName:n,args:s,...o})}})),d&&(c.simulate=new Proxy({},{get:(r,n)=>(...r)=>{const{args:s,options:o}=iW(r);return kD(i,Bq,"simulateContract")({abi:e,address:t,functionName:n,args:s,...o})}})),u&&(c.createEventFilter=new Proxy({},{get:(r,n)=>(...r)=>{const s=e.find((e=>"event"===e.type&&e.name===n)),{args:o,options:a}=sW(r,s);return kD(i,xH,"createContractEventFilter")({abi:e,address:t,eventName:n,args:o,...a})}}),c.getEvents=new Proxy({},{get:(r,n)=>(...r)=>{const s=e.find((e=>"event"===e.type&&e.name===n)),{args:o,options:a}=sW(r,s);return kD(i,EV,"getContractEvents")({abi:e,address:t,eventName:n,args:o,...a})}}),c.watchEvent=new Proxy({},{get:(r,n)=>(...r)=>{const s=e.find((e=>"event"===e.type&&e.name===n)),{args:o,options:a}=sW(r,s);return kD(i,Gq,"watchContractEvent")({abi:e,address:t,eventName:n,args:o,...a})}}))),a&&d&&(c.write=new Proxy({},{get:(r,n)=>(...r)=>{const{args:i,options:o}=iW(r);return kD(s,nW,"writeContract")({abi:e,address:t,functionName:n,args:i,...o})}})),(o||a)&&d&&(c.estimateGas=new Proxy({},{get:(r,n)=>(...r)=>{const{args:o,options:a}=iW(r);return kD(i??s,pV,"estimateContractGas")({abi:e,address:t,functionName:n,args:o,...a,account:a.account??s.account})}})),c.address=t,c.abi=e,c},WaitForCallsStatusTimeoutError:mW,createClient:vW,rpcSchema:function(){return null},createPublicClient:function(e){const{key:t="public",name:r="Public Client"}=e;return vW({...e,key:t,name:r,type:"publicClient"}).extend(e0)},createTestClient:function(e){const{key:t="test",name:r="Test Client",mode:n}=e;return vW({...e,key:t,name:r,type:"testClient"}).extend((e=>({mode:n,...t0({mode:n})(e)})))},createWalletClient:function(e){const{key:t="wallet",name:r="Wallet Client",transport:n}=e;return vW({...e,key:t,name:r,transport:n,type:"walletClient"}).extend(s0)},publicActions:e0,testActions:t0,walletActions:s0,createTransport:o0,custom:function(e,t={}){const{key:r="custom",methods:n,name:i="Custom Provider",retryDelay:s}=t;return({retryCount:o})=>o0({key:r,methods:n,name:i,request:e.request.bind(e),retryCount:t.retryCount??o,retryDelay:s,type:"custom"})},fallback:a0,shouldThrow:c0,http:d0,webSocket:function(e,t={}){const{keepAlive:r,key:n="webSocket",methods:i,name:s="WebSocket JSON-RPC",reconnect:o,retryDelay:a}=t;return({chain:c,retryCount:l,timeout:d})=>{const u=t.retryCount??l,h=d??t.timeout??1e4,p=e||c?.rpcUrls.default.webSocket?.[0],f={keepAlive:r,reconnect:o};if(!p)throw new l0;return o0({key:n,methods:i,name:s,async request({method:e,params:t}){const r={method:e,params:t},n=await RK(p,f),{error:i,result:s}=await n.requestAsync({body:r,timeout:h});if(i)throw new Az({body:r,error:i,url:p});return s},retryCount:u,retryDelay:a,timeout:h,type:"webSocket"},{getSocket:()=>async function(e){const t=await RK(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}(p),getRpcClient:()=>RK(p,f),async subscribe({params:e,onData:t,onError:r}){const n=await RK(p,f),{result:i}=await new Promise(((i,s)=>n.request({body:{method:"eth_subscribe",params:e},onError(e){s(e),r?.(e)},onResponse(e){if(e.error)return s(e.error),void r?.(e.error);"number"!=typeof e.id?"eth_subscription"===e.method&&t(e.params):i(e)}})));return{subscriptionId:i,unsubscribe:async()=>new Promise((e=>n.request({body:{method:"eth_unsubscribe",params:[i]},onResponse:e})))}}})}},erc20Abi:fq,erc20Abi_bytes32:[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],erc721Abi:[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"event",name:"ApprovalForAll",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"payable",inputs:[{name:"spender",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"getApproved",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"address"}]},{type:"function",name:"isApprovedForAll",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],outputs:[{type:"bool"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"ownerOf",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"owner",type:"address"}]},{type:"function",name:"safeTransferFrom",stateMutability:"payable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"safeTransferFrom",stateMutability:"nonpayable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"id",type:"uint256"},{name:"data",type:"bytes"}],outputs:[]},{type:"function",name:"setApprovalForAll",stateMutability:"nonpayable",inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],outputs:[]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"index",type:"uint256"}],outputs:[{type:"uint256"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],outputs:[{name:"tokenId",type:"uint256"}]},{type:"function",name:"tokenURI",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transferFrom",stateMutability:"payable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]}],erc1155Abi:[{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC1155InsufficientBalance",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC1155InvalidApprover",type:"error"},{inputs:[{internalType:"uint256",name:"idsLength",type:"uint256"},{internalType:"uint256",name:"valuesLength",type:"uint256"}],name:"ERC1155InvalidArrayLength",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"ERC1155InvalidOperator",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC1155InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC1155InvalidSender",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"ERC1155MissingApprovalForAll",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],erc4626Abi:[{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!0,name:"owner",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"asset",outputs:[{name:"assetTokenAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"convertToAssets",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"convertToShares",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"}],name:"deposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxDeposit",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxMint",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxRedeem",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxWithdraw",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"}],name:"mint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewDeposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewMint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewRedeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewWithdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"redeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalAssets",outputs:[{name:"totalManagedAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"withdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],erc6492SignatureValidatorAbi:pq,universalSignatureValidatorAbi:pq,multicall3Abi:sq,ethAddress:LJ,zeroAddress:DJ,zeroHash:"0x0000000000000000000000000000000000000000000000000000000000000000",deploylessCallViaBytecodeBytecode:mq,deploylessCallViaFactoryBytecode:yq,erc6492SignatureValidatorByteCode:wq,universalSignatureValidatorByteCode:wq,maxInt8:127n,maxInt16:32767n,maxInt24:8388607n,maxInt32:2n**31n-1n,maxInt40:2n**39n-1n,maxInt48:2n**47n-1n,maxInt56:2n**55n-1n,maxInt64:2n**63n-1n,maxInt72:2n**71n-1n,maxInt80:2n**79n-1n,maxInt88:2n**87n-1n,maxInt96:2n**95n-1n,maxInt104:2n**103n-1n,maxInt112:2n**111n-1n,maxInt120:2n**119n-1n,maxInt128:2n**127n-1n,maxInt136:2n**135n-1n,maxInt144:2n**143n-1n,maxInt152:2n**151n-1n,maxInt160:2n**159n-1n,maxInt168:2n**167n-1n,maxInt176:2n**175n-1n,maxInt184:2n**183n-1n,maxInt192:2n**191n-1n,maxInt200:2n**199n-1n,maxInt208:2n**207n-1n,maxInt216:2n**215n-1n,maxInt224:2n**223n-1n,maxInt232:2n**231n-1n,maxInt240:2n**239n-1n,maxInt248:2n**247n-1n,maxInt256:2n**255n-1n,maxUint8:255n,maxUint16:65535n,maxUint24:2n**24n-1n,maxUint32:2n**32n-1n,maxUint40:2n**40n-1n,maxUint48:2n**48n-1n,maxUint56:2n**56n-1n,maxUint64:2n**64n-1n,maxUint72:2n**72n-1n,maxUint80:2n**80n-1n,maxUint88:2n**88n-1n,maxUint96:2n**96n-1n,maxUint104:2n**104n-1n,maxUint112:2n**112n-1n,maxUint120:2n**120n-1n,maxUint128:2n**128n-1n,maxUint136:2n**136n-1n,maxUint144:2n**144n-1n,maxUint152:2n**152n-1n,maxUint160:2n**160n-1n,maxUint168:2n**168n-1n,maxUint176:2n**176n-1n,maxUint184:2n**184n-1n,maxUint192:2n**192n-1n,maxUint200:2n**200n-1n,maxUint208:2n**208n-1n,maxUint216:2n**216n-1n,maxUint224:2n**224n-1n,maxUint232:2n**232n-1n,maxUint240:2n**240n-1n,maxUint248:2n**248n-1n,maxUint256:OF,minInt8:-128n,minInt16:-32768n,minInt24:-8388608n,minInt32:-(2n**31n),minInt40:-(2n**39n),minInt48:-(2n**47n),minInt56:-(2n**55n),minInt64:-(2n**63n),minInt72:-(2n**71n),minInt80:-(2n**79n),minInt88:-(2n**87n),minInt96:-(2n**95n),minInt104:-(2n**103n),minInt112:-(2n**111n),minInt120:-(2n**119n),minInt128:-(2n**127n),minInt136:-(2n**135n),minInt144:-(2n**143n),minInt152:-(2n**151n),minInt160:-(2n**159n),minInt168:-(2n**167n),minInt176:-(2n**175n),minInt184:-(2n**183n),minInt192:-(2n**191n),minInt200:-(2n**199n),minInt208:-(2n**207n),minInt216:-(2n**215n),minInt224:-(2n**223n),minInt232:-(2n**231n),minInt240:-(2n**239n),minInt248:-(2n**247n),minInt256:-(2n**255n),presignMessagePrefix:$K,etherUnits:KH,gweiUnits:GH,weiUnits:{ether:-18,gwei:-9},AbiConstructorNotFoundError:UD,AbiConstructorParamsNotFoundError:LD,AbiDecodingDataSizeInvalidError:class extends BD{constructor({data:e,size:t}){super([`Data size of ${t} bytes is invalid.`,"Size must be in increments of 32 bytes (size % 32 === 0)."].join("\n"),{metaMessages:[`Data: ${e} (${t} bytes)`],name:"AbiDecodingDataSizeInvalidError"})}},AbiDecodingDataSizeTooSmallError:DD,AbiDecodingZeroDataError:jD,AbiEncodingArrayLengthMismatchError:HD,AbiEncodingBytesSizeMismatchError:zD,AbiEncodingLengthMismatchError:FD,AbiErrorInputsNotFoundError:VD,AbiErrorNotFoundError:ZD,AbiErrorSignatureNotFoundError:qD,AbiEventNotFoundError:GD,AbiEventSignatureEmptyTopicsError:WD,AbiEventSignatureNotFoundError:KD,AbiFunctionNotFoundError:YD,AbiFunctionOutputsNotFoundError:JD,AbiFunctionSignatureNotFoundError:XD,BytesSizeMismatchError:ej,DecodeLogDataMismatch:tj,DecodeLogTopicsMismatch:rj,InvalidAbiDecodingTypeError:ij,InvalidAbiEncodingTypeError:nj,InvalidArrayError:sj,InvalidDefinitionTypeError:oj,UnsupportedPackedAbiType:aj,InvalidAddressError:qj,BaseError:BD,setErrorConfig:function(e){$D=e},BlockNotFoundError:MF,BundleFailedError:oW,ChainDoesNotSupportContract:vq,ChainMismatchError:Eq,ChainNotFoundError:Aq,ClientChainNotConfiguredError:xq,InvalidChainIdError:Cq,CallExecutionError:fz,ContractFunctionExecutionError:gz,ContractFunctionRevertedError:mz,ContractFunctionZeroDataError:yz,CounterfactualDeploymentFailedError:wz,RawContractError:bz,SizeExceedsPaddingSizeError:dj,SliceOffsetOutOfBoundsError:lj,IntegerOutOfRangeError:gj,InvalidBytesBooleanError:mj,InvalidHexBooleanError:yj,InvalidHexValueError:wj,SizeOverflowError:bj,EnsAvatarInvalidNftUriError:BW,EnsAvatarUnsupportedNamespaceError:UW,EnsAvatarUriResolutionError:MW,EnsInvalidChainIdError:LW,EstimateGasExecutionError:lF,BaseFeeScalarError:RF,Eip1559FeesNotSupportedError:$F,MaxFeePerGasTooLowError:BF,FilterTypeNotSupportedError:cj,ExecutionRevertedError:dF,FeeCapTooHighError:uF,FeeCapTooLowError:hF,InsufficientFundsError:mF,IntrinsicGasTooHighError:yF,IntrinsicGasTooLowError:wF,NonceMaxValueError:gF,NonceTooHighError:pF,NonceTooLowError:fF,TipAboveFeeCapError:vF,TransactionTypeNotSupportedError:bF,UnknownNodeError:EF,HttpRequestError:vz,RpcRequestError:Az,SocketClosedError:xz,TimeoutError:Cz,WebSocketRequestError:Ez,AtomicityNotSupportedError:Jz,AtomicReadyWalletRejectedUpgradeError:Yz,BundleTooLargeError:Gz,ChainDisconnectedError:Fz,DuplicateIdError:Wz,InternalRpcError:Oz,InvalidInputRpcError:Nz,InvalidParamsRpcError:Tz,InvalidRequestRpcError:kz,JsonRpcVersionUnsupportedError:Lz,LimitExceededRpcError:Uz,MethodNotFoundRpcError:Pz,MethodNotSupportedRpcError:Mz,ParseRpcError:_z,ProviderDisconnectedError:zz,ProviderRpcError:Iz,ResourceNotFoundRpcError:Rz,ResourceUnavailableRpcError:$z,RpcError:Sz,SwitchChainError:Vz,TransactionRejectedRpcError:Bz,UnauthorizedProviderError:jz,UnknownBundleIdError:Kz,UnknownRpcError:Xz,UnsupportedChainIdError:qz,UnsupportedNonOptionalCapabilityError:Zz,UnsupportedProviderMethodError:Hz,UserRejectedRequestError:Dz,AccountStateConflictError:QH,StateAssignmentConflictError:ez,FeeConflictError:nz,InvalidLegacyVError:iz,InvalidSerializableTransactionError:sz,InvalidSerializedTransactionError:az,InvalidSerializedTransactionTypeError:oz,InvalidStorageKeySizeError:cz,TransactionExecutionError:lz,TransactionNotFoundError:dz,TransactionReceiptNotFoundError:uz,WaitForTransactionReceiptTimeoutError:pz,UrlRequiredError:l0,InvalidDomainError:UK,InvalidPrimaryTypeError:LK,InvalidStructTypeError:DK,InvalidDecimalNumberError:wJ,EIP1193ProviderRpcError:u0,decodeAbiParameters:jH,decodeDeployData:function(e){const{abi:t,bytecode:r,data:n}=e;if(n===r)return{bytecode:r};const i=t.find((e=>"type"in e&&"constructor"===e.type));if(!i)throw new UD({docsPath:h0});if(!("inputs"in i))throw new LD({docsPath:h0});if(!i.inputs||0===i.inputs.length)throw new LD({docsPath:h0});return{args:jH(i.inputs,`0x${n.replace(r,"")}`),bytecode:r}},decodeErrorResult:ZH,decodeEventLog:mV,decodeFunctionData:AW,decodeFunctionResult:xV,encodeAbiParameters:uH,encodeDeployData:Iq,encodeErrorResult:CW,encodeEventTopics:vH,encodeFunctionData:_H,encodeFunctionResult:IW,encodePacked:function(e,t){if(e.length!==t.length)throw new FD({expectedLength:e.length,givenLength:t.length});const r=[];for(let n=0;n<e.length;n++){const i=e[n],s=t[n];r.push(rK(i,s))}return rH(r)},getAbiItem:mH,parseEventLogs:wV,prepareEncodeFunctionData:IH,checksumAddress:Gj,getAddress:Yj,getContractAddress:function(e){return"CREATE2"===e.opcode?sK(e):iK(e)},getCreate2Address:sK,getCreateAddress:iK,isAddress:Qj,isAddressEqual:fV,blobsToCommitments:WF,blobsToProofs:KF,commitmentsToVersionedHashes:JF,commitmentToVersionedHash:YF,fromBlobs:function(e){const t=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),r="string"==typeof e.blobs[0]?e.blobs.map((e=>Lj(e))):e.blobs,n=r.reduce(((e,t)=>e+t.length),0),i=BH(new Uint8Array(n));let s=!0;for(const e of r){const t=BH(e);for(;s&&t.position<e.length;){t.incrementPosition(1);let r=31;e.length-t.position<31&&(r=e.length-t.position);for(const e in Array.from({length:r})){const e=t.readByte();if(128===e&&!t.inspectBytes(t.remaining).includes(128)){s=!1;break}i.pushByte(e)}}}const o=i.bytes.slice(0,i.position);return"hex"===t?Pj(o):o},sidecarsToVersionedHashes:function(e){const{sidecars:t,version:r}=e,n=e.to??("string"==typeof t[0].blob?"hex":"bytes"),i=[];for(const{commitment:e}of t)i.push(YF({commitment:e,to:n,version:r}));return i},toBlobSidecars:oV,toBlobs:sV,ccipRequest:AK,ccipFetch:AK,offchainLookup:EK,offchainLookupAbiItem:vK,offchainLookupSignature:bK,assertCurrentChain:Xq,defineChain:function(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}},extractChain:function({chains:e,id:t}){return e.find((e=>e.id===t))},getChainContractAddress:_q,concat:eH,concatBytes:tH,concatHex:rH,isBytes:nK,isHex:OD,pad:hj,padBytes:fj,padHex:pj,size:ND,slice:nH,sliceBytes:oH,sliceHex:aH,trim:vj,bytesToBigInt:MH,bytesToBool:UH,bytesToNumber:LH,bytesToString:DH,fromBytes:function(e,t){const r="string"==typeof t?{to:t}:t,n=r.to;return"number"===n?LH(e,r):"bigint"===n?MH(e,r):"boolean"===n?UH(e,r):"string"===n?DH(e,r):Pj(e,r)},fromHex:function(e,t){const r="string"==typeof t?{to:t}:t,n=r.to;return"number"===n?Cj(e,r):"bigint"===n?Aj(e,r):"string"===n?Sj(e,r):"boolean"===n?xj(e,r):Lj(e,r)},hexToBigInt:Aj,hexToBool:xj,hexToNumber:Cj,hexToString:Sj,fromRlp:CK,boolToBytes:Bj,hexToBytes:Lj,numberToBytes:Dj,stringToBytes:jj,toBytes:$j,boolToHex:kj,bytesToHex:Pj,numberToHex:Tj,stringToHex:Nj,toHex:_j,bytesToRlp:function(e,t="bytes"){return iF(e,t)},hexToRlp:function(e,t="hex"){return iF(e,t)},toRlp:iF,labelhash:NW,namehash:TW,toCoinType:function(e){if(1===e)return 60n;if(e>=2147483648||e<0)throw new LW({chainId:e});return BigInt((2147483648|e)>>>0)},getContractError:eF,defineBlock:HF,formatBlock:jF,formatLog:bV,defineTransaction:DF,formatTransaction:LF,transactionType:UF,defineTransactionReceipt:dW,formatTransactionReceipt:lW,defineTransactionRequest:_F,formatTransactionRequest:IF,rpcTransactionType:SF,isHash:_K,keccak256:Hj,ripemd160:function(e,t){const r=t||"hex",n=ht(OD(e,{strict:!1})?$j(e):e);return"bytes"===r?n:_j(n)},sha256:GF,toEventHash:Vj,toEventSelector:Zj,getEventSelector:Zj,toEventSignature:Fj,getEventSignature:Fj,toFunctionHash:Vj,toFunctionSelector:gH,getFunctionSelector:gH,toFunctionSignature:Fj,getFunctionSignature:Fj,defineKzg:p0,setupKzg:function(e,t){try{e.loadTrustedSetup(t)}catch(e){const t=e;if(!t.message.includes("trusted setup is already loaded"))throw t}return p0(e)},createNonceManager:kK,nonceManager:PK,withCache:Vq,withRetry:aW,withTimeout:TK,compactSignatureToSignature:function({r:e,yParityAndS:t}){const r=Lj(t),n=128&r[0]?1:0,i=r;return 1===n&&(i[0]&=127),{r:e,s:Pj(i),yParity:n}},hashMessage:MK,hashDomain:ZK,hashStruct:qK,hashTypedData:VK,isErc6492Signature:XK,isErc8010Signature:dJ,hexToCompactSignature:f0,parseCompactSignature:f0,parseErc6492Signature:function(e){if(!XK(e))return{signature:e};const[t,r,n]=jH([{type:"address"},{type:"bytes"},{type:"bytes"}],e);return{address:t,data:r,signature:n}},parseErc8010Signature:function(e){if(!dJ(e))return{signature:e};const{authorization:t,to:r,...n}=aJ(e);return{authorization:{address:t.address,chainId:t.chainId,nonce:Number(t.nonce),r:Tj(t.r,{size:32}),s:Tj(t.s,{size:32}),yParity:t.yParity},...r?{address:r}:{},...n}},hexToSignature:g0,parseSignature:g0,recoverAddress:nF,recoverMessageAddress:uJ,recoverPublicKey:tF,recoverTransactionAddress:async function(e){const{serializedTransaction:t,signature:r}=e,n=fJ(t),i=r??{r:n.r,s:n.s,v:n.v,yParity:n.yParity},s=hK({...n,r:void 0,s:void 0,v:void 0,yParity:void 0,sidecars:void 0});return await nF({hash:Hj(s),signature:i})},recoverTypedDataAddress:hJ,compactSignatureToHex:m0,serializeCompactSignature:m0,serializeErc6492Signature:function(e){const{address:t,data:r,signature:n,to:i="hex"}=e,s=rH([uH([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,r,n]),JK]);return"hex"===i?s:Lj(s)},serializeErc8010Signature:function(e){const{address:t,data:r,signature:n,to:i="hex"}=e,s=function(e){const{data:t,signature:r}=e;oJ(e);const n=nJ({payload:rJ(e.authorization),signature:qY(e.authorization)}),i=$G(sJ,[{...e.authorization,delegation:e.authorization.address,chainId:BigInt(e.authorization.chainId)},e.to??n,t??"0x"]);return UZ(r,i,HZ(qZ(i),{size:32}),iJ)}({authorization:{address:e.authorization.address,chainId:e.authorization.chainId,nonce:BigInt(e.authorization.nonce),r:BigInt(e.authorization.r),s:BigInt(e.authorization.s),yParity:e.authorization.yParity},data:r,signature:n,to:t});return"hex"===i?s:Lj(s)},signatureToHex:ZQ,serializeSignature:ZQ,signatureToCompactSignature:function(e){const{r:t,s:r,v:n,yParity:i}=e;let s=r;if(1===Number(i??n-27n)){const e=Lj(r);e[0]|=128,s=Pj(e)}return{r:t,yParityAndS:s}},toPrefixedMessage:BK,verifyHash:async function({address:e,hash:t,signature:r}){return fV(Yj(e),await nF({hash:t,signature:r}))},verifyMessage:async function({address:e,message:t,signature:r}){return fV(Yj(e),await uJ({message:t,signature:r}))},verifyTypedData:async function(e){const{address:t,domain:r,message:n,primaryType:i,signature:s,types:o}=e;return fV(Yj(t),await hJ({domain:r,message:n,primaryType:i,signature:s,types:o}))},stringify:qH,assertRequest:NF,assertTransactionEIP1559:cK,assertTransactionEIP2930:lK,assertTransactionLegacy:dK,getSerializedTransactionType:pJ,getTransactionType:aV,parseTransaction:fJ,serializeAccessList:uK,serializeTransaction:hK,domainSeparator:function({domain:e}){return ZK({domain:e,types:{EIP712Domain:zK({domain:e})}})},getTypesForEIP712Domain:zK,serializeTypedData:jK,validateTypedData:HK,formatEther:JH,formatGwei:XH,formatUnits:YH,parseEther:function(e,t="wei"){return bJ(e,KH[t])},parseGwei:function(e,t="wei"){return bJ(e,GH[t])},parseUnits:bJ});async function w0(...e){const t=await fetch(...e);if(!t.ok)throw new Error(`HTTP status code: ${t.status}`,{cause:t});return t}class b0{constructor({baseUrl:e,clientId:t}){this.baseUrl=e,this.clientId=t}async get({headers:e,signal:t,cache:r,...n}){const i=this.createUrl(n);return(await w0(i,{method:"GET",headers:e,signal:t,cache:r})).json()}async getBlob({headers:e,signal:t,...r}){const n=this.createUrl(r);return(await w0(n,{method:"GET",headers:e,signal:t})).blob()}async post({body:e,headers:t,signal:r,...n}){const i=this.createUrl(n);return(await w0(i,{method:"POST",headers:t,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:t,signal:r,...n}){const i=this.createUrl(n);return(await w0(i,{method:"PUT",headers:t,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:t,signal:r,...n}){const i=this.createUrl(n);return(await w0(i,{method:"DELETE",headers:t,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:t}){const r=new URL(e,this.baseUrl);return t&&Object.entries(t).forEach((([e,t])=>{t&&r.searchParams.append(e,t)})),this.clientId&&r.searchParams.append("clientId",this.clientId),r}sendBeacon({body:e,...t}){const r=this.createUrl(t);return navigator.sendBeacon(r.toString(),e?JSON.stringify(e):void 0)}}const v0={getFeatureValue(e,t){const r=t?.[e];return void 0===r?R$.DEFAULT_FEATURES[e]:r},filterSocialsByPlatform(e){if(!e||!e.length)return e;let t=e;return B$.isTelegram()&&(B$.isIos()&&(t=t.filter((e=>"google"!==e))),B$.isMac()&&(t=t.filter((e=>"x"!==e))),B$.isAndroid()&&(t=t.filter((e=>!["facebook","x"].includes(e))))),B$.isMobile()&&(t=t.filter((e=>"facebook"!==e))),t},isSocialsEnabled:()=>Array.isArray(A0.state.features?.socials)&&A0.state.features?.socials.length>0||Array.isArray(A0.state.remoteFeatures?.socials)&&A0.state.remoteFeatures?.socials.length>0,isEmailEnabled:()=>!(!A0.state.features?.email&&!A0.state.remoteFeatures?.email)},E0=x$({features:R$.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:R$.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{},enableMobileFullScreen:!1,coinbasePreference:"all"}),A0={state:E0,subscribeKey:(e,t)=>_$(E0,e,t),setOptions(e){Object.assign(E0,e)},setRemoteFeatures(e){if(!e)return;const t={...E0.remoteFeatures,...e};E0.remoteFeatures=t,E0.remoteFeatures?.socials&&(E0.remoteFeatures.socials=v0.filterSocialsByPlatform(E0.remoteFeatures.socials)),E0.features?.pay&&(E0.remoteFeatures.email=!1,E0.remoteFeatures.socials=!1)},setFeatures(e){if(!e)return;E0.features||(E0.features=R$.DEFAULT_FEATURES);const t={...E0.features,...e};E0.features=t,E0.features?.pay&&E0.remoteFeatures&&(E0.remoteFeatures.email=!1,E0.remoteFeatures.socials=!1)},setProjectId(e){E0.projectId=e},setCustomRpcUrls(e){E0.customRpcUrls=e},setAllWallets(e){E0.allWallets=e},setIncludeWalletIds(e){E0.includeWalletIds=e},setExcludeWalletIds(e){E0.excludeWalletIds=e},setFeaturedWalletIds(e){E0.featuredWalletIds=e},setTokens(e){E0.tokens=e},setTermsConditionsUrl(e){E0.termsConditionsUrl=e},setPrivacyPolicyUrl(e){E0.privacyPolicyUrl=e},setCustomWallets(e){E0.customWallets=e},setIsSiweEnabled(e){E0.isSiweEnabled=e},setIsUniversalProvider(e){E0.isUniversalProvider=e},setSdkVersion(e){E0.sdkVersion=e},setMetadata(e){E0.metadata=e},setDisableAppend(e){E0.disableAppend=e},setEIP6963Enabled(e){E0.enableEIP6963=e},setDebug(e){E0.debug=e},setEnableWalletGuide(e){E0.enableWalletGuide=e},setEnableAuthLogger(e){E0.enableAuthLogger=e},setEnableWallets(e){E0.enableWallets=e},setPreferUniversalLinks(e){E0.experimental_preferUniversalLinks=e},setSIWX(e){if(e)for(const[t,r]of Object.entries(R$.SIWX_DEFAULTS))e[t]??=r;E0.siwx=e},setConnectMethodsOrder(e){E0.features={...E0.features,connectMethodsOrder:e}},setWalletFeaturesOrder(e){E0.features={...E0.features,walletFeaturesOrder:e}},setSocialsOrder(e){E0.remoteFeatures={...E0.remoteFeatures,socials:e}},setCollapseWallets(e){E0.features={...E0.features,collapseWallets:e}},setEnableEmbedded(e){E0.enableEmbedded=e},setAllowUnsupportedChain(e){E0.allowUnsupportedChain=e},setManualWCControl(e){E0.manualWCControl=e},setEnableNetworkSwitch(e){E0.enableNetworkSwitch=e},setEnableMobileFullScreen(e){E0.enableMobileFullScreen=B$.isMobile()&&e},setEnableReconnect(e){E0.enableReconnect=e},setCoinbasePreference(e){E0.coinbasePreference=e},setDefaultAccountTypes(e={}){Object.entries(e).forEach((([e,t])=>{t&&(E0.defaultAccountTypes[e]=t)}))},setUniversalProviderConfigOverride(e){E0.universalProviderConfigOverride=e},getUniversalProviderConfigOverride:()=>E0.universalProviderConfigOverride,getSnapshot:()=>S$(E0)},x0=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),C0=x$({...x0}),S0={state:C0,subscribeKey:(e,t)=>_$(C0,e,t),showLoading(e,t={}){this._showMessage({message:e,variant:"loading",...t})},showSuccess(e){this._showMessage({message:e,variant:"success"})},showSvg(e,t){this._showMessage({message:e,svg:t})},showError(e){const t=B$.parseError(e);this._showMessage({message:t,variant:"error"})},hide(){C0.message=x0.message,C0.variant=x0.variant,C0.svg=x0.svg,C0.open=x0.open,C0.autoClose=x0.autoClose},_showMessage({message:e,svg:t,variant:r="success",autoClose:n=x0.autoClose}){C0.open?(C0.open=!1,setTimeout((()=>{C0.message=e,C0.variant=r,C0.svg=t,C0.open=!0,C0.autoClose=n}),150)):(C0.message=e,C0.variant=r,C0.svg=t,C0.open=!0,C0.autoClose=n)}},I0={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},_0=B$.getBlockchainApiUrl(),k0=x$({clientId:null,api:new b0({baseUrl:_0,clientId:null}),supportedChains:{http:[],ws:[]}}),P0={state:k0,async get(e){const{st:t,sv:r}=P0.getSdkProperties(),n=A0.state.projectId,i={...e.params||{},st:t,sv:r,projectId:n};return k0.api.get({...e,params:i})},getSdkProperties(){const{sdkType:e,sdkVersion:t}=A0.state;return{st:e||"unknown",sv:t||"unknown"}},async isNetworkSupported(e){if(!e)return!1;try{k0.supportedChains.http.length||await P0.getSupportedNetworks()}catch{return!1}return k0.supportedChains.http.includes(e)},async getSupportedNetworks(){try{const e=await P0.get({path:"v1/supported-chains"});return k0.supportedChains=e,e}catch{return k0.supportedChains}},async fetchIdentity({address:e}){const t=$$.getIdentityFromCacheForAddress(e);if(t)return t;const r=await P0.get({path:`/v1/identity/${e}`,params:{sender:L1.state.activeCaipAddress?B$.getPlainAddress(L1.state.activeCaipAddress):void 0}});return $$.updateIdentityCache({address:e,identity:r,timestamp:Date.now()}),r},async fetchTransactions({account:e,cursor:t,signal:r,cache:n,chainId:i}){if(!await P0.isNetworkSupported(L1.state.activeCaipNetwork?.caipNetworkId))return{data:[],next:void 0};const s=$$.getTransactionsCacheForAddress({address:e,chainId:i});if(s)return s;const o=await P0.get({path:`/v1/account/${e}/history`,params:{cursor:t,chainId:i},signal:r,cache:n});return $$.updateTransactionsCache({address:e,chainId:i,timestamp:Date.now(),transactions:o}),o},fetchSwapQuote:async({amount:e,userAddress:t,from:r,to:n,gasPrice:i})=>await P0.isNetworkSupported(L1.state.activeCaipNetwork?.caipNetworkId)?P0.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:e,userAddress:t,from:r,to:n,gasPrice:i}}):{quotes:[]},fetchSwapTokens:async({chainId:e})=>await P0.isNetworkSupported(L1.state.activeCaipNetwork?.caipNetworkId)?P0.get({path:"/v1/convert/tokens",params:{chainId:e}}):{tokens:[]},async fetchTokenPrice({addresses:e}){if(!await P0.isNetworkSupported(L1.state.activeCaipNetwork?.caipNetworkId))return{fungibles:[]};const t=$$.getTokenPriceCacheForAddresses(e);if(t)return t;const r=await k0.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:e,projectId:A0.state.projectId},headers:{"Content-Type":"application/json"}});return $$.updateTokenPriceCache({addresses:e,timestamp:Date.now(),tokenPrice:r}),r},fetchSwapAllowance:async({tokenAddress:e,userAddress:t})=>await P0.isNetworkSupported(L1.state.activeCaipNetwork?.caipNetworkId)?P0.get({path:"/v1/convert/allowance",params:{tokenAddress:e,userAddress:t},headers:{"Content-Type":"application/json"}}):{allowance:"0"},async fetchGasPrice({chainId:e}){const{st:t,sv:r}=P0.getSdkProperties();if(!await P0.isNetworkSupported(L1.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return P0.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:e,st:t,sv:r}})},async generateSwapCalldata({amount:e,from:t,to:r,userAddress:n,disableEstimate:i}){if(!await P0.isNetworkSupported(L1.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return k0.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:e,eip155:{slippage:R$.CONVERT_SLIPPAGE_TOLERANCE},projectId:A0.state.projectId,from:t,to:r,userAddress:n,disableEstimate:i}})},async generateApproveCalldata({from:e,to:t,userAddress:r}){const{st:n,sv:i}=P0.getSdkProperties();if(!await P0.isNetworkSupported(L1.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return P0.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:r,from:e,to:t,st:n,sv:i}})},async getBalance(e,t,r){const{st:n,sv:i}=P0.getSdkProperties();if(!await P0.isNetworkSupported(L1.state.activeCaipNetwork?.caipNetworkId))return S0.showError("Token Balance Unavailable"),{balances:[]};const s=`${t}:${e}`,o=$$.getBalanceCacheForCaipAddress(s);if(o)return o;const a=await P0.get({path:`/v1/account/${e}/balance`,params:{currency:"usd",chainId:t,forceUpdate:r,st:n,sv:i}});return $$.updateBalanceCache({caipAddress:s,balance:a,timestamp:Date.now()}),a},lookupEnsName:async e=>await P0.isNetworkSupported(L1.state.activeCaipNetwork?.caipNetworkId)?P0.get({path:`/v1/profile/account/${e}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]},async reverseLookupEnsName({address:e}){if(!await P0.isNetworkSupported(L1.state.activeCaipNetwork?.caipNetworkId))return[];const t=L1.getAccountData()?.address;return P0.get({path:`/v1/profile/reverse/${e}`,params:{sender:t,apiVersion:"2"}})},getEnsNameSuggestions:async e=>await P0.isNetworkSupported(L1.state.activeCaipNetwork?.caipNetworkId)?P0.get({path:`/v1/profile/suggestions/${e}`,params:{zone:"reown.id"}}):{suggestions:[]},registerEnsName:async({coinType:e,address:t,message:r,signature:n})=>await P0.isNetworkSupported(L1.state.activeCaipNetwork?.caipNetworkId)?k0.api.post({path:"/v1/profile/account",body:{coin_type:e,address:t,message:r,signature:n},headers:{"Content-Type":"application/json"}}):{success:!1},generateOnRampURL:async({destinationWallets:e,partnerUserId:t,defaultNetwork:r,purchaseAmount:n,paymentAmount:i})=>await P0.isNetworkSupported(L1.state.activeCaipNetwork?.caipNetworkId)?(await k0.api.post({path:"/v1/generators/onrampurl",params:{projectId:A0.state.projectId},body:{destinationWallets:e,defaultNetwork:r,partnerUserId:t,defaultExperience:"buy",presetCryptoAmount:n,presetFiatAmount:i}})).url:"",async getOnrampOptions(){if(!await P0.isNetworkSupported(L1.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await P0.get({path:"/v1/onramp/options"})}catch{return I0}},async getOnrampQuote({purchaseCurrency:e,paymentCurrency:t,amount:r,network:n}){try{return await P0.isNetworkSupported(L1.state.activeCaipNetwork?.caipNetworkId)?await k0.api.post({path:"/v1/onramp/quote",params:{projectId:A0.state.projectId},body:{purchaseCurrency:e,paymentCurrency:t,amount:r,network:n}}):null}catch{return{networkFee:{amount:r,currency:t.id},paymentSubtotal:{amount:r,currency:t.id},paymentTotal:{amount:r,currency:t.id},purchaseAmount:{amount:r,currency:t.id},quoteId:"mocked-quote-id"}}},getSmartSessions:async e=>await P0.isNetworkSupported(L1.state.activeCaipNetwork?.caipNetworkId)?P0.get({path:`/v1/sessions/${e}`}):[],revokeSmartSession:async(e,t,r)=>await P0.isNetworkSupported(L1.state.activeCaipNetwork?.caipNetworkId)?k0.api.post({path:`/v1/sessions/${e}/revoke`,params:{projectId:A0.state.projectId},body:{pci:t,signature:r}}):{success:!1},setClientId(e){k0.clientId=e,k0.api=new b0({baseUrl:_0,clientId:e})}},T0={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},O0={handleMobileDeeplinkRedirect(e,t){const r=window.location.href,n=encodeURIComponent(r);if(e===T0.PHANTOM.id&&!("phantom"in window)){const e=r.startsWith("https")?"https":"http",t=r.split("/")[2],i=encodeURIComponent(`${e}://${t}`);window.location.href=`${T0.PHANTOM.url}/ul/browse/${n}?ref=${i}`}if(e===T0.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${T0.SOLFLARE.url}/ul/v1/browse/${n}?ref=${n}`),t===dR.CHAIN.SOLANA&&e===T0.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${T0.COINBASE.url}/dapp?cb_url=${n}`),t===dR.CHAIN.BITCOIN&&e===T0.BINANCE.id&&!("binancew3w"in window)){const e=L1.state.activeCaipNetwork,t=window.btoa("/pages/browser/index"),r=window.btoa(`url=${n}&defaultChainId=${e?.id??1}`),i=new URL(T0.BINANCE.deeplink);i.searchParams.set("appId",T0.BINANCE.appId),i.searchParams.set("startPagePath",t),i.searchParams.set("startPageQuery",r);const s=new URL(T0.BINANCE.url);s.searchParams.set("_dp",window.btoa(i.toString())),window.location.href=s.toString()}}},N0=Object.freeze({enabled:!0,events:[]}),R0=new b0({baseUrl:B$.getAnalyticsUrl(),clientId:null}),$0=x$({...N0}),B0={state:$0,subscribeKey:(e,t)=>_$($0,e,t),async sendError(e,t){if(!$0.enabled)return;const r=Date.now();if($0.events.filter((e=>{const t=new Date(e.properties.timestamp||"").getTime();return r-t<6e4})).length>=5)return;const n={type:"error",event:t,properties:{errorType:e.name,errorMessage:e.message,stackTrace:e.stack,timestamp:(new Date).toISOString()}};$0.events.push(n);try{if(typeof window>"u")return;const{projectId:r,sdkType:n,sdkVersion:i}=A0.state;await R0.post({path:"/e",params:{projectId:r,st:n,sv:i||"html-wagmi-4.2.2"},body:{eventId:B$.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:(new Date).toISOString(),props:{type:"error",event:t,errorType:e.name,errorMessage:e.message,stackTrace:e.stack}}})}catch{}},enable(){$0.enabled=!0},disable(){$0.enabled=!1},clearEvents(){$0.events=[]}};class M0 extends Error{constructor(e,t,r){super(e),this.originalName="AppKitError",this.name="AppKitError",this.category=t,this.originalError=r,r&&r instanceof Error&&(this.originalName=r.name),Object.setPrototypeOf(this,M0.prototype);let n=!1;if(r instanceof Error&&"string"==typeof r.stack&&r.stack){const e=r.stack,t=e.indexOf("\n");if(t>-1){const r=e.substring(t+1);this.stack=`${this.name}: ${this.message}\n${r}`,n=!0}}n||(Error.captureStackTrace?Error.captureStackTrace(this,M0):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function U0(e,t){let r="";try{r=e instanceof Error?e.message:"string"==typeof e?e:"object"==typeof e&&null!==e?0===Object.keys(e).length?"Unknown error":e?.message||JSON.stringify(e):String(e)}catch(e){r="Unknown error",console.error("Error parsing error message",e)}const n=e instanceof M0?e:new M0(r,t,e);throw B0.sendError(n,n.category),n}function L0(e,t="INTERNAL_SDK_ERROR"){const r={};return Object.keys(e).forEach((n=>{const i=e[n];if("function"==typeof i){let e=i;e="AsyncFunction"===i.constructor.name?async(...e)=>{try{return await i(...e)}catch(e){return U0(e,t)}}:(...e)=>{try{return i(...e)}catch(e){return U0(e,t)}},r[n]=e}else r[n]=i})),r}const D0=x$({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),j0=L0({state:D0,subscribeNetworkImages:e=>C$(D0.networkImages,(()=>e(D0.networkImages))),subscribeKey:(e,t)=>_$(D0,e,t),subscribe:e=>C$(D0,(()=>e(D0))),setWalletImage(e,t){D0.walletImages[e]=t},setNetworkImage(e,t){D0.networkImages[e]=t},setChainImage(e,t){D0.chainImages[e]=t},setConnectorImage(e,t){D0.connectorImages={...D0.connectorImages,[e]:t}},setTokenImage(e,t){D0.tokenImages[e]=t},setCurrencyImage(e,t){D0.currencyImages[e]=t}}),H0={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:""},z0=x$({networkImagePromises:{}}),F0={async fetchWalletImage(e){if(e)return await X0._fetchWalletImage(e),this.getWalletImageById(e)},async fetchNetworkImage(e){if(!e)return;return this.getNetworkImageById(e)||(z0.networkImagePromises[e]||(z0.networkImagePromises[e]=X0._fetchNetworkImage(e)),await z0.networkImagePromises[e],this.getNetworkImageById(e))},getWalletImageById(e){if(e)return j0.state.walletImages[e]},getWalletImage:e=>e?.image_url?e?.image_url:e?.image_id?j0.state.walletImages[e.image_id]:void 0,getNetworkImage:e=>e?.assets?.imageUrl?e?.assets?.imageUrl:e?.assets?.imageId?j0.state.networkImages[e.assets.imageId]:void 0,getNetworkImageById(e){if(e)return j0.state.networkImages[e]},getConnectorImage:e=>e?.imageUrl?e.imageUrl:e?.info?.icon?e.info.icon:e?.imageId?j0.state.connectorImages[e.imageId]:void 0,getChainImage:e=>j0.state.networkImages[H0[e]],getTokenImage(e){if(e)return j0.state.tokenImages[e]}},V0=B$.getAnalyticsUrl(),Z0=new b0({baseUrl:V0,clientId:null}),q0=["MODAL_CREATED"],W0=x$({timestamp:Date.now(),lastFlush:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"},pendingEvents:[],subscribedToVisibilityChange:!1,walletImpressions:[]}),K0={state:W0,subscribe:e=>C$(W0,(()=>e(W0))),getSdkProperties(){const{projectId:e,sdkType:t,sdkVersion:r}=A0.state;return{projectId:e,st:t,sv:r||"html-wagmi-4.2.2"}},shouldFlushEvents(){const e=JSON.stringify(W0.pendingEvents).length/1024>45,t=W0.lastFlush+1e4<Date.now();return e||t},_setPendingEvent(e){try{let t=L1.getAccountData()?.address;if("address"in e.data&&e.data.address&&(t=e.data.address),q0.includes(e.data.event)||typeof window>"u")return;const r=L1.getActiveCaipNetwork()?.caipNetworkId;this.state.pendingEvents.push({eventId:B$.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:e.timestamp,props:{...e.data,address:t,properties:{..."properties"in e.data?e.data.properties:{},caipNetworkId:r}}}),W0.reportedErrors.FORBIDDEN=!1,K0.shouldFlushEvents()&&K0._submitPendingEvents()}catch(e){console.warn("_setPendingEvent",e)}},sendEvent(e){W0.timestamp=Date.now(),W0.data=e;(A0.state.features?.analytics||["INITIALIZE","CONNECT_SUCCESS","SOCIAL_LOGIN_SUCCESS"].includes(e.event))&&K0._setPendingEvent(W0),this.subscribeToFlushTriggers()},sendWalletImpressionEvent(e){W0.walletImpressions.push(e)},_transformPendingEventsForBatch(e){try{return e.filter((e=>"WALLET_IMPRESSION_V2"!==e.props.event))}catch{return e}},_submitPendingEvents(){if(W0.lastFlush=Date.now(),0!==W0.pendingEvents.length||0!==W0.walletImpressions.length)try{const e=K0._transformPendingEventsForBatch(W0.pendingEvents);W0.walletImpressions.length&&e.push({eventId:B$.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:Date.now(),props:{type:"track",event:"WALLET_IMPRESSION_V2",items:[...W0.walletImpressions]}}),Z0.sendBeacon({path:"/batch",params:K0.getSdkProperties(),body:e}),W0.reportedErrors.FORBIDDEN=!1,W0.pendingEvents=[],W0.walletImpressions=[]}catch{W0.reportedErrors.FORBIDDEN=!0}},subscribeToFlushTriggers(){W0.subscribedToVisibilityChange||typeof document>"u"||(W0.subscribedToVisibilityChange=!0,document?.addEventListener?.("visibilitychange",(()=>{"hidden"===document.visibilityState&&K0._submitPendingEvents()})),document?.addEventListener?.("freeze",(()=>{K0._submitPendingEvents()})),window?.addEventListener?.("pagehide",(()=>{K0._submitPendingEvents()})),setInterval((()=>{K0._submitPendingEvents()}),1e4))}},G0=B$.getApiUrl(),Y0=new b0({baseUrl:G0,clientId:null}),J0=x$({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1,explorerWallets:[],explorerFilteredWallets:[],plan:{tier:"none",hasExceededUsageLimit:!1,limits:{isAboveRpcLimit:!1,isAboveMauLimit:!1}}}),X0={state:J0,subscribeKey:(e,t)=>_$(J0,e,t),_getSdkProperties(){const{projectId:e,sdkType:t,sdkVersion:r}=A0.state;return{projectId:e,st:t||"appkit",sv:r||"html-wagmi-4.2.2"}},_filterOutExtensions:e=>A0.state.isUniversalProvider?e.filter((e=>!!(e.mobile_link||e.desktop_link||e.webapp_link))):e,async _fetchWalletImage(e){const t=`${Y0.baseUrl}/getWalletImage/${e}`,r=await Y0.getBlob({path:t,params:X0._getSdkProperties()});j0.setWalletImage(e,URL.createObjectURL(r))},async _fetchNetworkImage(e){const t=`${Y0.baseUrl}/public/getAssetImage/${e}`,r=await Y0.getBlob({path:t,params:X0._getSdkProperties()});j0.setNetworkImage(e,URL.createObjectURL(r))},async _fetchConnectorImage(e){const t=`${Y0.baseUrl}/public/getAssetImage/${e}`,r=await Y0.getBlob({path:t,params:X0._getSdkProperties()});j0.setConnectorImage(e,URL.createObjectURL(r))},async _fetchCurrencyImage(e){const t=`${Y0.baseUrl}/public/getCurrencyImage/${e}`,r=await Y0.getBlob({path:t,params:X0._getSdkProperties()});j0.setCurrencyImage(e,URL.createObjectURL(r))},async _fetchTokenImage(e){const t=`${Y0.baseUrl}/public/getTokenImage/${e}`,r=await Y0.getBlob({path:t,params:X0._getSdkProperties()});j0.setTokenImage(e,URL.createObjectURL(r))},_filterWalletsByPlatform(e){const t=e.length,r=B$.isMobile()?e?.filter((e=>!(!e.mobile_link&&!e.webapp_link)||Object.values(T0).map((e=>e.id)).includes(e.id))):e;return{filteredWallets:r,mobileFilteredOutWalletsLength:t-r.length}},fetchProjectConfig:async()=>(await Y0.get({path:"/appkit/v1/config",params:X0._getSdkProperties()})).features,async fetchUsage(){try{const e=await Y0.get({path:"/appkit/v1/project-limits",params:X0._getSdkProperties()}),{tier:t,isAboveMauLimit:r,isAboveRpcLimit:n}=e.planLimits,i="starter"===t,s=r||n;X0.state.plan={tier:t,hasExceededUsageLimit:i&&s,limits:{isAboveRpcLimit:n,isAboveMauLimit:r}}}catch(e){console.warn("Failed to fetch usage",e)}},async fetchAllowedOrigins(){try{const{allowedOrigins:e}=await Y0.get({path:"/projects/v1/origins",params:X0._getSdkProperties()});return e}catch(e){if(e instanceof Error&&e.cause instanceof Response){const t=e.cause.status;if(t===dR.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:e});if(t>=dR.HTTP_STATUS_CODES.SERVER_ERROR&&t<600)throw new Error("SERVER_ERROR",{cause:e});return[]}return[]}},async fetchNetworkImages(){const e=L1.getAllRequestedCaipNetworks()?.map((({assets:e})=>e?.imageId)).filter(Boolean).filter((e=>!F0.getNetworkImageById(e)));e&&await Promise.allSettled(e.map((e=>X0._fetchNetworkImage(e))))},async fetchConnectorImages(){const{connectors:e}=c1.state,t=e.map((({imageId:e})=>e)).filter(Boolean);await Promise.allSettled(t.map((e=>X0._fetchConnectorImage(e))))},async fetchCurrencyImages(e=[]){await Promise.allSettled(e.map((e=>X0._fetchCurrencyImage(e))))},async fetchTokenImages(e=[]){await Promise.allSettled(e.map((e=>X0._fetchTokenImage(e))))},async fetchWallets(e){const t=e.exclude??[];X0._getSdkProperties().sv.startsWith("html-core-")&&t.push(...Object.values(T0).map((e=>e.id)));const r=await Y0.get({path:"/getWallets",params:{...X0._getSdkProperties(),...e,page:String(e.page),entries:String(e.entries),include:e.include?.join(","),exclude:t.join(",")}}),{filteredWallets:n,mobileFilteredOutWalletsLength:i}=X0._filterWalletsByPlatform(r?.data);return{data:n||[],count:r?.count,mobileFilteredOutWalletsLength:i}},async prefetchWalletRanks(){const e=c1.state.connectors;if(!e?.length)return;const t={page:1,entries:20,badge:"certified"};if(t.names=e.map((e=>e.name)).join(","),L1.state.activeChain===dR.CHAIN.EVM){const r=[...e.flatMap((e=>e.connectors?.map((e=>e.info?.rdns))||[])),...e.map((e=>e.info?.rdns))].filter((e=>"string"==typeof e&&e.length>0));r.length&&(t.rdns=r.join(","))}const{data:r}=await X0.fetchWallets(t);J0.explorerWallets=r;const n=L1.getRequestedCaipNetworkIds().join(",");J0.explorerFilteredWallets=r.filter((e=>e.chains?.some((e=>n.includes(e)))))},async fetchFeaturedWallets(){const{featuredWalletIds:e}=A0.state;if(e?.length){const t={...X0._getSdkProperties(),page:1,entries:e?.length??4,include:e},{data:r}=await X0.fetchWallets(t),n=[...r].sort(((t,r)=>e.indexOf(t.id)-e.indexOf(r.id))),i=n.map((e=>e.image_id)).filter(Boolean);await Promise.allSettled(i.map((e=>X0._fetchWalletImage(e)))),J0.featured=n,J0.allFeatured=n}},async fetchRecommendedWallets(){try{J0.isFetchingRecommendedWallets=!0;const{includeWalletIds:e,excludeWalletIds:t,featuredWalletIds:r}=A0.state,n=[...t??[],...r??[]].filter(Boolean),i={page:1,entries:4,include:e,exclude:n,chains:L1.getRequestedCaipNetworkIds().join(",")},{data:s,count:o}=await X0.fetchWallets(i),a=$$.getRecentWallets(),c=s.map((e=>e.image_id)).filter(Boolean),l=a.map((e=>e.image_id)).filter(Boolean);await Promise.allSettled([...c,...l].map((e=>X0._fetchWalletImage(e)))),J0.recommended=s,J0.allRecommended=s,J0.count=o??0}catch{}finally{J0.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:e}){const{includeWalletIds:t,excludeWalletIds:r,featuredWalletIds:n}=A0.state,i=L1.getRequestedCaipNetworkIds().join(","),s={page:e,entries:40,include:t,exclude:[...J0.recommended.map((({id:e})=>e)),...r??[],...n??[]].filter(Boolean),chains:i},{data:o,count:a,mobileFilteredOutWalletsLength:c}=await X0.fetchWallets(s);J0.mobileFilteredOutWalletsLength=c+(J0.mobileFilteredOutWalletsLength??0);const l=o.slice(0,20).map((e=>e.image_id)).filter(Boolean);await Promise.allSettled(l.map((e=>X0._fetchWalletImage(e)))),J0.wallets=B$.uniqueBy([...J0.wallets,...X0._filterOutExtensions(o)],"id").filter((e=>e.chains?.some((e=>i.includes(e))))),J0.count=a>J0.count?a:J0.count,J0.page=e},async initializeExcludedWallets({ids:e}){const t={page:1,entries:e.length,include:e},{data:r}=await X0.fetchWallets(t);r&&r.forEach((e=>{J0.excludedWallets.push({rdns:e.rdns,name:e.name})}))},async searchWallet({search:e,badge:t}){const{includeWalletIds:r,excludeWalletIds:n}=A0.state,i=L1.getRequestedCaipNetworkIds().join(",");J0.search=[];const s={page:1,entries:100,search:e?.trim(),badge_type:t,include:r,exclude:n,chains:i},{data:o}=await X0.fetchWallets(s);K0.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:t??"",search:e??""}});const a=o.map((e=>e.image_id)).filter(Boolean);await Promise.allSettled([...a.map((e=>X0._fetchWalletImage(e))),B$.wait(300)]),J0.search=X0._filterOutExtensions(o)},initPromise:(e,t)=>J0.promises[e]||(J0.promises[e]=t()),prefetch({fetchConnectorImages:e=!0,fetchFeaturedWallets:t=!0,fetchRecommendedWallets:r=!0,fetchNetworkImages:n=!0,fetchWalletRanks:i=!0}={}){const s=[e&&X0.initPromise("connectorImages",X0.fetchConnectorImages),t&&X0.initPromise("featuredWallets",X0.fetchFeaturedWallets),r&&X0.initPromise("recommendedWallets",X0.fetchRecommendedWallets),n&&X0.initPromise("networkImages",X0.fetchNetworkImages),i&&X0.initPromise("walletRanks",X0.prefetchWalletRanks)].filter(Boolean);return Promise.allSettled(s)},prefetchAnalyticsConfig(){A0.state.features?.analytics&&X0.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:e}=await Y0.get({path:"/getAnalyticsConfig",params:X0._getSdkProperties()});A0.setFeatures({analytics:e})}catch{A0.setFeatures({analytics:!1})}},filterByNamespaces(e){if(!e?.length)return J0.featured=J0.allFeatured,void(J0.recommended=J0.allRecommended);const t=L1.getRequestedCaipNetworkIds().join(",");J0.featured=J0.allFeatured.filter((e=>e.chains?.some((e=>t.includes(e))))),J0.recommended=J0.allRecommended.filter((e=>e.chains?.some((e=>t.includes(e))))),J0.filteredWallets=J0.wallets.filter((e=>e.chains?.some((e=>t.includes(e)))))},clearFilterByNamespaces(){J0.filteredWallets=[]},setFilterByNamespace(e){if(!e)return J0.featured=J0.allFeatured,void(J0.recommended=J0.allRecommended);const t=L1.getRequestedCaipNetworkIds().join(",");J0.featured=J0.allFeatured.filter((e=>e.chains?.some((e=>t.includes(e))))),J0.recommended=J0.allRecommended.filter((e=>e.chains?.some((e=>t.includes(e))))),J0.filteredWallets=J0.wallets.filter((e=>e.chains?.some((e=>t.includes(e)))))}},Q0=["ConnectingExternal","ConnectingMultiChain","ConnectingSocial","ConnectingFarcaster"],e1=x$({view:"Connect",history:["Connect"],transactionStack:[]}),t1=L0({state:e1,subscribeKey:(e,t)=>_$(e1,e,t),pushTransactionStack(e){e1.transactionStack.push(e)},popTransactionStack(e){const t=e1.transactionStack.pop();if(!t)return;const{onSuccess:r,onError:n,onCancel:i}=t;switch(e){case"success":r?.();break;case"error":n?.(),t1.goBack();break;case"cancel":i?.(),t1.goBack()}},push(e,t){let r=e,n=t;X0.state.plan.hasExceededUsageLimit&&Q0.includes(e)&&(r="UsageExceeded",n=void 0),r!==e1.view&&(e1.view=r,e1.history.push(r),e1.data=n)},reset(e,t){e1.view=e,e1.history=[e],e1.data=t},replace(e,t){e1.history.at(-1)===e||(e1.view=e,e1.history[e1.history.length-1]=e,e1.data=t)},goBack(){const e=L1.state.activeCaipAddress,t="ConnectingFarcaster"===t1.state.view,r=!e&&t;if(e1.history.length>1){e1.history.pop();const[t]=e1.history.slice(-1);t&&(e1.view=e&&"Connect"===t?"Account":t)}else H1.close();e1.data?.wallet&&(e1.data.wallet=void 0),e1.data?.redirectView&&(e1.data.redirectView=void 0),setTimeout((()=>{if(r){L1.setAccountProp("farcasterUrl",void 0,L1.state.activeChain);const e=c1.getAuthConnector();e?.provider?.reload();const t=S$(A0.state);e?.provider?.syncDappData?.({metadata:t.metadata,sdkVersion:t.sdkVersion,projectId:t.projectId,sdkType:t.sdkType})}}),100)},goBackToIndex(e){if(e1.history.length>1){e1.history=e1.history.slice(0,e+1);const[t]=e1.history.slice(-1);t&&(e1.view=t)}},goBackOrCloseModal(){t1.state.history.length>1?t1.goBack():H1.close()}}),r1=x$({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),n1={state:r1,subscribe:e=>C$(r1,(()=>e(r1))),setThemeMode(e){r1.themeMode=e;try{const t=c1.getAuthConnector();if(t){const r=n1.getSnapshot().themeVariables;t.provider.syncTheme({themeMode:e,themeVariables:r,w3mThemeVariables:s$(r,e)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(e){r1.themeVariables={...r1.themeVariables,...e};try{const e=c1.getAuthConnector();if(e){const t=n1.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:t,w3mThemeVariables:s$(r1.themeVariables,r1.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot:()=>S$(r1)},i1=L0(n1),s1=Object.fromEntries(hR.map((e=>[e,void 0]))),o1=Object.fromEntries(hR.map((e=>[e,!0]))),a1=x$({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:s1,filterByNamespaceMap:o1}),c1=L0({state:a1,subscribe:e=>C$(a1,(()=>{e(a1)})),subscribeKey:(e,t)=>_$(a1,e,t),initialize(e){e.forEach((e=>{const t=$$.getConnectedConnectorId(e);t&&c1.setConnectorId(t,e)}))},setActiveConnector(e){e&&(a1.activeConnector=I$(e))},setConnectors(e){e.filter((e=>!a1.allConnectors.some((t=>t.id===e.id&&c1.getConnectorName(t.name)===c1.getConnectorName(e.name)&&t.chain===e.chain)))).forEach((e=>{"MULTI_CHAIN"!==e.type&&a1.allConnectors.push(I$(e))}));const t=c1.getEnabledNamespaces(),r=c1.getEnabledConnectors(t);a1.connectors=c1.mergeMultiChainConnectors(r)},filterByNamespaces(e){Object.keys(a1.filterByNamespaceMap).forEach((e=>{a1.filterByNamespaceMap[e]=!1})),e.forEach((e=>{a1.filterByNamespaceMap[e]=!0})),c1.updateConnectorsForEnabledNamespaces()},filterByNamespace(e,t){a1.filterByNamespaceMap[e]=t,c1.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const e=c1.getEnabledNamespaces(),t=c1.getEnabledConnectors(e),r=c1.areAllNamespacesEnabled();a1.connectors=c1.mergeMultiChainConnectors(t),r?X0.clearFilterByNamespaces():X0.filterByNamespaces(e)},getEnabledNamespaces:()=>Object.entries(a1.filterByNamespaceMap).filter((([e,t])=>t)).map((([e])=>e)),getEnabledConnectors:e=>a1.allConnectors.filter((t=>e.includes(t.chain))),areAllNamespacesEnabled:()=>Object.values(a1.filterByNamespaceMap).every((e=>e)),mergeMultiChainConnectors(e){const t=c1.generateConnectorMapByName(e),r=[];return t.forEach((e=>{const t=e[0],n=t?.id===dR.CONNECTOR_ID.AUTH;e.length>1&&t?r.push({name:t.name,imageUrl:t.imageUrl,imageId:t.imageId,connectors:[...e],type:n?"AUTH":"MULTI_CHAIN",chain:"eip155",id:t?.id||""}):t&&r.push(t)})),r},generateConnectorMapByName(e){const t=new Map;return e.forEach((e=>{const{name:r}=e,n=c1.getConnectorName(r);if(!n)return;const i=t.get(n)||[];i.find((t=>t.chain===e.chain))||i.push(e),t.set(n,i)})),t},getConnectorName:e=>e&&({"Trust Wallet":"Trust"}[e]||e),getUniqueConnectorsByName(e){const t=[];return e.forEach((e=>{t.find((t=>t.chain===e.chain))||t.push(e)})),t},addConnector(e){if(e.id===dR.CONNECTOR_ID.AUTH){const t=e,r=S$(A0.state),n=i1.getSnapshot().themeMode,i=i1.getSnapshot().themeVariables;t?.provider?.syncDappData?.({metadata:r.metadata,sdkVersion:r.sdkVersion,projectId:r.projectId,sdkType:r.sdkType}),t?.provider?.syncTheme({themeMode:n,themeVariables:i,w3mThemeVariables:s$(i,n)}),c1.setConnectors([e])}else c1.setConnectors([e])},getAuthConnector(e){const t=e||L1.state.activeChain,r=a1.connectors.find((e=>e.id===dR.CONNECTOR_ID.AUTH));if(r)return r?.connectors?.length?r.connectors.find((e=>e.chain===t)):r},getAnnouncedConnectorRdns:()=>a1.connectors.filter((e=>"ANNOUNCED"===e.type)).map((e=>e.info?.rdns)),getConnectorById:e=>a1.allConnectors.find((t=>t.id===e)),getConnector({id:e,rdns:t,namespace:r}){const n=r||L1.state.activeChain;return a1.allConnectors.filter((e=>e.chain===n)).find((r=>r.explorerId===e||r.info?.rdns===t))},syncIfAuthConnector(e){if("AUTH"!==e.id)return;const t=e,r=S$(A0.state),n=i1.getSnapshot().themeMode,i=i1.getSnapshot().themeVariables;t?.provider?.syncDappData?.({metadata:r.metadata,sdkVersion:r.sdkVersion,sdkType:r.sdkType,projectId:r.projectId}),t.provider.syncTheme({themeMode:n,themeVariables:i,w3mThemeVariables:s$(i,n)})},getConnectorsByNamespace(e){const t=a1.allConnectors.filter((t=>t.chain===e));return c1.mergeMultiChainConnectors(t)},canSwitchToSmartAccount:e=>L1.checkIfSmartAccountEnabled()&&u1(e)===K$.ACCOUNT_TYPES.EOA,selectWalletConnector(e){const t=t1.state.data?.redirectView,r=c1.getConnector({id:e.id,rdns:e.rdns});O0.handleMobileDeeplinkRedirect(r?.explorerId||e.id,L1.state.activeChain),r?t1.push("ConnectingExternal",{connector:r,wallet:e,redirectView:t}):t1.push("ConnectingWalletConnect",{wallet:e,redirectView:t})},getConnectors:e=>e?c1.getConnectorsByNamespace(e):c1.mergeMultiChainConnectors(a1.allConnectors),setFilterByNamespace(e){a1.filterByNamespace=e,a1.connectors=c1.getConnectors(e),X0.setFilterByNamespace(e)},setConnectorId(e,t){e&&(a1.activeConnectorIds={...a1.activeConnectorIds,[t]:e},$$.setConnectedConnectorId(t,e))},removeConnectorId(e){a1.activeConnectorIds={...a1.activeConnectorIds,[e]:void 0},$$.deleteConnectedConnectorId(e)},getConnectorId(e){if(e)return a1.activeConnectorIds[e]},isConnected:e=>e?!!a1.activeConnectorIds[e]:Object.values(a1.activeConnectorIds).some((e=>!!e)),resetConnectorIds(){a1.activeConnectorIds={...s1}}}),l1={checkNamespaceConnectorId:(e,t)=>c1.getConnectorId(e)===t,isSocialProvider:e=>R$.DEFAULT_REMOTE_FEATURES.socials.includes(e),connectWalletConnect:({walletConnect:e,connector:t,closeModalOnConnect:r=!0,redirectViewOnModalClose:n="Connect",onOpen:i,onConnect:s})=>new Promise(((o,a)=>{if(e&&c1.setActiveConnector(t),i?.(B$.isMobile()&&e),n){const e=H1.subscribeKey("open",(t=>{t||(t1.state.view!==n&&t1.replace(n),e(),a(new Error("Modal closed")))}))}const c=L1.subscribeKey("activeCaipAddress",(e=>{e&&(s?.(),r&&H1.close(),c(),o(TR.parseCaipAddress(e)))}))})),connectExternal:e=>new Promise(((t,r)=>{const n=L1.subscribeKey("activeCaipAddress",(e=>{e&&(H1.close(),n(),t(TR.parseCaipAddress(e)))}));w1.connectExternal(e,e.chain).catch((()=>{n(),r(new Error("Connection rejected"))}))})),connectSocial({social:e,namespace:t,closeModalOnConnect:r=!0,onOpenFarcaster:n,onConnect:i}){let s,o=!1,a=null;const c=t||L1.state.activeChain,l=L1.subscribeKey("activeCaipAddress",(e=>{e&&(r&&H1.close(),l())}));return new Promise(((t,r)=>{async function l(n){if(n.data?.resultUri)if(n.origin===dR.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",l,!1);try{const i=c1.getAuthConnector(c);if(i&&!o){s&&s.close(),o=!0;const a=n.data.resultUri;K0.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:e}}),$$.setConnectedSocialProvider(e),await w1.connectExternal({id:i.id,type:i.type,socialUri:a},i.chain);const c=L1.state.activeCaipAddress;if(!c)return void r(new Error("Failed to connect"));t(TR.parseCaipAddress(c)),K0.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:e}})}}catch(t){K0.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:e,message:B$.parseError(t)}}),r(new Error("Failed to connect"))}}else K0.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:e,message:"Untrusted Origin"}})}!async function(){if(K0.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:e}}),"farcaster"===e){n?.();const t=H1.subscribeKey("open",(n=>{!n&&"farcaster"===e&&(r(new Error("Popup closed")),i?.(),t())})),s=c1.getAuthConnector();if(s&&!L1.getAccountData(c)?.farcasterUrl)try{const{url:e}=await s.provider.getFarcasterUri();L1.setAccountProp("farcasterUrl",e,c)}catch{r(new Error("Failed to connect to farcaster"))}}else{const t=c1.getAuthConnector();a=B$.returnOpenHref(`${dR.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(t){const{uri:n}=await t.provider.getSocialRedirectUri({provider:e});if(a&&n){a.location.href=n,s=a;const e=setInterval((()=>{s?.closed&&!o&&(r(new Error("Popup closed")),clearInterval(e))}),1e3);window.addEventListener("message",l,!1)}else a?.close(),r(new Error("Failed to initiate social connection"))}}catch{r(new Error("Failed to initiate social connection")),a?.close()}}}()}))},connectEmail:({closeModalOnConnect:e=!0,redirectViewOnModalClose:t="Connect",onOpen:r,onConnect:n})=>new Promise(((i,s)=>{if(r?.(),t){const e=H1.subscribeKey("open",(r=>{r||(t1.state.view!==t&&t1.replace(t),e(),s(new Error("Modal closed")))}))}const o=L1.subscribeKey("activeCaipAddress",(t=>{t&&(n?.(),e&&H1.close(),o(),i(TR.parseCaipAddress(t)))}))})),async updateEmail(){const e=$$.getConnectedConnectorId(L1.state.activeChain),t=c1.getAuthConnector();if(!t)throw new Error("No auth connector found");if(e!==dR.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const r=t.provider.getEmail()??"";return await H1.open({view:"UpdateEmailWallet",data:{email:r,redirectView:void 0}}),new Promise(((e,n)=>{const i=setInterval((()=>{const n=t.provider.getEmail()??"";n!==r&&(H1.close(),clearInterval(i),s(),e({email:n}))}),1e3),s=H1.subscribeKey("open",(e=>{e||("Connect"!==t1.state.view&&t1.push("Connect"),clearInterval(i),s(),n(new Error("Modal closed")))}))}))},canSwitchToSmartAccount:e=>L1.checkIfSmartAccountEnabled()&&u1(e)===K$.ACCOUNT_TYPES.EOA};function d1(){const e=L1.state.activeCaipNetwork?.chainNamespace||"eip155";return`${e}:${L1.state.activeCaipNetwork?.id||1}:${R$.NATIVE_TOKEN_ADDRESS[e]}`}function u1(e){return L1.getAccountData(e)?.preferredAccountType}function h1(e){return e?L1.state.chains.get(e)?.networkState?.caipNetwork:L1.state.activeCaipNetwork}const p1={getConnectionStatus(e,t){const r=c1.state.activeConnectorIds[t],n=w1.getConnections(t);return r&&e.connectorId===r?"connected":n.some((t=>t.connectorId.toLowerCase()===e.connectorId.toLowerCase()))?"active":"disconnected"},excludeConnectorAddressFromConnections:({connections:e,connectorId:t,addresses:r})=>e.map((e=>{if(t&&e.connectorId.toLowerCase()===t.toLowerCase()&&r){const t=e.accounts.filter((e=>!r.some((t=>t.toLowerCase()===e.address.toLowerCase()))));return{...e,accounts:t}}return e})),excludeExistingConnections(e,t){const r=new Set(e);return t.filter((e=>!r.has(e.connectorId)))},getConnectionsByConnectorId:(e,t)=>e.filter((e=>e.connectorId.toLowerCase()===t.toLowerCase())),getConnectionsData(e){const t=!!A0.state.remoteFeatures?.multiWallet,r=c1.state.activeConnectorIds[e],n=w1.getConnections(e),i=(w1.state.recentConnections.get(e)??[]).filter((e=>c1.getConnectorById(e.connectorId))),s=p1.excludeExistingConnections([...n.map((e=>e.connectorId)),...r?[r]:[]],i);return t?{connections:n,recentConnections:s}:{connections:n.filter((e=>e.connectorId.toLowerCase()===r?.toLowerCase())),recentConnections:[]}}},f1=x$({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),g1=L0({state:f1,subscribe:e=>C$(f1,(()=>e(f1))),setLastNetworkInView(e){f1.lastNetworkInView=e},async fetchTransactions(e){if(!e)throw new Error("Transactions can't be fetched without an accountAddress");f1.loading=!0;try{const t=await P0.fetchTransactions({account:e,cursor:f1.next,chainId:L1.state.activeCaipNetwork?.caipNetworkId}),r=g1.filterSpamTransactions(t.data),n=g1.filterByConnectedChain(r),i=[...f1.transactions,...n];f1.loading=!1,f1.transactions=i,f1.transactionsByYear=g1.groupTransactionsByYearAndMonth(f1.transactionsByYear,n),f1.empty=0===i.length,f1.next=t.next?t.next:void 0}catch{const t=L1.state.activeChain;K0.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:e,projectId:A0.state.projectId,cursor:f1.next,isSmartAccount:u1(t)===K$.ACCOUNT_TYPES.SMART_ACCOUNT}}),S0.showError("Failed to fetch transactions"),f1.loading=!1,f1.empty=!0,f1.next=void 0}},groupTransactionsByYearAndMonth(e={},t=[]){const r=e;return t.forEach((e=>{const t=new Date(e.metadata.minedAt).getFullYear(),n=new Date(e.metadata.minedAt).getMonth(),i=r[t]??{},s=(i[n]??[]).filter((t=>t.id!==e.id));r[t]={...i,[n]:[...s,e].sort(((e,t)=>new Date(t.metadata.minedAt).getTime()-new Date(e.metadata.minedAt).getTime()))}})),r},filterSpamTransactions:e=>e.filter((e=>!e.transfers.every((e=>!0===e.nft_info?.flags.is_spam)))),filterByConnectedChain(e){const t=L1.state.activeCaipNetwork?.caipNetworkId;return e.filter((e=>e.metadata.chain===t))},clearCursor(){f1.next=void 0},resetTransactions(){f1.transactions=[],f1.transactionsByYear={},f1.lastNetworkInView=void 0,f1.loading=!1,f1.empty=!1,f1.next=void 0}},"API_ERROR"),m1=x$({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let y1;const w1=L0({state:m1,subscribe:e=>C$(m1,(()=>e(m1))),subscribeKey:(e,t)=>_$(m1,e,t),_getClient:()=>m1._client,setClient(e){m1._client=I$(e)},initialize(e){const t=e.filter((e=>!!e.namespace)).map((e=>e.namespace));w1.syncStorageConnections(t)},syncStorageConnections(e){const t=$$.getConnections(),r=e??Array.from(L1.state.chains.keys());for(const e of r){const r=t[e]??[],n=new Map(m1.recentConnections);n.set(e,r),m1.recentConnections=n}},getConnections:e=>e?m1.connections.get(e)??[]:[],hasAnyConnection(e){const t=w1.state.connections;return Array.from(t.values()).flatMap((e=>e)).some((({connectorId:t})=>t===e))},async connectWalletConnect({cache:e="auto"}={}){const t=B$.isTelegram()||B$.isSafari()&&B$.isIos();if("always"===e||"auto"===e&&t){if(y1)return await y1,void(y1=void 0);if(!B$.isPairingExpired(m1?.wcPairingExpiry)){const e=m1.wcUri;return void(m1.wcUri=e)}y1=w1._getClient()?.connectWalletConnect?.().catch((()=>{})),w1.state.status="connecting",await y1,y1=void 0,m1.wcPairingExpiry=void 0,w1.state.status="connected"}else await(w1._getClient()?.connectWalletConnect?.())},async connectExternal(e,t,r=!0){const n=await(w1._getClient()?.connectExternal?.(e));return r&&L1.setActiveNamespace(t),n},async reconnectExternal(e){await(w1._getClient()?.reconnectExternal?.(e));const t=e.chain||L1.state.activeChain;t&&c1.setConnectorId(e.id,t)},async setPreferredAccountType(e,t){if(!t)return;H1.setLoading(!0,L1.state.activeChain);const r=c1.getAuthConnector();r&&(L1.setAccountProp("preferredAccountType",e,t),await r.provider.setPreferredAccount(e),$$.setPreferredAccountTypes(Object.entries(L1.state.chains).reduce(((e,[t,r])=>{const n=t,i=u1(n);return void 0!==i&&(e[n]=i),e}),{})),await w1.reconnectExternal(r),H1.setLoading(!1,L1.state.activeChain),K0.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:e,network:L1.state.activeCaipNetwork?.caipNetworkId||""}}))},signMessage:async e=>w1._getClient()?.signMessage(e),parseUnits:(e,t)=>w1._getClient()?.parseUnits(e,t),formatUnits:(e,t)=>w1._getClient()?.formatUnits(e,t),updateBalance:e=>w1._getClient()?.updateBalance(e),sendTransaction:async e=>w1._getClient()?.sendTransaction(e),getCapabilities:async e=>w1._getClient()?.getCapabilities(e),grantPermissions:async e=>w1._getClient()?.grantPermissions(e),walletGetAssets:async e=>w1._getClient()?.walletGetAssets(e)??{},estimateGas:async e=>w1._getClient()?.estimateGas(e),writeContract:async e=>w1._getClient()?.writeContract(e),getEnsAddress:async e=>w1._getClient()?.getEnsAddress(e),getEnsAvatar:async e=>w1._getClient()?.getEnsAvatar(e),checkInstalled:e=>w1._getClient()?.checkInstalled?.(e)||!1,resetWcConnection(){m1.wcUri=void 0,m1.wcPairingExpiry=void 0,m1.wcLinking=void 0,m1.recentWallet=void 0,m1.status="disconnected",g1.resetTransactions(),$$.deleteWalletConnectDeepLink(),$$.deleteRecentWallet()},resetUri(){m1.wcUri=void 0,m1.wcPairingExpiry=void 0,y1=void 0},finalizeWcConnection(e){const{wcLinking:t,recentWallet:r}=w1.state;t&&$$.setWalletConnectDeepLink(t),r&&$$.setAppKitRecent(r),e&&K0.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:t?"mobile":"qrcode",name:t1.state.data?.wallet?.name||"Unknown",view:t1.state.view,walletRank:r?.order}})},setWcBasic(e){m1.wcBasic=e},setUri(e){m1.wcUri=e,m1.wcPairingExpiry=B$.getPairingExpiry()},setWcLinking(e){m1.wcLinking=e},setWcError(e){m1.wcError=e,m1.buffering=!1},setRecentWallet(e){m1.recentWallet=e},setBuffering(e){m1.buffering=e},setStatus(e){m1.status=e},setIsSwitchingConnection(e){m1.isSwitchingConnection=e},async disconnect({id:e,namespace:t,initialDisconnect:r}={}){try{await(w1._getClient()?.disconnect({id:e,chainNamespace:t,initialDisconnect:r}))}catch(e){throw new M0("Failed to disconnect","INTERNAL_SDK_ERROR",e)}},async disconnectConnector({id:e,namespace:t}){try{await(w1._getClient()?.disconnectConnector({id:e,namespace:t}))}catch(e){throw new M0("Failed to disconnect connector","INTERNAL_SDK_ERROR",e)}},setConnections(e,t){const r=new Map(m1.connections);r.set(t,e),m1.connections=r},async handleAuthAccountSwitch({address:e,namespace:t}){const r=L1.getAccountData(t)?.user?.accounts?.find((e=>"smartAccount"===e.type)),n=r&&r.address.toLowerCase()===e.toLowerCase()&&l1.canSwitchToSmartAccount(t)?"smartAccount":"eoa";await w1.setPreferredAccountType(n,t)},async handleActiveConnection({connection:e,namespace:t,address:r}){const n=c1.getConnectorById(e.connectorId),i=e.connectorId===dR.CONNECTOR_ID.AUTH;if(!n)throw new Error(`No connector found for connection: ${e.connectorId}`);return i?(r&&await w1.handleAuthAccountSwitch({address:r,namespace:t}),r):(await w1.connectExternal({id:n.id,type:n.type,provider:n.provider,address:r,chain:t},t))?.address},async handleDisconnectedConnection({connection:e,namespace:t,address:r,closeModalOnConnect:n}){const i=c1.getConnectorById(e.connectorId),s=e.auth?.name?.toLowerCase(),o=e.connectorId===dR.CONNECTOR_ID.AUTH,a=e.connectorId===dR.CONNECTOR_ID.WALLET_CONNECT;if(!i)throw new Error(`No connector found for connection: ${e.connectorId}`);let c;if(o)if(s&&l1.isSocialProvider(s)){const{address:e}=await l1.connectSocial({social:s,closeModalOnConnect:n,onOpenFarcaster(){H1.open({view:"ConnectingFarcaster"})},onConnect(){t1.replace("ProfileWallets")}});c=e}else{const{address:e}=await l1.connectEmail({closeModalOnConnect:n,onOpen(){H1.open({view:"EmailLogin"})},onConnect(){t1.replace("ProfileWallets")}});c=e}else if(a){const{address:e}=await l1.connectWalletConnect({walletConnect:!0,connector:i,closeModalOnConnect:n,onOpen(e){const t=e?"AllWallets":"ConnectingWalletConnect";H1.state.open?t1.push(t):H1.open({view:t})},onConnect(){t1.replace("ProfileWallets")}});c=e}else{const e=await w1.connectExternal({id:i.id,type:i.type,provider:i.provider,chain:t},t);e&&(c=e.address)}return o&&r&&await w1.handleAuthAccountSwitch({address:r,namespace:t}),c},async switchConnection({connection:e,address:t,namespace:r,closeModalOnConnect:n,onChange:i}){let s;const o=L1.getAccountData(r)?.caipAddress;if(o){const{address:e}=TR.parseCaipAddress(o);s=e}const a=p1.getConnectionStatus(e,r);switch(a){case"connected":case"active":{const n=await w1.handleActiveConnection({connection:e,namespace:r,address:t});if(s&&n){const e=n.toLowerCase()!==s.toLowerCase();i?.({address:n,namespace:r,hasSwitchedAccount:e,hasSwitchedWallet:"active"===a})}break}case"disconnected":{const s=await w1.handleDisconnectedConnection({connection:e,namespace:r,address:t,closeModalOnConnect:n});s&&i?.({address:s,namespace:r,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw new Error(`Invalid connection status: ${a}`)}}}),b1={createBalance(e,t){const r={name:e.metadata.name||"",symbol:e.metadata.symbol||"",decimals:e.metadata.decimals||0,value:e.metadata.value||0,price:e.metadata.price||0,iconUrl:e.metadata.iconUrl||""};return{name:r.name,symbol:r.symbol,chainId:t,address:"native"===e.address?void 0:this.convertAddressToCAIP10Address(e.address,t),value:r.value,price:r.price,quantity:{decimals:r.decimals.toString(),numeric:this.convertHexToBalance({hex:e.balance,decimals:r.decimals})},iconUrl:r.iconUrl}},convertHexToBalance:({hex:e,decimals:t})=>YH(BigInt(e),t),convertAddressToCAIP10Address:(e,t)=>`${t}:${e}`,createCAIP2ChainId:(e,t)=>`${t}:${parseInt(e,16)}`,getChainIdHexFromCAIP2ChainId(e){const t=e.split(":");if(t.length<2||!t[1])return"0x0";const r=t[1],n=parseInt(r,10);return isNaN(n)?"0x0":`0x${n.toString(16)}`},isWalletGetAssetsResponse(e){return"object"==typeof e&&null!==e&&Object.values(e).every((e=>Array.isArray(e)&&e.every((e=>this.isValidAsset(e)))))},isValidAsset:e=>"object"==typeof e&&null!==e&&"string"==typeof e.address&&"string"==typeof e.balance&&("ERC20"===e.type||"NATIVE"===e.type)&&"object"==typeof e.metadata&&null!==e.metadata&&"string"==typeof e.metadata.name&&"string"==typeof e.metadata.symbol&&"number"==typeof e.metadata.decimals&&"number"==typeof e.metadata.price&&"string"==typeof e.metadata.iconUrl};let v1;async function E1(){if(!v1){const{createPublicClient:e,http:t,defineChain:r}=await Promise.resolve().then((function(){return y0}));v1={createPublicClient:e,http:t,defineChain:r}}return v1}const A1={getBlockchainApiRpcUrl(e,t){const r=new URL("https://rpc.walletconnect.org/v1/");return r.searchParams.set("chainId",e),r.searchParams.set("projectId",t),r.toString()},async getViemChain(e){const{defineChain:t}=await E1(),{chainId:r}=TR.parseCaipNetworkId(e.caipNetworkId);return t({...e,id:Number(r)})},async createViemPublicClient(e){const{createPublicClient:t,http:r}=await E1(),n=A0.state.projectId,i=await A1.getViemChain(e);if(!i)throw new Error(`Chain ${e.caipNetworkId} not found in viem/chains`);return t({chain:i,transport:r(A1.getBlockchainApiRpcUrl(e.caipNetworkId,n))})}},x1={async getMyTokensWithBalance(e){const t=L1.getAccountData()?.address,r=L1.state.activeCaipNetwork,n=c1.getConnectorId("eip155")===dR.CONNECTOR_ID.AUTH;if(!t||!r)return[];const i=`${r.caipNetworkId}:${t}`,s=$$.getBalanceCacheForCaipAddress(i);if(s)return s.balances;if(r.chainNamespace===dR.CHAIN.EVM&&n){const e=await this.getEIP155Balances(t,r);if(e)return this.filterLowQualityTokens(e)}const o=await P0.getBalance(t,r.caipNetworkId,e);return this.filterLowQualityTokens(o.balances)},async getEIP155Balances(e,t){try{const r=b1.getChainIdHexFromCAIP2ChainId(t.caipNetworkId);if(!(await w1.getCapabilities(e))?.[r]?.assetDiscovery?.supported)return null;const n=await w1.walletGetAssets({account:e,chainFilter:[r]});if(!b1.isWalletGetAssetsResponse(n))return null;const i=(n[r]||[]).map((e=>b1.createBalance(e,t.caipNetworkId)));return $$.updateBalanceCache({caipAddress:`${t.caipNetworkId}:${e}`,balance:{balances:i},timestamp:Date.now()}),i}catch{return null}},filterLowQualityTokens:e=>e.filter((e=>"0"!==e.quantity.decimals)),async fetchERC20Balance({caipAddress:e,assetAddress:t,caipNetwork:r}){const n=await A1.createViemPublicClient(r),{address:i}=TR.parseCaipAddress(e),[{result:s},{result:o},{result:a},{result:c}]=await n.multicall({contracts:[{address:t,functionName:"name",args:[],abi:fq},{address:t,functionName:"symbol",args:[],abi:fq},{address:t,functionName:"balanceOf",args:[i],abi:fq},{address:t,functionName:"decimals",args:[],abi:fq}]});return{name:s,symbol:o,decimals:c,balance:a&&c?YH(a,c):"0"}}},C1={adapters:{}},S1={state:C1,initialize(e){C1.adapters={...e}},get:e=>C1.adapters[e]},I1={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0},_1=x$({providers:{...I1},providerIds:{...I1}}),k1={state:_1,subscribeKey:(e,t)=>_$(_1,e,t),subscribe:e=>C$(_1,(()=>{e(_1)})),subscribeProviders:e=>C$(_1.providers,(()=>e(_1.providers))),setProvider(e,t){e&&t&&(_1.providers[e]=I$(t))},getProvider(e){if(e)return _1.providers[e]},setProviderId(e,t){t&&(_1.providerIds[e]=t)},getProviderId(e){if(e)return _1.providerIds[e]},reset(){_1.providers={...I1},_1.providerIds={...I1}},resetChain(e){_1.providers[e]=void 0,_1.providerIds[e]=void 0}},P1=x$({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),T1={state:P1,subscribe:e=>C$(P1,(()=>e(P1))),subscribeOpen:e=>_$(P1,"open",e),set(e){Object.assign(P1,{...P1,...e})}},O1={getTokenList:async e=>(await P0.fetchSwapTokens({chainId:e}))?.tokens?.map((e=>({...e,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0})))||[],async fetchGasPrice(){const e=L1.state.activeCaipNetwork;if(!e)return null;try{if("solana"===e.chainNamespace){const e=(await(w1?.estimateGas({chainNamespace:"solana"})))?.toString();return{standard:e,fast:e,instant:e}}return await P0.fetchGasPrice({chainId:e.caipNetworkId})}catch{return null}},async fetchSwapAllowance({tokenAddress:e,userAddress:t,sourceTokenAmount:r,sourceTokenDecimals:n}){const i=await P0.fetchSwapAllowance({tokenAddress:e,userAddress:t});if(i?.allowance&&r&&n){const e=w1.parseUnits(r,n)||0;return BigInt(i.allowance)>=e}return!1},async getMyTokensWithBalance(e){const t=await x1.getMyTokensWithBalance(e);return L1.setAccountProp("tokenBalance",t,L1.state.activeChain),this.mapBalancesToSwapTokens(t)},mapBalancesToSwapTokens:e=>e?.map((e=>({...e,address:e?.address?e.address:d1(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[],async handleSwapError(e){try{const t=e?.cause;return t?.json&&(await t.json())?.reasons?.[0]?.description?.includes("insufficient liquidity")?"Insufficient liquidity":void 0}catch{return}}},N1=x$({tokenBalances:[],loading:!1}),R1=L0({state:N1,subscribe:e=>C$(N1,(()=>e(N1))),subscribeKey:(e,t)=>_$(N1,e,t),setToken(e){e&&(N1.token=I$(e))},setTokenAmount(e){N1.sendTokenAmount=e},setReceiverAddress(e){N1.receiverAddress=e},setReceiverProfileImageUrl(e){N1.receiverProfileImageUrl=e},setReceiverProfileName(e){N1.receiverProfileName=e},setNetworkBalanceInUsd(e){N1.networkBalanceInUSD=e},setLoading(e){N1.loading=e},getSdkEventProperties:e=>({message:B$.parseError(e),isSmartAccount:u1(L1.state.activeChain)===K$.ACCOUNT_TYPES.SMART_ACCOUNT,token:N1.token?.symbol||"",amount:N1.sendTokenAmount??0,network:L1.state.activeCaipNetwork?.caipNetworkId||""}),async sendToken(){try{switch(R1.setLoading(!0),L1.state.activeCaipNetwork?.chainNamespace){case"eip155":return void await R1.sendEvmToken();case"solana":return void await R1.sendSolanaToken();default:throw new Error("Unsupported chain")}}catch(e){throw OR.isUserRejectedRequestError(e)?new RR(e):e}finally{R1.setLoading(!1)}},async sendEvmToken(){const e=L1.state.activeChain;if(!e)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");const t=u1(e);if(!R1.state.sendTokenAmount||!R1.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!R1.state.token)throw new Error("A token is required");if(R1.state.token?.address){K0.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===K$.ACCOUNT_TYPES.SMART_ACCOUNT,token:R1.state.token.address,amount:R1.state.sendTokenAmount,network:L1.state.activeCaipNetwork?.caipNetworkId||""}});const{hash:e}=await R1.sendERC20Token({receiverAddress:R1.state.receiverAddress,tokenAddress:R1.state.token.address,sendTokenAmount:R1.state.sendTokenAmount,decimals:R1.state.token.quantity.decimals});e&&(N1.hash=e)}else{K0.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===K$.ACCOUNT_TYPES.SMART_ACCOUNT,token:R1.state.token.symbol||"",amount:R1.state.sendTokenAmount,network:L1.state.activeCaipNetwork?.caipNetworkId||""}});const{hash:e}=await R1.sendNativeToken({receiverAddress:R1.state.receiverAddress,sendTokenAmount:R1.state.sendTokenAmount,decimals:R1.state.token.quantity.decimals});e&&(N1.hash=e)}},async fetchTokenBalance(e){N1.loading=!0;const t=L1.state.activeChain,r=L1.state.activeCaipNetwork?.caipNetworkId,n=L1.state.activeCaipNetwork?.chainNamespace,i=L1.getAccountData(t)?.caipAddress??L1.state.activeCaipAddress,s=i?B$.getPlainAddress(i):void 0;if(N1.lastRetry&&!B$.isAllowedRetry(N1.lastRetry,30*R$.ONE_SEC_MS))return N1.loading=!1,[];try{if(s&&r&&n){const e=await x1.getMyTokensWithBalance();return N1.tokenBalances=e,N1.lastRetry=void 0,e}}catch(t){N1.lastRetry=Date.now(),e?.(t),S0.showError("Token Balance Unavailable")}finally{N1.loading=!1}return[]},fetchNetworkBalance(){if(0===N1.tokenBalances.length)return;const e=O1.mapBalancesToSwapTokens(N1.tokenBalances);if(!e)return;const t=e.find((e=>e.address===d1()));t&&(N1.networkBalanceInUSD=t?IR.multiply(t.quantity.numeric,t.price).toString():"0")},async sendNativeToken(e){t1.pushTransactionStack({});const t=e.receiverAddress,r=L1.getAccountData()?.address,n=w1.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals)),i=await w1.sendTransaction({chainNamespace:dR.CHAIN.EVM,to:t,address:r,data:"0x",value:n??BigInt(0)});return K0.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:u1("eip155")===K$.ACCOUNT_TYPES.SMART_ACCOUNT,token:R1.state.token?.symbol||"",amount:e.sendTokenAmount,network:L1.state.activeCaipNetwork?.caipNetworkId||"",hash:i||""}}),w1._getClient()?.updateBalance("eip155"),R1.resetSend(),{hash:i}},async sendERC20Token(e){t1.pushTransactionStack({onSuccess(){t1.replace("Account")}});const t=w1.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals)),r=L1.getAccountData()?.address;if(r&&e.sendTokenAmount&&e.receiverAddress&&e.tokenAddress){const n=B$.getPlainAddress(e.tokenAddress);if(!n)throw new Error("SendController:sendERC20Token - tokenAddress is required");const i=await w1.writeContract({fromAddress:r,tokenAddress:n,args:[e.receiverAddress,t??BigInt(0)],method:"transfer",abi:PR(n),chainNamespace:dR.CHAIN.EVM});return K0.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:u1("eip155")===K$.ACCOUNT_TYPES.SMART_ACCOUNT,token:R1.state.token?.symbol||"",amount:e.sendTokenAmount,network:L1.state.activeCaipNetwork?.caipNetworkId||"",hash:i||""}}),R1.resetSend(),{hash:i}}return{hash:void 0}},async sendSolanaToken(){if(!R1.state.sendTokenAmount||!R1.state.receiverAddress)throw new Error("An amount and receiver address are required");let e;t1.pushTransactionStack({onSuccess(){t1.replace("Account")}}),R1.state.token&&R1.state.token.address!==R$.SOLANA_NATIVE_TOKEN_ADDRESS&&(e=B$.isCaipAddress(R1.state.token.address)?B$.getPlainAddress(R1.state.token.address):R1.state.token.address);const t=await w1.sendTransaction({chainNamespace:"solana",tokenMint:e,to:R1.state.receiverAddress,value:R1.state.sendTokenAmount});t&&(N1.hash=t),w1._getClient()?.updateBalance("solana"),K0.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:!1,token:R1.state.token?.symbol||"",amount:R1.state.sendTokenAmount,network:L1.state.activeCaipNetwork?.caipNetworkId||"",hash:t||""}}),R1.resetSend()},resetSend(){N1.token=void 0,N1.sendTokenAmount=void 0,N1.receiverAddress=void 0,N1.receiverProfileImageUrl=void 0,N1.receiverProfileName=void 0,N1.loading=!1,N1.tokenBalances=[]}}),$1={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},B1={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},M1=x$({chains:function(e){const t=[];let r=0;const n=new Map,i=new WeakMap,s=e=>i.get(e)||n;if(e){if("function"!=typeof e[Symbol.iterator])throw new TypeError("proxyMap:\n\tinitial state must be iterable\n\t\ttip: structure should be [[key, value]]");for(const[i,s]of e)n.set(i,r),t[r++]=s}const o={data:t,index:r,epoch:0,get size(){return T$(this)||(()=>{const e=P$.get(o),t=e?.[1];if(t&&!i.has(t)){const e=new Map(n);i.set(t,e)}})(),s(this).size},get(e){const t=s(this).get(e);if(void 0!==t)return this.data[t];this.epoch},has(e){const t=s(this);return this.epoch,t.has(e)},set(e,t){if(!T$(this))throw new Error("Cannot perform mutations on a snapshot");const r=n.get(e);return void 0===r?(n.set(e,this.index),this.data[this.index++]=t):this.data[r]=t,this.epoch++,this},delete(e){if(!T$(this))throw new Error("Cannot perform mutations on a snapshot");const t=n.get(e);return void 0!==t&&(delete this.data[t],n.delete(e),this.epoch++,!0)},clear(){if(!T$(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,n.clear()},forEach(e){this.epoch,s(this).forEach(((t,r)=>{e(this.data[t],r,this)}))},*entries(){this.epoch;const e=s(this);for(const[t,r]of e)yield[t,this.data[r]]},*keys(){this.epoch;const e=s(this);for(const t of e.keys())yield t},*values(){this.epoch;const e=s(this);for(const t of e.values())yield this.data[t]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},a=x$(o);return Object.defineProperties(a,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(a),a}(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{connectionControllerClient:void 0},isSwitchingNamespace:!1}),U1={state:M1,subscribe:e=>C$(M1,(()=>{e(M1)})),subscribeKey:(e,t)=>_$(M1,e,t),subscribeAccountStateProp(e,t,r){const n=r||M1.activeChain;return n?_$(M1.chains.get(n)?.accountState||{},e,t):()=>{}},subscribeChainProp(e,t,r){let n;return C$(M1.chains,(()=>{const i=r||M1.activeChain;if(i){const r=M1.chains.get(i)?.[e];n!==r&&(n=r,t(r))}}))},initialize(e,t,r){const{chainId:n,namespace:i}=$$.getActiveNetworkProps(),s=t?.find((e=>e.id.toString()===n?.toString())),o=e.find((e=>e?.namespace===i))||e?.[0],a=e.map((e=>e.namespace)).filter((e=>void 0!==e)),c=A0.state.enableEmbedded?new Set([...a]):new Set([...t?.map((e=>e.chainNamespace))??[]]);(0===e?.length||!o)&&(M1.noAdapters=!0),M1.noAdapters||(M1.activeChain=o?.namespace,M1.activeCaipNetwork=s,L1.setChainNetworkData(o?.namespace,{caipNetwork:s}),M1.activeChain&&T1.set({activeChain:o?.namespace})),c.forEach((e=>{const n=t?.filter((t=>t.chainNamespace===e)),i=$$.getPreferredAccountTypes()||{},s={...A0.state.defaultAccountTypes,...i};L1.state.chains.set(e,{namespace:e,networkState:x$({...B1,caipNetwork:n?.[0]}),accountState:x$({...$1,preferredAccountType:s[e]}),caipNetworks:n??[],...r}),L1.setRequestedCaipNetworks(n??[],e)}))},removeAdapter(e){if(M1.activeChain===e){const t=Array.from(M1.chains.entries()).find((([t])=>t!==e));if(t){const e=t[1]?.caipNetworks?.[0];e&&L1.setActiveCaipNetwork(e)}}M1.chains.delete(e)},addAdapter(e,{connectionControllerClient:t},r){if(!e.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");M1.chains.set(e.namespace,{namespace:e.namespace,networkState:{...B1,caipNetwork:r[0]},accountState:{...$1},caipNetworks:r,connectionControllerClient:t}),L1.setRequestedCaipNetworks(r?.filter((t=>t.chainNamespace===e.namespace))??[],e.namespace)},addNetwork(e){const t=M1.chains.get(e.chainNamespace);if(t){const r=[...t.caipNetworks||[]];t.caipNetworks?.find((t=>t.id===e.id))||r.push(e),M1.chains.set(e.chainNamespace,{...t,caipNetworks:r}),L1.setRequestedCaipNetworks(r,e.chainNamespace),c1.filterByNamespace(e.chainNamespace,!0)}},removeNetwork(e,t){const r=M1.chains.get(e);if(r){const n=M1.activeCaipNetwork?.id===t,i=[...r.caipNetworks?.filter((e=>e.id!==t))||[]];n&&r?.caipNetworks?.[0]&&L1.setActiveCaipNetwork(r.caipNetworks[0]),M1.chains.set(e,{...r,caipNetworks:i}),L1.setRequestedCaipNetworks(i||[],e),0===i.length&&c1.filterByNamespace(e,!1)}},setAdapterNetworkState(e,t){const r=M1.chains.get(e);r&&(r.networkState={...r.networkState||B1,...t},M1.chains.set(e,r))},setChainAccountData(e,t,r=!0){if(!e)throw new Error("Chain is required to update chain account data");const n=M1.chains.get(e);if(n){const r={...n.accountState||$1,...t};M1.chains.set(e,{...n,accountState:r}),(1===M1.chains.size||M1.activeChain===e)&&t.caipAddress&&(M1.activeCaipAddress=t.caipAddress)}},setChainNetworkData(e,t){if(!e)return;const r=M1.chains.get(e);if(r){const n={...r.networkState||B1,...t};M1.chains.set(e,{...r,networkState:n})}},setAccountProp(e,t,r,n=!0){L1.setChainAccountData(r,{[e]:t},n)},setActiveNamespace(e){M1.activeChain=e;const t=e?M1.chains.get(e):void 0,r=t?.networkState?.caipNetwork;r?.id&&e&&(M1.activeCaipAddress=t?.accountState?.caipAddress,M1.activeCaipNetwork=r,L1.setChainNetworkData(e,{caipNetwork:r}),$$.setActiveCaipNetworkId(r?.caipNetworkId),T1.set({activeChain:e,selectedNetworkId:r?.caipNetworkId}))},setActiveCaipNetwork(e){if(!e)return;const t=M1.activeChain===e.chainNamespace;t||L1.setIsSwitchingNamespace(!0);const r=M1.chains.get(e.chainNamespace);M1.activeChain=e.chainNamespace,M1.activeCaipNetwork=e,L1.setChainNetworkData(e.chainNamespace,{caipNetwork:e});let n=r?.accountState?.address;if(n)M1.activeCaipAddress=`${e.chainNamespace}:${e.id}:${n}`;else if(t&&M1.activeCaipAddress){const{address:t}=TR.parseCaipAddress(M1.activeCaipAddress);n=t,M1.activeCaipAddress=`${e.caipNetworkId}:${n}`}else M1.activeCaipAddress=void 0;L1.setChainAccountData(e.chainNamespace,{address:n,caipAddress:M1.activeCaipAddress}),R1.resetSend(),T1.set({activeChain:M1.activeChain,selectedNetworkId:M1.activeCaipNetwork?.caipNetworkId}),$$.setActiveCaipNetworkId(e.caipNetworkId),!L1.checkIfSupportedNetwork(e.chainNamespace)&&A0.state.enableNetworkSwitch&&!A0.state.allowUnsupportedChain&&!w1.state.wcBasic&&L1.showUnsupportedChainUI()},addCaipNetwork(e){if(!e)return;const t=M1.chains.get(e.chainNamespace);t&&t?.caipNetworks?.push(e)},async switchActiveNamespace(e){if(!e)return;const t=e!==L1.state.activeChain,r=L1.getNetworkData(e)?.caipNetwork,n=L1.getCaipNetworkByNamespace(e,r?.id);t&&n&&await L1.switchActiveNetwork(n)},async switchActiveNetwork(e,{throwOnFailure:t=!1}={}){const r=L1.state.activeChain;if(!r)throw new Error("ChainController:switchActiveNetwork - namespace is required");const n="AUTH"===k1.getProviderId(M1.activeChain),i=L1.getAccountData(r)?.address,s=dR.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e.chainNamespace);try{if(i&&e.chainNamespace===r||n&&s){const t=S1.get(e.chainNamespace);if(!t)throw new Error("Adapter not found");await t.switchNetwork({caipNetwork:e})}L1.setActiveCaipNetwork(e)}catch(e){if(t)throw e}K0.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:e.caipNetworkId}})},getConnectionControllerClient(e){const t=e||M1.activeChain;if(!t)throw new Error("Chain is required to get connection controller client");const r=M1.chains.get(t);if(!r?.connectionControllerClient)throw new Error("ConnectionController client not set");return r.connectionControllerClient},getNetworkProp(e,t){const r=M1.chains.get(t)?.networkState;if(r)return r[e]},getRequestedCaipNetworks(e){const t=M1.chains.get(e),{approvedCaipNetworkIds:r=[],requestedCaipNetworks:n=[]}=t?.networkState||{};return B$.sortRequestedNetworks(r,n).filter((e=>e?.id))},getAllRequestedCaipNetworks(){const e=[];return M1.chains.forEach((t=>{if(!t.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");const r=L1.getRequestedCaipNetworks(t.namespace);e.push(...r)})),e},setRequestedCaipNetworks(e,t){L1.setAdapterNetworkState(t,{requestedCaipNetworks:e});const r=L1.getAllRequestedCaipNetworks().map((e=>e.chainNamespace)),n=Array.from(new Set(r));c1.filterByNamespaces(n)},getAllApprovedCaipNetworkIds(){const e=[];return M1.chains.forEach((t=>{if(!t.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");const r=L1.getApprovedCaipNetworkIds(t.namespace);e.push(...r)})),e},getActiveCaipNetwork:e=>e?M1.chains.get(e)?.networkState?.caipNetwork:M1.activeCaipNetwork,getActiveCaipAddress:()=>M1.activeCaipAddress,getApprovedCaipNetworkIds:e=>M1.chains.get(e)?.networkState?.approvedCaipNetworkIds||[],setApprovedCaipNetworksData(e,t){L1.setAdapterNetworkState(e,t)},checkIfSupportedNetwork(e,t){const r=t||M1.activeCaipNetwork?.caipNetworkId,n=L1.getRequestedCaipNetworks(e);return!n.length||n?.some((e=>e.caipNetworkId===r))},checkIfSupportedChainId:e=>!M1.activeChain||L1.getRequestedCaipNetworks(M1.activeChain)?.some((t=>t.id===e)),checkIfSmartAccountEnabled(){const e=uR.caipNetworkIdToNumber(M1.activeCaipNetwork?.caipNetworkId);return!(!M1.activeChain||!e)&&!!(J$.get(W$.SMART_ACCOUNT_ENABLED_NETWORKS)?.split(",")||[])?.includes(e.toString())},showUnsupportedChainUI(){H1.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const e=M1.activeCaipNetwork;return!(!e?.chainNamespace||!R$.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(e.chainNamespace))},resetNetwork(e){L1.setAdapterNetworkState(e,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(e){const t=e;if(!t)throw new Error("Chain is required to set account prop");const r=L1.state.chains.get(t)?.accountState?.preferredAccountType,n=A0.state.defaultAccountTypes[t];M1.activeCaipAddress=void 0,L1.setChainAccountData(t,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:n||r,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),c1.removeConnectorId(t)},setIsSwitchingNamespace(e){M1.isSwitchingNamespace=e},getFirstCaipNetworkSupportsAuthConnector(){const e=[];let t;if(M1.chains.forEach((t=>{dR.AUTH_CONNECTOR_SUPPORTED_CHAINS.find((e=>e===t.namespace))&&t.namespace&&e.push(t.namespace)})),e.length>0){const r=e[0];return t=r?M1.chains.get(r)?.caipNetworks?.[0]:void 0,t}},getAccountData(e){const t=e||M1.activeChain;if(t)return L1.state.chains.get(t)?.accountState},getNetworkData(e){const t=e||M1.activeChain;if(t)return L1.state.chains.get(t)?.networkState},getCaipNetworkByNamespace(e,t){if(!e)return;const r=L1.state.chains.get(e),n=r?.caipNetworks?.find((e=>e.id.toString()===t?.toString()));return n||r?.networkState?.caipNetwork||r?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){const e=c1.state.filterByNamespace;return(e?[M1.chains.get(e)]:Array.from(M1.chains.values())).flatMap((e=>e?.caipNetworks||[])).map((e=>e.caipNetworkId))},getCaipNetworks:e=>e?L1.getRequestedCaipNetworks(e):L1.getAllRequestedCaipNetworks(),getCaipNetworkById:(e,t)=>U1.getCaipNetworks(t).find((t=>t.id.toString()===e.toString()||t.caipNetworkId.toString()===e.toString())),setLastConnectedSIWECaipNetwork(e){M1.lastConnectedSIWECaipNetwork=e},getLastConnectedSIWECaipNetwork:()=>M1.lastConnectedSIWECaipNetwork,async fetchTokenBalance(e){const t=L1.getAccountData();if(!t)return[];const r=L1.state.activeCaipNetwork?.caipNetworkId,n=L1.state.activeCaipNetwork?.chainNamespace,i=L1.state.activeCaipAddress,s=i?B$.getPlainAddress(i):void 0;if(L1.setAccountProp("balanceLoading",!0,n),t.lastRetry&&!B$.isAllowedRetry(t.lastRetry,30*R$.ONE_SEC_MS))return L1.setAccountProp("balanceLoading",!1,n),[];try{if(s&&r&&n){const e=await x1.getMyTokensWithBalance();return L1.setAccountProp("tokenBalance",e,n),L1.setAccountProp("lastRetry",void 0,n),L1.setAccountProp("balanceLoading",!1,n),e}}catch(t){L1.setAccountProp("lastRetry",Date.now(),n),e?.(t),S0.showError("Token Balance Unavailable")}finally{L1.setAccountProp("balanceLoading",!1,n)}return[]},isCaipNetworkDisabled(e){const t=e.chainNamespace,r=!!L1.getAccountData(t)?.caipAddress,n=L1.getAllApprovedCaipNetworkIds(),i=!1!==L1.getNetworkProp("supportsAllNetworks",t),s=c1.getConnectorId(t),o=c1.getAuthConnector(),a=s===dR.CONNECTOR_ID.AUTH&&o;return!(!r||i||a)&&!n?.includes(e.caipNetworkId)}},L1=L0(U1),D1={onSwitchNetwork({network:e,ignoreSwitchConfirmation:t=!1}){const r=L1.state.activeCaipNetwork,n=L1.state.activeChain,i=t1.state.data;if(e.id===r?.id)return;const s=!!L1.getAccountData(n)?.address,o=!!L1.getAccountData(e.chainNamespace)?.address,a=e.chainNamespace!==n,c=c1.getConnectorId(n)===dR.CONNECTOR_ID.AUTH,l=dR.AUTH_CONNECTOR_SUPPORTED_CHAINS.find((t=>t===e.chainNamespace));t||c&&l?t1.push("SwitchNetwork",{...i,network:e}):s&&a&&!o?t1.push("SwitchActiveChain",{switchToChain:e.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:e}):t1.push("SwitchNetwork",{...i,network:e})}},j1=x$({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),H1=L0({state:j1,subscribe:e=>C$(j1,(()=>e(j1))),subscribeKey:(e,t)=>_$(j1,e,t),async open(e){const t=e?.namespace,r=L1.state.activeChain,n=t&&t!==r,i=L1.getAccountData(e?.namespace)?.caipAddress,s=L1.state.noAdapters;if(w1.state.wcBasic?X0.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1,fetchWalletRanks:!1}):await X0.prefetch(),c1.setFilterByNamespace(e?.namespace),H1.setLoading(!0,t),t&&n){const e=L1.getNetworkData(t)?.caipNetwork||L1.getRequestedCaipNetworks(t)[0];e&&(s?(await L1.switchActiveNetwork(e),t1.push("ConnectingWalletConnectBasic")):D1.onSwitchNetwork({network:e,ignoreSwitchConfirmation:!0}))}else A0.state.manualWCControl||s&&!i?B$.isMobile()?t1.reset("AllWallets"):t1.reset("ConnectingWalletConnectBasic"):e?.view?t1.reset(e.view,e.data):i?t1.reset("Account"):t1.reset("Connect");j1.open=!0,T1.set({open:!0}),K0.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!i}})},close(){const e=A0.state.enableEmbedded,t=!!L1.state.activeCaipAddress;j1.open&&K0.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:t}}),j1.open=!1,t1.reset("Connect"),H1.clearLoading(),e?t?t1.replace("Account"):t1.push("Connect"):T1.set({open:!1}),w1.resetUri()},setLoading(e,t){t&&j1.loadingNamespaceMap.set(t,e),j1.loading=e,T1.set({loading:e})},clearLoading(){j1.loadingNamespaceMap.clear(),j1.loading=!1,T1.set({loading:!1})},shake(){j1.shake||(j1.shake=!0,setTimeout((()=>{j1.shake=!1}),500))}}),z1={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},F1={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},V1=x$({providers:N$,selectedProvider:null,error:null,purchaseCurrency:z1,paymentCurrency:F1,purchaseCurrencies:[z1],paymentCurrencies:[],quotesLoading:!1}),Z1=L0({state:V1,subscribe:e=>C$(V1,(()=>e(V1))),subscribeKey:(e,t)=>_$(V1,e,t),setSelectedProvider(e){if(e&&"meld"===e.name){const t=L1.state.activeChain,r=t===dR.CHAIN.SOLANA?"SOL":"USDC",n=t?L1.state.chains.get(t)?.accountState?.address??"":"",i=new URL(e.url);i.searchParams.append("publicKey","WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU"),i.searchParams.append("destinationCurrencyCode",r),i.searchParams.append("walletAddress",n),i.searchParams.append("externalCustomerId",A0.state.projectId),V1.selectedProvider={...e,url:i.toString()}}else V1.selectedProvider=e},setOnrampProviders(e){if(Array.isArray(e)&&e.every((e=>"string"==typeof e))){const t=e,r=N$.filter((e=>t.includes(e.name)));V1.providers=r}else V1.providers=[]},setPurchaseCurrency(e){V1.purchaseCurrency=e},setPaymentCurrency(e){V1.paymentCurrency=e},setPurchaseAmount(e){Z1.state.purchaseAmount=e},setPaymentAmount(e){Z1.state.paymentAmount=e},async getAvailableCurrencies(){const e=await P0.getOnrampOptions();V1.purchaseCurrencies=e.purchaseCurrencies,V1.paymentCurrencies=e.paymentCurrencies,V1.paymentCurrency=e.paymentCurrencies[0]||F1,V1.purchaseCurrency=e.purchaseCurrencies[0]||z1,await X0.fetchCurrencyImages(e.paymentCurrencies.map((e=>e.id))),await X0.fetchTokenImages(e.purchaseCurrencies.map((e=>e.symbol)))},async getQuote(){V1.quotesLoading=!0;try{const e=await P0.getOnrampQuote({purchaseCurrency:V1.purchaseCurrency,paymentCurrency:V1.paymentCurrency,amount:V1.paymentAmount?.toString()||"0",network:V1.purchaseCurrency?.symbol});return V1.quotesLoading=!1,V1.purchaseAmount=Number(e?.purchaseAmount.amount),e}catch(e){return V1.error=e.message,V1.quotesLoading=!1,null}finally{V1.quotesLoading=!1}},resetState(){V1.selectedProvider=null,V1.error=null,V1.purchaseCurrency=z1,V1.paymentCurrency=F1,V1.purchaseCurrencies=[z1],V1.paymentCurrencies=[],V1.paymentAmount=void 0,V1.purchaseAmount=void 0,V1.quotesLoading=!1}}),q1=2147483648,W1={convertEVMChainIdToCoinType(e){if(e>=q1)throw new Error("Invalid chainId");return(q1|e)>>>0}},K1=x$({suggestions:[],loading:!1}),G1=L0({state:K1,subscribe:e=>C$(K1,(()=>e(K1))),subscribeKey:(e,t)=>_$(K1,e,t),async resolveName(e){try{return await P0.lookupEnsName(e)}catch(e){const t=e;throw new Error(t?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(e){try{return await P0.lookupEnsName(e),!0}catch{return!1}},async getSuggestions(e){try{K1.loading=!0,K1.suggestions=[];const t=await P0.getEnsNameSuggestions(e);return K1.suggestions=t.suggestions||[],K1.suggestions}catch(e){const t=G1.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(t)}finally{K1.loading=!1}},async getNamesForAddress(e){try{if(!L1.state.activeCaipNetwork)return[];const t=$$.getEnsFromCacheForAddress(e);if(t)return t;const r=await P0.reverseLookupEnsName({address:e});return $$.updateEnsCache({address:e,ens:r,timestamp:Date.now()}),r}catch(e){const t=G1.parseEnsApiError(e,"Error fetching names for address");throw new Error(t)}},async registerName(e){const t=L1.state.activeCaipNetwork,r=L1.getAccountData(t?.chainNamespace)?.address,n=c1.getAuthConnector();if(!t)throw new Error("Network not found");if(!r||!n)throw new Error("Address or auth connector not found");K1.loading=!0;try{const n=JSON.stringify({name:e,attributes:{},timestamp:Math.floor(Date.now()/1e3)});t1.pushTransactionStack({onCancel(){t1.replace("RegisterAccountName")}});const i=await w1.signMessage(n);K1.loading=!1;const s=t.id;if(!s)throw new Error("Network not found");const o=W1.convertEVMChainIdToCoinType(Number(s));await P0.registerEnsName({coinType:o,address:r,signature:i,message:n}),L1.setAccountProp("profileName",e,t.chainNamespace),$$.updateEnsCache({address:r,ens:[{name:e,registered_at:(new Date).toISOString(),updated_at:void 0,addresses:{},attributes:[]}],timestamp:Date.now()}),t1.replace("RegisterAccountNameSuccess")}catch(t){const r=G1.parseEnsApiError(t,`Error registering name ${e}`);throw t1.replace("RegisterAccountName"),new Error(r)}finally{K1.loading=!1}},validateName:e=>/^[a-zA-Z0-9-]{4,}$/u.test(e),parseEnsApiError:(e,t)=>e?.reasons?.[0]?.description||t}),Y1={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},J1={RPC_ERROR_CODE:{USER_REJECTED:5e3,USER_REJECTED_METHODS:5002},getMethodsByChainNamespace:e=>Y1[e]||[],createDefaultNamespace(e){return{methods:this.getMethodsByChainNamespace(e),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(e,t){if(!t)return{...e};const r={...e},n=new Set;if(t.methods&&Object.keys(t.methods).forEach((e=>n.add(e))),t.chains&&Object.keys(t.chains).forEach((e=>n.add(e))),t.events&&Object.keys(t.events).forEach((e=>n.add(e))),t.rpcMap&&Object.keys(t.rpcMap).forEach((e=>{const[t]=e.split(":");t&&n.add(t)})),n.forEach((e=>{r[e]||(r[e]=this.createDefaultNamespace(e))})),t.methods&&Object.entries(t.methods).forEach((([e,t])=>{r[e]&&(r[e].methods=t)})),t.chains&&Object.entries(t.chains).forEach((([e,t])=>{r[e]&&(r[e].chains=t)})),t.events&&Object.entries(t.events).forEach((([e,t])=>{r[e]&&(r[e].events=t)})),t.rpcMap){const e=new Set;Object.entries(t.rpcMap).forEach((([t,n])=>{const[i,s]=t.split(":");!i||!s||!r[i]||(r[i].rpcMap||(r[i].rpcMap={}),e.has(i)||(r[i].rpcMap={},e.add(i)),r[i].rpcMap[s]=n)}))}return r},createNamespaces(e,t){const r=e.reduce(((e,t)=>{const{id:r,chainNamespace:n,rpcUrls:i}=t,s=i.default.http[0];e[n]||(e[n]=this.createDefaultNamespace(n));const o=`${n}:${r}`,a=e[n];switch(a.chains.push(o),o){case"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":a.chains.push("solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ");break;case"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1":a.chains.push("solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K")}return a?.rpcMap&&s&&(a.rpcMap[r]=s),e}),{});return this.applyNamespaceOverrides(r,t)},resolveReownName:async e=>{const t=await G1.resolveName(e);return(Object.values(t?.addresses)||[])[0]?.address||!1},getChainsFromNamespaces:(e={})=>Object.values(e).flatMap((e=>{const t=e.chains||[],r=e.accounts.map((e=>{const[t,r]=e.split(":");return`${t}:${r}`}));return Array.from(new Set([...t,...r]))})),isSessionEventData:e=>"object"==typeof e&&null!==e&&"id"in e&&"topic"in e&&"params"in e&&"object"==typeof e.params&&null!==e.params&&"chainId"in e.params&&"event"in e.params&&"object"==typeof e.params.event&&null!==e.params.event,isUserRejectedRequestError(e){try{if("object"==typeof e&&null!==e){const t=e,r="number"==typeof t.code,n=r&&t.code===J1.RPC_ERROR_CODE.USER_REJECTED_METHODS,i=r&&t.code===J1.RPC_ERROR_CODE.USER_REJECTED;return n||i}return!1}catch{return!1}},isOriginAllowed(e,t,r){for(const n of[...t,...r])if(n.includes("*")){const t=`^${n.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(t,"u").test(e))return!0}else try{if(new URL(n).origin===e)return!0}catch{if(n===e)return!0}return!1},listenWcProvider({universalProvider:e,namespace:t,onConnect:r,onDisconnect:n,onAccountsChanged:i,onChainChanged:s,onDisplayUri:o}){r&&e.on("connect",(()=>{const n=J1.getWalletConnectAccounts(e,t);r(n)})),n&&e.on("disconnect",(()=>{n()})),i&&e.on("accountsChanged",(r=>{try{const n=e.session?.namespaces?.[t]?.accounts||[],s=e.rpcProviders?.[t]?.getDefaultChain(),o=r.map((e=>{const r=n.find((r=>r.includes(`${t}:${s}:${e}`)));if(!r)return;const{chainId:i,chainNamespace:o}=TR.parseCaipAddress(r);return{address:e,chainId:i,chainNamespace:o}})).filter((e=>void 0!==e));o.length>0&&i(o)}catch(e){console.warn("Failed to parse accounts for namespace on accountsChanged event",t,r,e)}})),s&&e.on("chainChanged",(e=>{s(e)})),o&&e.on("display_uri",(e=>{o(e)}))},getWalletConnectAccounts(e,t){const r=new Set,n=e?.session?.namespaces?.[t]?.accounts?.map((e=>TR.parseCaipAddress(e))).filter((({address:e})=>!r.has(e.toLowerCase())&&(r.add(e.toLowerCase()),!0)));return n&&n.length>0?n:[]}},X1=[dR.CONNECTOR_ID.AUTH,dR.CONNECTOR_ID.WALLET_CONNECT];class Q1{constructor(e){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=e=>L1.getCaipNetworks(e),this.getConnectorId=e=>c1.getConnectorId(e),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:e,chainId:t}){const r=this.getCaipNetworks().filter((e=>e.chainNamespace===this.namespace)).find((e=>e.id.toString()===t?.toString()));e&&r&&this.addConnection({connectorId:dR.CONNECTOR_ID.AUTH,accounts:e,caipNetwork:r})}setAuthProvider(e){e.onConnect(this.onAuthConnected.bind(this)),e.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:dR.CONNECTOR_ID.AUTH,type:"AUTH",name:dR.CONNECTOR_NAMES.AUTH,provider:e,imageId:void 0,chain:this.namespace,chains:[]})}addConnector(...e){const t=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter((e=>!t.has(e.id)&&(t.add(e.id),!0))),this.emit("connectors",this.availableConnectors)}addConnection(...e){const t=new Set;this.availableConnections=[...e,...this.availableConnections].filter((e=>!t.has(e.connectorId.toLowerCase())&&(t.add(e.connectorId.toLowerCase()),!0))),this.emit("connections",this.availableConnections)}deleteConnection(e){this.availableConnections=this.availableConnections.filter((t=>t.connectorId.toLowerCase()!==e.toLowerCase())),this.emit("connections",this.availableConnections)}clearConnections(e=!1){this.availableConnections=[],e&&this.emit("connections",this.availableConnections)}setStatus(e,t){L1.setAccountProp("status",e,t)}on(e,t){this.eventListeners.has(e)||this.eventListeners.set(e,new Set),this.eventListeners.get(e)?.add(t)}off(e,t){const r=this.eventListeners.get(e);r&&r.delete(t)}removeAllEventListeners(){this.eventListeners.forEach((e=>{e.clear()}))}emit(e,t){const r=this.eventListeners.get(e);r&&r.forEach((e=>e(t)))}async connectWalletConnect(e){try{return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}catch(e){throw J1.isUserRejectedRequestError(e)?new RR(e):e}}async switchNetwork(e){const{caipNetwork:t}=e,r=k1.getProviderId(t.chainNamespace),n=k1.getProvider(t.chainNamespace);if(!n)throw new Error("Provider not found");if("WALLET_CONNECT"!==r){if("AUTH"===r){const e=c1.getAuthConnector()?.provider;if(!e)throw new Error("Auth provider not found");const r=u1(t.chainNamespace);await e.switchNetwork({chainId:t.caipNetworkId});const n=await e.getUser({chainId:t.caipNetworkId,preferredAccountType:r});this.emit("switchNetwork",n)}}else n.setDefaultChain(t.caipNetworkId)}getWalletConnectConnector(){const e=this.connectors.find((e=>"walletConnect"===e.id));if(!e)throw new Error("WalletConnectConnector not found");return e}onConnect(e,t){if(e.length>0){const{address:r,chainId:n}=B$.getAccount(e[0]),i=this.getCaipNetworks().filter((e=>e.chainNamespace===this.namespace)).find((e=>e.id.toString()===n?.toString())),s=this.connectors.find((e=>e.id===t));r&&(this.emit("accountChanged",{address:r,chainId:n,connector:s}),this.addConnection({connectorId:t,accounts:e.map((e=>{const{address:t}=B$.getAccount(e);return{address:t}})),caipNetwork:i}))}}onAccountsChanged(e,t,r=!0){if(e.length>0){const{address:r}=B$.getAccount(e[0]),n=this.getConnection({connectorId:t,connections:this.connections,connectors:this.connectors});r&&this.getConnectorId(dR.CHAIN.EVM)?.toLowerCase()===t.toLowerCase()&&this.emit("accountChanged",{address:r,chainId:n?.caipNetwork?.id,connector:n?.connector}),this.addConnection({connectorId:t,accounts:e.map((e=>{const{address:t}=B$.getAccount(e);return{address:t}})),caipNetwork:n?.caipNetwork})}else r&&this.onDisconnect(t)}onDisconnect(e){this.removeProviderListeners(e),this.deleteConnection(e),this.getConnectorId(dR.CHAIN.EVM)?.toLowerCase()===e.toLowerCase()&&this.emitFirstAvailableConnection(),0===this.connections.length&&this.emit("disconnect")}onChainChanged(e,t){const r="string"==typeof e&&e.startsWith("0x")?parseInt(e,16).toString():e.toString(),n=this.getConnection({connectorId:t,connections:this.connections,connectors:this.connectors}),i=this.getCaipNetworks().filter((e=>e.chainNamespace===this.namespace)).find((e=>e.id.toString()===r));n&&this.addConnection({connectorId:t,accounts:n.accounts,caipNetwork:i}),this.getConnectorId(dR.CHAIN.EVM)?.toLowerCase()===t.toLowerCase()&&this.emit("switchNetwork",{chainId:r})}listenProviderEvents(e,t){if(X1.includes(e))return;const r=t=>this.onAccountsChanged(t,e),n=t=>this.onChainChanged(t,e),i=()=>this.onDisconnect(e);this.providerHandlers[e]||(t.on("disconnect",i),t.on("accountsChanged",r),t.on("chainChanged",n),this.providerHandlers[e]={provider:t,disconnect:i,accountsChanged:r,chainChanged:n})}removeProviderListeners(e){if(this.providerHandlers[e]){const{provider:t,disconnect:r,accountsChanged:n,chainChanged:i}=this.providerHandlers[e];t.removeListener("disconnect",r),t.removeListener("accountsChanged",n),t.removeListener("chainChanged",i),this.providerHandlers[e]=null}}emitFirstAvailableConnection(){const e=this.getConnection({connections:this.connections,connectors:this.connectors});if(e){const[t]=e.accounts;this.emit("accountChanged",{address:t?.address,chainId:e.caipNetwork?.id,connector:e.connector})}}getConnection({address:e,connectorId:t,connections:r,connectors:n}){if(t){const i=r.find((e=>e.connectorId.toLowerCase()===t.toLowerCase()));if(!i)return null;const s=n.find((e=>e.id.toLowerCase()===i.connectorId.toLowerCase())),o=e?i.accounts.find((t=>t.address.toLowerCase()===e.toLowerCase())):i.accounts[0];return{...i,account:o,connector:s}}const i=r.find((e=>e.accounts.length>0&&n.some((t=>t.id.toLowerCase()===e.connectorId.toLowerCase()))));if(i){const[e]=i.accounts,t=n.find((e=>e.id.toLowerCase()===i.connectorId.toLowerCase()));return{...i,account:e,connector:t}}return null}}let e2=null;const t2={getSIWX:()=>A0.state.siwx,async initializeIfEnabled(e=L1.getActiveCaipAddress()){const t=A0.state.siwx;if(!t||!e)return;const[r,n,i]=e.split(":");if(L1.checkIfSupportedNetwork(r,`${r}:${n}`))try{if(A0.state.remoteFeatures?.emailCapture){const e=L1.getAccountData(r)?.user;return void await H1.open({view:"DataCapture",data:{email:e?.email??void 0}})}if(e2&&await e2,(await t.getSessions(`${r}:${n}`,i)).length)return;await H1.open({view:"SIWXSignMessage"})}catch(e){console.error("SIWXUtil:initializeIfEnabled",e),K0.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(e)}),await(w1._getClient()?.disconnect().catch(console.error)),t1.reset("Connect"),S0.showError("A problem occurred while trying initialize authentication")}},async isAuthenticated(e=L1.getActiveCaipAddress()){if(!A0.state.siwx||!e)return!0;const{chainNamespace:t,chainId:r,address:n}=TR.parseCaipAddress(e),i=`${t}:${r}`;return(await t2.getSessions({address:n,caipNetworkId:i})).length>0},async requestSignMessage(){const e=A0.state.siwx,t=B$.getPlainAddress(L1.getActiveCaipAddress()),r=h1(),n=w1._getClient();if(!e)throw new Error("SIWX is not enabled");if(!t)throw new Error("No ActiveCaipAddress found");if(!r)throw new Error("No ActiveCaipNetwork or client found");if(!n)throw new Error("No ConnectionController client found");try{const i=await e.createMessage({chainId:r.caipNetworkId,accountAddress:t}),s=i.toString();c1.getConnectorId(r.chainNamespace)===dR.CONNECTOR_ID.AUTH&&t1.pushTransactionStack({});const o=await n.signMessage(s);await e.addSession({data:i,message:s,signature:o}),L1.setLastConnectedSIWECaipNetwork(r),H1.close(),K0.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(e){(!H1.state.open||"ApproveTransaction"===t1.state.view)&&await H1.open({view:"SIWXSignMessage"}),S0.showError("Error signing message"),K0.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(e)}),console.error("SWIXUtil:requestSignMessage",e)}},async cancelSignMessage(){try{const e=this.getSIWX();if(e?.getRequired?.()){const t=L1.getLastConnectedSIWECaipNetwork();if(t){const r=await(e?.getSessions(t?.caipNetworkId,B$.getPlainAddress(L1.getActiveCaipAddress())||""));r&&r.length>0?await L1.switchActiveNetwork(t):await w1.disconnect()}else await w1.disconnect()}else H1.close();H1.close(),K0.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getAllSessions(){const e=this.getSIWX(),t=L1.getAllRequestedCaipNetworks(),r=[];return await Promise.all(t.map((async t=>{const n=await(e?.getSessions(t.caipNetworkId,B$.getPlainAddress(L1.getActiveCaipAddress())||""));n&&r.push(...n)}))),r},async getSessions(e){const t=A0.state.siwx;let r=e?.address;if(!r){const e=L1.getActiveCaipAddress();r=B$.getPlainAddress(e)}let n=e?.caipNetworkId;return n||(n=L1.getActiveCaipNetwork()?.caipNetworkId),t&&r&&n?t.getSessions(n,r):[]},async isSIWXCloseDisabled(){const e=this.getSIWX();if(e){const t="ApproveTransaction"===t1.state.view,r="SIWXSignMessage"===t1.state.view;if(t||r)return e.getRequired?.()&&0===(await this.getSessions()).length}return!1},async authConnectorAuthenticate({authConnector:e,chainId:t,socialUri:r,preferredAccountType:n,chainNamespace:i}){const s=t2.getSIWX(),o=h1();if(!s||!i.includes(dR.CHAIN.EVM)||A0.state.remoteFeatures?.emailCapture){const i=await e.connect({chainId:t,socialUri:r,preferredAccountType:n});return{address:i.address,chainId:i.chainId,accounts:i.accounts}}const a=`${i}:${t}`,c=await s.createMessage({chainId:a,accountAddress:"<<AccountAddress>>"}),l={accountAddress:c.accountAddress,chainId:c.chainId,domain:c.domain,uri:c.uri,version:c.version,nonce:c.nonce,notBefore:c.notBefore,statement:c.statement,resources:c.resources,requestId:c.requestId,issuedAt:c.issuedAt,expirationTime:c.expirationTime,serializedMessage:c.toString()},d=await e.connect({chainId:t,socialUri:r,siwxMessage:l,preferredAccountType:n});return l.accountAddress=d.address,l.serializedMessage=d.message||"",d.signature&&d.message&&await t2.addEmbeddedWalletSession(l,d.message,d.signature),L1.setLastConnectedSIWECaipNetwork(o),{address:d.address,chainId:d.chainId,accounts:d.accounts}},async addEmbeddedWalletSession(e,t,r){if(e2)return e2;const n=t2.getSIWX();return n?(e2=n.addSession({data:e,message:t,signature:r}).finally((()=>{e2=null})),e2):Promise.resolve()},async universalProviderAuthenticate({universalProvider:e,chains:t,methods:r}){const n=t2.getSIWX(),i=h1(),s=new Set(t.map((e=>e.split(":")[0])));if(!n||1!==s.size||!s.has("eip155"))return!1;const o=await n.createMessage({chainId:h1()?.caipNetworkId||"",accountAddress:""}),a=await e.authenticate({nonce:o.nonce,domain:o.domain,uri:o.uri,exp:o.expirationTime,iat:o.issuedAt,nbf:o.notBefore,requestId:o.requestId,version:o.version,resources:o.resources,statement:o.statement,chainId:o.chainId,methods:r,chains:[o.chainId,...t.filter((e=>e!==o.chainId))]});S0.showLoading("Authenticating...",{autoClose:!1});const c={...a.session.peer.metadata,name:a.session.peer.metadata.name,icon:a.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"};if(L1.setAccountProp("connectedWalletInfo",c,Array.from(s)[0]),a?.auths?.length){const t=a.auths.map((t=>{const r=e.client.formatAuthMessage({request:t.p,iss:t.p.iss});return{data:{...t.p,accountAddress:t.p.iss.split(":").slice(-1).join(""),chainId:t.p.iss.split(":").slice(2,4).join(":"),uri:t.p.aud,version:t.p.version||o.version,expirationTime:t.p.exp,issuedAt:t.p.iat,notBefore:t.p.nbf},message:r,signature:t.s.s,cacao:t}}));try{await n.setSessions(t),i&&L1.setLastConnectedSIWECaipNetwork(i),K0.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:t2.getSIWXEventProperties()})}catch(t){throw console.error("SIWX:universalProviderAuth - failed to set sessions",t),K0.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:t2.getSIWXEventProperties(t)}),await e.disconnect().catch(console.error),t}finally{S0.hide()}}return!0},getSIWXEventProperties(e){const t=L1.state.activeChain;if(!t)throw new Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:L1.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:u1(t)===K$.ACCOUNT_TYPES.SMART_ACCOUNT,message:e?B$.parseError(e):void 0}},async clearSessions(){const e=this.getSIWX();e&&await e.setSessions([])}};class r2{constructor({provider:e,namespace:t}){this.id=dR.CONNECTOR_ID.WALLET_CONNECT,this.name="WalletConnect",this.type="WALLET_CONNECT",this.imageId="ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",this.getCaipNetworks=L1.getCaipNetworks.bind(L1),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=t}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const e=this.getCaipNetworks(),t=A0.state.universalProviderConfigOverride,r=J1.createNamespaces(e,t);await this.provider.connect({optionalNamespaces:r})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map((e=>e.caipNetworkId));return t2.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:n2})}}const n2=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],i2={getGasPriceInEther:(e,t)=>Number(t*e)/1e18,getGasPriceInUSD(e,t,r){const n=i2.getGasPriceInEther(t,r);return IR.bigNumber(e).times(n).toNumber()},getPriceImpact({sourceTokenAmount:e,sourceTokenPriceInUSD:t,toTokenPriceInUSD:r,toTokenAmount:n}){const i=IR.bigNumber(e).times(t),s=IR.bigNumber(n).times(r);return i.minus(s).div(i).times(100).toNumber()},getMaxSlippage(e,t){const r=IR.bigNumber(e).div(100);return IR.multiply(t,r).toNumber()},getProviderFee:(e,t=.0085)=>IR.bigNumber(e).times(t).toString(),isInsufficientNetworkTokenForGas(e,t){const r=t||"0";return!!IR.bigNumber(e).eq(0)||IR.bigNumber(IR.bigNumber(r)).gt(e)},isInsufficientSourceTokenForSwap(e,t,r){const n=r?.find((e=>e.address===t))?.quantity?.numeric;return IR.bigNumber(n||"0").lt(e)}},s2=x$({message:"",variant:"info",open:!1}),o2=L0({state:s2,subscribeKey:(e,t)=>_$(s2,e,t),open(e,t){const{debug:r}=A0.state,{code:n,displayMessage:i,debugMessage:s}=e;i&&r&&(s2.message=i,s2.variant=t,s2.open=!0),s&&console.error("function"==typeof s?s():s,n?{code:n}:void 0)},warn(e,t,r){s2.open=!0,s2.message=e,s2.variant="warning",t&&console.warn(t,r)},close(){s2.open=!1,s2.message="",s2.variant="info"}}),a2=15e4,c2={initializing:!1,initialized:!1,loadingPrices:!1,loadingQuote:!1,loadingApprovalTransaction:!1,loadingBuildTransaction:!1,loadingTransaction:!1,switchingTokens:!1,fetchError:!1,approvalTransaction:void 0,swapTransaction:void 0,transactionError:void 0,sourceToken:void 0,sourceTokenAmount:"",sourceTokenPriceInUSD:0,toToken:void 0,toTokenAmount:"",toTokenPriceInUSD:0,networkPrice:"0",networkBalanceInUSD:"0",networkTokenSymbol:"",inputError:void 0,slippage:R$.CONVERT_SLIPPAGE_TOLERANCE,tokens:void 0,popularTokens:void 0,suggestedTokens:void 0,foundTokens:void 0,myTokensWithBalance:void 0,tokensPriceMap:{},gasFee:"0",gasPriceInUSD:0,priceImpact:void 0,maxSlippage:void 0,providerFee:void 0},l2=x$({...c2}),d2={state:l2,subscribe:e=>C$(l2,(()=>e(l2))),subscribeKey:(e,t)=>_$(l2,e,t),getParams(){const e=L1.state.activeChain,t=L1.getAccountData(e)?.caipAddress??L1.state.activeCaipAddress,r=B$.getPlainAddress(t),n=d1(),i=c1.getConnectorId(L1.state.activeChain);if(!r)throw new Error("No address found to swap the tokens from.");const s=!l2.toToken?.address||!l2.toToken?.decimals,o=!l2.sourceToken?.address||!l2.sourceToken?.decimals||!IR.bigNumber(l2.sourceTokenAmount).gt(0),a=!l2.sourceTokenAmount;return{networkAddress:n,fromAddress:r,fromCaipAddress:t,sourceTokenAddress:l2.sourceToken?.address,toTokenAddress:l2.toToken?.address,toTokenAmount:l2.toTokenAmount,toTokenDecimals:l2.toToken?.decimals,sourceTokenAmount:l2.sourceTokenAmount,sourceTokenDecimals:l2.sourceToken?.decimals,invalidToToken:s,invalidSourceToken:o,invalidSourceTokenAmount:a,availableToSwap:t&&!s&&!o&&!a,isAuthConnector:i===dR.CONNECTOR_ID.AUTH}},async setSourceToken(e){if(!e)return l2.sourceToken=e,l2.sourceTokenAmount="",void(l2.sourceTokenPriceInUSD=0);l2.sourceToken=e,await u2.setTokenPrice(e.address,"sourceToken")},setSourceTokenAmount(e){l2.sourceTokenAmount=e},async setToToken(e){if(!e)return l2.toToken=e,l2.toTokenAmount="",void(l2.toTokenPriceInUSD=0);l2.toToken=e,await u2.setTokenPrice(e.address,"toToken")},setToTokenAmount(e){l2.toTokenAmount=e?IR.toFixed(e,6):""},async setTokenPrice(e,t){let r=l2.tokensPriceMap[e]||0;r||(l2.loadingPrices=!0,r=await u2.getAddressPrice(e)),"sourceToken"===t?l2.sourceTokenPriceInUSD=r:"toToken"===t&&(l2.toTokenPriceInUSD=r),l2.loadingPrices&&(l2.loadingPrices=!1),u2.getParams().availableToSwap&&!l2.switchingTokens&&u2.swapTokens()},async switchTokens(){if(!l2.initializing&&l2.initialized&&!l2.switchingTokens){l2.switchingTokens=!0;try{const e=l2.toToken?{...l2.toToken}:void 0,t=l2.sourceToken?{...l2.sourceToken}:void 0,r=e&&""===l2.toTokenAmount?"1":l2.toTokenAmount;u2.setSourceTokenAmount(r),u2.setToTokenAmount(""),await u2.setSourceToken(e),await u2.setToToken(t),l2.switchingTokens=!1,u2.swapTokens()}catch(e){throw l2.switchingTokens=!1,e}}},resetState(){l2.myTokensWithBalance=c2.myTokensWithBalance,l2.tokensPriceMap=c2.tokensPriceMap,l2.initialized=c2.initialized,l2.initializing=c2.initializing,l2.switchingTokens=c2.switchingTokens,l2.sourceToken=c2.sourceToken,l2.sourceTokenAmount=c2.sourceTokenAmount,l2.sourceTokenPriceInUSD=c2.sourceTokenPriceInUSD,l2.toToken=c2.toToken,l2.toTokenAmount=c2.toTokenAmount,l2.toTokenPriceInUSD=c2.toTokenPriceInUSD,l2.networkPrice=c2.networkPrice,l2.networkTokenSymbol=c2.networkTokenSymbol,l2.networkBalanceInUSD=c2.networkBalanceInUSD,l2.inputError=c2.inputError},resetValues(){const{networkAddress:e}=u2.getParams(),t=l2.tokens?.find((t=>t.address===e));u2.setSourceToken(t),u2.setToToken(void 0)},getApprovalLoadingState:()=>l2.loadingApprovalTransaction,clearError(){l2.transactionError=void 0},async initializeState(){if(!l2.initializing){if(l2.initializing=!0,!l2.initialized)try{await u2.fetchTokens(),l2.initialized=!0}catch{l2.initialized=!1,S0.showError("Failed to initialize swap"),t1.goBack()}l2.initializing=!1}},async fetchTokens(){const{networkAddress:e}=u2.getParams();await u2.getNetworkTokenPrice(),await u2.getMyTokensWithBalance();const t=l2.myTokensWithBalance?.find((t=>t.address===e));t&&(l2.networkTokenSymbol=t.symbol,u2.setSourceToken(t),u2.setSourceTokenAmount("0"))},async getTokenList(){const e=L1.state.activeCaipNetwork?.caipNetworkId;if(l2.caipNetworkId!==e||!l2.tokens)try{l2.tokensLoading=!0;const t=await O1.getTokenList(e);l2.tokens=t,l2.caipNetworkId=e,l2.popularTokens=t.sort(((e,t)=>e.symbol<t.symbol?-1:e.symbol>t.symbol?1:0));const r=(e&&R$.SUGGESTED_TOKENS_BY_CHAIN?.[e]||[]).map((e=>t.find((t=>t.symbol===e)))).filter((e=>!!e)),n=(R$.SWAP_SUGGESTED_TOKENS||[]).map((e=>t.find((t=>t.symbol===e)))).filter((e=>!!e)).filter((e=>!r.some((t=>t.address===e.address))));l2.suggestedTokens=[...r,...n]}catch{l2.tokens=[],l2.popularTokens=[],l2.suggestedTokens=[]}finally{l2.tokensLoading=!1}},async getAddressPrice(e){const t=l2.tokensPriceMap[e];if(t)return t;const r=(await P0.fetchTokenPrice({addresses:[e]}))?.fungibles||[],n=[...l2.tokens||[],...l2.myTokensWithBalance||[]]?.find((t=>t.address===e))?.symbol,i=r.find((e=>e.symbol.toLowerCase()===n?.toLowerCase()))?.price||0,s=parseFloat(i.toString());return l2.tokensPriceMap[e]=s,s},async getNetworkTokenPrice(){const{networkAddress:e}=u2.getParams(),t=(await P0.fetchTokenPrice({addresses:[e]}).catch((()=>(S0.showError("Failed to fetch network token price"),{fungibles:[]})))).fungibles?.[0],r=t?.price.toString()||"0";l2.tokensPriceMap[e]=parseFloat(r),l2.networkTokenSymbol=t?.symbol||"",l2.networkPrice=r},async getMyTokensWithBalance(e){const t=await x1.getMyTokensWithBalance(e),r=O1.mapBalancesToSwapTokens(t);r&&(await u2.getInitialGasPrice(),u2.setBalances(r))},setBalances(e){const{networkAddress:t}=u2.getParams(),r=L1.state.activeCaipNetwork;if(!r)return;const n=e.find((e=>e.address===t));e.forEach((e=>{l2.tokensPriceMap[e.address]=e.price||0})),l2.myTokensWithBalance=e.filter((e=>e.address.startsWith(r.caipNetworkId))),l2.networkBalanceInUSD=n?IR.multiply(n.quantity.numeric,n.price).toString():"0"},async getInitialGasPrice(){const e=await O1.fetchGasPrice();if(!e)return{gasPrice:null,gasPriceInUSD:null};switch(L1.state?.activeCaipNetwork?.chainNamespace){case dR.CHAIN.SOLANA:return l2.gasFee=e.standard??"0",l2.gasPriceInUSD=IR.multiply(e.standard,l2.networkPrice).div(1e9).toNumber(),{gasPrice:BigInt(l2.gasFee),gasPriceInUSD:Number(l2.gasPriceInUSD)};case dR.CHAIN.EVM:default:const t=e.standard??"0",r=BigInt(t),n=BigInt(a2),i=i2.getGasPriceInUSD(l2.networkPrice,n,r);return l2.gasFee=t,l2.gasPriceInUSD=i,{gasPrice:r,gasPriceInUSD:i}}},async swapTokens(){const e=L1.getAccountData()?.address,t=l2.sourceToken,r=l2.toToken,n=IR.bigNumber(l2.sourceTokenAmount).gt(0);if(n||u2.setToTokenAmount(""),!r||!t||l2.loadingPrices||!n||!e)return;l2.loadingQuote=!0;const i=IR.bigNumber(l2.sourceTokenAmount).times(10**t.decimals).round(0);try{const n=await P0.fetchSwapQuote({userAddress:e,from:t.address,to:r.address,gasPrice:l2.gasFee,amount:i.toString()});l2.loadingQuote=!1;const s=n?.quotes?.[0]?.toAmount;if(!s)return void o2.open({displayMessage:"Incorrect amount",debugMessage:"Please enter a valid amount"},"error");const o=IR.bigNumber(s).div(10**r.decimals).toString();u2.setToTokenAmount(o),u2.hasInsufficientToken(l2.sourceTokenAmount,t.address)?l2.inputError="Insufficient balance":(l2.inputError=void 0,u2.setTransactionDetails())}catch(e){const t=await O1.handleSwapError(e);l2.loadingQuote=!1,l2.inputError=t||"Insufficient balance"}},async getTransaction(){const{fromCaipAddress:e,availableToSwap:t}=u2.getParams(),r=l2.sourceToken,n=l2.toToken;if(e&&t&&r&&n&&!l2.loadingQuote)try{l2.loadingBuildTransaction=!0;let t;return t=await O1.fetchSwapAllowance({userAddress:e,tokenAddress:r.address,sourceTokenAmount:l2.sourceTokenAmount,sourceTokenDecimals:r.decimals})?await u2.createSwapTransaction():await u2.createAllowanceTransaction(),l2.loadingBuildTransaction=!1,l2.fetchError=!1,t}catch{return t1.goBack(),S0.showError("Failed to check allowance"),l2.loadingBuildTransaction=!1,l2.approvalTransaction=void 0,l2.swapTransaction=void 0,void(l2.fetchError=!0)}},async createAllowanceTransaction(){const{fromCaipAddress:e,sourceTokenAddress:t,toTokenAddress:r}=u2.getParams();if(e&&r){if(!t)throw new Error("createAllowanceTransaction - No source token address found.");try{const n=await P0.generateApproveCalldata({from:t,to:r,userAddress:e}),i=B$.getPlainAddress(n.tx.from);if(!i)throw new Error("SwapController:createAllowanceTransaction - address is required");const s={data:n.tx.data,to:i,gasPrice:BigInt(n.tx.eip155.gasPrice),value:BigInt(n.tx.value),toAmount:l2.toTokenAmount};return l2.swapTransaction=void 0,l2.approvalTransaction={data:s.data,to:s.to,gasPrice:s.gasPrice,value:s.value,toAmount:s.toAmount},{data:s.data,to:s.to,gasPrice:s.gasPrice,value:s.value,toAmount:s.toAmount}}catch{return t1.goBack(),S0.showError("Failed to create approval transaction"),l2.approvalTransaction=void 0,l2.swapTransaction=void 0,void(l2.fetchError=!0)}}},async createSwapTransaction(){const{networkAddress:e,fromCaipAddress:t,sourceTokenAmount:r}=u2.getParams(),n=l2.sourceToken,i=l2.toToken;if(!(t&&r&&n&&i))return;const s=w1.parseUnits(r,n.decimals)?.toString();try{const r=await P0.generateSwapCalldata({userAddress:t,from:n.address,to:i.address,amount:s,disableEstimate:!0}),o=n.address===e,a=BigInt(r.tx.eip155.gas),c=BigInt(r.tx.eip155.gasPrice),l=B$.getPlainAddress(r.tx.to);if(!l)throw new Error("SwapController:createSwapTransaction - address is required");const d={data:r.tx.data,to:l,gas:a,gasPrice:c,value:BigInt(o?s??"0":"0"),toAmount:l2.toTokenAmount};return l2.gasPriceInUSD=i2.getGasPriceInUSD(l2.networkPrice,a,c),l2.approvalTransaction=void 0,l2.swapTransaction=d,d}catch{return t1.goBack(),S0.showError("Failed to create transaction"),l2.approvalTransaction=void 0,l2.swapTransaction=void 0,void(l2.fetchError=!0)}},onEmbeddedWalletApprovalSuccess(){S0.showLoading("Approve limit increase in your wallet"),t1.replace("SwapPreview")},async sendTransactionForApproval(e){const{fromAddress:t,isAuthConnector:r}=u2.getParams();l2.loadingApprovalTransaction=!0,r?t1.pushTransactionStack({onSuccess:u2.onEmbeddedWalletApprovalSuccess}):S0.showLoading("Approve limit increase in your wallet");try{await w1.sendTransaction({address:t,to:e.to,data:e.data,value:e.value,chainNamespace:dR.CHAIN.EVM}),await u2.swapTokens(),await u2.getTransaction(),l2.approvalTransaction=void 0,l2.loadingApprovalTransaction=!1}catch(e){const t=e;l2.transactionError=t?.displayMessage,l2.loadingApprovalTransaction=!1,S0.showError(t?.displayMessage||"Transaction error"),K0.sendEvent({type:"track",event:"SWAP_APPROVAL_ERROR",properties:{message:t?.displayMessage||t?.message||"Unknown",network:L1.state.activeCaipNetwork?.caipNetworkId||"",swapFromToken:u2.state.sourceToken?.symbol||"",swapToToken:u2.state.toToken?.symbol||"",swapFromAmount:u2.state.sourceTokenAmount||"",swapToAmount:u2.state.toTokenAmount||"",isSmartAccount:u1(dR.CHAIN.EVM)===K$.ACCOUNT_TYPES.SMART_ACCOUNT}})}},async sendTransactionForSwap(e){if(!e)return;const{fromAddress:t,toTokenAmount:r,isAuthConnector:n}=u2.getParams();l2.loadingTransaction=!0;const i=`Swapping ${l2.sourceToken?.symbol} to ${IR.formatNumberToLocalString(r,3)} ${l2.toToken?.symbol}`,s=`Swapped ${l2.sourceToken?.symbol} to ${IR.formatNumberToLocalString(r,3)} ${l2.toToken?.symbol}`;n?t1.pushTransactionStack({onSuccess(){t1.replace("Account"),S0.showLoading(i),d2.resetState()}}):S0.showLoading("Confirm transaction in your wallet");try{const r=[l2.sourceToken?.address,l2.toToken?.address].join(","),i=await w1.sendTransaction({address:t,to:e.to,data:e.data,value:e.value,chainNamespace:dR.CHAIN.EVM});return l2.loadingTransaction=!1,S0.showSuccess(s),K0.sendEvent({type:"track",event:"SWAP_SUCCESS",properties:{network:L1.state.activeCaipNetwork?.caipNetworkId||"",swapFromToken:u2.state.sourceToken?.symbol||"",swapToToken:u2.state.toToken?.symbol||"",swapFromAmount:u2.state.sourceTokenAmount||"",swapToAmount:u2.state.toTokenAmount||"",isSmartAccount:u1(dR.CHAIN.EVM)===K$.ACCOUNT_TYPES.SMART_ACCOUNT}}),d2.resetState(),n||t1.replace("Account"),d2.getMyTokensWithBalance(r),i}catch(e){const t=e;return l2.transactionError=t?.displayMessage,l2.loadingTransaction=!1,S0.showError(t?.displayMessage||"Transaction error"),void K0.sendEvent({type:"track",event:"SWAP_ERROR",properties:{message:t?.displayMessage||t?.message||"Unknown",network:L1.state.activeCaipNetwork?.caipNetworkId||"",swapFromToken:u2.state.sourceToken?.symbol||"",swapToToken:u2.state.toToken?.symbol||"",swapFromAmount:u2.state.sourceTokenAmount||"",swapToAmount:u2.state.toTokenAmount||"",isSmartAccount:u1(dR.CHAIN.EVM)===K$.ACCOUNT_TYPES.SMART_ACCOUNT}})}},hasInsufficientToken:(e,t)=>i2.isInsufficientSourceTokenForSwap(e,t,l2.myTokensWithBalance),setTransactionDetails(){const{toTokenAddress:e,toTokenDecimals:t}=u2.getParams();!e||!t||(l2.gasPriceInUSD=i2.getGasPriceInUSD(l2.networkPrice,BigInt(l2.gasFee),BigInt(a2)),l2.priceImpact=i2.getPriceImpact({sourceTokenAmount:l2.sourceTokenAmount,sourceTokenPriceInUSD:l2.sourceTokenPriceInUSD,toTokenPriceInUSD:l2.toTokenPriceInUSD,toTokenAmount:l2.toTokenAmount}),l2.maxSlippage=i2.getMaxSlippage(l2.slippage,l2.toTokenAmount),l2.providerFee=i2.getProviderFee(l2.sourceTokenAmount))}},u2=L0(d2),h2=x$({message:"",open:!1,triggerRect:{width:0,height:0,top:0,left:0},variant:"shade"}),p2=L0({state:h2,subscribe:e=>C$(h2,(()=>e(h2))),subscribeKey:(e,t)=>_$(h2,e,t),showTooltip({message:e,triggerRect:t,variant:r}){h2.open=!0,h2.message=e,h2.triggerRect=t,h2.variant=r},hide(){h2.open=!1,h2.message="",h2.triggerRect={width:0,height:0,top:0,left:0}}});x$({isLegalCheckboxChecked:!1});x$({paymentAsset:null,amount:null,tokenAmount:0,priceLoading:!1,error:null,exchanges:[],isLoading:!1,currentPayment:void 0,isPaymentInProgress:!1,paymentId:"",assets:[]});const f2={isUnsupportedChainView:()=>"UnsupportedChain"===t1.state.view||"SwitchNetwork"===t1.state.view&&t1.state.history.includes("UnsupportedChain"),async safeClose(){this.isUnsupportedChainView()||await t2.isSIWXCloseDisabled()?H1.shake():(("DataCapture"===t1.state.view||"DataCaptureOtpConfirm"===t1.state.view)&&w1.disconnect(),H1.close())}},g2={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",OKX_CONNECTOR_NAME:"OKX Wallet",EIP155:dR.CHAIN.EVM,ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"AUTH",getSDKVersionWarningMessage:(e,t)=>`\n     @@@@@@@           @@@@@@@@@@@@@@@@@@      \n   @@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@   \n  @@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@  \n @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@@@  \n @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@   @@@@@@@@@@@ \n @@@@@@@@@@@@@@@  @@@@@@@@@@@@@   @@@@@@@@@@@@ \n @@@@@@@@@@@@@@@  @@@@@@@@@@@@@  @@@@@@@@@@@@@\n @@@@@@@@@@@@@@@  @@@@@@@@@@@@   @@@@@@@@@@@@@    \n @@@@@@   @@@@@@  @@@@@@@@@@@   @@@@@@@@@@@@@@    \n @@@@@@   @@@@@@  @@@@@@@@@@@  @@@@@@@@@@@@@@@ \n @@@@@@@@@@@@@@@  @@@@@@@@@@   @@@@@@@@@@@@@@@ \n @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@@@  \n  @@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@  \n   @@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@   \n      @@@@@            @@@@@@@@@@@@@@@@@@  \n      \nAppKit SDK version ${e} is outdated. Latest version is ${t}. Please update to the latest version for bug fixes and new features.\n            \nChangelog: https://github.com/reown-com/appkit/releases\nNPM Registry: https://www.npmjs.com/package/@reown/appkit`},m2={ConnectorExplorerIds:{[dR.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[dR.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[dR.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[dR.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[dR.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[g2.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[g2.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[g2.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[g2.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[g2.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[g2.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[g2.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[g2.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[g2.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[g2.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[g2.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13",[g2.OKX_CONNECTOR_NAME]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200","00000008819873e925422c1ff0f99f7c":"b3406e4a-bbfc-44fb-e3a6-89673c78b700"},ConnectorImageIds:{[dR.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[dR.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[dR.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[dR.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[dR.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[dR.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[dR.CONNECTOR_ID.INJECTED]:"Browser Wallet",[dR.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[dR.CONNECTOR_ID.COINBASE]:"Coinbase",[dR.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[dR.CONNECTOR_ID.LEDGER]:"Ledger",[dR.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[dR.CONNECTOR_ID.INJECTED]:"INJECTED",[dR.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[dR.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[dR.CONNECTOR_ID.AUTH]:"AUTH",[g2.CONNECTOR_TYPE_AUTH]:"AUTH"},WalletConnectRpcChainIds:[1,5,11155111,10,420,42161,421613,137,80001,42220,1313161554,1313161555,56,97,43114,43113,100,8453,84531,7777777,999,324,280]},y2={getCaipTokens(e){if(!e)return;const t={};return Object.entries(e).forEach((([e,r])=>{t[`${g2.EIP155}:${e}`]=r})),t},isLowerCaseMatch:(e,t)=>e?.toLowerCase()===t?.toLowerCase(),getActiveNamespaceConnectedToAuth(){const e=L1.state.activeChain;return dR.AUTH_CONNECTOR_SUPPORTED_CHAINS.find((t=>c1.getConnectorId(t)===dR.CONNECTOR_ID.AUTH&&t===e))},withRetry({conditionFn:e,intervalMs:t,maxRetries:r}){let n=0;return new Promise((i=>{!async function s(){return n+=1,await e()?i(!0):n>=r?i(!1):(setTimeout(s,t),null)}()}))},userChainIdToChainNamespace(e){if("number"==typeof e)return dR.CHAIN.EVM;const[t]=e.split(":");return t},getOtherAuthNamespaces:e=>e?dR.AUTH_CONNECTOR_SUPPORTED_CHAINS.filter((t=>t!==e)):[],getConnectorStorageInfo(e,t){const r=$$.getConnections()[t]??[];return{hasDisconnected:$$.isConnectorDisconnected(e,t),hasConnected:r.some((t=>y2.isLowerCaseMatch(t.connectorId,e)))}}},w2={EmbeddedWalletAbortController:new AbortController,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"ORIGIN_NOT_ALLOWED"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{code:"APKT001",displayMessage:"Network Not Found",debugMessage:"The specified network is not recognized. Please ensure it is included in the `networks` array of your `createAppKit` configuration."},ORIGIN_NOT_ALLOWED:{code:"APKT002",displayMessage:"Invalid App Configuration",debugMessage:()=>`The origin ${i$()?window.origin:"unknown"} is not in your allow list. Please update your allowed domains at https://dashboard.reown.com. [PID: ${A0.state.projectId}]`},IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."},JWT_TOKEN_NOT_VALID:{code:"APKT006",displayMessage:"Session Expired",debugMessage:"Your session is invalid or expired. Please check your systems date and time settings, then reconnect."},INVALID_PROJECT_ID:{code:"APKT007",displayMessage:"Invalid Project ID",debugMessage:"The specified project ID is invalid. Please visit https://dashboard.reown.com to obtain a valid project ID."},PROJECT_ID_NOT_CONFIGURED:{code:"APKT008",displayMessage:"Project ID Missing",debugMessage:"No project ID is configured. You can create and configure a project ID at https://dashboard.reown.com."},SERVER_ERROR_APP_CONFIGURATION:{code:"APKT009",displayMessage:"Server Error",debugMessage:e=>`Unable to fetch App Configuration. ${e}. Please check your network connection and try again shortly. Contact support if the issue persists.`},RATE_LIMITED_APP_CONFIGURATION:{code:"APKT010",displayMessage:"Rate Limited",debugMessage:"You have been rate limited while retrieving App Configuration. Please wait a few minutes and try again. Contact support if the issue persists."}},ALERT_WARNINGS:{LOCAL_CONFIGURATION_IGNORED:{debugMessage:e=>`[Reown Config Notice] ${e}`},INACTIVE_NAMESPACE_NOT_CONNECTED:{code:"APKTW001",displayMessage:"Inactive Namespace Not Connected",debugMessage:(e,t)=>`An error occurred while connecting an inactive namespace ${e}: "${t}"`},INVALID_EMAIL:{code:"APKTW002",displayMessage:"Invalid Email Address",debugMessage:"Please enter a valid email address"}}},b2={TOKEN_ADDRESSES_BY_SYMBOL:{USDC:{8453:"0x833589fcd6edb6e08f4c7c32d4f71b54bda02913",84532:"0x036CbD53842c5426634e7929541eC2318f3dCF7e"}},getTokenSymbolByAddress(e){if(!e)return;const[t]=Object.entries(b2.TOKEN_ADDRESSES_BY_SYMBOL).find((([t,r])=>Object.values(r).includes(e)))??[];return t}},v2={createLogger(e,t="error"){const r=cg({level:t}),{logger:n}=ug({opts:r});return n.error=(...t)=>{for(const r of t)if(r instanceof Error)return void e(r,...t);e(void 0,...t)},n}};function E2(e,t){const r=new URL("https://rpc.walletconnect.org/v1/");return r.searchParams.set("chainId",e),r.searchParams.set("projectId",t),r.toString()}const A2=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","eip155:80094","eip155:80069","eip155:560048","eip155:31","eip155:2818","eip155:57054","eip155:911867","eip155:534351","eip155:1112","eip155:534352","eip155:1111","eip155:146","eip155:130","eip155:1284","eip155:30","eip155:2810","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],x2={extendRpcUrlWithProjectId(e,t){let r=!1;try{r="rpc.walletconnect.org"===new URL(e).host}catch{r=!1}if(r){const r=new URL(e);return r.searchParams.has("projectId")||r.searchParams.set("projectId",t),r.toString()}return e},isCaipNetwork:e=>"chainNamespace"in e&&"caipNetworkId"in e,getChainNamespace(e){return this.isCaipNetwork(e)?e.chainNamespace:dR.CHAIN.EVM},getCaipNetworkId(e){return this.isCaipNetwork(e)?e.caipNetworkId:`${dR.CHAIN.EVM}:${e.id}`},getDefaultRpcUrl(e,t,r){const n=e.rpcUrls?.default?.http?.[0];return A2.includes(t)?E2(t,r):n||""},extendCaipNetwork(e,{customNetworkImageUrls:t,projectId:r,customRpcUrls:n}){const i=this.getChainNamespace(e),s=this.getCaipNetworkId(e),o=e.rpcUrls?.default?.http?.[0],a=this.getDefaultRpcUrl(e,s,r),c=e?.rpcUrls?.chainDefault?.http?.[0]||o,l=n?.[s]?.map((e=>e.url))||[],d=[...l,...a?[a]:[]],u=[...l];return c&&!u.includes(c)&&u.push(c),{...e,chainNamespace:i,caipNetworkId:s,assets:{imageId:m2.NetworkImageIds[e.id],imageUrl:t?.[e.id]},rpcUrls:{...e.rpcUrls,default:{http:d},chainDefault:{http:u}}}},extendCaipNetworks:(e,{customNetworkImageUrls:t,projectId:r,customRpcUrls:n})=>e.map((e=>x2.extendCaipNetwork(e,{customNetworkImageUrls:t,customRpcUrls:n,projectId:r}))),getViemTransport(e,t,r){const n=[];return r?.forEach((e=>{n.push(d0(e.url,e.config))})),A2.includes(e.caipNetworkId)&&n.push(d0(E2(e.caipNetworkId,t),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),e?.rpcUrls?.default?.http?.forEach((e=>{n.push(d0(e))})),a0(n)},extendWagmiTransports(e,t,r){if(A2.includes(e.caipNetworkId)){return a0([r,d0(this.getDefaultRpcUrl(e,e.caipNetworkId,t))])}return r},getUnsupportedNetwork:e=>({id:e.split(":")[1],caipNetworkId:e,name:dR.UNSUPPORTED_NETWORK_NAME,chainNamespace:e.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}),getCaipNetworkFromStorage(e){const t=$$.getActiveCaipNetworkId(),r=L1.getAllRequestedCaipNetworks(),n=Array.from(L1.state.chains?.keys()||[]),i=t?.split(":")[0],s=!!i&&n.includes(i),o=r?.find((e=>e.caipNetworkId===t));return s&&!o&&t?this.getUnsupportedNetwork(t):o||e||r?.[0]}};var C2;!function(e){e.Google="google",e.Github="github",e.Apple="apple",e.Facebook="facebook",e.X="x",e.Discord="discord",e.Farcaster="farcaster"}(C2||(C2={}));const S2={ACCOUNT_TABS:[{label:"Tokens"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150},VIEWS_WITH_LEGAL_FOOTER:["Connect","ConnectWallets","OnRampTokenSelect","OnRampFiatSelect","OnRampProviders"],VIEWS_WITH_DEFAULT_FOOTER:["Networks"]},I2={filterOutDuplicatesByRDNS(e){const t=A0.state.enableEIP6963?c1.state.connectors:[],r=$$.getRecentWallets(),n=t.map((e=>e.info?.rdns)).filter(Boolean),i=r.map((e=>e.rdns)).filter(Boolean),s=n.concat(i);if(s.includes("io.metamask.mobile")&&B$.isMobile()){const e=s.indexOf("io.metamask.mobile");s[e]="io.metamask"}return e.filter((e=>!(e?.rdns&&s.includes(String(e.rdns))||!e?.rdns&&t.some((t=>t.name===e.name)))))},filterOutDuplicatesByIds(e){const t=c1.state.connectors.filter((e=>"ANNOUNCED"===e.type||"INJECTED"===e.type)),r=$$.getRecentWallets(),n=t.map((e=>e.explorerId)),i=r.map((e=>e.id)),s=n.concat(i);return e.filter((e=>!s.includes(e?.id)))},filterOutDuplicateWallets(e){const t=this.filterOutDuplicatesByRDNS(e);return this.filterOutDuplicatesByIds(t)},markWalletsAsInstalled(e){const{connectors:t}=c1.state,{featuredWalletIds:r}=A0.state,n=t.filter((e=>"ANNOUNCED"===e.type)).reduce(((e,t)=>(t.info?.rdns&&(e[t.info.rdns]=!0),e)),{});return e.map((e=>({...e,installed:!!e.rdns&&!!n[e.rdns??""]}))).sort(((e,t)=>{const n=Number(t.installed)-Number(e.installed);if(0!==n)return n;if(r?.length){const n=r.indexOf(e.id),i=r.indexOf(t.id);if(-1!==n&&-1!==i)return n-i;if(-1!==n)return-1;if(-1!==i)return 1}return 0}))},getConnectOrderMethod(e,t){const r=e?.connectMethodsOrder||A0.state.features?.connectMethodsOrder,n=t||c1.state.connectors;if(r)return r;const{injected:i,announced:s}=_2.getConnectorsByType(n,X0.state.recommended,X0.state.featured),o=i.filter(_2.showConnector),a=s.filter(_2.showConnector);return o.length||a.length?["wallet","email","social"]:S2.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(e){const t=!!e.rdns&&X0.state.excludedWallets.some((t=>t.rdns===e.rdns)),r=!!e.name&&X0.state.excludedWallets.some((t=>y2.isLowerCaseMatch(t.name,e.name)));return t||r},markWalletsWithDisplayIndex:e=>e.map(((e,t)=>({...e,display_index:t})))},_2={getConnectorsByType(e,t,r){const{customWallets:n}=A0.state,i=$$.getRecentWallets(),s=I2.filterOutDuplicateWallets(t),o=I2.filterOutDuplicateWallets(r),a=e.filter((e=>"MULTI_CHAIN"===e.type)),c=e.filter((e=>"ANNOUNCED"===e.type)),l=e.filter((e=>"INJECTED"===e.type));return{custom:n,recent:i,external:e.filter((e=>"EXTERNAL"===e.type)),multiChain:a,announced:c,injected:l,recommended:s,featured:o}},showConnector(e){const t=e.info?.rdns,r=!!t&&X0.state.excludedWallets.some((e=>!!e.rdns&&e.rdns===t)),n=!!e.name&&X0.state.excludedWallets.some((t=>y2.isLowerCaseMatch(t.name,e.name)));return!("INJECTED"===e.type&&("Browser Wallet"===e.name&&(!B$.isMobile()||B$.isMobile()&&!t&&!w1.checkInstalled())||r||n)||("ANNOUNCED"===e.type||"EXTERNAL"===e.type)&&(r||n))},getIsConnectedWithWC:()=>Array.from(L1.state.chains.values()).some((e=>c1.getConnectorId(e.namespace)===dR.CONNECTOR_ID.WALLET_CONNECT)),getConnectorTypeOrder({recommended:e,featured:t,custom:r,recent:n,announced:i,injected:s,multiChain:o,external:a,overriddenConnectors:c=A0.state.features?.connectorTypeOrder??[]}){const l=[{type:"walletConnect",isEnabled:!0},{type:"recent",isEnabled:n.length>0},{type:"injected",isEnabled:[...s,...i,...o].length>0},{type:"featured",isEnabled:t.length>0},{type:"custom",isEnabled:r&&r.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:e.length>0}].filter((e=>e.isEnabled)),d=new Set(l.map((e=>e.type))),u=c.filter((e=>d.has(e))).map((e=>({type:e,isEnabled:!0}))),h=l.filter((({type:e})=>!u.some((({type:t})=>t===e))));return Array.from(new Set([...u,...h].map((({type:e})=>e))))},sortConnectorsByExplorerWallet:e=>[...e].sort(((e,t)=>e.explorerWallet&&t.explorerWallet?(e.explorerWallet.order??0)-(t.explorerWallet.order??0):e.explorerWallet?-1:t.explorerWallet?1:0)),getAuthName:({email:e,socialUsername:t,socialProvider:r})=>t?r&&"discord"===r&&t.endsWith("0")?t.slice(0,-1):t:e.length>30?`${e.slice(0,-3)}...`:e,async fetchProviderData(e){try{if("Browser Wallet"===e.name&&!B$.isMobile())return{accounts:[],chainId:void 0};if(e.id===dR.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[t,r]=await Promise.all([e.provider?.request({method:"eth_accounts"}),e.provider?.request({method:"eth_chainId"}).then((e=>Number(e)))]);return{accounts:t,chainId:r}}catch(t){return console.warn(`Failed to fetch provider data for ${e.name}`,t),{accounts:[],chainId:void 0}}},getFilteredCustomWallets(e){const t=$$.getRecentWallets(),r=c1.state.connectors.map((e=>e.info?.rdns)).filter(Boolean),n=t.map((e=>e.rdns)).filter(Boolean),i=r.concat(n);if(i.includes("io.metamask.mobile")&&B$.isMobile()){const e=i.indexOf("io.metamask.mobile");i[e]="io.metamask"}return e.filter((e=>!i.includes(String(e?.rdns))))},hasWalletConnector:e=>c1.state.connectors.some((t=>t.id===e.id||t.name===e.name)),isWalletCompatibleWithCurrentChain(e){const t=L1.state.activeChain;return!t||!e.chains||e.chains.some((e=>{const r=e.split(":")[0];return t===r}))},getFilteredRecentWallets(){return $$.getRecentWallets().filter((e=>!I2.isExcluded(e))).filter((e=>!this.hasWalletConnector(e))).filter((e=>this.isWalletCompatibleWithCurrentChain(e)))},getCappedRecommendedWallets(e){const{connectors:t}=c1.state,{customWallets:r,featuredWalletIds:n}=A0.state,i=t.find((e=>"walletConnect"===e.id)),s=t.filter((e=>"INJECTED"===e.type||"ANNOUNCED"===e.type||"MULTI_CHAIN"===e.type));if(!i&&!s.length&&!r?.length)return[];const o=v0.isEmailEnabled(),a=v0.isSocialsEnabled(),c=s.filter((e=>"Browser Wallet"!==e.name)),l=(n?.length||0)+(r?.length||0)+(c.length||0)+(o?1:0)+(a?1:0),d=Math.max(0,4-l);return d<=0?[]:I2.filterOutDuplicateWallets(e).slice(0,d)}},k2=globalThis,P2=k2.ShadowRoot&&(void 0===k2.ShadyCSS||k2.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,T2=Symbol(),O2=new WeakMap;
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class N2{constructor(e,t,r){if(this._$cssResult$=!0,r!==T2)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(P2&&void 0===e){const r=void 0!==t&&1===t.length;r&&(e=O2.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&O2.set(t,e))}return e}toString(){return this.cssText}}const R2=e=>new N2("string"==typeof e?e:e+"",void 0,T2),$2=(e,...t)=>{const r=1===e.length?e[0]:t.reduce(((t,r,n)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(r)+e[n+1]),e[0]);return new N2(r,e,T2)},B2=P2?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const r of e.cssRules)t+=r.cssText;return R2(t)})(e):e
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,{is:M2,defineProperty:U2,getOwnPropertyDescriptor:L2,getOwnPropertyNames:D2,getOwnPropertySymbols:j2,getPrototypeOf:H2}=Object,z2=globalThis,F2=z2.trustedTypes,V2=F2?F2.emptyScript:"",Z2=z2.reactiveElementPolyfillSupport,q2=(e,t)=>e,W2={toAttribute(e,t){switch(t){case Boolean:e=e?V2:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let r=e;switch(t){case Boolean:r=null!==e;break;case Number:r=null===e?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch{r=null}}return r}},K2=(e,t)=>!M2(e,t),G2={attribute:!0,type:String,converter:W2,reflect:!1,useDefault:!1,hasChanged:K2};Symbol.metadata??=Symbol("metadata"),z2.litPropertyMetadata??=new WeakMap;class Y2 extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=G2){if(t.state&&(t.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(e,t),!t.noAccessor){const r=Symbol(),n=this.getPropertyDescriptor(e,r,t);void 0!==n&&U2(this.prototype,e,n)}}static getPropertyDescriptor(e,t,r){const{get:n,set:i}=L2(this.prototype,e)??{get(){return this[t]},set(e){this[t]=e}};return{get:n,set(t){const s=n?.call(this);i?.call(this,t),this.requestUpdate(e,s,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??G2}static _$Ei(){if(this.hasOwnProperty(q2("elementProperties")))return;const e=H2(this);e.finalize(),void 0!==e.l&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(q2("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(q2("properties"))){const e=this.properties,t=[...D2(e),...j2(e)];for(const r of t)this.createProperty(r,e[r])}const e=this[Symbol.metadata];if(null!==e){const t=litPropertyMetadata.get(e);if(void 0!==t)for(const[e,r]of t)this.elementProperties.set(e,r)}this._$Eh=new Map;for(const[e,t]of this.elementProperties){const r=this._$Eu(e,t);void 0!==r&&this._$Eh.set(r,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const e of r)t.unshift(B2(e))}else void 0!==e&&t.push(B2(e));return t}static _$Eu(e,t){const r=t.attribute;return!1===r?void 0:"string"==typeof r?r:"string"==typeof e?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((e=>e(this)))}addController(e){(this._$EO??=new Set).add(e),void 0!==this.renderRoot&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,t=this.constructor.elementProperties;for(const r of t.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return((e,t)=>{if(P2)e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet));else for(const r of t){const t=document.createElement("style"),n=k2.litNonce;void 0!==n&&t.setAttribute("nonce",n),t.textContent=r.cssText,e.appendChild(t)}})(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((e=>e.hostConnected?.()))}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach((e=>e.hostDisconnected?.()))}attributeChangedCallback(e,t,r){this._$AK(e,r)}_$ET(e,t){const r=this.constructor.elementProperties.get(e),n=this.constructor._$Eu(e,r);if(void 0!==n&&!0===r.reflect){const i=(void 0!==r.converter?.toAttribute?r.converter:W2).toAttribute(t,r.type);this._$Em=e,null==i?this.removeAttribute(n):this.setAttribute(n,i),this._$Em=null}}_$AK(e,t){const r=this.constructor,n=r._$Eh.get(e);if(void 0!==n&&this._$Em!==n){const e=r.getPropertyOptions(n),i="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==e.converter?.fromAttribute?e.converter:W2;this._$Em=n;const s=i.fromAttribute(t,e.type);this[n]=s??this._$Ej?.get(n)??s,this._$Em=null}}requestUpdate(e,t,r){if(void 0!==e){const n=this.constructor,i=this[e];if(r??=n.getPropertyOptions(e),!((r.hasChanged??K2)(i,t)||r.useDefault&&r.reflect&&i===this._$Ej?.get(e)&&!this.hasAttribute(n._$Eu(e,r))))return;this.C(e,t,r)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(e,t,{useDefault:r,reflect:n,wrapped:i},s){r&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,s??t??this[e]),!0!==i||void 0!==s)||(this._$AL.has(e)||(this.hasUpdated||r||(t=void 0),this._$AL.set(e,t)),!0===n&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[e,t]of this._$Ep)this[e]=t;this._$Ep=void 0}const e=this.constructor.elementProperties;if(e.size>0)for(const[t,r]of e){const{wrapped:e}=r,n=this[t];!0!==e||this._$AL.has(t)||void 0===n||this.C(t,void 0,r,n)}}let e=!1;const t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),this._$EO?.forEach((e=>e.hostUpdate?.())),this.update(t)):this._$EM()}catch(t){throw e=!1,this._$EM(),t}e&&this._$AE(t)}willUpdate(e){}_$AE(e){this._$EO?.forEach((e=>e.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach((e=>this._$ET(e,this[e]))),this._$EM()}updated(e){}firstUpdated(e){}}Y2.elementStyles=[],Y2.shadowRootOptions={mode:"open"},Y2[q2("elementProperties")]=new Map,Y2[q2("finalized")]=new Map,Z2?.({ReactiveElement:Y2}),(z2.reactiveElementVersions??=[]).push("2.1.1");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const J2=globalThis,X2=J2.trustedTypes,Q2=X2?X2.createPolicy("lit-html",{createHTML:e=>e}):void 0,e6="$lit$",t6=`lit$${Math.random().toFixed(9).slice(2)}$`,r6="?"+t6,n6=`<${r6}>`,i6=document,s6=()=>i6.createComment(""),o6=e=>null===e||"object"!=typeof e&&"function"!=typeof e,a6=Array.isArray,c6="[ \t\n\f\r]",l6=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,d6=/-->/g,u6=/>/g,h6=RegExp(`>|${c6}(?:([^\\s"'>=/]+)(${c6}*=${c6}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),p6=/'/g,f6=/"/g,g6=/^(?:script|style|textarea|title)$/i,m6=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),y6=m6(1),w6=m6(2),b6=Symbol.for("lit-noChange"),v6=Symbol.for("lit-nothing"),E6=new WeakMap,A6=i6.createTreeWalker(i6,129);function x6(e,t){if(!a6(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==Q2?Q2.createHTML(t):t}class C6{constructor({strings:e,_$litType$:t},r){let n;this.parts=[];let i=0,s=0;const o=e.length-1,a=this.parts,[c,l]=((e,t)=>{const r=e.length-1,n=[];let i,s=2===t?"<svg>":3===t?"<math>":"",o=l6;for(let t=0;t<r;t++){const r=e[t];let a,c,l=-1,d=0;for(;d<r.length&&(o.lastIndex=d,c=o.exec(r),null!==c);)d=o.lastIndex,o===l6?"!--"===c[1]?o=d6:void 0!==c[1]?o=u6:void 0!==c[2]?(g6.test(c[2])&&(i=RegExp("</"+c[2],"g")),o=h6):void 0!==c[3]&&(o=h6):o===h6?">"===c[0]?(o=i??l6,l=-1):void 0===c[1]?l=-2:(l=o.lastIndex-c[2].length,a=c[1],o=void 0===c[3]?h6:'"'===c[3]?f6:p6):o===f6||o===p6?o=h6:o===d6||o===u6?o=l6:(o=h6,i=void 0);const u=o===h6&&e[t+1].startsWith("/>")?" ":"";s+=o===l6?r+n6:l>=0?(n.push(a),r.slice(0,l)+e6+r.slice(l)+t6+u):r+t6+(-2===l?t:u)}return[x6(e,s+(e[r]||"<?>")+(2===t?"</svg>":3===t?"</math>":"")),n]})(e,t);if(this.el=C6.createElement(c,r),A6.currentNode=this.el.content,2===t||3===t){const e=this.el.content.firstChild;e.replaceWith(...e.childNodes)}for(;null!==(n=A6.nextNode())&&a.length<o;){if(1===n.nodeType){if(n.hasAttributes())for(const e of n.getAttributeNames())if(e.endsWith(e6)){const t=l[s++],r=n.getAttribute(e).split(t6),o=/([.?@])?(.*)/.exec(t);a.push({type:1,index:i,name:o[2],strings:r,ctor:"."===o[1]?P6:"?"===o[1]?T6:"@"===o[1]?O6:k6}),n.removeAttribute(e)}else e.startsWith(t6)&&(a.push({type:6,index:i}),n.removeAttribute(e));if(g6.test(n.tagName)){const e=n.textContent.split(t6),t=e.length-1;if(t>0){n.textContent=X2?X2.emptyScript:"";for(let r=0;r<t;r++)n.append(e[r],s6()),A6.nextNode(),a.push({type:2,index:++i});n.append(e[t],s6())}}}else if(8===n.nodeType)if(n.data===r6)a.push({type:2,index:i});else{let e=-1;for(;-1!==(e=n.data.indexOf(t6,e+1));)a.push({type:7,index:i}),e+=t6.length-1}i++}}static createElement(e,t){const r=i6.createElement("template");return r.innerHTML=e,r}}function S6(e,t,r=e,n){if(t===b6)return t;let i=void 0!==n?r._$Co?.[n]:r._$Cl;const s=o6(t)?void 0:t._$litDirective$;return i?.constructor!==s&&(i?._$AO?.(!1),void 0===s?i=void 0:(i=new s(e),i._$AT(e,r,n)),void 0!==n?(r._$Co??=[])[n]=i:r._$Cl=i),void 0!==i&&(t=S6(e,i._$AS(e,t.values),i,n)),t}class I6{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:r}=this._$AD,n=(e?.creationScope??i6).importNode(t,!0);A6.currentNode=n;let i=A6.nextNode(),s=0,o=0,a=r[0];for(;void 0!==a;){if(s===a.index){let t;2===a.type?t=new _6(i,i.nextSibling,this,e):1===a.type?t=new a.ctor(i,a.name,a.strings,this,e):6===a.type&&(t=new N6(i,this,e)),this._$AV.push(t),a=r[++o]}s!==a?.index&&(i=A6.nextNode(),s++)}return A6.currentNode=i6,n}p(e){let t=0;for(const r of this._$AV)void 0!==r&&(void 0!==r.strings?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}}class _6{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,t,r,n){this.type=2,this._$AH=v6,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=r,this.options=n,this._$Cv=n?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===e?.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=S6(this,e,t),o6(e)?e===v6||null==e||""===e?(this._$AH!==v6&&this._$AR(),this._$AH=v6):e!==this._$AH&&e!==b6&&this._(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):(e=>a6(e)||"function"==typeof e?.[Symbol.iterator])(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==v6&&o6(this._$AH)?this._$AA.nextSibling.data=e:this.T(i6.createTextNode(e)),this._$AH=e}$(e){const{values:t,_$litType$:r}=e,n="number"==typeof r?this._$AC(e):(void 0===r.el&&(r.el=C6.createElement(x6(r.h,r.h[0]),this.options)),r);if(this._$AH?._$AD===n)this._$AH.p(t);else{const e=new I6(n,this),r=e.u(this.options);e.p(t),this.T(r),this._$AH=e}}_$AC(e){let t=E6.get(e.strings);return void 0===t&&E6.set(e.strings,t=new C6(e)),t}k(e){a6(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let r,n=0;for(const i of e)n===t.length?t.push(r=new _6(this.O(s6()),this.O(s6()),this,this.options)):r=t[n],r._$AI(i),n++;n<t.length&&(this._$AR(r&&r._$AB.nextSibling,n),t.length=n)}_$AR(e=this._$AA.nextSibling,t){for(this._$AP?.(!1,!0,t);e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){void 0===this._$AM&&(this._$Cv=e,this._$AP?.(e))}}class k6{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,r,n,i){this.type=1,this._$AH=v6,this._$AN=void 0,this.element=e,this.name=t,this._$AM=n,this.options=i,r.length>2||""!==r[0]||""!==r[1]?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=v6}_$AI(e,t=this,r,n){const i=this.strings;let s=!1;if(void 0===i)e=S6(this,e,t,0),s=!o6(e)||e!==this._$AH&&e!==b6,s&&(this._$AH=e);else{const n=e;let o,a;for(e=i[0],o=0;o<i.length-1;o++)a=S6(this,n[r+o],t,o),a===b6&&(a=this._$AH[o]),s||=!o6(a)||a!==this._$AH[o],a===v6?e=v6:e!==v6&&(e+=(a??"")+i[o+1]),this._$AH[o]=a}s&&!n&&this.j(e)}j(e){e===v6?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class P6 extends k6{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===v6?void 0:e}}class T6 extends k6{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==v6)}}class O6 extends k6{constructor(e,t,r,n,i){super(e,t,r,n,i),this.type=5}_$AI(e,t=this){if((e=S6(this,e,t,0)??v6)===b6)return;const r=this._$AH,n=e===v6&&r!==v6||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,i=e!==v6&&(r===v6||n);n&&this.element.removeEventListener(this.name,this,r),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class N6{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){S6(this,e)}}const R6=J2.litHtmlPolyfillSupport;R6?.(C6,_6),(J2.litHtmlVersions??=[]).push("3.3.1");const $6=globalThis;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class B6 extends Y2{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=((e,t,r)=>{const n=r?.renderBefore??t;let i=n._$litPart$;if(void 0===i){const e=r?.renderBefore??null;n._$litPart$=i=new _6(t.insertBefore(s6(),e),e,void 0,r??{})}return i._$AI(e),i})(t,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return b6}}B6._$litElement$=!0,B6.finalized=!0,$6.litElementHydrateSupport?.({LitElement:B6});const M6=$6.litElementPolyfillSupport;M6?.({LitElement:B6}),($6.litElementVersions??=[]).push("4.2.1");const U6={core:{backgroundAccentPrimary:"#0988F0",backgroundAccentCertified:"#C7B994",backgroundWalletKit:"#FFB800",backgroundAppKit:"#FF573B",backgroundCloud:"#0988F0",backgroundDocumentation:"#008847",backgroundSuccess:"rgba(48, 164, 107, 0.20)",backgroundError:"rgba(223, 74, 52, 0.20)",backgroundWarning:"rgba(243, 161, 63, 0.20)",textAccentPrimary:"#0988F0",textAccentCertified:"#C7B994",textWalletKit:"#FFB800",textAppKit:"#FF573B",textCloud:"#0988F0",textDocumentation:"#008847",textSuccess:"#30A46B",textError:"#DF4A34",textWarning:"#F3A13F",borderAccentPrimary:"#0988F0",borderSecondary:"#C7B994",borderSuccess:"#30A46B",borderError:"#DF4A34",borderWarning:"#F3A13F",foregroundAccent010:"rgba(9, 136, 240, 0.1)",foregroundAccent020:"rgba(9, 136, 240, 0.2)",foregroundAccent040:"rgba(9, 136, 240, 0.4)",foregroundAccent060:"rgba(9, 136, 240, 0.6)",foregroundSecondary020:"rgba(199, 185, 148, 0.2)",foregroundSecondary040:"rgba(199, 185, 148, 0.4)",foregroundSecondary060:"rgba(199, 185, 148, 0.6)",iconAccentPrimary:"#0988F0",iconAccentCertified:"#C7B994",iconSuccess:"#30A46B",iconError:"#DF4A34",iconWarning:"#F3A13F",glass010:"rgba(255, 255, 255, 0.1)",zIndex:"9999"},dark:{overlay:"rgba(0, 0, 0, 0.50)",backgroundPrimary:"#202020",backgroundInvert:"#FFFFFF",textPrimary:"#FFFFFF",textSecondary:"#9A9A9A",textTertiary:"#BBBBBB",textInvert:"#202020",borderPrimary:"#2A2A2A",borderPrimaryDark:"#363636",borderSecondary:"#4F4F4F",foregroundPrimary:"#252525",foregroundSecondary:"#2A2A2A",foregroundTertiary:"#363636",iconDefault:"#9A9A9A",iconInverse:"#FFFFFF"},light:{overlay:"rgba(230 , 230, 230, 0.5)",backgroundPrimary:"#FFFFFF",borderPrimaryDark:"#E9E9E9",backgroundInvert:"#202020",textPrimary:"#202020",textSecondary:"#9A9A9A",textTertiary:"#6C6C6C",textInvert:"#FFFFFF",borderPrimary:"#E9E9E9",borderSecondary:"#D0D0D0",foregroundPrimary:"#F3F3F3",foregroundSecondary:"#E9E9E9",foregroundTertiary:"#D0D0D0",iconDefault:"#9A9A9A",iconInverse:"#202020"}},L6={colors:{black:"#202020",white:"#FFFFFF",white010:"rgba(255, 255, 255, 0.1)",accent010:"rgba(9, 136, 240, 0.1)",accent020:"rgba(9, 136, 240, 0.2)",accent030:"rgba(9, 136, 240, 0.3)",accent040:"rgba(9, 136, 240, 0.4)",accent050:"rgba(9, 136, 240, 0.5)",accent060:"rgba(9, 136, 240, 0.6)",accent070:"rgba(9, 136, 240, 0.7)",accent080:"rgba(9, 136, 240, 0.8)",accent090:"rgba(9, 136, 240, 0.9)",accent100:"rgba(9, 136, 240, 1.0)",accentSecondary010:"rgba(199, 185, 148, 0.1)",accentSecondary020:"rgba(199, 185, 148, 0.2)",accentSecondary030:"rgba(199, 185, 148, 0.3)",accentSecondary040:"rgba(199, 185, 148, 0.4)",accentSecondary050:"rgba(199, 185, 148, 0.5)",accentSecondary060:"rgba(199, 185, 148, 0.6)",accentSecondary070:"rgba(199, 185, 148, 0.7)",accentSecondary080:"rgba(199, 185, 148, 0.8)",accentSecondary090:"rgba(199, 185, 148, 0.9)",accentSecondary100:"rgba(199, 185, 148, 1.0)",productWalletKit:"#FFB800",productAppKit:"#FF573B",productCloud:"#0988F0",productDocumentation:"#008847",neutrals050:"#F6F6F6",neutrals100:"#F3F3F3",neutrals200:"#E9E9E9",neutrals300:"#D0D0D0",neutrals400:"#BBB",neutrals500:"#9A9A9A",neutrals600:"#6C6C6C",neutrals700:"#4F4F4F",neutrals800:"#363636",neutrals900:"#2A2A2A",neutrals1000:"#252525",semanticSuccess010:"rgba(48, 164, 107, 0.1)",semanticSuccess020:"rgba(48, 164, 107, 0.2)",semanticSuccess030:"rgba(48, 164, 107, 0.3)",semanticSuccess040:"rgba(48, 164, 107, 0.4)",semanticSuccess050:"rgba(48, 164, 107, 0.5)",semanticSuccess060:"rgba(48, 164, 107, 0.6)",semanticSuccess070:"rgba(48, 164, 107, 0.7)",semanticSuccess080:"rgba(48, 164, 107, 0.8)",semanticSuccess090:"rgba(48, 164, 107, 0.9)",semanticSuccess100:"rgba(48, 164, 107, 1.0)",semanticError010:"rgba(223, 74, 52, 0.1)",semanticError020:"rgba(223, 74, 52, 0.2)",semanticError030:"rgba(223, 74, 52, 0.3)",semanticError040:"rgba(223, 74, 52, 0.4)",semanticError050:"rgba(223, 74, 52, 0.5)",semanticError060:"rgba(223, 74, 52, 0.6)",semanticError070:"rgba(223, 74, 52, 0.7)",semanticError080:"rgba(223, 74, 52, 0.8)",semanticError090:"rgba(223, 74, 52, 0.9)",semanticError100:"rgba(223, 74, 52, 1.0)",semanticWarning010:"rgba(243, 161, 63, 0.1)",semanticWarning020:"rgba(243, 161, 63, 0.2)",semanticWarning030:"rgba(243, 161, 63, 0.3)",semanticWarning040:"rgba(243, 161, 63, 0.4)",semanticWarning050:"rgba(243, 161, 63, 0.5)",semanticWarning060:"rgba(243, 161, 63, 0.6)",semanticWarning070:"rgba(243, 161, 63, 0.7)",semanticWarning080:"rgba(243, 161, 63, 0.8)",semanticWarning090:"rgba(243, 161, 63, 0.9)",semanticWarning100:"rgba(243, 161, 63, 1.0)"},fontFamily:{regular:"KHTeka",mono:"KHTekaMono"},fontWeight:{regular:"400",medium:"500"},textSize:{h1:"50px",h2:"44px",h3:"38px",h4:"32px",h5:"26px",h6:"20px",large:"16px",medium:"14px",small:"12px"},typography:{"h1-regular-mono":{lineHeight:"50px",letterSpacing:"-3px"},"h1-regular":{lineHeight:"50px",letterSpacing:"-1px"},"h1-medium":{lineHeight:"50px",letterSpacing:"-0.84px"},"h2-regular-mono":{lineHeight:"44px",letterSpacing:"-2.64px"},"h2-regular":{lineHeight:"44px",letterSpacing:"-0.88px"},"h2-medium":{lineHeight:"44px",letterSpacing:"-0.88px"},"h3-regular-mono":{lineHeight:"38px",letterSpacing:"-2.28px"},"h3-regular":{lineHeight:"38px",letterSpacing:"-0.76px"},"h3-medium":{lineHeight:"38px",letterSpacing:"-0.76px"},"h4-regular-mono":{lineHeight:"32px",letterSpacing:"-1.92px"},"h4-regular":{lineHeight:"32px",letterSpacing:"-0.32px"},"h4-medium":{lineHeight:"32px",letterSpacing:"-0.32px"},"h5-regular-mono":{lineHeight:"26px",letterSpacing:"-1.56px"},"h5-regular":{lineHeight:"26px",letterSpacing:"-0.26px"},"h5-medium":{lineHeight:"26px",letterSpacing:"-0.26px"},"h6-regular-mono":{lineHeight:"20px",letterSpacing:"-1.2px"},"h6-regular":{lineHeight:"20px",letterSpacing:"-0.6px"},"h6-medium":{lineHeight:"20px",letterSpacing:"-0.6px"},"lg-regular-mono":{lineHeight:"16px",letterSpacing:"-0.96px"},"lg-regular":{lineHeight:"18px",letterSpacing:"-0.16px"},"lg-medium":{lineHeight:"18px",letterSpacing:"-0.16px"},"md-regular-mono":{lineHeight:"14px",letterSpacing:"-0.84px"},"md-regular":{lineHeight:"16px",letterSpacing:"-0.14px"},"md-medium":{lineHeight:"16px",letterSpacing:"-0.14px"},"sm-regular-mono":{lineHeight:"12px",letterSpacing:"-0.72px"},"sm-regular":{lineHeight:"14px",letterSpacing:"-0.12px"},"sm-medium":{lineHeight:"14px",letterSpacing:"-0.12px"}},tokens:{core:U6.core,theme:U6.dark},borderRadius:{1:"4px",2:"8px",10:"10px",3:"12px",4:"16px",6:"24px",5:"20px",8:"32px",16:"64px",20:"80px",32:"128px",64:"256px",128:"512px",round:"9999px"},spacing:{0:"0px","01":"2px",1:"4px",2:"8px",3:"12px",4:"16px",5:"20px",6:"24px",7:"28px",8:"32px",9:"36px",10:"40px",12:"48px",14:"56px",16:"64px",20:"80px",32:"128px",64:"256px"},durations:{xl:"400ms",lg:"200ms",md:"125ms",sm:"75ms"},easings:{"ease-out-power-2":"cubic-bezier(0.23, 0.09, 0.08, 1.13)","ease-out-power-1":"cubic-bezier(0.12, 0.04, 0.2, 1.06)","ease-in-power-2":"cubic-bezier(0.92, -0.13, 0.77, 0.91)","ease-in-power-1":"cubic-bezier(0.88, -0.06, 0.8, 0.96)","ease-inout-power-2":"cubic-bezier(0.77, 0.09, 0.23, 1.13)","ease-inout-power-1":"cubic-bezier(0.88, 0.04, 0.12, 1.06)"}},D6="--apkt",j6={createCSSVariables(e){const t={},r={};return function e(t,r,n=""){for(const[i,s]of Object.entries(t)){const t=n?`${n}-${i}`:i;s&&"object"==typeof s&&Object.keys(s).length?(r[i]={},e(s,r[i],t)):"string"==typeof s&&(r[i]=`${D6}-${t}`)}}(e,t),function e(t,r){for(const[n,i]of Object.entries(t))i&&"object"==typeof i?(r[n]={},e(i,r[n])):"string"==typeof i&&(r[n]=`var(${i})`)}(t,r),{cssVariables:t,cssVariablesVarPrefix:r}},assignCSSVariables(e,t){const r={};return function e(t,n,i){for(const[s,o]of Object.entries(t)){const t=i?`${i}-${s}`:s,a=n[s];o&&"object"==typeof o?e(o,a,t):"string"==typeof a&&(r[`${D6}-${t}`]=a)}}(e,t),r},createRootStyles(e,t){const r={...L6,tokens:{...L6.tokens,theme:"light"===e?U6.light:U6.dark}},{cssVariables:n}=j6.createCSSVariables(r),i=j6.assignCSSVariables(n,r),s=j6.generateW3MVariables(t),o=j6.generateW3MOverrides(t),a=j6.generateScaledVariables(t),c=j6.generateBaseVariables(i),l={...i,...c,...s,...o,...a},d=j6.applyColorMixToVariables(t,l),u={...l,...d};return`:root {${Object.entries(u).map((([e,t])=>`${e}:${t.replace("/[:;{}</>]/g","")};`)).join("")}}`},generateW3MVariables(e){if(!e)return{};const t={};return t["--w3m-font-family"]=e["--w3m-font-family"]||"KHTeka",t["--w3m-accent"]=e["--w3m-accent"]||"#0988F0",t["--w3m-color-mix"]=e["--w3m-color-mix"]||"#000",t["--w3m-color-mix-strength"]=`${e["--w3m-color-mix-strength"]||0}%`,t["--w3m-font-size-master"]=e["--w3m-font-size-master"]||"10px",t["--w3m-border-radius-master"]=e["--w3m-border-radius-master"]||"4px",t},generateW3MOverrides(e){if(!e)return{};const t={};if(e["--w3m-accent"]){const r=e["--w3m-accent"];t["--apkt-tokens-core-iconAccentPrimary"]=r,t["--apkt-tokens-core-borderAccentPrimary"]=r,t["--apkt-tokens-core-textAccentPrimary"]=r,t["--apkt-tokens-core-backgroundAccentPrimary"]=r}return e["--w3m-font-family"]&&(t["--apkt-fontFamily-regular"]=e["--w3m-font-family"]),e["--w3m-z-index"]&&(t["--apkt-tokens-core-zIndex"]=`${e["--w3m-z-index"]}`),t},generateScaledVariables(e){if(!e)return{};const t={};if(e["--w3m-font-size-master"]){const r=parseFloat(e["--w3m-font-size-master"].replace("px",""));t["--apkt-textSize-h1"]=5*Number(r)+"px",t["--apkt-textSize-h2"]=4.4*Number(r)+"px",t["--apkt-textSize-h3"]=3.8*Number(r)+"px",t["--apkt-textSize-h4"]=3.2*Number(r)+"px",t["--apkt-textSize-h5"]=2.6*Number(r)+"px",t["--apkt-textSize-h6"]=2*Number(r)+"px",t["--apkt-textSize-large"]=1.6*Number(r)+"px",t["--apkt-textSize-medium"]=1.4*Number(r)+"px",t["--apkt-textSize-small"]=1.2*Number(r)+"px"}if(e["--w3m-border-radius-master"]){const r=parseFloat(e["--w3m-border-radius-master"].replace("px",""));t["--apkt-borderRadius-1"]=`${Number(r)}px`,t["--apkt-borderRadius-2"]=2*Number(r)+"px",t["--apkt-borderRadius-3"]=3*Number(r)+"px",t["--apkt-borderRadius-4"]=4*Number(r)+"px",t["--apkt-borderRadius-5"]=5*Number(r)+"px",t["--apkt-borderRadius-6"]=6*Number(r)+"px",t["--apkt-borderRadius-8"]=8*Number(r)+"px",t["--apkt-borderRadius-16"]=16*Number(r)+"px",t["--apkt-borderRadius-20"]=20*Number(r)+"px",t["--apkt-borderRadius-32"]=32*Number(r)+"px",t["--apkt-borderRadius-64"]=64*Number(r)+"px",t["--apkt-borderRadius-128"]=128*Number(r)+"px"}return t},generateColorMixCSS(e,t){if(!e?.["--w3m-color-mix"]||!e["--w3m-color-mix-strength"])return"";const r=e["--w3m-color-mix"],n=e["--w3m-color-mix-strength"];if(!n||0===n)return"";const i=Object.keys(t||{}).filter((e=>{const t=e.includes("-tokens-core-background")||e.includes("-tokens-core-text")||e.includes("-tokens-core-border")||e.includes("-tokens-core-foreground")||e.includes("-tokens-core-icon")||e.includes("-tokens-theme-background")||e.includes("-tokens-theme-text")||e.includes("-tokens-theme-border")||e.includes("-tokens-theme-foreground")||e.includes("-tokens-theme-icon"),r=e.includes("-borderRadius-")||e.includes("-spacing-")||e.includes("-textSize-")||e.includes("-fontFamily-")||e.includes("-fontWeight-")||e.includes("-typography-")||e.includes("-duration-")||e.includes("-ease-")||e.includes("-path-")||e.includes("-width-")||e.includes("-height-")||e.includes("-visual-size-")||e.includes("-modal-width")||e.includes("-cover");return t&&!r}));return 0===i.length?"":` @supports (background: color-mix(in srgb, white 50%, black)) {\n      :root {\n        ${i.map((e=>{const i=t?.[e]||"";return i.includes("color-mix")||i.startsWith("#")||i.startsWith("rgb")?`${e}: color-mix(in srgb, ${r} ${n}%, ${i});`:`${e}: color-mix(in srgb, ${r} ${n}%, var(${e}-base, ${i}));`})).join("")}\n      }\n    }`},generateBaseVariables(e){const t={},r=e["--apkt-tokens-theme-backgroundPrimary"];r&&(t["--apkt-tokens-theme-backgroundPrimary-base"]=r);const n=e["--apkt-tokens-core-backgroundAccentPrimary"];return n&&(t["--apkt-tokens-core-backgroundAccentPrimary-base"]=n),t},applyColorMixToVariables(e,t){const r={};if(t?.["--apkt-tokens-theme-backgroundPrimary"]&&(r["--apkt-tokens-theme-backgroundPrimary"]="var(--apkt-tokens-theme-backgroundPrimary-base)"),t?.["--apkt-tokens-core-backgroundAccentPrimary"]&&(r["--apkt-tokens-core-backgroundAccentPrimary"]="var(--apkt-tokens-core-backgroundAccentPrimary-base)"),!e?.["--w3m-color-mix"]||!e["--w3m-color-mix-strength"])return r;const n=e["--w3m-color-mix"],i=e["--w3m-color-mix-strength"];if(!i||0===i)return r;const s=Object.keys(t||{}).filter((e=>{const t=e.includes("-tokens-core-background")||e.includes("-tokens-core-text")||e.includes("-tokens-core-border")||e.includes("-tokens-core-foreground")||e.includes("-tokens-core-icon")||e.includes("-tokens-theme-background")||e.includes("-tokens-theme-text")||e.includes("-tokens-theme-border")||e.includes("-tokens-theme-foreground")||e.includes("-tokens-theme-icon")||e.includes("-tokens-theme-overlay"),r=e.includes("-borderRadius-")||e.includes("-spacing-")||e.includes("-textSize-")||e.includes("-fontFamily-")||e.includes("-fontWeight-")||e.includes("-typography-")||e.includes("-duration-")||e.includes("-ease-")||e.includes("-path-")||e.includes("-width-")||e.includes("-height-")||e.includes("-visual-size-")||e.includes("-modal-width")||e.includes("-cover");return t&&!r}));return 0===s.length||s.forEach((e=>{const s=t?.[e]||"";e.endsWith("-base")||("--apkt-tokens-theme-backgroundPrimary"===e||"--apkt-tokens-core-backgroundAccentPrimary"===e?r[e]=`color-mix(in srgb, ${n} ${i}%, var(${e}-base))`:s.includes("color-mix")||s.startsWith("#")||s.startsWith("rgb")?r[e]=`color-mix(in srgb, ${n} ${i}%, ${s})`:r[e]=`color-mix(in srgb, ${n} ${i}%, var(${e}-base, ${s}))`)})),r}},{cssVariablesVarPrefix:H6}=j6.createCSSVariables(L6);function z6(e,...t){return $2(e,...t.map((e=>R2("function"==typeof e?e(H6):e))))}let F6,V6,Z6,q6,W6;const K6={"KHTeka-500-woff2":"https://fonts.reown.com/KHTeka-Medium.woff2","KHTeka-400-woff2":"https://fonts.reown.com/KHTeka-Regular.woff2","KHTeka-300-woff2":"https://fonts.reown.com/KHTeka-Light.woff2","KHTekaMono-400-woff2":"https://fonts.reown.com/KHTekaMono-Regular.woff2","KHTeka-500-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTeka-400-woff":"https://fonts.reown.com/KHTeka-Regular.woff","KHTeka-300-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTekaMono-400-woff":"https://fonts.reown.com/KHTekaMono-Regular.woff"};function G6(e,t="dark"){F6&&document.head.removeChild(F6),F6=document.createElement("style"),F6.textContent=j6.createRootStyles(t,e),document.head.appendChild(F6)}function Y6(e="dark"){Z6&&q6&&F6&&("light"===e?(G6(W6,e),Z6.removeAttribute("media"),q6.media="enabled"):(G6(W6,e),q6.removeAttribute("media"),Z6.media="enabled"))}function J6(e){return{core:$2`
      ${!!e?.["--w3m-font-family"]?$2``:$2`
            @font-face {
              font-family: 'KHTeka';
              src:
                url(${R2(K6["KHTeka-400-woff2"])}) format('woff2'),
                url(${R2(K6["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
              font-display: swap;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${R2(K6["KHTeka-300-woff2"])}) format('woff2'),
                url(${R2(K6["KHTeka-300-woff"])}) format('woff');
              font-weight: 300;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTekaMono';
              src:
                url(${R2(K6["KHTekaMono-400-woff2"])}) format('woff2'),
                url(${R2(K6["KHTekaMono-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${R2(K6["KHTeka-400-woff2"])}) format('woff2'),
                url(${R2(K6["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }
          `}

      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --apkt-modal-width: 370px;

        --apkt-visual-size-inherit: inherit;
        --apkt-visual-size-sm: 40px;
        --apkt-visual-size-md: 55px;
        --apkt-visual-size-lg: 80px;

        --apkt-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --apkt-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --apkt-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --apkt-width-network-sm: 36px;
        --apkt-width-network-md: 48px;
        --apkt-width-network-lg: 86px;

        --apkt-duration-dynamic: 0ms;
        --apkt-height-network-sm: 40px;
        --apkt-height-network-md: 54px;
        --apkt-height-network-lg: 96px;
      }
    `,dark:$2`
      :root {
      }
    `,light:$2`
      :root {
      }
    `}}const X6=$2`
  div,
  span,
  iframe,
  a,
  img,
  form,
  button,
  label,
  *::after,
  *::before {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    backface-visibility: hidden;
  }

  :host {
    font-family: var(--apkt-fontFamily-regular);
  }
`,Q6=$2`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;

    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
    outline: none;
    border: none;
    text-decoration: none;
    transition:
      background-color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      box-shadow var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      width var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      height var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      transform var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      opacity var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      scale var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border-radius var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2);
    will-change:
      background-color, color, border, box-shadow, width, height, transform, opacity, scale,
      border-radius;
  }

  a:active:not([disabled]),
  button:active:not([disabled]) {
    scale: 0.975;
    transform-origin: center;
  }

  button:disabled {
    cursor: default;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,e8=".",t8={getSpacingStyles:(e,t)=>Array.isArray(e)?e[t]?`var(--apkt-spacing-${e[t]})`:void 0:"string"==typeof e?`var(--apkt-spacing-${e})`:void 0,getFormattedDate:e=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(e),formatCurrency(e=0,t={}){const r=Number(e);return isNaN(r)?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2,...t}).format(r)},getHostName(e){try{return new URL(e).hostname}catch{return""}},getTruncateString:({string:e,charsStart:t,charsEnd:r,truncate:n})=>e.length<=t+r?e:"end"===n?`${e.substring(0,t)}...`:"start"===n?`...${e.substring(e.length-r)}`:`${e.substring(0,Math.floor(t))}...${e.substring(e.length-Math.floor(r))}`,generateAvatarColors(e){const t=e.toLowerCase().replace(/^0x/iu,"").replace(/[^a-f0-9]/gu,"").substring(0,6).padEnd(6,"0"),r=this.hexToRgb(t),n=getComputedStyle(document.documentElement).getPropertyValue("--w3m-border-radius-master"),i=100-3*Number(n?.replace("px","")),s=`${i}% ${i}% at 65% 40%`,o=[];for(let e=0;e<5;e+=1){const t=this.tintColor(r,.15*e);o.push(`rgb(${t[0]}, ${t[1]}, ${t[2]})`)}return`\n    --local-color-1: ${o[0]};\n    --local-color-2: ${o[1]};\n    --local-color-3: ${o[2]};\n    --local-color-4: ${o[3]};\n    --local-color-5: ${o[4]};\n    --local-radial-circle: ${s}\n   `},hexToRgb(e){const t=parseInt(e,16);return[t>>16&255,t>>8&255,255&t]},tintColor(e,t){const[r,n,i]=e;return[Math.round(r+(255-r)*t),Math.round(n+(255-n)*t),Math.round(i+(255-i)*t)]},isNumber:e=>/^[0-9]+$/u.test(e),getColorTheme:e=>e||(typeof window<"u"&&window.matchMedia&&"function"==typeof window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)")?.matches?"dark":"light":"dark"),splitBalance(e){const t=e.split(".");return 2===t.length?[t[0],t[1]]:["0","00"]},roundNumber:(e,t,r)=>e.toString().length>=t?Number(e).toFixed(r):e,cssDurationToNumber:e=>e.endsWith("s")?1e3*Number(e.replace("s","")):e.endsWith("ms")?Number(e.replace("ms","")):0,maskInput({value:e,decimals:t,integers:r}){if((e=e.replace(",","."))===e8)return`0${e8}`;const[n="",i]=e.split(e8).map((e=>e.replace(/[^0-9]/gu,""))),s=r?n.substring(0,r):n,o=2===s.length?String(Number(s)):s,a="number"==typeof t?i?.substring(0,t):i;return("string"==typeof a&&("number"!=typeof t||t>0)?[o,a].join(e8):o)??""},capitalize:e=>e?e.charAt(0).toUpperCase()+e.slice(1):""};function r8(e){return function(t){return"function"==typeof t?function(e,t){return customElements.get(e)||customElements.define(e,t),t}(e,t):function(e,t){const{kind:r,elements:n}=t;return{kind:r,elements:n,finisher(t){customElements.get(e)||customElements.define(e,t)}}}(e,t)}}const n8=4902,i8=5e3,s8=32603;class o8 extends Q1{async setUniversalProvider(e){if(!this.namespace)throw new Error("UniversalAdapter:setUniversalProvider - namespace is required");return this.addConnector(new r2({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace})),Promise.resolve()}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect(),this.emit("disconnect")}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}return{connections:[]}}syncConnections(){return Promise.resolve()}async getAccounts({namespace:e}){const t=this.provider?.session?.namespaces?.[e]?.accounts?.map((e=>{const[,,t]=e.split(":");return t})).filter(((e,t,r)=>r.indexOf(e)===t))||[];return Promise.resolve({accounts:t.map((t=>B$.createAccount(e,t,"bip122"===e?"payment":"eoa")))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){if(!e.caipNetwork||!R$.BALANCE_SUPPORTED_CHAINS.includes(e.caipNetwork?.chainNamespace)||e.caipNetwork?.testnet)return{balance:"0.00",symbol:e.caipNetwork?.nativeCurrency.symbol||""};const t=L1.getAccountData();if(t?.balanceLoading&&e.chainId===L1.state.activeCaipNetwork?.id)return{balance:t?.balance||"0.00",symbol:t?.balanceSymbol||""};const r=(await L1.fetchTokenBalance()).find((t=>t.chainId===`${e.caipNetwork?.chainNamespace}:${e.chainId}`&&t.symbol===e.caipNetwork?.nativeCurrency.symbol));return{balance:r?.quantity.numeric||"0.00",symbol:r?.symbol||e.caipNetwork?.nativeCurrency.symbol||""}}async signMessage(e){const{provider:t,message:r,address:n}=e;if(!t)throw new Error("UniversalAdapter:signMessage - provider is undefined");let i="";return i=L1.state.activeCaipNetwork?.chainNamespace===dR.CHAIN.SOLANA?(await t.request({method:"solana_signMessage",params:{message:sc.encode((new TextEncoder).encode(r)),pubkey:n}},L1.state.activeCaipNetwork?.caipNetworkId)).signature:await t.request({method:"personal_sign",params:[r,n]},L1.state.activeCaipNetwork?.caipNetworkId),{signature:i}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}emitFirstAvailableConnection(){}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){const{caipNetwork:t}=e,r=this.getWalletConnectConnector();if(t.chainNamespace===dR.CHAIN.EVM)try{await(r.provider?.request({method:"wallet_switchEthereumChain",params:[{chainId:_j(t.id)}]}))}catch(e){if(e.code===n8||e.code===s8||e.code===i8||e?.data?.originalError?.code===n8)try{await(r.provider?.request({method:"wallet_addEthereumChain",params:[{chainId:_j(t.id),rpcUrls:[t?.rpcUrls.chainDefault?.http],chainName:t.name,nativeCurrency:t.nativeCurrency,blockExplorerUrls:[t.blockExplorers?.default.url]}]}))}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(t.caipNetworkId)}getWalletConnectProvider(){return this.connectors.find((e=>"WALLET_CONNECT"===e.type))?.provider}}const a8=["email","socials","swaps","onramp","activity","reownBranding","multiWallet","emailCapture","payWithExchange","payments","reownAuthentication"],c8={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!e?.config)return!1;const t=e.config;return!!e.isEnabled&&t.includes("email")},processFallback:e=>void 0===e?R$.DEFAULT_REMOTE_FEATURES.email:!!e},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!e?.config)return!1;const t=e.config;return!!(e.isEnabled&&t.length>0)&&t.filter((e=>"email"!==e))},processFallback:e=>void 0===e?R$.DEFAULT_REMOTE_FEATURES.socials:"boolean"==typeof e?!!e&&R$.DEFAULT_REMOTE_FEATURES.socials:e},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!e?.config)return!1;const t=e.config;return!!(e.isEnabled&&t.length>0)&&t},processFallback:e=>void 0===e?R$.DEFAULT_REMOTE_FEATURES.swaps:"boolean"==typeof e?!!e&&R$.DEFAULT_REMOTE_FEATURES.swaps:e},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!e?.config)return!1;const t=e.config;return!!(e.isEnabled&&t.length>0)&&t},processFallback:e=>void 0===e?R$.DEFAULT_REMOTE_FEATURES.onramp:"boolean"==typeof e?!!e&&R$.DEFAULT_REMOTE_FEATURES.onramp:e},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:e=>void 0===e?R$.DEFAULT_REMOTE_FEATURES.activity:!!e},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:e=>void 0===e?R$.DEFAULT_REMOTE_FEATURES.reownBranding:!!e},emailCapture:{apiFeatureName:"email_capture",localFeatureName:"emailCapture",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>e.isEnabled&&(e.config??[]),processFallback:e=>!1},multiWallet:{apiFeatureName:"multi_wallet",localFeatureName:"multiWallet",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:()=>R$.DEFAULT_REMOTE_FEATURES.multiWallet},payWithExchange:{apiFeatureName:"fund_from_exchange",localFeatureName:"payWithExchange",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:()=>R$.DEFAULT_REMOTE_FEATURES.payWithExchange},payments:{apiFeatureName:"payments",localFeatureName:"payments",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:()=>R$.DEFAULT_REMOTE_FEATURES.payments},reownAuthentication:{apiFeatureName:"reown_authentication",localFeatureName:"reownAuthentication",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:e=>typeof e>"u"?R$.DEFAULT_REMOTE_FEATURES.reownAuthentication:!!e}},l8={localSettingsOverridden:new Set,getApiConfig:(e,t)=>t?.find((t=>t.id===e)),addWarning(e,t){if(void 0!==e){const e=c8[t],r=e.isLegacy?`"features.${e.localFeatureName}" (now "${t}")`:`"features.${t}"`;this.localSettingsOverridden.add(r)}},processFeature(e,t,r,n,i){const s=c8[e],o=t[s.localFeatureName];if(i&&!s.isAvailableOnBasic)return!1;if(n){const t=this.getApiConfig(s.apiFeatureName,r);return null===t?.config?this.processFallbackFeature(e,o):!!t?.config&&(void 0!==o&&this.addWarning(o,e),this.processApiFeature(e,t))}return this.processFallbackFeature(e,o)},processApiFeature:(e,t)=>c8[e].processApi(t),processFallbackFeature:(e,t)=>c8[e].processFallback(t),async fetchRemoteFeatures(e){const t=e.basic??!1,r=e.features||{};this.localSettingsOverridden.clear();let n=null,i=!1;try{n=await X0.fetchProjectConfig(),i=null!=n}catch(e){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",e)}const s=i&&!t?R$.DEFAULT_REMOTE_FEATURES:R$.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const e of a8){const o=this.processFeature(e,r,n,i,t);Object.assign(s,{[e]:o})}}catch(e){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",e),R$.DEFAULT_REMOTE_FEATURES}if(i&&this.localSettingsOverridden.size>0){const e=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;o2.open({debugMessage:w2.ALERT_WARNINGS.LOCAL_CONFIGURATION_IGNORED.debugMessage(e)},"warning")}return s}};class d8{constructor(e){this.chainNamespaces=[],this.features={},this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(e,t)=>{if(e){const r=L1.getCaipNetworks(e)?.find((e=>e.id===t));if(r)return r;const n=L1.getNetworkData(e)?.caipNetwork;return n||L1.getRequestedCaipNetworks(e).filter((t=>t.chainNamespace===e))?.[0]}return L1.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const e=this.getCaipNetwork();if(e)return e.id},this.getCaipNetworks=e=>L1.getCaipNetworks(e),this.getActiveChainNamespace=()=>L1.state.activeChain,this.setRequestedCaipNetworks=(e,t)=>{L1.setRequestedCaipNetworks(e,t)},this.getApprovedCaipNetworkIds=()=>L1.getAllApprovedCaipNetworkIds(),this.getCaipAddress=e=>L1.state.activeChain!==e&&e?L1.state.chains.get(e)?.accountState?.caipAddress:L1.state.activeCaipAddress,this.setClientId=e=>{P0.setClientId(e)},this.getProvider=e=>k1.getProvider(e),this.getProviderType=e=>k1.getProviderId(e),this.getPreferredAccountType=e=>u1(e),this.setCaipAddress=(e,t,r=!1)=>{L1.setAccountProp("caipAddress",e,t,r),L1.setAccountProp("address",B$.getPlainAddress(e),t,r)},this.setBalance=(e,t,r)=>{L1.setAccountProp("balance",e,r),L1.setAccountProp("balanceSymbol",t,r)},this.setProfileName=(e,t)=>{L1.setAccountProp("profileName",e,t)},this.setProfileImage=(e,t)=>{L1.setAccountProp("profileImage",e,t)},this.setUser=(e,t)=>{L1.setAccountProp("user",e,t)},this.resetAccount=e=>{L1.resetAccount(e)},this.setCaipNetwork=e=>{L1.setActiveCaipNetwork(e)},this.setCaipNetworkOfNamespace=(e,t)=>{L1.setChainNetworkData(t,{caipNetwork:e})},this.setStatus=(e,t)=>{L1.setAccountProp("status",e,t),c1.isConnected()?$$.setConnectionStatus("connected"):$$.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=e=>L1.getAccountData(e)?.address,this.setConnectors=e=>{const t=[...c1.state.allConnectors,...e];c1.setConnectors(t)},this.setConnections=(e,t)=>{$$.setConnections(e,t),w1.setConnections(e,t)},this.fetchIdentity=e=>P0.fetchIdentity(e),this.getReownName=e=>G1.getNamesForAddress(e),this.getConnectors=()=>c1.getConnectors(),this.getConnectorImage=e=>F0.getConnectorImage(e),this.getConnections=e=>this.remoteFeatures.multiWallet?p1.getConnectionsData(e).connections:(o2.open(dR.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.getRecentConnections=e=>this.remoteFeatures.multiWallet?p1.getConnectionsData(e).recentConnections:(o2.open(dR.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.switchConnection=async e=>{this.remoteFeatures.multiWallet?await w1.switchConnection(e):o2.open(dR.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info")},this.deleteConnection=e=>{this.remoteFeatures.multiWallet?($$.deleteAddressFromConnection(e),w1.syncStorageConnections()):o2.open(dR.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info")},this.setConnectedWalletInfo=(e,t)=>{const r=k1.getProviderId(t),n=e?{...e,type:r}:void 0;L1.setAccountProp("connectedWalletInfo",n,t)},this.getIsConnectedState=()=>!!L1.state.activeCaipAddress,this.addAddressLabel=(e,t,r)=>{const n=L1.getAccountData(r)?.addressLabels||{};L1.setAccountProp("addressLabels",{...n,[e]:t},r)},this.removeAddressLabel=(e,t)=>{const r=L1.getAccountData(t)?.addressLabels||{};L1.setAccountProp("addressLabels",{...r,[e]:void 0},t)},this.getAddress=e=>{const t=e||L1.state.activeChain;return L1.getAccountData(t)?.address},this.resetNetwork=e=>{L1.resetNetwork(e)},this.addConnector=e=>{c1.addConnector(e)},this.resetWcConnection=()=>{w1.resetWcConnection()},this.setAddressExplorerUrl=(e,t)=>{L1.setAccountProp("addressExplorerUrl",e,t)},this.setSmartAccountDeployed=(e,t)=>{L1.setAccountProp("smartAccountDeployed",e,t)},this.setPreferredAccountType=(e,t)=>{L1.setAccountProp("preferredAccountType",e,t)},this.setEIP6963Enabled=e=>{A0.setEIP6963Enabled(e)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,t){const r=e?.map((e=>e.namespace)).filter((e=>!!e));if(r?.length)return[...new Set(r)];const n=t?.map((e=>e.chainNamespace));return[...new Set(n)]}async initialize(e){if(this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),A0.state.enableReconnect?(await this.syncExistingConnection(),await this.syncAdapterConnections()):await this.unSyncExistingConnection(),this.remoteFeatures=await l8.fetchRemoteFeatures(e),await X0.fetchUsage(),A0.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&Z1.setOnrampProviders(this.remoteFeatures.onramp),(A0.state.remoteFeatures?.email||Array.isArray(A0.state.remoteFeatures?.socials)&&A0.state.remoteFeatures?.socials.length>0)&&await this.checkAllowedOrigins(),A0.state.features?.reownAuthentication||A0.state.remoteFeatures?.reownAuthentication){const{ReownAuthentication:e}=await Promise.resolve().then((function(){return T8})),t=A0.state.siwx;t instanceof e||(t&&console.warn("ReownAuthentication option is enabled, SIWX configuration will be overridden."),A0.setSIWX(new e))}}async openSend(e){const t=e.namespace||L1.state.activeChain,r=this.getCaipAddress(t),n=this.getCaipNetwork(t)?.id;if(!r)throw new Error("openSend: caipAddress not found");if(n?.toString()!==e.chainId.toString()){const r=L1.getCaipNetworkById(e.chainId,t);if(!r)throw new Error(`openSend: caipNetwork with chainId ${e.chainId} not found`);await this.switchNetwork(r,{throwOnFailure:!0})}try{const t=b2.getTokenSymbolByAddress(e.assetAddress);t&&await X0.fetchTokenImages([t])}catch{}return await H1.open({view:"WalletSend",data:{send:e}}),new Promise(((e,t)=>{const r=R1.subscribeKey("hash",(t=>{t&&(i(),e({hash:t}))})),n=H1.subscribe((e=>{e.open||(i(),t(new Error("Modal closed")))})),i=this.createCleanupHandler([r,n])}))}toModalOptions(){return{isSwap:function(e){return"Swap"===e?.view},isSend:function(e){return"WalletSend"===e?.view}}}async checkAllowedOrigins(){try{const e=await X0.fetchAllowedOrigins();if(!B$.isClient())return;const t=window.location.origin;J1.isOriginAllowed(t,e,dR.DEFAULT_ALLOWED_ANCESTORS)||o2.open(w2.ALERT_ERRORS.ORIGIN_NOT_ALLOWED,"error")}catch(e){if(!(e instanceof Error))return;switch(e.message){case"RATE_LIMITED":o2.open(w2.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const t=e.cause instanceof Error?e.cause:e;o2.open({displayMessage:w2.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.displayMessage,debugMessage:w2.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.debugMessage(t.message)},"error");break}}}}createCleanupHandler(e){return()=>{e.forEach((e=>{try{e()}catch{}}))}}sendInitializeEvent(e){const{...t}=e;delete t.adapters,delete t.universalProvider,K0.sendEvent({type:"track",event:"INITIALIZE",properties:{...t,networks:e.networks.map((e=>e.id)),siweConfig:{options:e.siweConfig?.options||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initAdapterController(){S1.initialize(this.chainAdapters)}initializeThemeController(e){e.themeMode&&i1.setThemeMode(e.themeMode),e.themeVariables&&i1.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient)throw new Error("ConnectionControllerClient must be set");L1.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient});const t=this.getDefaultNetwork();t&&L1.setActiveCaipNetwork(t)}initializeConnectionController(e){w1.initialize(e.adapters??[]),w1.setWcBasic(e.basic??!1)}initializeConnectorController(){c1.initialize(this.chainNamespaces)}initializeProjectSettings(e){A0.setProjectId(e.projectId),A0.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){A0.setDebug(!1!==e.debug),A0.setEnableWalletGuide(!1!==e.enableWalletGuide),A0.setEnableWallets(!1!==e.enableWallets),A0.setEIP6963Enabled(!1!==e.enableEIP6963),A0.setEnableNetworkSwitch(!1!==e.enableNetworkSwitch),A0.setEnableReconnect(!1!==e.enableReconnect),A0.setEnableMobileFullScreen(!0===e.enableMobileFullScreen),A0.setCoinbasePreference(e.coinbasePreference),A0.setEnableAuthLogger(!1!==e.enableAuthLogger),A0.setCustomRpcUrls(e.customRpcUrls),A0.setEnableEmbedded(e.enableEmbedded),A0.setAllWallets(e.allWallets),A0.setIncludeWalletIds(e.includeWalletIds),A0.setExcludeWalletIds(e.excludeWalletIds),A0.setFeaturedWalletIds(e.featuredWalletIds),A0.setTokens(e.tokens),A0.setTermsConditionsUrl(e.termsConditionsUrl),A0.setPrivacyPolicyUrl(e.privacyPolicyUrl),A0.setCustomWallets(e.customWallets),A0.setFeatures(e.features),A0.setAllowUnsupportedChain(e.allowUnsupportedChain),A0.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),A0.setPreferUniversalLinks(e.experimental_preferUniversalLinks),A0.setDefaultAccountTypes(e.defaultAccountTypes);const t=this.getDefaultMetaData();if(!e.metadata&&t&&(e.metadata=t),A0.setMetadata(e.metadata),A0.setDisableAppend(e.disableAppend),A0.setEnableEmbedded(e.enableEmbedded),A0.setSIWX(e.siwx),this.features=A0.state.features??{},e.projectId){if(e.adapters?.find((e=>e.namespace===dR.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");A0.setSIWX(e.siweConfig.mapToSIWX())}}else o2.open(w2.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}getDefaultMetaData(){return B$.isClient()?{name:document.getElementsByTagName("title")?.[0]?.textContent||"",description:document.querySelector('meta[property="og:description"]')?.content||"",url:window.location.origin,icons:[document.querySelector('link[rel~="icon"]')?.href||""]}:null}setUnsupportedNetwork(e){const t=this.getActiveChainNamespace();if(t){const r=x2.getUnsupportedNetwork(`${t}:${e}`);L1.setActiveCaipNetwork(r)}}getDefaultNetwork(){return x2.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,t){return x2.extendCaipNetwork(e,{customNetworkImageUrls:t.chainImages,projectId:t.projectId})}extendCaipNetworks(e){return x2.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const t=e.networks.find((t=>t.id===e.defaultNetwork?.id));return t?x2.extendCaipNetwork(t,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectConnector(e,t){try{this.setLoading(!0,e);let r={connections:[]};const n=this.getAdapter(e);return(L1.state.chains.get(e)?.accountState?.caipAddress||!A0.state.enableReconnect)&&n?.disconnect&&(r=await n.disconnect({id:t})),this.setLoading(!1,e),r}catch(t){throw this.setLoading(!1,e),new Error(`Failed to disconnect chains: ${t.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{const e=L1.state.activeChain,t=this.getAdapter(e),r=this.getCaipNetwork(e)?.id,n=w1.getConnections(e),i=this.remoteFeatures.multiWallet,s=n.length>0;if(!t)throw new Error("Adapter not found");const o=await t.connectWalletConnect(r);(!s||!i)&&this.close(),this.setClientId(o?.clientId||null),$$.setConnectedNamespaces([...L1.state.chains.keys()]),await this.syncWalletConnectAccount(),await t2.initializeIfEnabled()},connectExternal:async e=>{const t=await this.onConnectExternal(e);return await this.connectInactiveNamespaces(e,t),t?{address:t.address}:void 0},reconnectExternal:async({id:e,info:t,type:r,provider:n})=>{const i=L1.state.activeChain,s=this.getAdapter(i);if(!i)throw new Error("reconnectExternal: namespace not found");if(!s)throw new Error("reconnectExternal: adapter not found");s?.reconnect&&(await(s?.reconnect({id:e,info:t,type:r,provider:n,chainId:this.getCaipNetwork()?.id})),$$.addConnectedNamespace(i),this.syncConnectedWalletInfo(i))},disconnectConnector:async e=>{await this.disconnectConnector(e.namespace,e.id)},disconnect:async e=>{const{id:t,chainNamespace:r,initialDisconnect:n}=e||{},i=r||L1.state.activeChain,s=c1.getConnectorId(i),o=t===dR.CONNECTOR_ID.AUTH||s===dR.CONNECTOR_ID.AUTH,a=t===dR.CONNECTOR_ID.WALLET_CONNECT||s===dR.CONNECTOR_ID.WALLET_CONNECT;try{const e=Array.from(L1.state.chains.keys());let i=r?[r]:e;(a||o)&&(i=e);const s=i.map((async e=>{const r=c1.getConnectorId(e),i=t||r,s=await this.disconnectConnector(e,i);s&&(o&&$$.deleteConnectedSocialProvider(),s.connections.forEach((t=>{$$.addDisconnectedConnectorId(t.connectorId,e)}))),n&&this.onDisconnectNamespace({chainNamespace:e,closeModal:!1})})),c=await Promise.allSettled(s);R1.resetSend(),w1.resetWcConnection(),t2.getSIWX()?.signOutOnDisconnect&&await t2.clearSessions(),c1.setFilterByNamespace(void 0),w1.syncStorageConnections();const l=c.filter((e=>"rejected"===e.status));if(l.length>0)throw new Error(l.map((e=>e.reason.message)).join(", "));K0.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:r||"all"}})}catch(e){throw new Error(`Failed to disconnect chains: ${e.message}`)}},checkInstalled:e=>e?e.some((e=>!!window.ethereum?.[String(e)])):!!window.ethereum,signMessage:async e=>{const t=L1.state.activeChain,r=this.getAdapter(L1.state.activeChain);if(!t)throw new Error("signMessage: namespace not found");if(!r)throw new Error("signMessage: adapter not found");const n=this.getAddress(t);if(!n)throw new Error("signMessage: address not found");return(await(r?.signMessage({message:e,address:n,provider:k1.getProvider(t)})))?.signature||""},sendTransaction:async e=>{const t=e.chainNamespace;if(!t)throw new Error("sendTransaction: namespace not found");if(R$.SEND_SUPPORTED_NAMESPACES.includes(t)){const r=this.getAdapter(t);if(!r)throw new Error("sendTransaction: adapter not found");const n=k1.getProvider(t);return(await(r?.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:n})))?.hash||""}return""},estimateGas:async e=>{const t=e.chainNamespace;if(t===dR.CHAIN.EVM){const r=this.getAdapter(t);if(!r)throw new Error("estimateGas: adapter is required but got undefined");const n=k1.getProvider(t),i=this.getCaipNetwork();if(!i)throw new Error("estimateGas: caipNetwork is required but got undefined");return(await(r?.estimateGas({...e,provider:n,caipNetwork:i})))?.gas||0n}return 0n},getEnsAvatar:async()=>{const e=L1.state.activeChain;if(!e)throw new Error("getEnsAvatar: namespace is required but got undefined");const t=this.getAddress(e);if(!t)throw new Error("getEnsAvatar: address not found");return await this.syncIdentity({address:t,chainId:Number(this.getCaipNetwork()?.id),chainNamespace:e}),L1.getAccountData()?.profileImage||!1},getEnsAddress:async e=>await J1.resolveReownName(e),writeContract:async e=>{const t=L1.state.activeChain,r=this.getAdapter(t);if(!t)throw new Error("writeContract: namespace is required but got undefined");if(!r)throw new Error("writeContract: adapter is required but got undefined");const n=this.getCaipNetwork(),i=this.getCaipAddress(),s=k1.getProvider(t);if(!n||!i)throw new Error("writeContract: caipNetwork or caipAddress is required but got undefined");return(await(r?.writeContract({...e,caipNetwork:n,provider:s,caipAddress:i})))?.hash},parseUnits:(e,t)=>{const r=this.getAdapter(L1.state.activeChain);if(!r)throw new Error("parseUnits: adapter is required but got undefined");return r?.parseUnits({value:e,decimals:t})??0n},formatUnits:(e,t)=>{const r=this.getAdapter(L1.state.activeChain);if(!r)throw new Error("formatUnits: adapter is required but got undefined");return r?.formatUnits({value:e,decimals:t})??"0"},getCapabilities:async e=>{const t=this.getAdapter(L1.state.activeChain);if(!t)throw new Error("getCapabilities: adapter is required but got undefined");return await(t?.getCapabilities(e))},grantPermissions:async e=>{const t=this.getAdapter(L1.state.activeChain);if(!t)throw new Error("grantPermissions: adapter is required but got undefined");return await(t?.grantPermissions(e))},revokePermissions:async e=>{const t=this.getAdapter(L1.state.activeChain);if(!t)throw new Error("revokePermissions: adapter is required but got undefined");return t?.revokePermissions?await t.revokePermissions(e):"0x"},walletGetAssets:async e=>{const t=this.getAdapter(L1.state.activeChain);if(!t)throw new Error("walletGetAssets: adapter is required but got undefined");return await(t?.walletGetAssets(e))??{}},updateBalance:e=>{const t=this.getAddress(e),r=this.getCaipNetwork(e);!r||!t||this.updateNativeBalance(t,r?.id,e)}},w1.setClient(this.connectionControllerClient)}async onConnectExternal(e){const t=L1.state.activeChain,r=e.chain||t,n=this.getAdapter(r);let i=!0;if(e.type===g2.CONNECTOR_TYPE_AUTH&&dR.AUTH_CONNECTOR_SUPPORTED_CHAINS.some((e=>c1.getConnectorId(e)===dR.CONNECTOR_ID.AUTH))&&e.chain!==t&&(i=!1),e.chain&&e.chain!==t&&!e.caipNetwork){const t=this.getCaipNetworks().find((t=>t.chainNamespace===e.chain));t&&i&&this.setCaipNetwork(t)}if(!r)throw new Error("connectExternal: namespace not found");if(!n)throw new Error("connectExternal: adapter not found");const s=this.getCaipNetwork(r),o=e.caipNetwork||s,a=await n.connect({id:e.id,address:e.address,info:e.info,type:e.type,provider:e.provider,socialUri:e.socialUri,chainId:e.caipNetwork?.id||s?.id,rpcUrl:e.caipNetwork?.rpcUrls?.default?.http?.[0]||s?.rpcUrls?.default?.http?.[0]});if(a)return $$.addConnectedNamespace(r),this.syncProvider({...a,chainNamespace:r}),this.setStatus("connected",r),this.syncConnectedWalletInfo(r),$$.removeDisconnectedConnectorId(e.id,r),{address:a.address,connectedCaipNetwork:o}}async connectInactiveNamespaces(e,t){const r=e.type===g2.CONNECTOR_TYPE_AUTH,n=y2.getOtherAuthNamespaces(t?.connectedCaipNetwork?.chainNamespace),i=L1.state.activeCaipNetwork,s=this.getAdapter(i?.chainNamespace);r&&(await Promise.all(n.map((async t=>{try{const r=k1.getProvider(t),n=this.getCaipNetwork(t);await(this.getAdapter(t)?.connect({...e,provider:r,socialUri:void 0,chainId:n?.id,rpcUrl:n?.rpcUrls?.default?.http?.[0]}))&&($$.addConnectedNamespace(t),$$.removeDisconnectedConnectorId(e.id,t),this.setStatus("connected",t),this.syncConnectedWalletInfo(t))}catch(e){o2.warn(w2.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.displayMessage,w2.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.debugMessage(t,e instanceof Error?e.message:void 0),w2.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.code)}}))),i&&await(s?.switchNetwork({caipNetwork:i})))}getApprovedCaipNetworksData(){if(k1.getProviderId(L1.state.activeChain)===g2.CONNECTOR_TYPE_WALLET_CONNECT){const e=this.universalProvider?.session?.namespaces;return{supportsAllNetworks:"MetaMask Wallet"===this.universalProvider?.session?.peer?.metadata.name,approvedCaipNetworkIds:this.getChainsFromNamespaces(e)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){const t=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const r=k1.getProviderId(t);if(e.chainNamespace===L1.state.activeChain)await(this.getAdapter(t)?.switchNetwork({caipNetwork:e}));else if(this.setCaipNetwork(e),r===g2.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const r=this.getAddressByChainNamespace(t);r&&this.syncAccount({address:r,chainId:e.id,chainNamespace:t})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap((e=>{const t=e.chains||[],r=e.accounts.map((e=>{const{chainId:t,chainNamespace:r}=TR.parseCaipAddress(e);return`${r}:${t}`}));return Array.from(new Set([...t,...r]))}))}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce(((t,r)=>{const n=e?.find((e=>e.namespace===r));return n?(n.construct({namespace:r,projectId:this.options?.projectId,networks:this.caipNetworks?.filter((({chainNamespace:e})=>e===r))}),t[r]=n):t[r]=new o8({namespace:r,networks:this.getCaipNetworks()}),t}),{})}async initChainAdapter(e){this.onConnectors(e),this.listenAdapter(e);const t=this.getAdapter(e);if(!t)throw new Error("adapter not found");await t.syncConnectors(),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map((async e=>{await this.initChainAdapter(e)}))),this.initAdapterController()}onConnectors(e){this.getAdapter(e)?.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const t=this.getAdapter(e);if(!t)return;const r=$$.getConnectionStatus();!1===A0.state.enableReconnect?this.setStatus("disconnected",e):"connected"===r?this.setStatus("connecting",e):"disconnected"===r?($$.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),t.on("switchNetwork",(({address:t,chainId:r})=>{const n=this.getCaipNetworks().find((e=>e.id.toString()===r.toString()||e.caipNetworkId.toString()===r.toString())),i=L1.state.activeChain===e,s=L1.state.chains.get(e)?.accountState?.address;if(n){const r=i&&t?t:s;r&&this.syncAccount({address:r,chainId:n.id,chainNamespace:e})}else this.setUnsupportedNetwork(r)})),t.on("disconnect",(()=>{const t=this.remoteFeatures.multiWallet,r=Array.from(w1.state.connections.values()).flat();this.onDisconnectNamespace({chainNamespace:e,closeModal:!t||0===r.length})})),t.on("connections",(t=>{this.setConnections(t,e)})),t.on("pendingTransactions",(()=>{const t=this.getAddress(e),r=L1.state.activeCaipNetwork;!t||!r?.id||this.updateNativeBalance(t,r.id,r.chainNamespace)})),t.on("accountChanged",(({address:t,chainId:r,connector:n})=>{this.handlePreviousConnectorConnection(n);const i=L1.state.activeChain===e;n?.provider&&(this.syncProvider({id:n.id,type:n.type,provider:n?.provider,chainNamespace:e}),this.syncConnectedWalletInfo(e));const s=L1.getNetworkData(e)?.caipNetwork?.id,o=r||s;i&&o?this.syncAccount({address:t,chainId:o,chainNamespace:e}):!i&&o?(this.syncAccountInfo(t,o,e),this.syncBalance({address:t,chainId:o,chainNamespace:e})):this.syncAccountInfo(t,r,e),$$.addConnectedNamespace(e)}))}async handlePreviousConnectorConnection(e){const t=e?.chain,r=e?.id,n=c1.getConnectorId(t),i=A0.state.remoteFeatures?.multiWallet,s=t&&r&&n&&n!==r&&!i;try{s&&await w1.disconnect({id:n,namespace:t})}catch(e){console.warn("Error disconnecting previous connector",e)}}async createUniversalProviderForAdapter(e){await this.getUniversalProvider(),this.universalProvider&&await(this.chainAdapters?.[e]?.setUniversalProvider?.(this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map((e=>this.syncNamespaceConnection(e))))}async unSyncExistingConnection(){try{await Promise.allSettled(this.chainNamespaces.map((e=>w1.disconnect({namespace:e,initialDisconnect:!0}))))}catch(e){console.error("Error disconnecting existing connections:",e)}}async reconnectWalletConnect(){await this.syncWalletConnectAccount();const e=this.getAddress();this.getCaipAddress()||$$.deleteRecentWallet();const t=$$.getRecentWallet();K0.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:B$.isMobile()?"mobile":"qrcode",name:t?.name||"Unknown",reconnect:!0,view:t1.state.view,walletRank:t?.order}})}async syncNamespaceConnection(e){try{e===dR.CHAIN.EVM&&B$.isSafeApp()&&c1.setConnectorId(dR.CONNECTOR_ID.SAFE,e);const t=c1.getConnectorId(e);switch(this.setStatus("connecting",e),t){case dR.CONNECTOR_ID.WALLET_CONNECT:await this.reconnectWalletConnect();break;case dR.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(t){console.warn("AppKit couldn't sync existing connection",t),this.setStatus("disconnected",e)}}onDisconnectNamespace(e){const{chainNamespace:t,closeModal:r}=e||{};L1.resetAccount(t),L1.resetNetwork(t),$$.removeConnectedNamespace(t);const n=Array.from(L1.state.chains.keys());(t?[t]:n).forEach((e=>$$.addDisconnectedConnectorId(c1.getConnectorId(e)||"",e))),c1.removeConnectorId(t),k1.resetChain(t),this.setUser(null,t),this.setStatus("disconnected",t),this.setConnectedWalletInfo(null,t),!1!==r&&H1.close()}async syncAdapterConnections(){await Promise.allSettled(this.chainNamespaces.map((e=>{const t=this.getAdapter(e),r=this.getCaipAddress(e),n=this.getCaipNetwork(e);return t?.syncConnections({connectToFirstConnector:!r,caipNetwork:n})})))}async syncAdapterConnection(e){const t=this.getAdapter(e),r=this.getCaipNetwork(e),n=c1.getConnectorId(e),i=c1.getConnectors(e).find((e=>e.id===n));try{if(!t||!i)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!r?.id)throw new Error("CaipNetwork not found");const n=await(t?.syncConnection({namespace:e,id:i.id,chainId:r.id,rpcUrl:r?.rpcUrls?.default?.http?.[0]}));n?(this.syncProvider({...n,chainNamespace:e}),await this.syncAccount({...n,chainNamespace:e}),this.setStatus("connected",e),K0.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:n.address,properties:{method:"browser",name:i.info?.name||i.name||"Unknown",reconnect:!0,view:t1.state.view,walletRank:void 0}})):this.setStatus("disconnected",e)}catch{this.onDisconnectNamespace({chainNamespace:e,closeModal:!1})}}async syncWalletConnectAccount(){const e=Object.keys(this.universalProvider?.session?.namespaces||{}),t=this.chainNamespaces.map((async t=>{const r=this.getAdapter(t);if(!r)return;const n=this.universalProvider?.session?.namespaces?.[t]?.accounts||[],i=L1.state.activeCaipNetwork?.id,s=n.find((e=>{const{chainId:t}=TR.parseCaipAddress(e);return t===i?.toString()}))||n[0];if(s){const e=TR.validateCaipAddress(s),{chainId:n,address:i}=TR.parseCaipAddress(e);if(k1.setProviderId(t,g2.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&L1.state.activeCaipNetwork&&r.namespace!==dR.CHAIN.EVM){const e=r.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:L1.state.activeCaipNetwork});k1.setProvider(t,e)}else k1.setProvider(t,this.universalProvider);c1.setConnectorId(dR.CONNECTOR_ID.WALLET_CONNECT,t),$$.addConnectedNamespace(t),await this.syncAccount({address:i,chainId:n,chainNamespace:t})}else e.includes(t)&&this.setStatus("disconnected",t);const o=this.getApprovedCaipNetworksData();this.syncConnectedWalletInfo(t),L1.setApprovedCaipNetworksData(t,{approvedCaipNetworkIds:o.approvedCaipNetworkIds,supportsAllNetworks:o.supportsAllNetworks})}));await Promise.all(t)}syncProvider({type:e,provider:t,id:r,chainNamespace:n}){k1.setProviderId(n,e),k1.setProvider(n,t),c1.setConnectorId(r,n)}async syncAccount(e){const t=e.chainNamespace===L1.state.activeChain,r=L1.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:n,chainId:i,chainNamespace:s}=e,{chainId:o}=$$.getActiveNetworkProps(),a=r?.id||o,c=L1.state.activeCaipNetwork?.name===dR.UNSUPPORTED_NETWORK_NAME,l=L1.getNetworkProp("supportsAllNetworks",s);if(this.setStatus("connected",s),(!c||l)&&a){let e=this.getCaipNetworks().find((e=>e.id.toString()===a.toString())),o=this.getCaipNetworks().find((e=>e.chainNamespace===s));if(!l&&!e&&!o){const t=this.getApprovedCaipNetworkIds()||[],r=t.find((e=>TR.parseCaipNetworkId(e)?.chainId===a.toString())),n=t.find((e=>TR.parseCaipNetworkId(e)?.chainNamespace===s));e=this.getCaipNetworks().find((e=>e.caipNetworkId===r)),o=this.getCaipNetworks().find((e=>e.caipNetworkId===n||"deprecatedCaipNetworkId"in e&&e.deprecatedCaipNetworkId===n))}const c=e||o;c?.chainNamespace===L1.state.activeChain?A0.state.enableNetworkSwitch&&!A0.state.allowUnsupportedChain&&L1.state.activeCaipNetwork?.name===dR.UNSUPPORTED_NETWORK_NAME?L1.showUnsupportedChainUI():this.setCaipNetwork(c):t||r&&this.setCaipNetworkOfNamespace(r,s),this.syncConnectedWalletInfo(s);const d=this.getAddress(s);y2.isLowerCaseMatch(n,d)||this.syncAccountInfo(n,c?.id,s),t?await this.syncBalance({address:n,chainId:c?.id,chainNamespace:s}):await this.syncBalance({address:n,chainId:r?.id,chainNamespace:s}),this.syncIdentity({address:n,chainId:i,chainNamespace:s})}}async syncAccountInfo(e,t,r){const n=this.getCaipAddress(r),i=t||n?.split(":")[1];if(!i)return;const s=`${r}:${i}:${e}`;this.setCaipAddress(s,r,!0),await this.syncIdentity({address:e,chainId:i,chainNamespace:r})}async syncReownName(e,t){try{const r=await this.getReownName(e);if(r[0]){const e=r[0];this.setProfileName(e.name,t)}else this.setProfileName(null,t)}catch{this.setProfileName(null,t)}}syncConnectedWalletInfo(e){const t=c1.getConnectorId(e),r=k1.getProviderId(e);if(r===g2.CONNECTOR_TYPE_ANNOUNCED||r===g2.CONNECTOR_TYPE_INJECTED){if(t){const r=this.getConnectors().find((e=>{const r=e.id===t,n=e.info?.rdns===t,i=e.connectors?.some((e=>e.id===t||e.info?.rdns===t));return r||n||!!i}));if(r){const{info:t,name:n,imageUrl:i}=r,s=i||this.getConnectorImage(r);this.setConnectedWalletInfo({name:n,icon:s,...t},e)}}}else if(r===g2.CONNECTOR_TYPE_WALLET_CONNECT){const t=k1.getProvider(e);t?.session&&this.setConnectedWalletInfo({...t.session.peer.metadata,name:t.session.peer.metadata.name,icon:t.session.peer.metadata.icons?.[0]},e)}else if(t&&(t===dR.CONNECTOR_ID.COINBASE_SDK||t===dR.CONNECTOR_ID.COINBASE)){const r=this.getConnectors().find((e=>e.id===t)),n=r?.name||"Coinbase Wallet",i=r?.imageUrl||this.getConnectorImage(r),s=r?.info;this.setConnectedWalletInfo({...s,name:n,icon:i},e)}}async syncBalance(e){!uR.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find((t=>t.id.toString()===e.chainId?.toString()))||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,t,r){const n=this.getAdapter(r),i=L1.getCaipNetworkByNamespace(r,t);if(n){const s=await n.getBalance({address:e,chainId:t,caipNetwork:i,tokens:this.options.tokens});return this.setBalance(s.balance,s.symbol,r),s}}async initializeUniversalAdapter(){const e=v2.createLogger(((e,...t)=>{e&&this.handleAlertError(e),console.error(...t)})),t={projectId:this.options?.projectId,metadata:{name:this.options?.metadata?this.options?.metadata.name:"",description:this.options?.metadata?this.options?.metadata.description:"",url:this.options?.metadata?this.options?.metadata.url:"",icons:this.options?.metadata?this.options?.metadata.icons:[""]},logger:e};A0.setManualWCControl(!!this.options?.manualWCControl),this.universalProvider=this.options.universalProvider??await BN.init(t),!1===A0.state.enableReconnect&&this.universalProvider.session&&await this.universalProvider.disconnect(),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&this.chainNamespaces.forEach((e=>{J1.listenWcProvider({universalProvider:this.universalProvider,namespace:e,onDisplayUri:e=>{w1.setUri(e)},onConnect:e=>{const{address:t}=B$.getAccount(e[0]);w1.finalizeWcConnection(t)},onDisconnect:()=>{L1.state.noAdapters&&this.resetAccount(e),w1.resetWcConnection()},onChainChanged:t=>{const r=L1.state.activeChain,n=r&&c1.state.activeConnectorIds[r]===dR.CONNECTOR_ID.WALLET_CONNECT;if(r===e&&(L1.state.noAdapters||n)){const e=this.getCaipNetworks().find((e=>e.id.toString()===t.toString()||e.caipNetworkId.toString()===t.toString())),r=this.getCaipNetwork();if(!e)return void this.setUnsupportedNetwork(t);r?.id.toString()!==e?.id.toString()&&r?.chainNamespace===e?.chainNamespace&&this.setCaipNetwork(e)}},onAccountsChanged:t=>{const r=L1.state.activeChain,n=r&&c1.state.activeConnectorIds[r]===dR.CONNECTOR_ID.WALLET_CONNECT;if(r===e&&(L1.state.noAdapters||n)){const e=t?.[0];e&&this.syncAccount({address:e.address,chainId:e.chainId,chainNamespace:e.chainNamespace})}}})}))}createUniversalProvider(){return!this.universalProviderInitPromise&&B$.isClient()&&this.options?.projectId&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){K0.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}getDisabledCaipNetworks(){const e=L1.getAllApprovedCaipNetworkIds(),t=L1.getAllRequestedCaipNetworks();return B$.sortRequestedNetworks(e,t).filter((e=>L1.isCaipNetworkDisabled(e)))}handleAlertError(e){const t=Object.entries(w2.UniversalProviderErrors).find((([,{message:t}])=>e.message.includes(t))),[r,n]=t??[],{message:i,alertErrorKey:s}=n??{};if(r&&i&&!this.reportedAlertErrors[r]){const e=w2.ALERT_ERRORS[s];e&&(o2.open(e,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){if(e)return this.chainAdapters?.[e]}createAdapter(e){if(!e)return;const t=e.namespace;if(!t)return;this.createClients();const r=e;r.namespace=t,r.construct({namespace:t,projectId:this.options?.projectId,networks:this.caipNetworks?.filter((({chainNamespace:e})=>e===t))}),this.chainNamespaces.includes(t)||this.chainNamespaces.push(t),this.chainAdapters&&(this.chainAdapters[t]=r)}async open(e){await this.injectModalUi(),e?.uri&&w1.setUri(e.uri);const{isSwap:t,isSend:r}=this.toModalOptions();return t(e)?H1.open({...e,data:{swap:e.arguments}}):r(e)&&e.arguments?this.openSend(e.arguments):H1.open(e)}async close(){await this.injectModalUi(),H1.close()}setLoading(e,t){H1.setLoading(e,t)}async disconnect(e){await w1.disconnect({namespace:e})}getSIWX(){return A0.state.siwx}getError(){return""}getChainId(){return L1.state.activeCaipNetwork?.id}async switchNetwork(e,{throwOnFailure:t=!1}={}){const r=this.getCaipNetworks().find((t=>t.id===e.id));r?await L1.switchActiveNetwork(r,{throwOnFailure:t}):o2.open(w2.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error")}getWalletProvider(){return L1.state.activeChain?k1.state.providers[L1.state.activeChain]:null}getWalletProviderType(){return k1.getProviderId(L1.state.activeChain)}subscribeProviders(e){return k1.subscribeProviders(e)}getThemeMode(){return i1.state.themeMode}getThemeVariables(){return i1.state.themeVariables}setThemeMode(e){i1.setThemeMode(e),Y6(i1.state.themeMode)}setTermsConditionsUrl(e){A0.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){A0.setPrivacyPolicyUrl(e)}setThemeVariables(e){i1.setThemeVariables(e),function(e){if(W6=e,V6&&Z6&&q6&&(V6.textContent=J6(e).core.cssText,Z6.textContent=J6(e).dark.cssText,q6.textContent=J6(e).light.cssText,e?.["--w3m-font-family"])){const t=e["--w3m-font-family"];V6.textContent=V6.textContent?.replace("font-family: KHTeka",`font-family: ${t}`),Z6.textContent=Z6.textContent?.replace("font-family: KHTeka",`font-family: ${t}`),q6.textContent=q6.textContent?.replace("font-family: KHTeka",`font-family: ${t}`)}F6&&G6(e,"enabled"===q6?.media?"light":"dark")}(i1.state.themeVariables)}subscribeTheme(e){return i1.subscribe(e)}subscribeConnections(e){return this.remoteFeatures.multiWallet?w1.subscribe(e):(o2.open(dR.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),()=>{})}getWalletInfo(e){return e?L1.state.chains.get(e)?.accountState?.connectedWalletInfo:L1.getAccountData()?.connectedWalletInfo}getAccount(e){const t=e||L1.state.activeChain,r=c1.getAuthConnector(t),n=L1.getAccountData(t),i=$$.getConnectedConnectorId(L1.state.activeChain),s=w1.getConnections(t);if(!t)throw new Error("AppKit:getAccount - namespace is required");const o=s.flatMap((e=>e.accounts.map((({address:e,type:r,publicKey:n})=>B$.createAccount(t,e,r||"eoa",n)))));if(n)return{allAccounts:o,caipAddress:n.caipAddress,address:B$.getPlainAddress(n.caipAddress),isConnected:!!n.caipAddress,status:n.status,embeddedWalletInfo:r&&i===dR.CONNECTOR_ID.AUTH?{user:n.user?{...n.user,username:$$.getConnectedSocialUsername()}:void 0,authProvider:n.socialProvider||"email",accountType:u1(t),isSmartAccountDeployed:!!n.smartAccountDeployed}:void 0}}subscribeAccount(e,t){const r=()=>{const r=this.getAccount(t);r&&e(r)};t?L1.subscribeChainProp("accountState",r,t):L1.subscribe(r),c1.subscribe(r)}subscribeNetwork(e){return L1.subscribe((({activeCaipNetwork:t})=>{e({caipNetwork:t,chainId:t?.id,caipNetworkId:t?.caipNetworkId})}))}subscribeWalletInfo(e,t){return t?L1.subscribeChainProp("accountState",(t=>e(t?.connectedWalletInfo)),t):L1.subscribeChainProp("accountState",(t=>e(t?.connectedWalletInfo)))}subscribeShouldUpdateToAddress(e){L1.subscribeChainProp("accountState",(t=>e(t?.shouldUpdateToAddress)))}subscribeCaipNetworkChange(e){L1.subscribeKey("activeCaipNetwork",e)}getState(){return T1.state}getRemoteFeatures(){return A0.state.remoteFeatures}subscribeState(e){return T1.subscribe(e)}subscribeRemoteFeatures(e){return A0.subscribeKey("remoteFeatures",e)}showErrorMessage(e){S0.showError(e)}showSuccessMessage(e){S0.showSuccess(e)}getEvent(){return{...K0.state}}subscribeEvents(e){return K0.subscribe(e)}replace(e){t1.replace(e)}redirect(e){t1.push(e)}popTransactionStack(e){t1.popTransactionStack(e)}isOpen(){return H1.state.open}isTransactionStackEmpty(){return 0===t1.state.transactionStack.length}static getInstance(){return this.instance}updateFeatures(e){A0.setFeatures(e)}updateRemoteFeatures(e){A0.setRemoteFeatures(e)}updateOptions(e){const t={...A0.state||{},...e};A0.setOptions(t)}setConnectMethodsOrder(e){A0.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){A0.setWalletFeaturesOrder(e)}setCollapseWallets(e){A0.setCollapseWallets(e)}setSocialsOrder(e){A0.setSocialsOrder(e)}getConnectMethodsOrder(){return I2.getConnectOrderMethod(A0.state.features,c1.getConnectors())}addNetwork(e,t){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const r=this.extendCaipNetwork(t,this.options);this.getCaipNetworks().find((e=>e.id===r.id))||L1.addNetwork(r)}removeNetwork(e,t){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find((e=>e.id===t))&&L1.removeNetwork(e,t)}}let u8=!1;class h8 extends d8{async open(e){c1.isConnected()||await super.open(e)}async close(){if(await super.close(),this.options.manualWCControl){const e=L1.getAccountData(this.activeChainNamespace)?.address;w1.finalizeWcConnection(e)}}async syncIdentity(e){return Promise.resolve()}async syncBalance(e){return Promise.resolve()}async injectModalUi(){if(!u8&&B$.isClient()){if(await Promise.resolve().then((function(){return C7})),await Promise.resolve().then((function(){return Oee})),!document.querySelector("w3m-modal")){const e=document.createElement("w3m-modal");!A0.state.disableAppend&&!A0.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",e)}u8=!0}}}var p8=Object.freeze({__proto__:null,createAppKit:function(e){return new h8({...e,basic:!0,sdkVersion:"html-core-1.8.11"})},AppKit:h8}),f8=Object.defineProperty,g8=Object.defineProperties,m8=Object.getOwnPropertyDescriptors,y8=Object.getOwnPropertySymbols,w8=Object.prototype.hasOwnProperty,b8=Object.prototype.propertyIsEnumerable,v8=(e,t,r)=>t in e?f8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,E8=(e,t)=>{for(var r in t||(t={}))w8.call(t,r)&&v8(e,r,t[r]);if(y8)for(var r of y8(t))b8.call(t,r)&&v8(e,r,t[r]);return e},A8=(e,t)=>g8(e,m8(t));function x8(e){if(e)return{"--w3m-font-family":e["--wcm-font-family"],"--w3m-accent":e["--wcm-accent-color"],"--w3m-color-mix":e["--wcm-background-color"],"--w3m-z-index":e["--wcm-z-index"]?Number(e["--wcm-z-index"]):void 0,"--w3m-qr-color":e["--wcm-accent-color"],"--w3m-font-size-master":e["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":e["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const C8=e=>{const[t,r]=e.split(":");return S8({id:r,caipNetworkId:e,chainNamespace:t,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function S8(e){return E8({formatters:void 0,fees:void 0,serializers:void 0},e)}var I8=Object.freeze({__proto__:null,convertWCMToAppKitOptions:function(e){var t,r,n,i,s,o,a;const c=null==(t=e.chains)?void 0:t.map(C8).filter(Boolean);if(0===c.length)throw new Error("At least one chain must be specified");const l=c.find((t=>{var r;return t.id===(null==(r=e.defaultChain)?void 0:r.id)})),d={projectId:e.projectId,networks:c,themeMode:e.themeMode,themeVariables:x8(e.themeVariables),chainImages:e.chainImages,connectorImages:e.walletImages,defaultNetwork:l,metadata:A8(E8({},e.metadata),{name:(null==(r=e.metadata)?void 0:r.name)||"WalletConnect",description:(null==(n=e.metadata)?void 0:n.description)||"Connect to WalletConnect-compatible wallets",url:(null==(i=e.metadata)?void 0:i.url)||"https://walletconnect.org",icons:(null==(s=e.metadata)?void 0:s.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:"NONE"===e.explorerRecommendedWalletIds?[]:Array.isArray(e.explorerRecommendedWalletIds)?e.explorerRecommendedWalletIds:[],excludeWalletIds:"ALL"===e.explorerExcludedWalletIds?[]:Array.isArray(e.explorerExcludedWalletIds)?e.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if(null!=(o=e.mobileWallets)&&o.length||null!=(a=e.desktopWallets)&&a.length){const t=[...(e.mobileWallets||[]).map((e=>({id:e.id,name:e.name,links:e.links}))),...(e.desktopWallets||[]).map((e=>({id:e.id,name:e.name,links:{native:e.links.native,universal:e.links.universal}})))],r=[...d.featuredWalletIds||[],...d.excludeWalletIds||[]],n=t.filter((e=>!r.includes(e.id)));n.length&&(d.customWallets=n)}return d},defineChain:S8});const _8=function(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}();var k8=Object.freeze({__proto__:null,WebSocket:_8});class P8{constructor(e){this.getNonce=e.getNonce}async createMessage(e){const t={accountAddress:e.accountAddress,chainId:e.chainId,version:"1",domain:typeof document>"u"?"Unknown Domain":document.location.host,uri:typeof document>"u"?"Unknown URI":document.location.href,resources:this.resources,nonce:await this.getNonce(e),issuedAt:this.stringifyDate(new Date),statement:void 0,expirationTime:void 0,notBefore:void 0};return Object.assign(t,{toString:()=>this.stringify(t)})}stringify(e){const t=this.getNetworkName(e.chainId);return[`${e.domain} wants you to sign in with your ${t} account:`,e.accountAddress,e.statement?`\n${e.statement}\n`:"",`URI: ${e.uri}`,`Version: ${e.version}`,`Chain ID: ${e.chainId}`,`Nonce: ${e.nonce}`,e.issuedAt&&`Issued At: ${e.issuedAt}`,e.expirationTime&&`Expiration Time: ${e.expirationTime}`,e.notBefore&&`Not Before: ${e.notBefore}`,e.requestId&&`Request ID: ${e.requestId}`,e.resources?.length&&e.resources.reduce(((e,t)=>`${e}\n- ${t}`),"Resources:")].filter((e=>"string"==typeof e)).join("\n").trim()}getNetworkName(e){const t=L1.getAllRequestedCaipNetworks();return uR.getNetworkNameByCaipNetworkId(t,e)}stringifyDate(e){return e.toISOString()}}var T8=Object.freeze({__proto__:null,ReownAuthentication:class{constructor(e={}){this.otpUuid=null,this.listeners={sessionChanged:[]},this.localAuthStorageKey=e.localAuthStorageKey||FR,this.localNonceStorageKey=e.localNonceStorageKey||VR,this.required=e.required??!0,this.messenger=new P8({getNonce:this.getNonce.bind(this)})}async createMessage(e){return this.messenger.createMessage(e)}async addSession(e){const t=await this.request({method:"POST",key:"authenticate",body:{data:e.data,message:e.message,signature:e.signature,clientId:this.getClientId(),walletInfo:this.getWalletInfo()},headers:["nonce","otp"]});this.setStorageToken(t.token,this.localAuthStorageKey),this.emit("sessionChanged",e),this.setAppKitAccountUser(function(e){const t=e.split(".");if(3!==t.length)throw new Error("Invalid token");const r=t[1];if("string"!=typeof r)throw new Error("Invalid token");const n=r.replace(/-/gu,"+").replace(/_/gu,"/"),i=n.padEnd(n.length+(4-n.length%4)%4,"=");return JSON.parse(atob(i))}(t.token)),this.otpUuid=null}async getSessions(e,t){try{if(!this.getStorageToken(this.localAuthStorageKey))return[];const r=await this.request({method:"GET",key:"me",query:{},headers:["auth"]});if(!r)return[];const n=r.address.toLowerCase()===t.toLowerCase(),i=r.caip2Network===e;if(!n||!i)return[];const s={data:{accountAddress:r.address,chainId:r.caip2Network},message:"",signature:""};return this.emit("sessionChanged",s),this.setAppKitAccountUser(r),[s]}catch{return[]}}async revokeSession(e,t){return Promise.resolve(this.clearStorageTokens())}async setSessions(e){if(0===e.length)this.clearStorageTokens();else{const t=e.find((e=>e.data.chainId===h1()?.caipNetworkId))||e[0];await this.addSession(t)}}getRequired(){return this.required}async getSessionAccount(){if(!this.getStorageToken(this.localAuthStorageKey))throw new Error("Not authenticated");return this.request({method:"GET",key:"me",body:void 0,query:{includeAppKitAccount:!0},headers:["auth"]})}async setSessionAccountMetadata(e=null){if(!this.getStorageToken(this.localAuthStorageKey))throw new Error("Not authenticated");return this.request({method:"PUT",key:"account-metadata",body:{metadata:e},headers:["auth"]})}on(e,t){return this.listeners[e].push(t),()=>{this.listeners[e]=this.listeners[e].filter((e=>e!==t))}}removeAllListeners(){Object.keys(this.listeners).forEach((e=>{this.listeners[e]=[]}))}async requestEmailOtp({email:e,account:t}){const r=await this.request({method:"POST",key:"otp",body:{email:e,account:t}});return this.otpUuid=r.uuid,this.messenger.resources=[`email:${e}`],r}confirmEmailOtp({code:e}){return this.request({method:"PUT",key:"otp",body:{code:e},headers:["otp"]})}async request({method:e,key:t,query:r,body:n,headers:i}){const{projectId:s,st:o,sv:a}=this.getSDKProperties(),c=new URL(`${dR.W3M_API_URL}/auth/v1/${String(t)}`);c.searchParams.set("projectId",s),c.searchParams.set("st",o),c.searchParams.set("sv",a),r&&Object.entries(r).forEach((([e,t])=>c.searchParams.set(e,String(t))));const l=await fetch(c,{method:e,body:n?JSON.stringify(n):void 0,headers:Array.isArray(i)?i.reduce(((e,t)=>{switch(t){case"nonce":e["x-nonce-jwt"]=`Bearer ${this.getStorageToken(this.localNonceStorageKey)}`;break;case"auth":e.Authorization=`Bearer ${this.getStorageToken(this.localAuthStorageKey)}`;break;case"otp":this.otpUuid&&(e["x-otp"]=this.otpUuid)}return e}),{}):void 0});if(!l.ok)throw new Error(await l.text());return l.headers.get("content-type")?.includes("application/json")?l.json():null}getStorageToken(e){return n$.getItem(e)}setStorageToken(e,t){n$.setItem(t,e)}clearStorageTokens(){this.otpUuid=null,n$.removeItem(this.localAuthStorageKey),n$.removeItem(this.localNonceStorageKey),this.emit("sessionChanged",void 0)}async getNonce(){const{nonce:e,token:t}=await this.request({method:"GET",key:"nonce"});return this.setStorageToken(t,this.localNonceStorageKey),e}getClientId(){return P0.state.clientId}getWalletInfo(){const e=L1.getAccountData()?.connectedWalletInfo;if(!e)return;if("social"in e&&"identifier"in e){return{type:"social",social:e.social,identifier:e.identifier}}const{name:t,icon:r}=e;let n="unknown";switch(e.type){case"EXTERNAL":case"INJECTED":case"ANNOUNCED":n="extension";break;case"WALLET_CONNECT":n="walletconnect";break;default:n="unknown"}return{type:n,name:t,icon:r}}getSDKProperties(){return X0._getSdkProperties()}emit(e,t){this.listeners[e].forEach((e=>e(t)))}setAppKitAccountUser(e){const{email:t}=e;t&&Object.values(dR.CHAIN).forEach((e=>{L1.setAccountProp("user",{email:t},e)}))}},ReownAuthenticationMessenger:P8});
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const O8={attribute:!0,type:String,converter:W2,reflect:!1,hasChanged:K2},N8=(e=O8,t,r)=>{const{kind:n,metadata:i}=r;let s=globalThis.litPropertyMetadata.get(i);if(void 0===s&&globalThis.litPropertyMetadata.set(i,s=new Map),"setter"===n&&((e=Object.create(e)).wrapped=!0),s.set(r.name,e),"accessor"===n){const{name:n}=r;return{set(r){const i=t.get.call(this);t.set.call(this,r),this.requestUpdate(n,i,e)},init(t){return void 0!==t&&this.C(n,void 0,e,t),t}}}if("setter"===n){const{name:n}=r;return function(r){const i=this[n];t.call(this,r),this.requestUpdate(n,i,e)}}throw Error("Unsupported decorator location: "+n)};function R8(e){return(t,r)=>"object"==typeof r?N8(e,t,r):((e,t,r)=>{const n=t.hasOwnProperty(r);return t.constructor.createProperty(r,e),n?Object.getOwnPropertyDescriptor(t,r):void 0})(e,t,r)
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */}function $8(e){return R8({...e,state:!0,attribute:!1})}var B8=$2`
  :host {
    display: flex;
    width: inherit;
    height: inherit;
    box-sizing: border-box;
  }
`,M8=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let U8=class extends B6{render(){return this.style.cssText=`\n      flex-direction: ${this.flexDirection};\n      flex-wrap: ${this.flexWrap};\n      flex-basis: ${this.flexBasis};\n      flex-grow: ${this.flexGrow};\n      flex-shrink: ${this.flexShrink};\n      align-items: ${this.alignItems};\n      justify-content: ${this.justifyContent};\n      column-gap: ${this.columnGap&&`var(--apkt-spacing-${this.columnGap})`};\n      row-gap: ${this.rowGap&&`var(--apkt-spacing-${this.rowGap})`};\n      gap: ${this.gap&&`var(--apkt-spacing-${this.gap})`};\n      padding-top: ${this.padding&&t8.getSpacingStyles(this.padding,0)};\n      padding-right: ${this.padding&&t8.getSpacingStyles(this.padding,1)};\n      padding-bottom: ${this.padding&&t8.getSpacingStyles(this.padding,2)};\n      padding-left: ${this.padding&&t8.getSpacingStyles(this.padding,3)};\n      margin-top: ${this.margin&&t8.getSpacingStyles(this.margin,0)};\n      margin-right: ${this.margin&&t8.getSpacingStyles(this.margin,1)};\n      margin-bottom: ${this.margin&&t8.getSpacingStyles(this.margin,2)};\n      margin-left: ${this.margin&&t8.getSpacingStyles(this.margin,3)};\n      width: ${this.width};\n    `,y6`<slot></slot>`}};U8.styles=[X6,B8],M8([R8()],U8.prototype,"flexDirection",void 0),M8([R8()],U8.prototype,"flexWrap",void 0),M8([R8()],U8.prototype,"flexBasis",void 0),M8([R8()],U8.prototype,"flexGrow",void 0),M8([R8()],U8.prototype,"flexShrink",void 0),M8([R8()],U8.prototype,"alignItems",void 0),M8([R8()],U8.prototype,"justifyContent",void 0),M8([R8()],U8.prototype,"columnGap",void 0),M8([R8()],U8.prototype,"rowGap",void 0),M8([R8()],U8.prototype,"gap",void 0),M8([R8()],U8.prototype,"padding",void 0),M8([R8()],U8.prototype,"margin",void 0),M8([R8()],U8.prototype,"width",void 0),U8=M8([r8("wui-flex")],U8);
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const L8=e=>e??v6
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,D8=Symbol.for(""),j8=e=>{if(e?.r===D8)return e?._$litStatic$},H8=new Map,z8=(e=>(t,...r)=>{const n=r.length;let i,s;const o=[],a=[];let c,l=0,d=!1;for(;l<n;){for(c=t[l];l<n&&(s=r[l],void 0!==(i=j8(s)));)c+=i+t[++l],d=!0;l!==n&&a.push(s),o.push(c),l++}if(l===n&&o.push(t[n]),d){const e=o.join("$$lit$$");void 0===(t=H8.get(e))&&(o.raw=o,H8.set(e,t=o)),r=a}return e(t,...r)})(y6),F8=w6`<svg width="30" height="30" viewBox="0 0 30 30" fill="none">
  <g clip-path="url(#clip0_87_33)">
    <path d="M23.9367 2.29447e-07H6.05917C5.26333 -0.000218805 4.47526 0.156384 3.73997 0.46086C3.00469 0.765337 2.33661 1.21172 1.77391 1.7745C1.21121 2.33727 0.764917 3.00542 0.460542 3.74074C0.156167 4.47607 -0.000327963 5.26417 5.16031e-07 6.06V23.9433C4.48257e-07 24.7389 0.156744 25.5267 0.461276 26.2617C0.765808 26.9967 1.21216 27.6645 1.77484 28.2269C2.33752 28.7894 3.0055 29.2355 3.74061 29.5397C4.47573 29.8439 5.26358 30.0003 6.05917 30H23.9417C25.5486 29.9996 27.0895 29.3609 28.2257 28.2245C29.3618 27.0881 30 25.5469 30 23.94V6.06C29.9993 4.45241 29.3602 2.91091 28.2232 1.77449C27.0861 0.638064 25.5443 -0.000220881 23.9367 2.29447e-07Z" fill="url(#paint0_linear_87_33)"/>
    <path d="M14.8708 6.89259L15.4783 5.84259C15.5679 5.68703 15.6873 5.55064 15.8296 5.44122C15.9719 5.3318 16.1344 5.25148 16.3078 5.20486C16.4812 5.15824 16.662 5.14622 16.8401 5.1695C17.0181 5.19277 17.1898 5.25088 17.3453 5.34051C17.5009 5.43013 17.6373 5.54952 17.7467 5.69186C17.8561 5.83419 17.9364 5.99669 17.9831 6.17006C18.0297 6.34344 18.0417 6.5243 18.0184 6.70232C17.9952 6.88034 17.9371 7.05203 17.8474 7.20759L11.9949 17.3401H16.2283C17.5999 17.3401 18.3691 18.9526 17.7724 20.0701H5.36159C5.18215 20.0707 5.00436 20.0359 4.83845 19.9675C4.67254 19.8992 4.5218 19.7986 4.39492 19.6718C4.26803 19.5449 4.16751 19.3941 4.09915 19.2282C4.03079 19.0623 3.99593 18.8845 3.99659 18.7051C3.99659 17.9476 4.60492 17.3401 5.36159 17.3401H8.84159L13.2958 9.61926L11.9041 7.20426C11.738 6.89096 11.7 6.52543 11.7982 6.18469C11.8963 5.84395 12.1229 5.5546 12.4301 5.37763C12.7374 5.20065 13.1014 5.14987 13.4454 5.23599C13.7893 5.3221 14.0864 5.53838 14.2741 5.83926L14.8708 6.89259ZM9.60659 21.4759L8.29409 23.7526C8.20446 23.9082 8.08506 24.0446 7.94271 24.1541C7.80035 24.2636 7.63783 24.344 7.46441 24.3906C7.291 24.4373 7.11009 24.4493 6.93202 24.4261C6.75395 24.4028 6.58221 24.3447 6.42659 24.2551C6.27097 24.1655 6.13454 24.0461 6.02506 23.9037C5.91559 23.7613 5.83523 23.5988 5.78857 23.4254C5.74191 23.252 5.72986 23.0711 5.75311 22.893C5.77637 22.715 5.83446 22.5432 5.92409 22.3876L6.89909 20.7001C8.00159 20.3584 8.89742 20.6209 9.60659 21.4759ZM20.9066 17.3476H24.4583C25.2158 17.3476 25.8233 17.9551 25.8233 18.7126C25.8233 19.4701 25.2149 20.0776 24.4583 20.0776H22.4858L23.8166 22.3876C24.1916 23.0443 23.9708 23.8726 23.3149 24.2551C23.0006 24.4359 22.6274 24.4845 22.2772 24.3903C21.927 24.2961 21.6286 24.0667 21.4474 23.7526C19.2058 19.8643 17.5216 16.9534 16.4041 15.0151C15.2608 13.0426 16.0783 11.0626 16.8841 10.3909C17.7799 11.9293 19.1191 14.2501 20.9074 17.3476H20.9066Z" fill="white"/>
  </g>
  <defs>
    <linearGradient id="paint0_linear_87_33" x1="15" y1="2.29447e-07" x2="15" y2="30" gradientUnits="userSpaceOnUse">
      <stop stop-color="#18BFFB"/>
      <stop offset="1" stop-color="#2072F3"/>
    </linearGradient>
    <clipPath id="clip0_87_33">
      <rect width="30" height="30" fill="white"/>
    </clipPath>
  </defs>
</svg>`,V8=w6`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#000" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M28.77 23.3c-.69 1.99-2.75 5.52-4.87 5.56-1.4.03-1.86-.84-3.46-.84-1.61 0-2.12.81-3.45.86-2.25.1-5.72-5.1-5.72-9.62 0-4.15 2.9-6.2 5.42-6.25 1.36-.02 2.64.92 3.47.92.83 0 2.38-1.13 4.02-.97.68.03 2.6.28 3.84 2.08-3.27 2.14-2.76 6.61.75 8.25ZM24.2 7.88c-2.47.1-4.49 2.69-4.2 4.84 2.28.17 4.47-2.39 4.2-4.84Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,Z8=w6`
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 8 11">
    <path
      fill="var(--apkt-tokens-theme-textPrimary)"
      d="M7.862 4.86c.159-1.064-.652-1.637-1.76-2.018l.36-1.443-.879-.218-.35 1.404c-.23-.058-.468-.112-.703-.166l.352-1.413-.877-.219-.36 1.442a29.02 29.02 0 0 1-.56-.132v-.005l-1.21-.302-.234.938s.652.15.638.158c.356.089.42.324.41.51l-.41 1.644a.715.715 0 0 1 .09.03l-.092-.024-.574 2.302c-.044.108-.154.27-.402.208.008.013-.639-.16-.639-.16L.227 8.403l1.142.285c.213.053.42.109.626.161l-.363 1.459.877.218.36-1.443c.239.065.472.125.7.182l-.36 1.436.879.219.363-1.456c1.497.283 2.623.17 3.097-1.185.381-1.09-.02-1.719-.807-2.129.574-.132 1.006-.51 1.12-1.289ZM5.856 7.673c-.272 1.09-2.107.5-2.702.353l.482-1.933c.595.149 2.503.443 2.22 1.58Zm.271-2.829c-.247.992-1.775.488-2.27.365l.436-1.753c.496.124 2.092.354 1.834 1.388Z"
    />
  </svg>
`,q8=w6`<svg width="30" height="30" viewBox="0 0 30 30" fill="none">
<path d="M14.9978 7.80003H27.4668C26.2032 5.61107 24.3857 3.79333 22.1968 2.52955C20.008 1.26577 17.525 0.600485 14.9975 0.600586C12.47 0.600687 9.98712 1.26617 7.79838 2.53012C5.60964 3.79408 3.79221 5.61197 2.52881 7.80103L8.76281 18.599L8.76881 18.598C8.13412 17.5044 7.79906 16.2628 7.79743 14.9983C7.79579 13.7339 8.12764 12.4914 8.7595 11.3961C9.39136 10.3008 10.3009 9.39159 11.3963 8.76005C12.4918 8.12851 13.7344 7.79702 14.9988 7.79903L14.9978 7.80003Z" fill="url(#paint0_linear_87_32)"/>
<path d="M21.237 18.5981L15.003 29.3961C17.5305 29.3961 20.0134 28.7308 22.2022 27.467C24.391 26.2032 26.2086 24.3854 27.4721 22.1965C28.7356 20.0075 29.4006 17.5245 29.4003 14.997C29.3999 12.4695 28.7342 9.9867 27.47 7.7981H15.002L15 7.8041C16.2642 7.80168 17.5067 8.13257 18.6022 8.76342C19.6977 9.39428 20.6076 10.3028 21.2401 11.3974C21.8726 12.492 22.2053 13.734 22.2048 14.9982C22.2042 16.2623 21.8704 17.504 21.237 18.5981Z" fill="url(#paint1_linear_87_32)"/>
<path d="M8.76502 18.601L2.53102 7.80298C1.26664 9.99172 0.600848 12.4748 0.600586 15.0025C0.600324 17.5302 1.2656 20.0134 2.52953 22.2024C3.79345 24.3914 5.61145 26.209 7.80071 27.4725C9.98998 28.736 12.4733 29.4008 15.001 29.4L21.236 18.602L21.232 18.598C20.6022 19.6941 19.6944 20.6049 18.6003 21.2383C17.5062 21.8717 16.2644 22.2055 15.0002 22.2059C13.7359 22.2063 12.4939 21.8733 11.3994 21.2406C10.3049 20.6079 9.39657 19.6977 8.76602 18.602L8.76502 18.601Z" fill="url(#paint2_linear_87_32)"/>
<path d="M14.9998 22.2C16.9094 22.2 18.7407 21.4415 20.091 20.0912C21.4412 18.741 22.1998 16.9096 22.1998 15C22.1998 13.0905 21.4412 11.2591 20.091 9.90888C18.7407 8.55862 16.9094 7.80005 14.9998 7.80005C13.0902 7.80005 11.2589 8.55862 9.90864 9.90888C8.55837 11.2591 7.7998 13.0905 7.7998 15C7.7998 16.9096 8.55837 18.741 9.90864 20.0912C11.2589 21.4415 13.0902 22.2 14.9998 22.2Z" fill="white"/>
<path d="M14.9998 20.7C16.5115 20.7 17.9614 20.0995 19.0303 19.0306C20.0993 17.9616 20.6998 16.5118 20.6998 15C20.6998 13.4883 20.0993 12.0385 19.0303 10.9695C17.9614 9.90058 16.5115 9.30005 14.9998 9.30005C13.4881 9.30005 12.0383 9.90058 10.9693 10.9695C9.90034 12.0385 9.2998 13.4883 9.2998 15C9.2998 16.5118 9.90034 17.9616 10.9693 19.0306C12.0383 20.0995 13.4881 20.7 14.9998 20.7Z" fill="#1A73E8"/>
<defs>
  <linearGradient id="paint0_linear_87_32" x1="3.29381" y1="2.99503" x2="38.0998" y2="2.99503" gradientUnits="userSpaceOnUse">
    <stop stop-color="#D93025"/>
    <stop offset="1" stop-color="#EA4335"/>
  </linearGradient>
  <linearGradient id="paint1_linear_87_32" x1="17.953" y1="29.1431" x2="34.194" y2="-0.298904" gradientUnits="userSpaceOnUse">
    <stop stop-color="#FCC934"/>
    <stop offset="1" stop-color="#FBBC04"/>
  </linearGradient>
  <linearGradient id="paint2_linear_87_32" x1="22.873" y1="28.2" x2="6.63202" y2="-1.24102" gradientUnits="userSpaceOnUse">
    <stop stop-color="#1E8E3E"/>
    <stop offset="1" stop-color="#34A853"/>
  </linearGradient>
</defs>
</svg>`,W8=w6` <svg fill="none" viewBox="0 0 13 4">
  <path fill="currentColor" d="M.5 0h12L8.9 3.13a3.76 3.76 0 0 1-4.8 0L.5 0Z" />
</svg>`,K8=w6`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5865F2" />
      <path
        fill="#fff"
        fill-rule="evenodd"
        d="M25.71 28.15C30.25 28 32 25.02 32 25.02c0-6.61-2.96-11.98-2.96-11.98-2.96-2.22-5.77-2.15-5.77-2.15l-.29.32c3.5 1.07 5.12 2.61 5.12 2.61a16.75 16.75 0 0 0-10.34-1.93l-.35.04a15.43 15.43 0 0 0-5.88 1.9s1.71-1.63 5.4-2.7l-.2-.24s-2.81-.07-5.77 2.15c0 0-2.96 5.37-2.96 11.98 0 0 1.73 2.98 6.27 3.13l1.37-1.7c-2.6-.79-3.6-2.43-3.6-2.43l.58.35.09.06.08.04.02.01.08.05a17.25 17.25 0 0 0 4.52 1.58 14.4 14.4 0 0 0 8.3-.86c.72-.27 1.52-.66 2.37-1.21 0 0-1.03 1.68-3.72 2.44.61.78 1.35 1.67 1.35 1.67Zm-9.55-9.6c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28.01-1.25-.93-2.28-2.1-2.28Zm7.5 0c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28 0-1.25-.93-2.28-2.1-2.28Z"
        clip-rule="evenodd"
      />
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
  </defs>
</svg>`,G8=w6`<svg
  xmlns="http://www.w3.org/2000/svg"
  fill="none"
  viewBox="0 0 9 12"
>
  <path
    fill="var(--apkt-tokens-theme-textPrimary)"
    d="M4.666.001v4.435l3.748 1.675L4.666.001Zm0 0L.917 6.111l3.749-1.675V.001Zm0 8.984V12l3.75-5.19-3.75 2.176Zm0 3.014V8.985L.917 6.81 4.666 12Zm0-3.712 3.748-2.176-3.748-1.675v3.851Z"
  />
  <path fill="var(--apkt-tokens-theme-textPrimary)" d="m.917 6.111 3.749 2.176v-3.85L.917 6.11Z" />
</svg>`,Y8=w6`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="M4.25 7a.63.63 0 0 0-.63.63v3.97c0 .28-.2.51-.47.54l-.75.07a.93.93 0 0 1-.9-.47A7.51 7.51 0 0 1 5.54.92a7.5 7.5 0 0 1 9.54 4.62c.12.35.06.72-.16 1-.74.97-1.68 1.78-2.6 2.44V4.44a.64.64 0 0 0-.63-.64h-1.06c-.35 0-.63.3-.63.64v5.5c0 .23-.12.42-.32.5l-.52.23V6.05c0-.36-.3-.64-.64-.64H7.45c-.35 0-.64.3-.64.64v4.97c0 .25-.17.46-.4.52a5.8 5.8 0 0 0-.45.11v-4c0-.36-.3-.65-.64-.65H4.25ZM14.07 12.4A7.49 7.49 0 0 1 3.6 14.08c4.09-.58 9.14-2.5 11.87-6.6v.03a7.56 7.56 0 0 1-1.41 4.91Z"
  />
</svg>`,J8=w6`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1877F2" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M26 12.38h-2.89c-.92 0-1.61.38-1.61 1.34v1.66H26l-.36 4.5H21.5v12H17v-12h-3v-4.5h3V12.5c0-3.03 1.6-4.62 5.2-4.62H26v4.5Z"
        />
      </g>
    </g>
    <path
      fill="#1877F2"
      d="M40 20a20 20 0 1 0-23.13 19.76V25.78H11.8V20h5.07v-4.4c0-5.02 3-7.79 7.56-7.79 2.19 0 4.48.4 4.48.4v4.91h-2.53c-2.48 0-3.25 1.55-3.25 3.13V20h5.54l-.88 5.78h-4.66v13.98A20 20 0 0 0 40 20Z"
    />
    <path
      fill="#fff"
      d="m27.79 25.78.88-5.78h-5.55v-3.75c0-1.58.78-3.13 3.26-3.13h2.53V8.2s-2.3-.39-4.48-.39c-4.57 0-7.55 2.77-7.55 7.78V20H11.8v5.78h5.07v13.98a20.15 20.15 0 0 0 6.25 0V25.78h4.67Z"
    />
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,X8=w6`<svg style="border-radius: 9999px; overflow: hidden;"  fill="none" viewBox="0 0 1000 1000">
  <rect width="1000" height="1000" rx="9999" ry="9999" fill="#855DCD"/>
  <path fill="#855DCD" d="M0 0h1000v1000H0V0Z" />
  <path
    fill="#fff"
    d="M320 248h354v504h-51.96V521.13h-.5c-5.76-63.8-59.31-113.81-124.54-113.81s-118.78 50-124.53 113.81h-.5V752H320V248Z"
  />
  <path
    fill="#fff"
    d="m225 320 21.16 71.46h17.9v289.09a16.29 16.29 0 0 0-16.28 16.24v19.49h-3.25a16.3 16.3 0 0 0-16.28 16.24V752h182.26v-19.48a16.22 16.22 0 0 0-16.28-16.24h-3.25v-19.5a16.22 16.22 0 0 0-16.28-16.23h-19.52V320H225Zm400.3 360.55a16.3 16.3 0 0 0-15.04 10.02 16.2 16.2 0 0 0-1.24 6.22v19.49h-3.25a16.29 16.29 0 0 0-16.27 16.24V752h182.24v-19.48a16.23 16.23 0 0 0-16.27-16.24h-3.25v-19.5a16.2 16.2 0 0 0-10.04-15 16.3 16.3 0 0 0-6.23-1.23v-289.1h17.9L775 320H644.82v360.55H625.3Z"
  />
</svg>`,Q8=w6`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1B1F23" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M8 19.89a12 12 0 1 1 15.8 11.38c-.6.12-.8-.26-.8-.57v-3.3c0-1.12-.4-1.85-.82-2.22 2.67-.3 5.48-1.31 5.48-5.92 0-1.31-.47-2.38-1.24-3.22.13-.3.54-1.52-.12-3.18 0 0-1-.32-3.3 1.23a11.54 11.54 0 0 0-6 0c-2.3-1.55-3.3-1.23-3.3-1.23a4.32 4.32 0 0 0-.12 3.18 4.64 4.64 0 0 0-1.24 3.22c0 4.6 2.8 5.63 5.47 5.93-.34.3-.65.83-.76 1.6-.69.31-2.42.84-3.5-1 0 0-.63-1.15-1.83-1.23 0 0-1.18-.02-.09.73 0 0 .8.37 1.34 1.76 0 0 .7 2.14 4.03 1.41v2.24c0 .31-.2.68-.8.57A12 12 0 0 1 8 19.9Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,e4=w6`<svg fill="none" viewBox="0 0 40 40">
  <path
    fill="#4285F4"
    d="M32.74 20.3c0-.93-.08-1.81-.24-2.66H20.26v5.03h7a6 6 0 0 1-2.62 3.91v3.28h4.22c2.46-2.27 3.88-5.6 3.88-9.56Z"
  />
  <path
    fill="#34A853"
    d="M20.26 33a12.4 12.4 0 0 0 8.6-3.14l-4.22-3.28a7.74 7.74 0 0 1-4.38 1.26 7.76 7.76 0 0 1-7.28-5.36H8.65v3.36A12.99 12.99 0 0 0 20.26 33Z"
  />
  <path
    fill="#FBBC05"
    d="M12.98 22.47a7.79 7.79 0 0 1 0-4.94v-3.36H8.65a12.84 12.84 0 0 0 0 11.66l3.37-2.63.96-.73Z"
  />
  <path
    fill="#EA4335"
    d="M20.26 12.18a7.1 7.1 0 0 1 4.98 1.93l3.72-3.72A12.47 12.47 0 0 0 20.26 7c-5.08 0-9.47 2.92-11.6 7.17l4.32 3.36a7.76 7.76 0 0 1 7.28-5.35Z"
  />
</svg>`,t4=w6` <svg width="27" height="30" viewBox="0 0 27 30" fill="none">
  <path d="M12.5395 14.3237L0.116699 27.5049V27.5188C0.251527 28.0177 0.49972 28.4788 0.841941 28.866C1.18416 29.2533 1.61117 29.5563 2.0897 29.7515C2.56823 29.9467 3.08536 30.0287 3.60081 29.9913C4.11625 29.9538 4.61609 29.7979 5.06139 29.5356L5.0975 29.512L19.0718 21.4519L12.5395 14.3237Z" fill="#EA4335"/>
  <path d="M25.103 12.0833L25.0919 12.0722L19.0611 8.57202L12.2607 14.6279L19.0847 21.4504L25.0919 17.9864C25.6229 17.6983 26.0665 17.2725 26.376 16.7537C26.6854 16.2349 26.8493 15.6422 26.8505 15.0381C26.8516 14.434 26.6899 13.8408 26.3824 13.3208C26.0749 12.8008 25.633 12.3734 25.103 12.0833Z" fill="#FBBC04"/>
  <path d="M0.116672 2.49553C0.047224 2.7761 0 3.05528 0 3.35946V26.6537C0 26.9565 0.0347234 27.237 0.116672 27.5162L12.959 14.6725L0.116672 2.49553Z" fill="#4285F4"/>
  <path d="M12.634 15.0001L19.0607 8.57198L5.0975 0.477133C4.65115 0.210463 4.14916 0.0506574 3.63079 0.0102139C3.11242 -0.0302296 2.59172 0.0497852 2.10941 0.244001C1.6271 0.438216 1.19625 0.741368 0.850556 1.12975C0.504864 1.51813 0.253698 1.98121 0.116699 2.48279L12.634 15.0001Z" fill="#34A853"/>
</svg>`,r4=w6`<svg width="75" height="20" viewBox="0 0 75 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M11.6666 5.83334C11.6666 2.61168 14.2783 0 17.5 0H25.8334C29.055 0 31.6666 2.61168 31.6666 5.83334V14.1666C31.6666 17.3883 29.055 20 25.8334 20H17.5C14.2783 20 11.6666 17.3883 11.6666 14.1666V5.83334Z" fill="var(--apkt-tokens-theme-foregroundTertiary)"/>
<path d="M19.5068 13.7499L22.4309 5.83331H23.2895L20.3654 13.7499H19.5068Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M0 5.41666C0 2.42513 2.42513 0 5.41666 0C8.40821 0 10.8334 2.42513 10.8334 5.41666V14.5833C10.8334 17.5748 8.40821 20 5.41666 20C2.42513 20 0 17.5748 0 14.5833V5.41666Z" fill="var(--apkt-tokens-theme-foregroundTertiary)"/>
<path d="M4.89581 12.4997V11.458H5.93747V12.4997H4.89581Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M32.5 10C32.5 4.47715 36.6896 0 41.8578 0H65.6422C70.8104 0 75 4.47715 75 10C75 15.5229 70.8104 20 65.6422 20H41.8578C36.6896 20 32.5 15.5229 32.5 10Z" fill="var(--apkt-tokens-theme-foregroundTertiary)"/>
<path d="M61.7108 12.4475V7.82751H62.5266V8.52418C62.8199 8.01084 63.4157 7.70834 64.0757 7.70834C65.0749 7.70834 65.7715 8.34084 65.7715 9.56918V12.4475H64.9649V9.61503C64.9649 8.80831 64.5066 8.38668 63.8374 8.38668C63.1132 8.38668 62.5266 8.9642 62.5266 9.78001V12.4475H61.7108Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M56.5671 12.4475L55.7147 7.82748H56.4846L57.0896 11.6409L57.8871 9.12916H58.6479L59.4363 11.6134L60.0505 7.82748H60.8204L59.9679 12.4475H59.0513L58.2721 10.0458L57.4838 12.4475H56.5671Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M52.9636 12.5666C51.5611 12.5666 50.7361 11.5217 50.7361 10.1375C50.7361 8.76254 51.5611 7.70834 52.9636 7.70834C54.3661 7.70834 55.1911 8.76254 55.1911 10.1375C55.1911 11.5217 54.3661 12.5666 52.9636 12.5666ZM52.9636 11.8883C53.9719 11.8883 54.357 11.0266 54.357 10.1283C54.357 9.23914 53.9719 8.38668 52.9636 8.38668C51.9552 8.38668 51.5702 9.23914 51.5702 10.1283C51.5702 11.0266 51.9552 11.8883 52.9636 11.8883Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M47.8507 12.5666C46.494 12.5666 45.6415 11.5308 45.6415 10.1375C45.6415 8.75337 46.494 7.70834 47.8507 7.70834C48.9965 7.70834 50.0048 8.35917 49.8948 10.3483H46.4756C46.5398 11.2009 46.934 11.8975 47.8507 11.8975C48.4648 11.8975 48.8681 11.5217 49.0057 11.0908H49.8123C49.684 11.8609 48.9598 12.5666 47.8507 12.5666ZM46.494 9.73416H49.1065C49.0423 8.80831 48.6114 8.37751 47.8507 8.37751C47.0165 8.37751 46.604 8.98254 46.494 9.73416Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M41.7284 12.4475V7.82748H42.5625V8.60665C42.8559 8.09332 43.3601 7.82748 43.8825 7.82748H44.9917V8.60665H43.8184C43.0851 8.60665 42.5625 9.08331 42.5625 10.0092V12.4475H41.7284Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
</svg>

`,n4=w6`
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 8">
    <path
      fill="var(--apkt-tokens-theme-textPrimary)"
      d="m9.524 6.307-1.51 1.584A.35.35 0 0 1 7.76 8H.604a.178.178 0 0 1-.161-.103.168.168 0 0 1 .033-.186l1.51-1.583a.35.35 0 0 1 .256-.11h7.154c.034 0 .068.01.096.029a.168.168 0 0 1 .032.26Zm-1.51-3.189a.35.35 0 0 0-.255-.109H.604a.178.178 0 0 0-.161.103.168.168 0 0 0 .033.186l1.51 1.583a.35.35 0 0 0 .256.11h7.154a.178.178 0 0 0 .16-.104.168.168 0 0 0-.032-.185l-1.51-1.584ZM.605 1.981H7.76a.357.357 0 0 0 .256-.11L9.525.289a.17.17 0 0 0 .032-.185.173.173 0 0 0-.16-.103H2.241a.357.357 0 0 0-.256.109L.476 1.692a.17.17 0 0 0-.033.185.178.178 0 0 0 .16.103Z"
    />
  </svg>
`,i4=w6`<svg width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <g clip-path="url(#a)">
    <path fill="url(#b)" d="M0 0h32v32H0z"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M7.034 15.252c4.975-2.167 8.293-3.596 9.953-4.287 4.74-1.971 5.725-2.314 6.366-2.325.142-.002.457.033.662.198.172.14.22.33.243.463.022.132.05.435.028.671-.257 2.7-1.368 9.248-1.933 12.27-.24 1.28-.71 1.708-1.167 1.75-.99.091-1.743-.655-2.703-1.284-1.502-.985-2.351-1.598-3.81-2.558-1.684-1.11-.592-1.721.368-2.718.252-.261 4.619-4.233 4.703-4.594.01-.045.02-.213-.08-.301-.1-.09-.246-.059-.353-.035-.15.034-2.55 1.62-7.198 4.758-.682.468-1.298.696-1.851.684-.61-.013-1.782-.344-2.653-.628-1.069-.347-1.918-.53-1.845-1.12.039-.308.462-.623 1.27-.944Z" fill="#fff"/>
  </g>
  <path d="M.5 16C.5 7.44 7.44.5 16 .5 24.56.5 31.5 7.44 31.5 16c0 8.56-6.94 15.5-15.5 15.5C7.44 31.5.5 24.56.5 16Z" stroke="#141414" stroke-opacity=".05"/>
  <defs>
    <linearGradient id="b" x1="1600" y1="0" x2="1600" y2="3176.27" gradientUnits="userSpaceOnUse">
      <stop stop-color="#2AABEE"/>
      <stop offset="1" stop-color="#229ED9"/>
    </linearGradient>
    <clipPath id="a">
      <path d="M0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16S0 24.837 0 16Z" fill="#fff"/>
    </clipPath>
  </defs>
</svg>`,s4=w6`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5A3E85" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M18.22 25.7 20 23.91h3.34l2.1-2.1v-6.68H15.4v8.78h2.82v1.77Zm3.87-8.16h1.25v3.66H22.1v-3.66Zm-3.34 0H20v3.66h-1.25v-3.66ZM20 7.9a12 12 0 1 0 0 24 12 12 0 0 0 0-24Zm6.69 14.56-3.66 3.66h-2.72l-1.77 1.78h-1.88V26.1H13.3v-9.82l.94-2.4H26.7v8.56Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,o4=w6`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="m14.36 4.74.01.42c0 4.34-3.3 9.34-9.34 9.34A9.3 9.3 0 0 1 0 13.03a6.6 6.6 0 0 0 4.86-1.36 3.29 3.29 0 0 1-3.07-2.28c.5.1 1 .07 1.48-.06A3.28 3.28 0 0 1 .64 6.11v-.04c.46.26.97.4 1.49.41A3.29 3.29 0 0 1 1.11 2.1a9.32 9.32 0 0 0 6.77 3.43 3.28 3.28 0 0 1 5.6-3 6.59 6.59 0 0 0 2.08-.8 3.3 3.3 0 0 1-1.45 1.82A6.53 6.53 0 0 0 16 3.04c-.44.66-1 1.23-1.64 1.7Z"
  />
</svg>`,a4=w6`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 5.5c0-1.8 1.46-3.25 3.25-3.25H14.5c1.8 0 3.25 1.46 3.25 3.25v.28A3.25 3.25 0 0 1 20 8.88v2.24c0 1.45-.94 2.68-2.25 3.1v.28c0 1.8-1.46 3.25-3.25 3.25H3.25A3.25 3.25 0 0 1 0 14.5v-9Zm15.75 8.88h-2.38a4.38 4.38 0 0 1 0-8.76h2.38V5.5c0-.69-.56-1.25-1.25-1.25H3.25C2.56 4.25 2 4.81 2 5.5v9c0 .69.56 1.25 1.25 1.25H14.5c.69 0 1.25-.56 1.25-1.25v-.13Zm-2.38-6.76a2.37 2.37 0 1 0 0 4.75h3.38c.69 0 1.25-.55 1.25-1.24V8.87c0-.69-.56-1.24-1.25-1.24h-3.38Z"
    clip-rule="evenodd"
  />
</svg>`,c4=w6`
<svg xmlns="http://www.w3.org/2000/svg" width="89" height="89" viewBox="0 0 89 89" fill="none">
<path d="M60.0468 39.2502L65.9116 33.3854C52.6562 20.13 36.1858 20.13 22.9304 33.3854L28.7952 39.2502C38.8764 29.169 49.9725 29.169 60.0536 39.2502H60.0468Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M58.0927 52.9146L44.415 39.2369L30.7373 52.9146L17.0596 39.2369L11.2017 45.0949L30.7373 64.6374L44.415 50.9597L58.0927 64.6374L77.6284 45.0949L71.7704 39.2369L58.0927 52.9146Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
</svg>`,l4=w6`
<svg xmlns="http://www.w3.org/2000/svg" width="89" height="89" viewBox="0 0 89 89" fill="none">
<path d="M60.0468 39.2502L65.9116 33.3854C52.6562 20.13 36.1858 20.13 22.9304 33.3854L28.7952 39.2502C38.8764 29.169 49.9725 29.169 60.0536 39.2502H60.0468Z" fill="var(--apkt-tokens-theme-textInvert)"/>
<path d="M58.0927 52.9146L44.415 39.2369L30.7373 52.9146L17.0596 39.2369L11.2017 45.0949L30.7373 64.6374L44.415 50.9597L58.0927 64.6374L77.6284 45.0949L71.7704 39.2369L58.0927 52.9146Z" fill="var(--apkt-tokens-theme-textInvert)"/>
</svg>`,d4=w6`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_22274_4692)">
<path d="M0 6.64C0 4.17295 0 2.93942 0.525474 2.01817C0.880399 1.39592 1.39592 0.880399 2.01817 0.525474C2.93942 0 4.17295 0 6.64 0H9.36C11.8271 0 13.0606 0 13.9818 0.525474C14.6041 0.880399 15.1196 1.39592 15.4745 2.01817C16 2.93942 16 4.17295 16 6.64V9.36C16 11.8271 16 13.0606 15.4745 13.9818C15.1196 14.6041 14.6041 15.1196 13.9818 15.4745C13.0606 16 11.8271 16 9.36 16H6.64C4.17295 16 2.93942 16 2.01817 15.4745C1.39592 15.1196 0.880399 14.6041 0.525474 13.9818C0 13.0606 0 11.8271 0 9.36V6.64Z" fill="#C7B994"/>
<path d="M4.49038 5.76609C6.42869 3.86833 9.5713 3.86833 11.5096 5.76609L11.7429 5.99449C11.8398 6.08938 11.8398 6.24323 11.7429 6.33811L10.9449 7.11942C10.8964 7.16686 10.8179 7.16686 10.7694 7.11942L10.4484 6.80512C9.09617 5.48119 6.90381 5.48119 5.5516 6.80512L5.20782 7.14171C5.15936 7.18915 5.08079 7.18915 5.03234 7.14171L4.23434 6.3604C4.13742 6.26552 4.13742 6.11167 4.23434 6.01678L4.49038 5.76609ZM13.1599 7.38192L13.8702 8.07729C13.9671 8.17217 13.9671 8.32602 13.8702 8.4209L10.6677 11.5564C10.5708 11.6513 10.4137 11.6513 10.3168 11.5564L8.04388 9.33105C8.01965 9.30733 7.98037 9.30733 7.95614 9.33105L5.6833 11.5564C5.58638 11.6513 5.42925 11.6513 5.33234 11.5564L2.12982 8.42087C2.0329 8.32598 2.0329 8.17213 2.12982 8.07724L2.84004 7.38188C2.93695 7.28699 3.09408 7.28699 3.191 7.38188L5.46392 9.60726C5.48815 9.63098 5.52743 9.63098 5.55166 9.60726L7.82447 7.38188C7.92138 7.28699 8.07851 7.28699 8.17543 7.38187L10.4484 9.60726C10.4726 9.63098 10.5119 9.63098 10.5361 9.60726L12.809 7.38192C12.9059 7.28703 13.063 7.28703 13.1599 7.38192Z" fill="currentColor"/>
</g>
<defs>
<clipPath id="clip0_22274_4692">
<path d="M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z" fill="white"/>
</clipPath>
</defs>
</svg>
`,u4=w6`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="11" cy="11" r="11" transform="matrix(-1 0 0 1 23 1)" fill="#202020"/>
<circle cx="11" cy="11" r="11.5" transform="matrix(-1 0 0 1 23 1)" stroke="#C7B994" stroke-opacity="0.7"/>
<path d="M15.4523 11.0686L16.7472 9.78167C13.8205 6.87297 10.1838 6.87297 7.25708 9.78167L8.55201 11.0686C10.7779 8.85645 13.2279 8.85645 15.4538 11.0686H15.4523Z" fill="#C7B994"/>
<path d="M15.0199 14.067L12 11.0656L8.98 14.067L5.96004 11.0656L4.66663 12.3511L8.98 16.6393L12 13.638L15.0199 16.6393L19.3333 12.3511L18.0399 11.0656L15.0199 14.067Z" fill="#C7B994"/>
</svg>
`,h4=w6`<svg fill="none" viewBox="0 0 41 40">
  <g clip-path="url(#a)">
    <path fill="#000" d="M.8 0h40v40H.8z" />
    <path
      fill="#fff"
      d="m22.63 18.46 7.14-8.3h-1.69l-6.2 7.2-4.96-7.2H11.2l7.5 10.9-7.5 8.71h1.7l6.55-7.61 5.23 7.61h5.72l-7.77-11.31Zm-9.13-7.03h2.6l11.98 17.13h-2.6L13.5 11.43Z"
    />
  </g>
  <defs>
    <clipPath id="a"><path fill="#fff" d="M.8 20a20 20 0 1 1 40 0 20 20 0 0 1-40 0Z" /></clipPath>
  </defs>
</svg>`;var p4=$2`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    aspect-ratio: 1 / 1;
    color: var(--local-color);
    width: var(--local-width);
  }

  svg {
    height: inherit;
    width: inherit;
    object-fit: contain;
    object-position: center;
  }
`,f4=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};const g4={add:"ph-plus",allWallets:"ph-dots-three",arrowBottom:"ph-arrow-down",arrowBottomCircle:"ph-arrow-circle-down",arrowClockWise:"ph-arrow-clockwise",arrowLeft:"ph-arrow-left",arrowRight:"ph-arrow-right",arrowTop:"ph-arrow-up",arrowTopRight:"ph-arrow-up-right",bank:"ph-bank",bin:"ph-trash",browser:"ph-browser",card:"ph-credit-card",checkmark:"ph-check",checkmarkBold:"ph-check",chevronBottom:"ph-caret-down",chevronLeft:"ph-caret-left",chevronRight:"ph-caret-right",chevronTop:"ph-caret-up",clock:"ph-clock",close:"ph-x",coinPlaceholder:"ph-circle-half",compass:"ph-compass",copy:"ph-copy",desktop:"ph-desktop",dollar:"ph-currency-dollar",download:"ph-vault",exclamationCircle:"ph-warning-circle",extension:"ph-puzzle-piece",externalLink:"ph-arrow-square-out",filters:"ph-funnel-simple",helpCircle:"ph-question",id:"ph-identification-card",image:"ph-image",info:"ph-info",lightbulb:"ph-lightbulb",mail:"ph-envelope",mobile:"ph-device-mobile",more:"ph-dots-three",networkPlaceholder:"ph-globe",nftPlaceholder:"ph-image",plus:"ph-plus",power:"ph-power",qrCode:"ph-qr-code",questionMark:"ph-question",refresh:"ph-arrow-clockwise",recycleHorizontal:"ph-arrows-clockwise",search:"ph-magnifying-glass",sealCheck:"ph-seal-check",send:"ph-paper-plane-right",signOut:"ph-sign-out",spinner:"ph-spinner",swapHorizontal:"ph-arrows-left-right",swapVertical:"ph-arrows-down-up",threeDots:"ph-dots-three",user:"ph-user",verify:"ph-seal-check",verifyFilled:"ph-seal-check",warning:"ph-warning",warningCircle:"ph-warning-circle",appStore:"",apple:"",bitcoin:"",chromeStore:"",cursor:"",discord:"",ethereum:"",etherscan:"",facebook:"",farcaster:"",github:"",google:"",playStore:"",reown:"",solana:"",telegram:"",twitch:"",twitterIcon:"",twitter:"",walletConnect:"",walletConnectBrown:"",walletConnectLightBrown:"",x:"",wallet:""},m4={"ph-arrow-circle-down":()=>Promise.resolve().then((function(){return ire})),"ph-arrow-clockwise":()=>Promise.resolve().then((function(){return lre})),"ph-arrow-down":()=>Promise.resolve().then((function(){return fre})),"ph-arrow-left":()=>Promise.resolve().then((function(){return bre})),"ph-arrow-right":()=>Promise.resolve().then((function(){return Cre})),"ph-arrow-square-out":()=>Promise.resolve().then((function(){return Pre})),"ph-arrows-down-up":()=>Promise.resolve().then((function(){return $re})),"ph-arrows-left-right":()=>Promise.resolve().then((function(){return Dre})),"ph-arrow-up":()=>Promise.resolve().then((function(){return Vre})),"ph-arrow-up-right":()=>Promise.resolve().then((function(){return Gre})),"ph-arrows-clockwise":()=>Promise.resolve().then((function(){return ene})),"ph-bank":()=>Promise.resolve().then((function(){return sne})),"ph-browser":()=>Promise.resolve().then((function(){return dne})),"ph-caret-down":()=>Promise.resolve().then((function(){return gne})),"ph-caret-left":()=>Promise.resolve().then((function(){return vne})),"ph-caret-right":()=>Promise.resolve().then((function(){return Sne})),"ph-caret-up":()=>Promise.resolve().then((function(){return Tne})),"ph-check":()=>Promise.resolve().then((function(){return Bne})),"ph-circle-half":()=>Promise.resolve().then((function(){return jne})),"ph-clock":()=>Promise.resolve().then((function(){return Zne})),"ph-compass":()=>Promise.resolve().then((function(){return Yne})),"ph-copy":()=>Promise.resolve().then((function(){return tie})),"ph-credit-card":()=>Promise.resolve().then((function(){return oie})),"ph-currency-dollar":()=>Promise.resolve().then((function(){return uie})),"ph-desktop":()=>Promise.resolve().then((function(){return mie})),"ph-device-mobile":()=>Promise.resolve().then((function(){return Eie})),"ph-dots-three":()=>Promise.resolve().then((function(){return Iie})),"ph-vault":()=>Promise.resolve().then((function(){return Oie})),"ph-envelope":()=>Promise.resolve().then((function(){return Mie})),"ph-funnel-simple":()=>Promise.resolve().then((function(){return Hie})),"ph-globe":()=>Promise.resolve().then((function(){return qie})),"ph-identification-card":()=>Promise.resolve().then((function(){return Jie})),"ph-image":()=>Promise.resolve().then((function(){return rse})),"ph-info":()=>Promise.resolve().then((function(){return ase})),"ph-lightbulb":()=>Promise.resolve().then((function(){return hse})),"ph-magnifying-glass":()=>Promise.resolve().then((function(){return yse})),"ph-paper-plane-right":()=>Promise.resolve().then((function(){return Ase})),"ph-plus":()=>Promise.resolve().then((function(){return _se})),"ph-power":()=>Promise.resolve().then((function(){return Nse})),"ph-puzzle-piece":()=>Promise.resolve().then((function(){return Use})),"ph-qr-code":()=>Promise.resolve().then((function(){return zse})),"ph-question":()=>Promise.resolve().then((function(){return Wse})),"ph-question-circle":()=>Promise.resolve().then((function(){return Xse})),"ph-seal-check":()=>Promise.resolve().then((function(){return noe})),"ph-sign-out":()=>Promise.resolve().then((function(){return coe})),"ph-spinner":()=>Promise.resolve().then((function(){return poe})),"ph-trash":()=>Promise.resolve().then((function(){return woe})),"ph-user":()=>Promise.resolve().then((function(){return xoe})),"ph-warning":()=>Promise.resolve().then((function(){return koe})),"ph-warning-circle":()=>Promise.resolve().then((function(){return Roe})),"ph-x":()=>Promise.resolve().then((function(){return Loe}))},y4={appStore:F8,apple:V8,bitcoin:Z8,chromeStore:q8,cursor:W8,discord:K8,ethereum:G8,etherscan:Y8,facebook:J8,farcaster:X8,github:Q8,google:e4,playStore:t4,reown:r4,solana:n4,telegram:i4,twitch:s4,twitter:h4,twitterIcon:o4,walletConnect:c4,walletConnectInvert:l4,walletConnectBrown:u4,walletConnectLightBrown:d4,x:h4,wallet:a4},w4={"accent-primary":H6.tokens.core.iconAccentPrimary,"accent-certified":H6.tokens.core.iconAccentCertified,default:H6.tokens.theme.iconDefault,success:H6.tokens.core.iconSuccess,error:H6.tokens.core.iconError,warning:H6.tokens.core.iconWarning,inverse:H6.tokens.theme.iconInverse};let b4=class extends B6{constructor(){super(...arguments),this.size="md",this.name="copy",this.weight="bold",this.color="inherit"}render(){this.style.cssText=`\n      --local-width: ${"inherit"===this.size?"inherit":`var(--apkt-spacing-${{xxs:"2",xs:"3",sm:"3",md:"4",mdl:"5",lg:"5",xl:"6",xxl:"7",inherit:"inherit"}[this.size]})`};\n      --local-color: ${"inherit"===this.color?"inherit":w4[this.color]}\n    `;const e=g4[this.name];if(e&&""!==e){const t=m4[e];t&&t();const r=(e=>({_$litStatic$:e,r:D8}))(e);return z8`<${r} size=${{xxs:"0.5em",xs:"0.75em",sm:"0.75em",md:"1em",mdl:"1.25em",lg:"1.25em",xl:"1.5em",xxl:"1.75em"}[this.size]} weight="${this.weight}"></${r}>`}return y4[this.name]||z8``}};b4.styles=[X6,p4],f4([R8()],b4.prototype,"size",void 0),f4([R8()],b4.prototype,"name",void 0),f4([R8()],b4.prototype,"weight",void 0),f4([R8()],b4.prototype,"color",void 0),b4=f4([r8("wui-icon")],b4);
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const v4=1,E4=2,A4=e=>(...t)=>({_$litDirective$:e,values:t});class x4{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,r){this._$Ct=e,this._$AM=t,this._$Ci=r}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const C4=A4(class extends x4{constructor(e){if(super(e),e.type!==v4||"class"!==e.name||e.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter((t=>e[t])).join(" ")+" "}update(e,[t]){if(void 0===this.st){this.st=new Set,void 0!==e.strings&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter((e=>""!==e))));for(const e in t)t[e]&&!this.nt?.has(e)&&this.st.add(e);return this.render(t)}const r=e.element.classList;for(const e of this.st)e in t||(r.remove(e),this.st.delete(e));for(const e in t){const n=!!t[e];n===this.st.has(e)||this.nt?.has(e)||(n?(r.add(e),this.st.add(e)):(r.remove(e),this.st.delete(e)))}return b6}});var S4=z6`
  slot {
    width: 100%;
    display: inline-block;
    font-style: normal;
    overflow: inherit;
    text-overflow: inherit;
    text-align: var(--local-align);
    color: var(--local-color);
  }

  .wui-line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }

  .wui-line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }

  /* -- Headings --------------------------------------------------- */
  .wui-font-h1-regular-mono {
    font-size: ${({textSize:e})=>e.h1};
    line-height: ${({typography:e})=>e["h1-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h1-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-h1-regular {
    font-size: ${({textSize:e})=>e.h1};
    line-height: ${({typography:e})=>e["h1-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h1-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h1-medium {
    font-size: ${({textSize:e})=>e.h1};
    line-height: ${({typography:e})=>e["h1-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h1-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h2-regular-mono {
    font-size: ${({textSize:e})=>e.h2};
    line-height: ${({typography:e})=>e["h2-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h2-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-h2-regular {
    font-size: ${({textSize:e})=>e.h2};
    line-height: ${({typography:e})=>e["h2-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h2-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h2-medium {
    font-size: ${({textSize:e})=>e.h2};
    line-height: ${({typography:e})=>e["h2-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h2-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h3-regular-mono {
    font-size: ${({textSize:e})=>e.h3};
    line-height: ${({typography:e})=>e["h3-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h3-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-h3-regular {
    font-size: ${({textSize:e})=>e.h3};
    line-height: ${({typography:e})=>e["h3-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h3-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h3-medium {
    font-size: ${({textSize:e})=>e.h3};
    line-height: ${({typography:e})=>e["h3-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h3-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h4-regular-mono {
    font-size: ${({textSize:e})=>e.h4};
    line-height: ${({typography:e})=>e["h4-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h4-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-h4-regular {
    font-size: ${({textSize:e})=>e.h4};
    line-height: ${({typography:e})=>e["h4-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h4-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h4-medium {
    font-size: ${({textSize:e})=>e.h4};
    line-height: ${({typography:e})=>e["h4-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h4-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h5-regular-mono {
    font-size: ${({textSize:e})=>e.h5};
    line-height: ${({typography:e})=>e["h5-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h5-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-h5-regular {
    font-size: ${({textSize:e})=>e.h5};
    line-height: ${({typography:e})=>e["h5-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h5-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h5-medium {
    font-size: ${({textSize:e})=>e.h5};
    line-height: ${({typography:e})=>e["h5-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h5-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h6-regular-mono {
    font-size: ${({textSize:e})=>e.h6};
    line-height: ${({typography:e})=>e["h6-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h6-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-h6-regular {
    font-size: ${({textSize:e})=>e.h6};
    line-height: ${({typography:e})=>e["h6-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h6-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h6-medium {
    font-size: ${({textSize:e})=>e.h6};
    line-height: ${({typography:e})=>e["h6-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h6-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-lg-regular-mono {
    font-size: ${({textSize:e})=>e.large};
    line-height: ${({typography:e})=>e["lg-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["lg-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-lg-regular {
    font-size: ${({textSize:e})=>e.large};
    line-height: ${({typography:e})=>e["lg-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["lg-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-lg-medium {
    font-size: ${({textSize:e})=>e.large};
    line-height: ${({typography:e})=>e["lg-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["lg-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-md-regular-mono {
    font-size: ${({textSize:e})=>e.medium};
    line-height: ${({typography:e})=>e["md-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["md-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-md-regular {
    font-size: ${({textSize:e})=>e.medium};
    line-height: ${({typography:e})=>e["md-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["md-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-md-medium {
    font-size: ${({textSize:e})=>e.medium};
    line-height: ${({typography:e})=>e["md-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["md-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-sm-regular-mono {
    font-size: ${({textSize:e})=>e.small};
    line-height: ${({typography:e})=>e["sm-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["sm-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-sm-regular {
    font-size: ${({textSize:e})=>e.small};
    line-height: ${({typography:e})=>e["sm-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["sm-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-sm-medium {
    font-size: ${({textSize:e})=>e.small};
    line-height: ${({typography:e})=>e["sm-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["sm-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }
`,I4=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};const _4={primary:H6.tokens.theme.textPrimary,secondary:H6.tokens.theme.textSecondary,tertiary:H6.tokens.theme.textTertiary,invert:H6.tokens.theme.textInvert,error:H6.tokens.core.textError,warning:H6.tokens.core.textWarning,"accent-primary":H6.tokens.core.textAccentPrimary};let k4=class extends B6{constructor(){super(...arguments),this.variant="md-regular",this.color="inherit",this.align="left",this.lineClamp=void 0,this.display="inline-flex"}render(){const e={[`wui-font-${this.variant}`]:!0,[`wui-line-clamp-${this.lineClamp}`]:!!this.lineClamp};return this.style.cssText=`\n      display: ${this.display};\n      --local-align: ${this.align};\n      --local-color: ${"inherit"===this.color?"inherit":_4[this.color??"primary"]};\n      `,y6`<slot class=${C4(e)}></slot>`}};k4.styles=[X6,S4],I4([R8()],k4.prototype,"variant",void 0),I4([R8()],k4.prototype,"color",void 0),I4([R8()],k4.prototype,"align",void 0),I4([R8()],k4.prototype,"lineClamp",void 0),I4([R8()],k4.prototype,"display",void 0),k4=I4([r8("wui-text")],k4);var P4=z6`
  :host {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    border-radius: ${({borderRadius:e})=>e[2]};
    padding: ${({spacing:e})=>e[1]} !important;
    background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    position: relative;
  }

  :host([data-padding='2']) {
    padding: ${({spacing:e})=>e[2]} !important;
  }

  :host:after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: ${({borderRadius:e})=>e[2]};
  }

  :host > wui-icon {
    z-index: 10;
  }

  /* -- Colors --------------------------------------------------- */
  :host([data-color='accent-primary']) {
    color: ${({tokens:e})=>e.core.iconAccentPrimary};
  }

  :host([data-color='accent-primary']):after {
    background-color: ${({tokens:e})=>e.core.foregroundAccent010};
  }

  :host([data-color='default']),
  :host([data-color='secondary']) {
    color: ${({tokens:e})=>e.theme.iconDefault};
  }

  :host([data-color='default']):after {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  :host([data-color='secondary']):after {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  :host([data-color='success']) {
    color: ${({tokens:e})=>e.core.iconSuccess};
  }

  :host([data-color='success']):after {
    background-color: ${({tokens:e})=>e.core.backgroundSuccess};
  }

  :host([data-color='error']) {
    color: ${({tokens:e})=>e.core.iconError};
  }

  :host([data-color='error']):after {
    background-color: ${({tokens:e})=>e.core.backgroundError};
  }

  :host([data-color='warning']) {
    color: ${({tokens:e})=>e.core.iconWarning};
  }

  :host([data-color='warning']):after {
    background-color: ${({tokens:e})=>e.core.backgroundWarning};
  }

  :host([data-color='inverse']) {
    color: ${({tokens:e})=>e.theme.iconInverse};
  }

  :host([data-color='inverse']):after {
    background-color: transparent;
  }
`,T4=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let O4=class extends B6{constructor(){super(...arguments),this.icon="copy",this.size="md",this.padding="1",this.color="default"}render(){return this.dataset.padding=this.padding,this.dataset.color=this.color,y6`
      <wui-icon size=${L8(this.size)} name=${this.icon} color="inherit"></wui-icon>
    `}};O4.styles=[X6,Q6,P4],T4([R8()],O4.prototype,"icon",void 0),T4([R8()],O4.prototype,"size",void 0),T4([R8()],O4.prototype,"padding",void 0),T4([R8()],O4.prototype,"color",void 0),O4=T4([r8("wui-icon-box")],O4);var N4=z6`
  :host {
    display: block;
    width: var(--local-width);
    height: var(--local-height);
  }

  img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center center;
    border-radius: inherit;
    user-select: none;
    user-drag: none;
    -webkit-user-drag: none;
    -khtml-user-drag: none;
    -moz-user-drag: none;
    -o-user-drag: none;
  }

  :host([data-boxed='true']) {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    border-radius: ${({borderRadius:e})=>e[2]};
  }

  :host([data-boxed='true']) img {
    width: 20px;
    height: 20px;
    border-radius: ${({borderRadius:e})=>e[16]};
  }

  :host([data-full='true']) img {
    width: 100%;
    height: 100%;
  }

  :host([data-boxed='true']) wui-icon {
    width: 20px;
    height: 20px;
  }

  :host([data-icon='error']) {
    background-color: ${({tokens:e})=>e.core.backgroundError};
  }

  :host([data-rounded='true']) {
    border-radius: ${({borderRadius:e})=>e[16]};
  }
`,R4=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let $4=class extends B6{constructor(){super(...arguments),this.src="./path/to/image.jpg",this.alt="Image",this.size=void 0,this.boxed=!1,this.rounded=!1,this.fullSize=!1}render(){const e={inherit:"inherit",xxs:"2",xs:"3",sm:"4",md:"4",mdl:"5",lg:"5",xl:"6",xxl:"7","3xl":"8","4xl":"9","5xl":"10"};return this.style.cssText=`\n      --local-width: ${this.size?`var(--apkt-spacing-${e[this.size]});`:"100%"};\n      --local-height: ${this.size?`var(--apkt-spacing-${e[this.size]});`:"100%"};\n      `,this.dataset.boxed=this.boxed?"true":"false",this.dataset.rounded=this.rounded?"true":"false",this.dataset.full=this.fullSize?"true":"false",this.dataset.icon=this.iconColor||"inherit",this.icon?y6`<wui-icon
        color=${this.iconColor||"inherit"}
        name=${this.icon}
        size="lg"
      ></wui-icon> `:this.logo?y6`<wui-icon size="lg" color="inherit" name=${this.logo}></wui-icon> `:y6`<img src=${L8(this.src)} alt=${this.alt} @error=${this.handleImageError} />`}handleImageError(){this.dispatchEvent(new CustomEvent("onLoadError",{bubbles:!0,composed:!0}))}};$4.styles=[X6,N4],R4([R8()],$4.prototype,"src",void 0),R4([R8()],$4.prototype,"logo",void 0),R4([R8()],$4.prototype,"icon",void 0),R4([R8()],$4.prototype,"iconColor",void 0),R4([R8()],$4.prototype,"alt",void 0),R4([R8()],$4.prototype,"size",void 0),R4([R8({type:Boolean})],$4.prototype,"boxed",void 0),R4([R8({type:Boolean})],$4.prototype,"rounded",void 0),R4([R8({type:Boolean})],$4.prototype,"fullSize",void 0),$4=R4([r8("wui-image")],$4);var B4=z6`
  :host {
    position: relative;
    background-color: ${({tokens:e})=>e.theme.foregroundTertiary};
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host([data-image='true']) {
    background-color: transparent;
  }

  :host > wui-flex {
    overflow: hidden;
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host([data-size='sm']) {
    width: 32px;
    height: 32px;
  }

  :host([data-size='md']) {
    width: 40px;
    height: 40px;
  }

  :host([data-size='lg']) {
    width: 56px;
    height: 56px;
  }

  :host([name='Extension'])::after {
    border: 1px solid ${({colors:e})=>e.accent010};
  }

  :host([data-wallet-icon='allWallets'])::after {
    border: 1px solid ${({colors:e})=>e.accent010};
  }

  wui-icon[data-parent-size='inherit'] {
    width: 75%;
    height: 75%;
    align-items: center;
  }

  wui-icon[data-parent-size='sm'] {
    width: 32px;
    height: 32px;
  }

  wui-icon[data-parent-size='md'] {
    width: 40px;
    height: 40px;
  }

  :host > wui-icon-box {
    position: absolute;
    overflow: hidden;
    right: -1px;
    bottom: -2px;
    z-index: 1;
    border: 2px solid ${({tokens:e})=>e.theme.backgroundPrimary};
    padding: 1px;
  }
`,M4=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let U4=class extends B6{constructor(){super(...arguments),this.size="md",this.name="",this.installed=!1,this.badgeSize="xs"}render(){let e="1";return"lg"===this.size?e="4":"md"===this.size?e="2":"sm"===this.size&&(e="1"),this.style.cssText=`\n       --local-border-radius: var(--apkt-borderRadius-${e});\n   `,this.dataset.size=this.size,this.imageSrc&&(this.dataset.image="true"),this.walletIcon&&(this.dataset.walletIcon=this.walletIcon),y6`
      <wui-flex justifyContent="center" alignItems="center"> ${this.templateVisual()} </wui-flex>
    `}templateVisual(){return this.imageSrc?y6`<wui-image src=${this.imageSrc} alt=${this.name}></wui-image>`:this.walletIcon?y6`<wui-icon size="md" color="default" name=${this.walletIcon}></wui-icon>`:y6`<wui-icon
      data-parent-size=${this.size}
      size="inherit"
      color="inherit"
      name="wallet"
    ></wui-icon>`}};U4.styles=[X6,B4],M4([R8()],U4.prototype,"size",void 0),M4([R8()],U4.prototype,"name",void 0),M4([R8()],U4.prototype,"imageSrc",void 0),M4([R8()],U4.prototype,"walletIcon",void 0),M4([R8({type:Boolean})],U4.prototype,"installed",void 0),M4([R8()],U4.prototype,"badgeSize",void 0),U4=M4([r8("wui-wallet-image")],U4);var L4=z6`
  :host {
    position: relative;
    border-radius: ${({borderRadius:e})=>e[2]};
    width: 40px;
    height: 40px;
    overflow: hidden;
    background: ${({tokens:e})=>e.theme.foregroundPrimary};
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    column-gap: ${({spacing:e})=>e[1]};
    padding: ${({spacing:e})=>e[1]};
  }

  :host > wui-wallet-image {
    width: 14px;
    height: 14px;
    border-radius: 2px;
  }
`,D4=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let j4=class extends B6{constructor(){super(...arguments),this.walletImages=[]}render(){const e=this.walletImages.length<4;return y6`${this.walletImages.slice(0,4).map((({src:e,walletName:t})=>y6`
          <wui-wallet-image
            size="sm"
            imageSrc=${e}
            name=${L8(t)}
          ></wui-wallet-image>
        `))}
    ${e?[...Array(4-this.walletImages.length)].map((()=>y6` <wui-wallet-image size="sm" name=""></wui-wallet-image>`)):null} `}};j4.styles=[X6,L4],D4([R8({type:Array})],j4.prototype,"walletImages",void 0),j4=D4([r8("wui-all-wallets-image")],j4);var H4=z6`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: ${({spacing:e})=>e[1]};
    text-transform: uppercase;
  }

  :host([data-variant='accent']) {
    background-color: ${({tokens:e})=>e.core.foregroundAccent010};
    color: ${({tokens:e})=>e.core.textAccentPrimary};
  }

  :host([data-variant='info']) {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    color: ${({tokens:e})=>e.theme.textSecondary};
  }

  :host([data-variant='success']) {
    background-color: ${({tokens:e})=>e.core.backgroundSuccess};
    color: ${({tokens:e})=>e.core.textSuccess};
  }

  :host([data-variant='warning']) {
    background-color: ${({tokens:e})=>e.core.backgroundWarning};
    color: ${({tokens:e})=>e.core.textWarning};
  }

  :host([data-variant='error']) {
    background-color: ${({tokens:e})=>e.core.backgroundError};
    color: ${({tokens:e})=>e.core.textError};
  }

  :host([data-variant='certified']) {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    color: ${({tokens:e})=>e.theme.textSecondary};
  }

  :host([data-size='md']) {
    height: 30px;
    padding: 0 ${({spacing:e})=>e[2]};
    border-radius: ${({borderRadius:e})=>e[2]};
  }

  :host([data-size='sm']) {
    height: 20px;
    padding: 0 ${({spacing:e})=>e[1]};
    border-radius: ${({borderRadius:e})=>e[1]};
  }
`,z4=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let F4=class extends B6{constructor(){super(...arguments),this.variant="accent",this.size="md",this.icon=void 0}render(){this.dataset.variant=this.variant,this.dataset.size=this.size;const e="md"===this.size?"md-medium":"sm-medium",t="md"===this.size?"md":"sm";return y6`
      ${this.icon?y6`<wui-icon size=${t} name=${this.icon}></wui-icon>`:null}
      <wui-text
        display="inline"
        data-variant=${this.variant}
        variant=${e}
        color="inherit"
      >
        <slot></slot>
      </wui-text>
    `}};F4.styles=[X6,H4],z4([R8()],F4.prototype,"variant",void 0),z4([R8()],F4.prototype,"size",void 0),z4([R8()],F4.prototype,"icon",void 0),F4=z4([r8("wui-tag")],F4);var V4=z6`
  :host {
    width: 100%;
  }

  button {
    column-gap: ${({spacing:e})=>e[2]};
    padding: ${({spacing:e})=>e[3]};
    width: 100%;
    background-color: transparent;
    border-radius: ${({borderRadius:e})=>e[4]};
    color: ${({tokens:e})=>e.theme.textPrimary};
  }

  button > wui-wallet-image {
    background: ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  button > wui-text:nth-child(2) {
    display: flex;
    flex: 1;
  }

  button:hover:enabled {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  button[data-all-wallets='true'] {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  button[data-all-wallets='true']:hover:enabled {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  button:focus-visible:enabled {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    box-shadow: 0 0 0 4px ${({tokens:e})=>e.core.foregroundAccent020};
  }

  button:disabled {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    opacity: 0.5;
    cursor: not-allowed;
  }

  button:disabled > wui-tag {
    background-color: ${({tokens:e})=>e.core.glass010};
    color: ${({tokens:e})=>e.theme.foregroundTertiary};
  }
`,Z4=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let q4=class extends B6{constructor(){super(...arguments),this.walletImages=[],this.imageSrc="",this.name="",this.size="md",this.tabIdx=void 0,this.disabled=!1,this.showAllWallets=!1,this.loading=!1,this.loadingSpinnerColor="accent-100"}render(){return this.dataset.size=this.size,y6`
      <button
        ?disabled=${this.disabled}
        data-all-wallets=${this.showAllWallets}
        tabindex=${L8(this.tabIdx)}
      >
        ${this.templateAllWallets()} ${this.templateWalletImage()}
        <wui-text variant="lg-regular" color="inherit">${this.name}</wui-text>
        ${this.templateStatus()}
      </button>
    `}templateAllWallets(){return this.showAllWallets&&this.imageSrc?y6` <wui-all-wallets-image .imageeSrc=${this.imageSrc}> </wui-all-wallets-image> `:this.showAllWallets&&this.walletIcon?y6` <wui-wallet-image .walletIcon=${this.walletIcon} size="sm"> </wui-wallet-image> `:null}templateWalletImage(){return!this.showAllWallets&&this.imageSrc?y6`<wui-wallet-image
        size=${L8("sm"===this.size?"sm":"md")}
        imageSrc=${this.imageSrc}
        name=${this.name}
      ></wui-wallet-image>`:this.showAllWallets||this.imageSrc?null:y6`<wui-wallet-image size="sm" name=${this.name}></wui-wallet-image>`}templateStatus(){return this.loading?y6`<wui-loading-spinner size="lg" color="accent-primary"></wui-loading-spinner>`:this.tagLabel&&this.tagVariant?y6`<wui-tag size="sm" variant=${this.tagVariant}>${this.tagLabel}</wui-tag>`:null}};q4.styles=[X6,Q6,V4],Z4([R8({type:Array})],q4.prototype,"walletImages",void 0),Z4([R8()],q4.prototype,"imageSrc",void 0),Z4([R8()],q4.prototype,"name",void 0),Z4([R8()],q4.prototype,"size",void 0),Z4([R8()],q4.prototype,"tagLabel",void 0),Z4([R8()],q4.prototype,"tagVariant",void 0),Z4([R8()],q4.prototype,"walletIcon",void 0),Z4([R8()],q4.prototype,"tabIdx",void 0),Z4([R8({type:Boolean})],q4.prototype,"disabled",void 0),Z4([R8({type:Boolean})],q4.prototype,"showAllWallets",void 0),Z4([R8({type:Boolean})],q4.prototype,"loading",void 0),Z4([R8({type:String})],q4.prototype,"loadingSpinnerColor",void 0),q4=Z4([r8("wui-list-wallet")],q4);var W4=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let K4=class extends B6{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=c1.state.connectors,this.count=X0.state.count,this.filteredCount=X0.state.filteredWallets.length,this.isFetchingRecommendedWallets=X0.state.isFetchingRecommendedWallets,this.unsubscribe.push(c1.subscribeKey("connectors",(e=>this.connectors=e)),X0.subscribeKey("count",(e=>this.count=e)),X0.subscribeKey("filteredWallets",(e=>this.filteredCount=e.length)),X0.subscribeKey("isFetchingRecommendedWallets",(e=>this.isFetchingRecommendedWallets=e)))}disconnectedCallback(){this.unsubscribe.forEach((e=>e()))}render(){const e=this.connectors.find((e=>"walletConnect"===e.id)),{allWallets:t}=A0.state;if(!e||"HIDE"===t||"ONLY_MOBILE"===t&&!B$.isMobile())return null;const r=X0.state.featured.length,n=this.count+r,i=n<10?n:10*Math.floor(n/10),s=this.filteredCount>0?this.filteredCount:i;let o=`${s}`;this.filteredCount>0?o=`${this.filteredCount}`:s<n&&(o=`${s}+`);const a=w1.hasAnyConnection(dR.CONNECTOR_ID.WALLET_CONNECT);return y6`
      <wui-list-wallet
        name="Search Wallet"
        walletIcon="search"
        showAllWallets
        @click=${this.onAllWallets.bind(this)}
        tagLabel=${o}
        tagVariant="info"
        data-testid="all-wallets"
        tabIdx=${L8(this.tabIdx)}
        .loading=${this.isFetchingRecommendedWallets}
        ?disabled=${a}
        size="sm"
      ></wui-list-wallet>
    `}onAllWallets(){K0.sendEvent({type:"track",event:"CLICK_ALL_WALLETS"}),t1.push("AllWallets",{redirectView:t1.state.data?.redirectView})}};W4([R8()],K4.prototype,"tabIdx",void 0),W4([$8()],K4.prototype,"connectors",void 0),W4([$8()],K4.prototype,"count",void 0),W4([$8()],K4.prototype,"filteredCount",void 0),W4([$8()],K4.prototype,"isFetchingRecommendedWallets",void 0),K4=W4([r8("w3m-all-wallets-widget")],K4);var G4=z6`
  :host {
    margin-top: ${({spacing:e})=>e[1]};
  }
  wui-separator {
    margin: ${({spacing:e})=>e[3]} calc(${({spacing:e})=>e[3]} * -1)
      ${({spacing:e})=>e[2]} calc(${({spacing:e})=>e[3]} * -1);
    width: calc(100% + ${({spacing:e})=>e[3]} * 2);
  }
`,Y4=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let J4=class extends B6{constructor(){super(),this.unsubscribe=[],this.connectors=c1.state.connectors,this.recommended=X0.state.recommended,this.featured=X0.state.featured,this.explorerWallets=X0.state.explorerWallets,this.connections=w1.state.connections,this.connectorImages=j0.state.connectorImages,this.loadingTelegram=!1,this.unsubscribe.push(c1.subscribeKey("connectors",(e=>this.connectors=e)),w1.subscribeKey("connections",(e=>this.connections=e)),j0.subscribeKey("connectorImages",(e=>this.connectorImages=e)),X0.subscribeKey("recommended",(e=>this.recommended=e)),X0.subscribeKey("featured",(e=>this.featured=e)),X0.subscribeKey("explorerFilteredWallets",(e=>{this.explorerWallets=e?.length?e:X0.state.explorerWallets})),X0.subscribeKey("explorerWallets",(e=>{this.explorerWallets?.length||(this.explorerWallets=e)}))),B$.isTelegram()&&B$.isIos()&&(this.loadingTelegram=!w1.state.wcUri,this.unsubscribe.push(w1.subscribeKey("wcUri",(e=>this.loadingTelegram=!e))))}disconnectedCallback(){this.unsubscribe.forEach((e=>e()))}render(){return y6`
      <wui-flex flexDirection="column" gap="2"> ${this.connectorListTemplate()} </wui-flex>
    `}mapConnectorsToExplorerWallets(e,t){return e.map((e=>{if("MULTI_CHAIN"===e.type&&e.connectors){const r=e.connectors.map((e=>e.id)),n=e.connectors.map((e=>e.name)),i=e.connectors.map((e=>e.info?.rdns)),s=t?.find((e=>r.includes(e.id)||n.includes(e.name)||e.rdns&&(i.includes(e.rdns)||r.includes(e.rdns))));return e.explorerWallet=s??e.explorerWallet,e}const r=t?.find((t=>t.id===e.id||t.rdns===e.info?.rdns||t.name===e.name));return e.explorerWallet=r??e.explorerWallet,e}))}processConnectorsByType(e,t=!0){const r=_2.sortConnectorsByExplorerWallet([...e]);return t?r.filter(_2.showConnector):r}connectorListTemplate(){const e=this.mapConnectorsToExplorerWallets(this.connectors,this.explorerWallets??[]),t=_2.getConnectorsByType(e,this.recommended,this.featured),r=this.processConnectorsByType(t.announced.filter((e=>"walletConnect"!==e.id))),n=this.processConnectorsByType(t.injected),i=this.processConnectorsByType(t.multiChain.filter((e=>"WalletConnect"!==e.name)),!1),s=t.custom,o=t.recent,a=this.processConnectorsByType(t.external.filter((e=>e.id!==dR.CONNECTOR_ID.COINBASE_SDK))),c=t.recommended,l=t.featured,d=_2.getConnectorTypeOrder({custom:s,recent:o,announced:r,injected:n,multiChain:i,recommended:c,featured:l,external:a}),u=this.connectors.find((e=>"walletConnect"===e.id)),h=B$.isMobile(),p=[];for(const e of d)switch(e){case"walletConnect":!h&&u&&p.push({kind:"connector",subtype:"walletConnect",connector:u});break;case"recent":_2.getFilteredRecentWallets().forEach((e=>p.push({kind:"wallet",subtype:"recent",wallet:e})));break;case"injected":i.forEach((e=>p.push({kind:"connector",subtype:"multiChain",connector:e}))),r.forEach((e=>p.push({kind:"connector",subtype:"announced",connector:e}))),n.forEach((e=>p.push({kind:"connector",subtype:"injected",connector:e})));break;case"featured":l.forEach((e=>p.push({kind:"wallet",subtype:"featured",wallet:e})));break;case"custom":_2.getFilteredCustomWallets(s??[]).forEach((e=>p.push({kind:"wallet",subtype:"custom",wallet:e})));break;case"external":a.forEach((e=>p.push({kind:"connector",subtype:"external",connector:e})));break;case"recommended":_2.getCappedRecommendedWallets(c).forEach((e=>p.push({kind:"wallet",subtype:"recommended",wallet:e})));break;default:console.warn(`Unknown connector type: ${e}`)}return p.map(((e,t)=>"connector"===e.kind?this.renderConnector(e,t):this.renderWallet(e,t)))}renderConnector(e,t){const r=e.connector,n=F0.getConnectorImage(r)||this.connectorImages[r?.imageId??""],i=(this.connections.get(r.chain)??[]).some((e=>y2.isLowerCaseMatch(e.connectorId,r.id)));let s,o;"multiChain"===e.subtype?(s="multichain",o="info"):"walletConnect"===e.subtype?(s="qr code",o="accent"):"injected"===e.subtype||"announced"===e.subtype?(s=i?"connected":"installed",o=i?"info":"success"):(s=void 0,o=void 0);const a=w1.hasAnyConnection(dR.CONNECTOR_ID.WALLET_CONNECT),c=("walletConnect"===e.subtype||"external"===e.subtype)&&a;return y6`
      <w3m-list-wallet
        displayIndex=${t}
        imageSrc=${L8(n)}
        .installed=${!0}
        name=${r.name??"Unknown"}
        .tagVariant=${o}
        tagLabel=${L8(s)}
        data-testid=${`wallet-selector-${r.id.toLowerCase()}`}
        size="sm"
        @click=${()=>this.onClickConnector(e)}
        tabIdx=${L8(this.tabIdx)}
        ?disabled=${c}
        rdnsId=${L8(r.explorerWallet?.rdns||void 0)}
        walletRank=${L8(r.explorerWallet?.order)}
      >
      </w3m-list-wallet>
    `}onClickConnector(e){const t=t1.state.data?.redirectView;return"walletConnect"===e.subtype?(c1.setActiveConnector(e.connector),void(B$.isMobile()?t1.push("AllWallets"):t1.push("ConnectingWalletConnect",{redirectView:t}))):"multiChain"===e.subtype?(c1.setActiveConnector(e.connector),void t1.push("ConnectingMultiChain",{redirectView:t})):"injected"===e.subtype?(c1.setActiveConnector(e.connector),void t1.push("ConnectingExternal",{connector:e.connector,redirectView:t,wallet:e.connector.explorerWallet})):"announced"===e.subtype?"walletConnect"===e.connector.id?void(B$.isMobile()?t1.push("AllWallets"):t1.push("ConnectingWalletConnect",{redirectView:t})):void t1.push("ConnectingExternal",{connector:e.connector,redirectView:t,wallet:e.connector.explorerWallet}):void t1.push("ConnectingExternal",{connector:e.connector,redirectView:t})}renderWallet(e,t){const r=e.wallet,n=F0.getWalletImage(r),i=w1.hasAnyConnection(dR.CONNECTOR_ID.WALLET_CONNECT),s=this.loadingTelegram,o="recent"===e.subtype?"recent":void 0,a="recent"===e.subtype?"info":void 0;return y6`
      <w3m-list-wallet
        displayIndex=${t}
        imageSrc=${L8(n)}
        name=${r.name??"Unknown"}
        @click=${()=>this.onClickWallet(e)}
        size="sm"
        data-testid=${`wallet-selector-${r.id}`}
        tabIdx=${L8(this.tabIdx)}
        ?loading=${s}
        ?disabled=${i}
        rdnsId=${L8(r.rdns||void 0)}
        walletRank=${L8(r.order)}
        tagLabel=${L8(o)}
        .tagVariant=${a}
      >
      </w3m-list-wallet>
    `}onClickWallet(e){const t=t1.state.data?.redirectView;if("featured"===e.subtype)return void c1.selectWalletConnector(e.wallet);if("recent"===e.subtype){if(this.loadingTelegram)return;return void c1.selectWalletConnector(e.wallet)}if("custom"===e.subtype){if(this.loadingTelegram)return;return void t1.push("ConnectingWalletConnect",{wallet:e.wallet,redirectView:t})}if(this.loadingTelegram)return;const r=c1.getConnector({id:e.wallet.id,rdns:e.wallet.rdns});r?t1.push("ConnectingExternal",{connector:r,redirectView:t}):t1.push("ConnectingWalletConnect",{wallet:e.wallet,redirectView:t})}};J4.styles=G4,Y4([R8({type:Number})],J4.prototype,"tabIdx",void 0),Y4([$8()],J4.prototype,"connectors",void 0),Y4([$8()],J4.prototype,"recommended",void 0),Y4([$8()],J4.prototype,"featured",void 0),Y4([$8()],J4.prototype,"explorerWallets",void 0),Y4([$8()],J4.prototype,"connections",void 0),Y4([$8()],J4.prototype,"connectorImages",void 0),Y4([$8()],J4.prototype,"loadingTelegram",void 0),J4=Y4([r8("w3m-connector-list")],J4);var X4=z6`
  :host {
    flex: 1;
    height: 100%;
  }

  button {
    width: 100%;
    height: 100%;
    display: inline-flex;
    align-items: center;
    padding: ${({spacing:e})=>e[1]} ${({spacing:e})=>e[2]};
    column-gap: ${({spacing:e})=>e[1]};
    color: ${({tokens:e})=>e.theme.textSecondary};
    border-radius: ${({borderRadius:e})=>e[20]};
    background-color: transparent;
    transition: background-color ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-2"]};
    will-change: background-color;
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  button[data-active='true'] {
    color: ${({tokens:e})=>e.theme.textPrimary};
    background-color: ${({tokens:e})=>e.theme.foregroundTertiary};
  }

  button:hover:enabled:not([data-active='true']),
  button:active:enabled:not([data-active='true']) {
    wui-text,
    wui-icon {
      color: ${({tokens:e})=>e.theme.textPrimary};
    }
  }
`,Q4=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};const e5={lg:"lg-regular",md:"md-regular",sm:"sm-regular"},t5={lg:"md",md:"sm",sm:"sm"};let r5=class extends B6{constructor(){super(...arguments),this.icon="mobile",this.size="md",this.label="",this.active=!1}render(){return y6`
      <button data-active=${this.active}>
        ${this.icon?y6`<wui-icon size=${t5[this.size]} name=${this.icon}></wui-icon>`:""}
        <wui-text variant=${e5[this.size]}> ${this.label} </wui-text>
      </button>
    `}};r5.styles=[X6,Q6,X4],Q4([R8()],r5.prototype,"icon",void 0),Q4([R8()],r5.prototype,"size",void 0),Q4([R8()],r5.prototype,"label",void 0),Q4([R8({type:Boolean})],r5.prototype,"active",void 0),r5=Q4([r8("wui-tab-item")],r5);var n5=z6`
  :host {
    display: inline-flex;
    align-items: center;
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    border-radius: ${({borderRadius:e})=>e[32]};
    padding: ${({spacing:e})=>e["01"]};
    box-sizing: border-box;
  }

  :host([data-size='sm']) {
    height: 26px;
  }

  :host([data-size='md']) {
    height: 36px;
  }
`,i5=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let s5=class extends B6{constructor(){super(...arguments),this.tabs=[],this.onTabChange=()=>null,this.size="md",this.activeTab=0}render(){return this.dataset.size=this.size,this.tabs.map(((e,t)=>{const r=t===this.activeTab;return y6`
        <wui-tab-item
          @click=${()=>this.onTabClick(t)}
          icon=${e.icon}
          size=${this.size}
          label=${e.label}
          ?active=${r}
          data-active=${r}
          data-testid="tab-${e.label?.toLowerCase()}"
        ></wui-tab-item>
      `}))}onTabClick(e){this.activeTab=e,this.onTabChange(e)}};s5.styles=[X6,Q6,n5],i5([R8({type:Array})],s5.prototype,"tabs",void 0),i5([R8()],s5.prototype,"onTabChange",void 0),i5([R8()],s5.prototype,"size",void 0),i5([$8()],s5.prototype,"activeTab",void 0),s5=i5([r8("wui-tabs")],s5);var o5=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let a5=class extends B6{constructor(){super(...arguments),this.platformTabs=[],this.unsubscribe=[],this.platforms=[],this.onSelectPlatfrom=void 0}disconnectCallback(){this.unsubscribe.forEach((e=>e()))}render(){const e=this.generateTabs();return y6`
      <wui-flex justifyContent="center" .padding=${["0","0","4","0"]}>
        <wui-tabs .tabs=${e} .onTabChange=${this.onTabChange.bind(this)}></wui-tabs>
      </wui-flex>
    `}generateTabs(){const e=this.platforms.map((e=>"browser"===e?{label:"Browser",icon:"extension",platform:"browser"}:"mobile"===e?{label:"Mobile",icon:"mobile",platform:"mobile"}:"qrcode"===e?{label:"Mobile",icon:"mobile",platform:"qrcode"}:"web"===e?{label:"Webapp",icon:"browser",platform:"web"}:"desktop"===e?{label:"Desktop",icon:"desktop",platform:"desktop"}:{label:"Browser",icon:"extension",platform:"unsupported"}));return this.platformTabs=e.map((({platform:e})=>e)),e}onTabChange(e){const t=this.platformTabs[e];t&&this.onSelectPlatfrom?.(t)}};o5([R8({type:Array})],a5.prototype,"platforms",void 0),o5([R8()],a5.prototype,"onSelectPlatfrom",void 0),a5=o5([r8("w3m-connecting-header")],a5);var c5=$2`
  :host {
    display: flex;
  }

  :host([data-size='sm']) > svg {
    width: 12px;
    height: 12px;
  }

  :host([data-size='md']) > svg {
    width: 16px;
    height: 16px;
  }

  :host([data-size='lg']) > svg {
    width: 24px;
    height: 24px;
  }

  :host([data-size='xl']) > svg {
    width: 32px;
    height: 32px;
  }

  svg {
    animation: rotate 1.4s linear infinite;
    color: var(--local-color);
  }

  :host([data-size='md']) > svg > circle {
    stroke-width: 6px;
  }

  :host([data-size='sm']) > svg > circle {
    stroke-width: 8px;
  }

  @keyframes rotate {
    100% {
      transform: rotate(360deg);
    }
  }
`,l5=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let d5=class extends B6{constructor(){super(...arguments),this.color="primary",this.size="lg"}render(){const e={primary:H6.tokens.theme.textPrimary,secondary:H6.tokens.theme.textSecondary,tertiary:H6.tokens.theme.textTertiary,invert:H6.tokens.theme.textInvert,error:H6.tokens.core.textError,warning:H6.tokens.core.textWarning,"accent-primary":H6.tokens.core.textAccentPrimary};return this.style.cssText=`\n      --local-color: ${"inherit"===this.color?"inherit":e[this.color]};\n      `,this.dataset.size=this.size,y6`<svg viewBox="0 0 16 17" fill="none">
      <path
        d="M8.75 2.65625V4.65625C8.75 4.85516 8.67098 5.04593 8.53033 5.18658C8.38968 5.32723 8.19891 5.40625 8 5.40625C7.80109 5.40625 7.61032 5.32723 7.46967 5.18658C7.32902 5.04593 7.25 4.85516 7.25 4.65625V2.65625C7.25 2.45734 7.32902 2.26657 7.46967 2.12592C7.61032 1.98527 7.80109 1.90625 8 1.90625C8.19891 1.90625 8.38968 1.98527 8.53033 2.12592C8.67098 2.26657 8.75 2.45734 8.75 2.65625ZM14 7.90625H12C11.8011 7.90625 11.6103 7.98527 11.4697 8.12592C11.329 8.26657 11.25 8.45734 11.25 8.65625C11.25 8.85516 11.329 9.04593 11.4697 9.18658C11.6103 9.32723 11.8011 9.40625 12 9.40625H14C14.1989 9.40625 14.3897 9.32723 14.5303 9.18658C14.671 9.04593 14.75 8.85516 14.75 8.65625C14.75 8.45734 14.671 8.26657 14.5303 8.12592C14.3897 7.98527 14.1989 7.90625 14 7.90625ZM11.3588 10.9544C11.289 10.8846 11.2062 10.8293 11.115 10.7915C11.0239 10.7538 10.9262 10.7343 10.8275 10.7343C10.7288 10.7343 10.6311 10.7538 10.54 10.7915C10.4488 10.8293 10.366 10.8846 10.2963 10.9544C10.2265 11.0241 10.1711 11.107 10.1334 11.1981C10.0956 11.2893 10.0762 11.387 10.0762 11.4856C10.0762 11.5843 10.0956 11.682 10.1334 11.7731C10.1711 11.8643 10.2265 11.9471 10.2963 12.0169L11.7106 13.4312C11.8515 13.5721 12.0426 13.6513 12.2419 13.6513C12.4411 13.6513 12.6322 13.5721 12.7731 13.4312C12.914 13.2904 12.9932 13.0993 12.9932 12.9C12.9932 12.7007 12.914 12.5096 12.7731 12.3687L11.3588 10.9544ZM8 11.9062C7.80109 11.9062 7.61032 11.9853 7.46967 12.1259C7.32902 12.2666 7.25 12.4573 7.25 12.6562V14.6562C7.25 14.8552 7.32902 15.0459 7.46967 15.1866C7.61032 15.3272 7.80109 15.4062 8 15.4062C8.19891 15.4062 8.38968 15.3272 8.53033 15.1866C8.67098 15.0459 8.75 14.8552 8.75 14.6562V12.6562C8.75 12.4573 8.67098 12.2666 8.53033 12.1259C8.38968 11.9853 8.19891 11.9062 8 11.9062ZM4.64125 10.9544L3.22688 12.3687C3.08598 12.5096 3.00682 12.7007 3.00682 12.9C3.00682 13.0993 3.08598 13.2904 3.22688 13.4312C3.36777 13.5721 3.55887 13.6513 3.75813 13.6513C3.95738 13.6513 4.14848 13.5721 4.28937 13.4312L5.70375 12.0169C5.84465 11.876 5.9238 11.6849 5.9238 11.4856C5.9238 11.2864 5.84465 11.0953 5.70375 10.9544C5.56285 10.8135 5.37176 10.7343 5.1725 10.7343C4.97324 10.7343 4.78215 10.8135 4.64125 10.9544ZM4.75 8.65625C4.75 8.45734 4.67098 8.26657 4.53033 8.12592C4.38968 7.98527 4.19891 7.90625 4 7.90625H2C1.80109 7.90625 1.61032 7.98527 1.46967 8.12592C1.32902 8.26657 1.25 8.45734 1.25 8.65625C1.25 8.85516 1.32902 9.04593 1.46967 9.18658C1.61032 9.32723 1.80109 9.40625 2 9.40625H4C4.19891 9.40625 4.38968 9.32723 4.53033 9.18658C4.67098 9.04593 4.75 8.85516 4.75 8.65625ZM4.2875 3.88313C4.1466 3.74223 3.95551 3.66307 3.75625 3.66307C3.55699 3.66307 3.3659 3.74223 3.225 3.88313C3.0841 4.02402 3.00495 4.21512 3.00495 4.41438C3.00495 4.61363 3.0841 4.80473 3.225 4.94562L4.64125 6.35813C4.78215 6.49902 4.97324 6.57818 5.1725 6.57818C5.37176 6.57818 5.56285 6.49902 5.70375 6.35813C5.84465 6.21723 5.9238 6.02613 5.9238 5.82688C5.9238 5.62762 5.84465 5.43652 5.70375 5.29563L4.2875 3.88313Z"
        fill="currentColor"
      />
    </svg>`}};d5.styles=[X6,c5],l5([R8()],d5.prototype,"color",void 0),l5([R8()],d5.prototype,"size",void 0),d5=l5([r8("wui-loading-spinner")],d5);var u5=z6`
  :host {
    width: var(--local-width);
  }

  button {
    width: var(--local-width);
    white-space: nowrap;
    column-gap: ${({spacing:e})=>e[2]};
    transition:
      scale ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-1"]},
      background-color ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      border-radius ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-1"]};
    will-change: scale, background-color, border-radius;
    cursor: pointer;
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='sm'] {
    border-radius: ${({borderRadius:e})=>e[2]};
    padding: 0 ${({spacing:e})=>e[2]};
    height: 28px;
  }

  button[data-size='md'] {
    border-radius: ${({borderRadius:e})=>e[3]};
    padding: 0 ${({spacing:e})=>e[4]};
    height: 38px;
  }

  button[data-size='lg'] {
    border-radius: ${({borderRadius:e})=>e[4]};
    padding: 0 ${({spacing:e})=>e[5]};
    height: 48px;
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-variant='accent-primary'] {
    background-color: ${({tokens:e})=>e.core.backgroundAccentPrimary};
    color: ${({tokens:e})=>e.theme.textInvert};
  }

  button[data-variant='accent-secondary'] {
    background-color: ${({tokens:e})=>e.core.foregroundAccent010};
    color: ${({tokens:e})=>e.core.textAccentPrimary};
  }

  button[data-variant='neutral-primary'] {
    background-color: ${({tokens:e})=>e.theme.backgroundInvert};
    color: ${({tokens:e})=>e.theme.textInvert};
  }

  button[data-variant='neutral-secondary'] {
    background-color: transparent;
    border: 1px solid ${({tokens:e})=>e.theme.borderSecondary};
    color: ${({tokens:e})=>e.theme.textPrimary};
  }

  button[data-variant='neutral-tertiary'] {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    color: ${({tokens:e})=>e.theme.textPrimary};
  }

  button[data-variant='error-primary'] {
    background-color: ${({tokens:e})=>e.core.textError};
    color: ${({tokens:e})=>e.theme.textInvert};
  }

  button[data-variant='error-secondary'] {
    background-color: ${({tokens:e})=>e.core.backgroundError};
    color: ${({tokens:e})=>e.core.textError};
  }

  button[data-variant='shade'] {
    background: var(--wui-color-gray-glass-002);
    color: var(--wui-color-fg-200);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  /* -- Focus states --------------------------------------------------- */
  button[data-size='sm']:focus-visible:enabled {
    border-radius: 28px;
  }

  button[data-size='md']:focus-visible:enabled {
    border-radius: 38px;
  }

  button[data-size='lg']:focus-visible:enabled {
    border-radius: 48px;
  }
  button[data-variant='shade']:focus-visible:enabled {
    background: var(--wui-color-gray-glass-005);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-gray-glass-010),
      0 0 0 4px var(--wui-color-gray-glass-002);
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) {
    button[data-size='sm']:hover:enabled {
      border-radius: 28px;
    }

    button[data-size='md']:hover:enabled {
      border-radius: 38px;
    }

    button[data-size='lg']:hover:enabled {
      border-radius: 48px;
    }

    button[data-variant='shade']:hover:enabled {
      background: var(--wui-color-gray-glass-002);
    }

    button[data-variant='shade']:active:enabled {
      background: var(--wui-color-gray-glass-005);
    }
  }

  button[data-size='sm']:active:enabled {
    border-radius: 28px;
  }

  button[data-size='md']:active:enabled {
    border-radius: 38px;
  }

  button[data-size='lg']:active:enabled {
    border-radius: 48px;
  }

  /* -- Disabled states --------------------------------------------------- */
  button:disabled {
    opacity: 0.3;
  }
`,h5=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};const p5={lg:"lg-regular-mono",md:"md-regular-mono",sm:"sm-regular-mono"},f5={lg:"md",md:"md",sm:"sm"};let g5=class extends B6{constructor(){super(...arguments),this.size="lg",this.disabled=!1,this.fullWidth=!1,this.loading=!1,this.variant="accent-primary"}render(){this.style.cssText=`\n    --local-width: ${this.fullWidth?"100%":"auto"};\n     `;const e=this.textVariant??p5[this.size];return y6`
      <button data-variant=${this.variant} data-size=${this.size} ?disabled=${this.disabled}>
        ${this.loadingTemplate()}
        <slot name="iconLeft"></slot>
        <wui-text variant=${e} color="inherit">
          <slot></slot>
        </wui-text>
        <slot name="iconRight"></slot>
      </button>
    `}loadingTemplate(){if(this.loading){const e=f5[this.size],t="neutral-primary"===this.variant||"accent-primary"===this.variant?"invert":"primary";return y6`<wui-loading-spinner color=${t} size=${e}></wui-loading-spinner>`}return null}};g5.styles=[X6,Q6,u5],h5([R8()],g5.prototype,"size",void 0),h5([R8({type:Boolean})],g5.prototype,"disabled",void 0),h5([R8({type:Boolean})],g5.prototype,"fullWidth",void 0),h5([R8({type:Boolean})],g5.prototype,"loading",void 0),h5([R8()],g5.prototype,"variant",void 0),h5([R8()],g5.prototype,"textVariant",void 0),g5=h5([r8("wui-button")],g5);var m5=z6`
  button {
    border: none;
    background: transparent;
    height: 20px;
    padding: ${({spacing:e})=>e[2]};
    column-gap: ${({spacing:e})=>e[1]};
    border-radius: ${({borderRadius:e})=>e[1]};
    padding: 0 ${({spacing:e})=>e[1]};
    border-radius: ${({spacing:e})=>e[1]};
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-variant='accent'] {
    color: ${({tokens:e})=>e.core.textAccentPrimary};
  }

  button[data-variant='secondary'] {
    color: ${({tokens:e})=>e.theme.textSecondary};
  }

  /* -- Focus states --------------------------------------------------- */
  button:focus-visible:enabled {
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  button[data-variant='accent']:focus-visible:enabled {
    background-color: ${({tokens:e})=>e.core.foregroundAccent010};
  }

  button[data-variant='secondary']:focus-visible:enabled {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  button[data-variant='accent']:hover:enabled {
    background-color: ${({tokens:e})=>e.core.foregroundAccent010};
  }

  button[data-variant='secondary']:hover:enabled {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  button[data-variant='accent']:focus-visible {
    background-color: ${({tokens:e})=>e.core.foregroundAccent010};
  }

  button[data-variant='secondary']:focus-visible {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  button[disabled] {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,y5=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};const w5={sm:"sm-medium",md:"md-medium"},b5={accent:"accent-primary",secondary:"secondary"};let v5=class extends B6{constructor(){super(...arguments),this.size="md",this.disabled=!1,this.variant="accent",this.icon=void 0}render(){return y6`
      <button ?disabled=${this.disabled} data-variant=${this.variant}>
        <slot name="iconLeft"></slot>
        <wui-text
          color=${b5[this.variant]}
          variant=${w5[this.size]}
        >
          <slot></slot>
        </wui-text>
        ${this.iconTemplate()}
      </button>
    `}iconTemplate(){return this.icon?y6`<wui-icon name=${this.icon} size="sm"></wui-icon>`:null}};v5.styles=[X6,Q6,m5],y5([R8()],v5.prototype,"size",void 0),y5([R8({type:Boolean})],v5.prototype,"disabled",void 0),y5([R8()],v5.prototype,"variant",void 0),y5([R8()],v5.prototype,"icon",void 0),v5=y5([r8("wui-link")],v5);var E5=z6`
  :host {
    display: block;
    width: 100px;
    height: 100px;
  }

  svg {
    width: 100px;
    height: 100px;
  }

  rect {
    fill: none;
    stroke: ${e=>e.colors.accent100};
    stroke-width: 3px;
    stroke-linecap: round;
    animation: dash 1s linear infinite;
  }

  @keyframes dash {
    to {
      stroke-dashoffset: 0px;
    }
  }
`,A5=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let x5=class extends B6{constructor(){super(...arguments),this.radius=36}render(){return this.svgLoaderTemplate()}svgLoaderTemplate(){const e=this.radius>50?50:this.radius,t=36-e;return y6`
      <svg viewBox="0 0 110 110" width="110" height="110">
        <rect
          x="2"
          y="2"
          width="106"
          height="106"
          rx=${e}
          stroke-dasharray="${116+t} ${245+t}"
          stroke-dashoffset=${360+1.75*t}
        />
      </svg>
    `}};x5.styles=[X6,E5],A5([R8({type:Number})],x5.prototype,"radius",void 0),x5=A5([r8("wui-loading-thumbnail")],x5);var C5=z6`
  wui-flex {
    width: 100%;
    height: 52px;
    box-sizing: border-box;
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    border-radius: ${({borderRadius:e})=>e[5]};
    padding-left: ${({spacing:e})=>e[3]};
    padding-right: ${({spacing:e})=>e[3]};
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: ${({spacing:e})=>e[6]};
  }

  wui-text {
    color: ${({tokens:e})=>e.theme.textSecondary};
  }

  wui-icon {
    width: 12px;
    height: 12px;
  }
`,S5=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let I5=class extends B6{constructor(){super(...arguments),this.disabled=!1,this.label="",this.buttonLabel=""}render(){return y6`
      <wui-flex justifyContent="space-between" alignItems="center">
        <wui-text variant="lg-regular" color="inherit">${this.label}</wui-text>
        <wui-button variant="accent-secondary" size="sm">
          ${this.buttonLabel}
          <wui-icon name="chevronRight" color="inherit" size="inherit" slot="iconRight"></wui-icon>
        </wui-button>
      </wui-flex>
    `}};I5.styles=[X6,Q6,C5],S5([R8({type:Boolean})],I5.prototype,"disabled",void 0),S5([R8()],I5.prototype,"label",void 0),S5([R8()],I5.prototype,"buttonLabel",void 0),I5=S5([r8("wui-cta-button")],I5);var _5=z6`
  :host {
    display: block;
    padding: 0 ${({spacing:e})=>e[5]} ${({spacing:e})=>e[5]};
  }
`,k5=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let P5=class extends B6{constructor(){super(...arguments),this.wallet=void 0}render(){if(!this.wallet)return this.style.display="none",null;const{name:e,app_store:t,play_store:r,chrome_store:n,homepage:i}=this.wallet,s=B$.isMobile(),o=B$.isIos(),a=B$.isAndroid(),c=[t,r,i,n].filter(Boolean).length>1,l=t8.getTruncateString({string:e,charsStart:12,charsEnd:0,truncate:"end"});return c&&!s?y6`
        <wui-cta-button
          label=${`Don't have ${l}?`}
          buttonLabel="Get"
          @click=${()=>t1.push("Downloads",{wallet:this.wallet})}
        ></wui-cta-button>
      `:!c&&i?y6`
        <wui-cta-button
          label=${`Don't have ${l}?`}
          buttonLabel="Get"
          @click=${this.onHomePage.bind(this)}
        ></wui-cta-button>
      `:t&&o?y6`
        <wui-cta-button
          label=${`Don't have ${l}?`}
          buttonLabel="Get"
          @click=${this.onAppStore.bind(this)}
        ></wui-cta-button>
      `:r&&a?y6`
        <wui-cta-button
          label=${`Don't have ${l}?`}
          buttonLabel="Get"
          @click=${this.onPlayStore.bind(this)}
        ></wui-cta-button>
      `:(this.style.display="none",null)}onAppStore(){this.wallet?.app_store&&B$.openHref(this.wallet.app_store,"_blank")}onPlayStore(){this.wallet?.play_store&&B$.openHref(this.wallet.play_store,"_blank")}onHomePage(){this.wallet?.homepage&&B$.openHref(this.wallet.homepage,"_blank")}};P5.styles=[_5],k5([R8({type:Object})],P5.prototype,"wallet",void 0),P5=k5([r8("w3m-mobile-download-links")],P5);var T5=z6`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-wallet-image {
    width: 56px;
    height: 56px;
  }

  wui-loading-thumbnail {
    position: absolute;
  }

  wui-icon-box {
    position: absolute;
    right: calc(${({spacing:e})=>e[1]} * -1);
    bottom: calc(${({spacing:e})=>e[1]} * -1);
    opacity: 0;
    transform: scale(0.5);
    transition-property: opacity, transform;
    transition-duration: ${({durations:e})=>e.lg};
    transition-timing-function: ${({easings:e})=>e["ease-out-power-2"]};
    will-change: opacity, transform;
  }

  wui-text[align='center'] {
    width: 100%;
    padding: 0px ${({spacing:e})=>e[4]};
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms ${({easings:e})=>e["ease-out-power-2"]} both;
  }

  [data-retry='false'] wui-link {
    display: none;
  }

  [data-retry='true'] wui-link {
    display: block;
    opacity: 1;
  }

  w3m-mobile-download-links {
    padding: 0px;
    width: 100%;
  }
`,O5=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};class N5 extends B6{constructor(){super(),this.wallet=t1.state.data?.wallet,this.connector=t1.state.data?.connector,this.timeout=void 0,this.secondaryBtnIcon="refresh",this.onConnect=void 0,this.onRender=void 0,this.onAutoConnect=void 0,this.isWalletConnect=!0,this.unsubscribe=[],this.imageSrc=F0.getConnectorImage(this.connector)??F0.getWalletImage(this.wallet),this.name=this.wallet?.name??this.connector?.name??"Wallet",this.isRetrying=!1,this.uri=w1.state.wcUri,this.error=w1.state.wcError,this.ready=!1,this.showRetry=!1,this.label=void 0,this.secondaryBtnLabel="Try again",this.secondaryLabel="Accept connection request in the wallet",this.isLoading=!1,this.isMobile=!1,this.onRetry=void 0,this.unsubscribe.push(w1.subscribeKey("wcUri",(e=>{this.uri=e,this.isRetrying&&this.onRetry&&(this.isRetrying=!1,this.onConnect?.())})),w1.subscribeKey("wcError",(e=>this.error=e))),(B$.isTelegram()||B$.isSafari())&&B$.isIos()&&w1.state.wcUri&&this.onConnect?.()}firstUpdated(){this.onAutoConnect?.(),this.showRetry=!this.onAutoConnect}disconnectedCallback(){this.unsubscribe.forEach((e=>e())),w1.setWcError(!1),clearTimeout(this.timeout)}render(){this.onRender?.(),this.onShowRetry();const e=this.error?"Connection can be declined if a previous request is still active":this.secondaryLabel;let t="";return this.label?t=this.label:(t=`Continue in ${this.name}`,this.error&&(t="Connection declined")),y6`
      <wui-flex
        data-error=${L8(this.error)}
        data-retry=${this.showRetry}
        flexDirection="column"
        alignItems="center"
        .padding=${["10","5","5","5"]}
        gap="6"
      >
        <wui-flex gap="2" justifyContent="center" alignItems="center">
          <wui-wallet-image size="lg" imageSrc=${L8(this.imageSrc)}></wui-wallet-image>

          ${this.error?null:this.loaderTemplate()}

          <wui-icon-box
            color="error"
            icon="close"
            size="sm"
            border
            borderColor="wui-color-bg-125"
          ></wui-icon-box>
        </wui-flex>

        <wui-flex flexDirection="column" alignItems="center" gap="6"> <wui-flex
          flexDirection="column"
          alignItems="center"
          gap="2"
          .padding=${["2","0","0","0"]}
        >
          <wui-text align="center" variant="lg-medium" color=${this.error?"error":"primary"}>
            ${t}
          </wui-text>
          <wui-text align="center" variant="lg-regular" color="secondary">${e}</wui-text>
        </wui-flex>

        ${this.secondaryBtnLabel?y6`
                <wui-button
                  variant="neutral-secondary"
                  size="md"
                  ?disabled=${this.isRetrying||this.isLoading}
                  @click=${this.onTryAgain.bind(this)}
                  data-testid="w3m-connecting-widget-secondary-button"
                >
                  <wui-icon
                    color="inherit"
                    slot="iconLeft"
                    name=${this.secondaryBtnIcon}
                  ></wui-icon>
                  ${this.secondaryBtnLabel}
                </wui-button>
              `:null}
      </wui-flex>

      ${this.isWalletConnect?y6`
              <wui-flex .padding=${["0","5","5","5"]} justifyContent="center">
                <wui-link
                  @click=${this.onCopyUri}
                  variant="secondary"
                  icon="copy"
                  data-testid="wui-link-copy"
                >
                  Copy link
                </wui-link>
              </wui-flex>
            `:null}

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links></wui-flex>
      </wui-flex>
    `}onShowRetry(){this.error&&!this.showRetry&&(this.showRetry=!0,this.shadowRoot?.querySelector("wui-button")?.animate([{opacity:0},{opacity:1}],{fill:"forwards",easing:"ease"}))}onTryAgain(){w1.setWcError(!1),this.onRetry?(this.isRetrying=!0,this.onRetry?.()):this.onConnect?.()}loaderTemplate(){const e=i1.state.themeVariables["--w3m-border-radius-master"],t=e?parseInt(e.replace("px",""),10):4;return y6`<wui-loading-thumbnail radius=${9*t}></wui-loading-thumbnail>`}onCopyUri(){try{this.uri&&(B$.copyToClopboard(this.uri),S0.showSuccess("Link copied"))}catch{S0.showError("Failed to copy")}}}N5.styles=T5,O5([$8()],N5.prototype,"isRetrying",void 0),O5([$8()],N5.prototype,"uri",void 0),O5([$8()],N5.prototype,"error",void 0),O5([$8()],N5.prototype,"ready",void 0),O5([$8()],N5.prototype,"showRetry",void 0),O5([$8()],N5.prototype,"label",void 0),O5([$8()],N5.prototype,"secondaryBtnLabel",void 0),O5([$8()],N5.prototype,"secondaryLabel",void 0),O5([$8()],N5.prototype,"isLoading",void 0),O5([R8({type:Boolean})],N5.prototype,"isMobile",void 0),O5([R8()],N5.prototype,"onRetry",void 0);let R5=class extends N5{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-browser: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onAutoConnect=this.onConnectProxy.bind(this),K0.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser",displayIndex:this.wallet?.display_index,walletRank:this.wallet.order,view:t1.state.view}})}async onConnectProxy(){try{this.error=!1;const{connectors:e}=c1.state,t=e.find((e=>"ANNOUNCED"===e.type&&e.info?.rdns===this.wallet?.rdns||"INJECTED"===e.type||e.name===this.wallet?.name));if(!t)throw new Error("w3m-connecting-wc-browser: No connector found");await w1.connectExternal(t,t.chain),H1.close(),K0.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:"browser",name:this.wallet?.name||"Unknown",view:t1.state.view,walletRank:this.wallet?.order}})}catch(e){e instanceof M0&&e.originalName===OR.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST?K0.sendEvent({type:"track",event:"USER_REJECTED",properties:{message:e.message}}):K0.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:e?.message??"Unknown"}}),this.error=!0}}};R5=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}([r8("w3m-connecting-wc-browser")],R5);let $5=class extends N5{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-desktop: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onRender=this.onRenderProxy.bind(this),K0.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"desktop",displayIndex:this.wallet?.display_index,walletRank:this.wallet.order,view:t1.state.view}})}onRenderProxy(){!this.ready&&this.uri&&(this.ready=!0,this.onConnect?.())}onConnectProxy(){if(this.wallet?.desktop_link&&this.uri)try{this.error=!1;const{desktop_link:e,name:t}=this.wallet,{redirect:r,href:n}=B$.formatNativeUrl(e,this.uri);w1.setWcLinking({name:t,href:n}),w1.setRecentWallet(this.wallet),B$.openHref(r,"_blank")}catch{this.error=!0}}};$5=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}([r8("w3m-connecting-wc-desktop")],$5);var B5=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let M5=class extends N5{constructor(){if(super(),this.btnLabelTimeout=void 0,this.redirectDeeplink=void 0,this.redirectUniversalLink=void 0,this.target=void 0,this.preferUniversalLinks=A0.state.experimental_preferUniversalLinks,this.isLoading=!0,this.onConnect=()=>{if(this.wallet?.mobile_link&&this.uri)try{this.error=!1;const{mobile_link:e,link_mode:t,name:r}=this.wallet,{redirect:n,redirectUniversalLink:i,href:s}=B$.formatNativeUrl(e,this.uri,t);this.redirectDeeplink=n,this.redirectUniversalLink=i,this.target=B$.isIframe()?"_top":"_self",w1.setWcLinking({name:r,href:s}),w1.setRecentWallet(this.wallet),this.preferUniversalLinks&&this.redirectUniversalLink?B$.openHref(this.redirectUniversalLink,this.target):B$.openHref(this.redirectDeeplink,this.target)}catch(e){K0.sendEvent({type:"track",event:"CONNECT_PROXY_ERROR",properties:{message:e instanceof Error?e.message:"Error parsing the deeplink",uri:this.uri,mobile_link:this.wallet.mobile_link,name:this.wallet.name}}),this.error=!0}},!this.wallet)throw new Error("w3m-connecting-wc-mobile: No wallet provided");this.secondaryBtnLabel="Open",this.secondaryLabel=R$.CONNECT_LABELS.MOBILE,this.secondaryBtnIcon="externalLink",this.onHandleURI(),this.unsubscribe.push(w1.subscribeKey("wcUri",(()=>{this.onHandleURI()}))),K0.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"mobile",displayIndex:this.wallet?.display_index,walletRank:this.wallet.order,view:t1.state.view}})}disconnectedCallback(){super.disconnectedCallback(),clearTimeout(this.btnLabelTimeout)}onHandleURI(){this.isLoading=!this.uri,!this.ready&&this.uri&&(this.ready=!0,this.onConnect?.())}onTryAgain(){w1.setWcError(!1),this.onConnect?.()}};B5([$8()],M5.prototype,"redirectDeeplink",void 0),B5([$8()],M5.prototype,"redirectUniversalLink",void 0),B5([$8()],M5.prototype,"target",void 0),B5([$8()],M5.prototype,"preferUniversalLinks",void 0),B5([$8()],M5.prototype,"isLoading",void 0),M5=B5([r8("w3m-connecting-wc-mobile")],M5);var U5={},L5={},D5={};let j5;const H5=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];D5.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},D5.getSymbolTotalCodewords=function(e){return H5[e]},D5.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},D5.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');j5=e},D5.isKanjiModeEnabled=function(){return typeof j5<"u"},D5.toSJIS=function(e){return j5(e)};var z5={};function F5(){this.buffer=[],this.length=0}!function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4},e.from=function(t,r){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch{return r}}}(z5),F5.prototype={get:function(e){const t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(let r=0;r<t;r++)this.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var V5=F5;function Z5(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}Z5.prototype.set=function(e,t,r,n){const i=e*this.size+t;this.data[i]=r,n&&(this.reservedBit[i]=!0)},Z5.prototype.get=function(e,t){return this.data[e*this.size+t]},Z5.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},Z5.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var q5=Z5,W5={};!function(e){const t=D5.getSymbolSize;e.getRowColCoords=function(e){if(1===e)return[];const r=Math.floor(e/7)+2,n=t(e),i=145===n?26:2*Math.ceil((n-13)/(2*r-2)),s=[n-7];for(let e=1;e<r-1;e++)s[e]=s[e-1]-i;return s.push(6),s.reverse()},e.getPositions=function(t){const r=[],n=e.getRowColCoords(t),i=n.length;for(let e=0;e<i;e++)for(let t=0;t<i;t++)0===e&&0===t||0===e&&t===i-1||e===i-1&&0===t||r.push([n[e],n[t]]);return r}}(W5);var K5={};const G5=D5.getSymbolSize;K5.getPositions=function(e){const t=G5(e);return[[0,0],[t-7,0],[0,t-7]]};var Y5={};!function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t=3,r=3,n=40,i=10;function s(t,r,n){switch(t){case e.Patterns.PATTERN000:return(r+n)%2==0;case e.Patterns.PATTERN001:return r%2==0;case e.Patterns.PATTERN010:return n%3==0;case e.Patterns.PATTERN011:return(r+n)%3==0;case e.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(n/3))%2==0;case e.Patterns.PATTERN101:return r*n%2+r*n%3==0;case e.Patterns.PATTERN110:return(r*n%2+r*n%3)%2==0;case e.Patterns.PATTERN111:return(r*n%3+(r+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(e){const r=e.size;let n=0,i=0,s=0,o=null,a=null;for(let c=0;c<r;c++){i=s=0,o=a=null;for(let l=0;l<r;l++){let r=e.get(c,l);r===o?i++:(i>=5&&(n+=t+(i-5)),o=r,i=1),r=e.get(l,c),r===a?s++:(s>=5&&(n+=t+(s-5)),a=r,s=1)}i>=5&&(n+=t+(i-5)),s>=5&&(n+=t+(s-5))}return n},e.getPenaltyN2=function(e){const t=e.size;let n=0;for(let r=0;r<t-1;r++)for(let i=0;i<t-1;i++){const t=e.get(r,i)+e.get(r,i+1)+e.get(r+1,i)+e.get(r+1,i+1);(4===t||0===t)&&n++}return n*r},e.getPenaltyN3=function(e){const t=e.size;let r=0,i=0,s=0;for(let n=0;n<t;n++){i=s=0;for(let o=0;o<t;o++)i=i<<1&2047|e.get(n,o),o>=10&&(1488===i||93===i)&&r++,s=s<<1&2047|e.get(o,n),o>=10&&(1488===s||93===s)&&r++}return r*n},e.getPenaltyN4=function(e){let t=0;const r=e.data.length;for(let n=0;n<r;n++)t+=e.data[n];return Math.abs(Math.ceil(100*t/r/5)-10)*i},e.applyMask=function(e,t){const r=t.size;for(let n=0;n<r;n++)for(let i=0;i<r;i++)t.isReserved(i,n)||t.xor(i,n,s(e,i,n))},e.getBestMask=function(t,r){const n=Object.keys(e.Patterns).length;let i=0,s=1/0;for(let o=0;o<n;o++){r(o),e.applyMask(o,t);const n=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(o,t),n<s&&(s=n,i=o)}return i}}(Y5);var J5={};const X5=z5,Q5=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],e3=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];J5.getBlocksCount=function(e,t){switch(t){case X5.L:return Q5[4*(e-1)+0];case X5.M:return Q5[4*(e-1)+1];case X5.Q:return Q5[4*(e-1)+2];case X5.H:return Q5[4*(e-1)+3];default:return}},J5.getTotalCodewordsCount=function(e,t){switch(t){case X5.L:return e3[4*(e-1)+0];case X5.M:return e3[4*(e-1)+1];case X5.Q:return e3[4*(e-1)+2];case X5.H:return e3[4*(e-1)+3];default:return}};var t3={},r3={};const n3=new Uint8Array(512),i3=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)n3[t]=e,i3[e]=t,e<<=1,256&e&&(e^=285);for(let e=255;e<512;e++)n3[e]=n3[e-255]})(),r3.log=function(e){if(e<1)throw new Error("log("+e+")");return i3[e]},r3.exp=function(e){return n3[e]},r3.mul=function(e,t){return 0===e||0===t?0:n3[i3[e]+i3[t]]},function(e){const t=r3;e.mul=function(e,r){const n=new Uint8Array(e.length+r.length-1);for(let i=0;i<e.length;i++)for(let s=0;s<r.length;s++)n[i+s]^=t.mul(e[i],r[s]);return n},e.mod=function(e,r){let n=new Uint8Array(e);for(;n.length-r.length>=0;){const e=n[0];for(let i=0;i<r.length;i++)n[i]^=t.mul(r[i],e);let i=0;for(;i<n.length&&0===n[i];)i++;n=n.slice(i)}return n},e.generateECPolynomial=function(r){let n=new Uint8Array([1]);for(let i=0;i<r;i++)n=e.mul(n,new Uint8Array([1,t.exp(i)]));return n}}(t3);const s3=t3;function o3(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}o3.prototype.initialize=function(e){this.degree=e,this.genPoly=s3.generateECPolynomial(this.degree)},o3.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const r=s3.mod(t,this.genPoly),n=this.degree-r.length;if(n>0){const e=new Uint8Array(this.degree);return e.set(r,n),e}return r};var a3=o3,c3={},l3={},d3={isValid:function(e){return!isNaN(e)&&e>=1&&e<=40}},u3={};const h3="[0-9]+";let p3="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";p3=p3.replace(/u/g,"\\u");const f3="(?:(?![A-Z0-9 $%*+\\-./:]|"+p3+")(?:.|[\r\n]))+";u3.KANJI=new RegExp(p3,"g"),u3.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),u3.BYTE=new RegExp(f3,"g"),u3.NUMERIC=new RegExp(h3,"g"),u3.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const g3=new RegExp("^"+p3+"$"),m3=new RegExp("^"+h3+"$"),y3=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");u3.testKanji=function(e){return g3.test(e)},u3.testNumeric=function(e){return m3.test(e)},u3.testAlphanumeric=function(e){return y3.test(e)},function(e){const t=d3,r=u3;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(e,r){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!t.isValid(r))throw new Error("Invalid version: "+r);return r>=1&&r<10?e.ccBits[0]:r<27?e.ccBits[1]:e.ccBits[2]},e.getBestModeForData=function(t){return r.testNumeric(t)?e.NUMERIC:r.testAlphanumeric(t)?e.ALPHANUMERIC:r.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},e.isValid=function(e){return e&&e.bit&&e.ccBits},e.from=function(t,r){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch{return r}}}(l3),function(e){const t=D5,r=J5,n=z5,i=l3,s=d3,o=t.getBCHDigit(7973);function a(e,t){return i.getCharCountIndicator(e,t)+4}function c(e,t){let r=0;return e.forEach((function(e){const n=a(e.mode,t);r+=n+e.getBitsLength()})),r}e.from=function(e,t){return s.isValid(e)?parseInt(e,10):t},e.getCapacity=function(e,n,o){if(!s.isValid(e))throw new Error("Invalid QR Code version");typeof o>"u"&&(o=i.BYTE);const c=8*(t.getSymbolTotalCodewords(e)-r.getTotalCodewordsCount(e,n));if(o===i.MIXED)return c;const l=c-a(o,e);switch(o){case i.NUMERIC:return Math.floor(l/10*3);case i.ALPHANUMERIC:return Math.floor(l/11*2);case i.KANJI:return Math.floor(l/13);case i.BYTE:default:return Math.floor(l/8)}},e.getBestVersionForData=function(t,r){let s;const o=n.from(r,n.M);if(Array.isArray(t)){if(t.length>1)return function(t,r){for(let n=1;n<=40;n++)if(c(t,n)<=e.getCapacity(n,r,i.MIXED))return n}(t,o);if(0===t.length)return 1;s=t[0]}else s=t;return function(t,r,n){for(let i=1;i<=40;i++)if(r<=e.getCapacity(i,n,t))return i}(s.mode,s.getLength(),o)},e.getEncodedBits=function(e){if(!s.isValid(e)||e<7)throw new Error("Invalid QR Code version");let r=e<<12;for(;t.getBCHDigit(r)-o>=0;)r^=7973<<t.getBCHDigit(r)-o;return e<<12|r}}(c3);var w3={};const b3=D5,v3=b3.getBCHDigit(1335);w3.getEncodedBits=function(e,t){const r=e.bit<<3|t;let n=r<<10;for(;b3.getBCHDigit(n)-v3>=0;)n^=1335<<b3.getBCHDigit(n)-v3;return 21522^(r<<10|n)};var E3={};const A3=l3;function x3(e){this.mode=A3.NUMERIC,this.data=e.toString()}x3.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},x3.prototype.getLength=function(){return this.data.length},x3.prototype.getBitsLength=function(){return x3.getBitsLength(this.data.length)},x3.prototype.write=function(e){let t,r,n;for(t=0;t+3<=this.data.length;t+=3)r=this.data.substr(t,3),n=parseInt(r,10),e.put(n,10);const i=this.data.length-t;i>0&&(r=this.data.substr(t),n=parseInt(r,10),e.put(n,3*i+1))};var C3=x3;const S3=l3,I3=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function _3(e){this.mode=S3.ALPHANUMERIC,this.data=e}_3.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},_3.prototype.getLength=function(){return this.data.length},_3.prototype.getBitsLength=function(){return _3.getBitsLength(this.data.length)},_3.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let r=45*I3.indexOf(this.data[t]);r+=I3.indexOf(this.data[t+1]),e.put(r,11)}this.data.length%2&&e.put(I3.indexOf(this.data[t]),6)};var k3=_3;const P3=function(e){for(var t=[],r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);if(i>=55296&&i<=56319&&r>n+1){var s=e.charCodeAt(n+1);s>=56320&&s<=57343&&(i=1024*(i-55296)+s-56320+65536,n+=1)}i<128?t.push(i):i<2048?(t.push(i>>6|192),t.push(63&i|128)):i<55296||i>=57344&&i<65536?(t.push(i>>12|224),t.push(i>>6&63|128),t.push(63&i|128)):i>=65536&&i<=1114111?(t.push(i>>18|240),t.push(i>>12&63|128),t.push(i>>6&63|128),t.push(63&i|128)):t.push(239,191,189)}return new Uint8Array(t).buffer},T3=l3;function O3(e){this.mode=T3.BYTE,"string"==typeof e&&(e=P3(e)),this.data=new Uint8Array(e)}O3.getBitsLength=function(e){return 8*e},O3.prototype.getLength=function(){return this.data.length},O3.prototype.getBitsLength=function(){return O3.getBitsLength(this.data.length)},O3.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var N3=O3;const R3=l3,$3=D5;function B3(e){this.mode=R3.KANJI,this.data=e}B3.getBitsLength=function(e){return 13*e},B3.prototype.getLength=function(){return this.data.length},B3.prototype.getBitsLength=function(){return B3.getBitsLength(this.data.length)},B3.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=$3.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else{if(!(r>=57408&&r<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");r-=49472}r=192*(r>>>8&255)+(255&r),e.put(r,13)}};var M3=B3,U3={exports:{}};(function(e){var t={single_source_shortest_paths:function(e,r,n){var i={},s={};s[r]=0;var o,a,c,l,d,u,h,p=t.PriorityQueue.make();for(p.push(r,0);!p.empty();)for(c in a=(o=p.pop()).value,l=o.cost,d=e[a]||{})d.hasOwnProperty(c)&&(u=l+d[c],h=s[c],(typeof s[c]>"u"||h>u)&&(s[c]=u,p.push(c,u),i[c]=a));if(typeof n<"u"&&typeof s[n]>"u"){var f=["Could not find a path from ",r," to ",n,"."].join("");throw new Error(f)}return i},extract_shortest_path_from_predecessor_list:function(e,t){for(var r=[],n=t;n;)r.push(n),e[n],n=e[n];return r.reverse(),r},find_path:function(e,r,n){var i=t.single_source_shortest_paths(e,r,n);return t.extract_shortest_path_from_predecessor_list(i,n)},PriorityQueue:{make:function(e){var r,n=t.PriorityQueue,i={};for(r in e=e||{},n)n.hasOwnProperty(r)&&(i[r]=n[r]);return i.queue=[],i.sorter=e.sorter||n.default_sorter,i},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var r={value:e,cost:t};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=t})(U3),function(e){const t=l3,r=C3,n=k3,i=N3,s=M3,o=u3,a=D5,c=U3.exports;function l(e){return unescape(encodeURIComponent(e)).length}function d(e,t,r){const n=[];let i;for(;null!==(i=e.exec(r));)n.push({data:i[0],index:i.index,mode:t,length:i[0].length});return n}function u(e){const r=d(o.NUMERIC,t.NUMERIC,e),n=d(o.ALPHANUMERIC,t.ALPHANUMERIC,e);let i,s;return a.isKanjiModeEnabled()?(i=d(o.BYTE,t.BYTE,e),s=d(o.KANJI,t.KANJI,e)):(i=d(o.BYTE_KANJI,t.BYTE,e),s=[]),r.concat(n,i,s).sort((function(e,t){return e.index-t.index})).map((function(e){return{data:e.data,mode:e.mode,length:e.length}}))}function h(e,o){switch(o){case t.NUMERIC:return r.getBitsLength(e);case t.ALPHANUMERIC:return n.getBitsLength(e);case t.KANJI:return s.getBitsLength(e);case t.BYTE:return i.getBitsLength(e)}}function p(e,o){let c;const l=t.getBestModeForData(e);if(c=t.from(o,l),c!==t.BYTE&&c.bit<l.bit)throw new Error('"'+e+'" cannot be encoded with mode '+t.toString(c)+".\n Suggested mode is: "+t.toString(l));switch(c===t.KANJI&&!a.isKanjiModeEnabled()&&(c=t.BYTE),c){case t.NUMERIC:return new r(e);case t.ALPHANUMERIC:return new n(e);case t.KANJI:return new s(e);case t.BYTE:return new i(e)}}e.fromArray=function(e){return e.reduce((function(e,t){return"string"==typeof t?e.push(p(t,null)):t.data&&e.push(p(t.data,t.mode)),e}),[])},e.fromString=function(r,n){const i=function(e){const r=[];for(let n=0;n<e.length;n++){const i=e[n];switch(i.mode){case t.NUMERIC:r.push([i,{data:i.data,mode:t.ALPHANUMERIC,length:i.length},{data:i.data,mode:t.BYTE,length:i.length}]);break;case t.ALPHANUMERIC:r.push([i,{data:i.data,mode:t.BYTE,length:i.length}]);break;case t.KANJI:r.push([i,{data:i.data,mode:t.BYTE,length:l(i.data)}]);break;case t.BYTE:r.push([{data:i.data,mode:t.BYTE,length:l(i.data)}])}}return r}(u(r,a.isKanjiModeEnabled())),s=function(e,r){const n={},i={start:{}};let s=["start"];for(let o=0;o<e.length;o++){const a=e[o],c=[];for(let e=0;e<a.length;e++){const l=a[e],d=""+o+e;c.push(d),n[d]={node:l,lastCount:0},i[d]={};for(let e=0;e<s.length;e++){const o=s[e];n[o]&&n[o].node.mode===l.mode?(i[o][d]=h(n[o].lastCount+l.length,l.mode)-h(n[o].lastCount,l.mode),n[o].lastCount+=l.length):(n[o]&&(n[o].lastCount=l.length),i[o][d]=h(l.length,l.mode)+4+t.getCharCountIndicator(l.mode,r))}}s=c}for(let e=0;e<s.length;e++)i[s[e]].end=0;return{map:i,table:n}}(i,n),o=c.find_path(s.map,"start","end"),d=[];for(let e=1;e<o.length-1;e++)d.push(s.table[o[e]].node);return e.fromArray(d.reduce((function(e,t){const r=e.length-1>=0?e[e.length-1]:null;return r&&r.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)}),[]))},e.rawSplit=function(t){return e.fromArray(u(t,a.isKanjiModeEnabled()))}}(E3);const L3=D5,D3=z5,j3=V5,H3=q5,z3=W5,F3=K5,V3=Y5,Z3=J5,q3=a3,W3=c3,K3=w3,G3=l3,Y3=E3;function J3(e,t,r){const n=e.size,i=K3.getEncodedBits(t,r);let s,o;for(s=0;s<15;s++)o=1==(i>>s&1),s<6?e.set(s,8,o,!0):s<8?e.set(s+1,8,o,!0):e.set(n-15+s,8,o,!0),s<8?e.set(8,n-s-1,o,!0):s<9?e.set(8,15-s-1+1,o,!0):e.set(8,15-s-1,o,!0);e.set(n-8,8,1,!0)}function X3(e,t,r){const n=new j3;r.forEach((function(t){n.put(t.mode.bit,4),n.put(t.getLength(),G3.getCharCountIndicator(t.mode,e)),t.write(n)}));const i=8*(L3.getSymbolTotalCodewords(e)-Z3.getTotalCodewordsCount(e,t));for(n.getLengthInBits()+4<=i&&n.put(0,4);n.getLengthInBits()%8!=0;)n.putBit(0);const s=(i-n.getLengthInBits())/8;for(let e=0;e<s;e++)n.put(e%2?17:236,8);return function(e,t,r){const n=L3.getSymbolTotalCodewords(t),i=Z3.getTotalCodewordsCount(t,r),s=n-i,o=Z3.getBlocksCount(t,r),a=n%o,c=o-a,l=Math.floor(n/o),d=Math.floor(s/o),u=d+1,h=l-d,p=new q3(h);let f=0;const g=new Array(o),m=new Array(o);let y=0;const w=new Uint8Array(e.buffer);for(let e=0;e<o;e++){const t=e<c?d:u;g[e]=w.slice(f,f+t),m[e]=p.encode(g[e]),f+=t,y=Math.max(y,t)}const b=new Uint8Array(n);let v,E,A=0;for(v=0;v<y;v++)for(E=0;E<o;E++)v<g[E].length&&(b[A++]=g[E][v]);for(v=0;v<h;v++)for(E=0;E<o;E++)b[A++]=m[E][v];return b}(n,e,t)}function Q3(e,t,r,n){let i;if(Array.isArray(e))i=Y3.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");{let n=t;if(!n){const t=Y3.rawSplit(e);n=W3.getBestVersionForData(t,r)}i=Y3.fromString(e,n||40)}}const s=W3.getBestVersionForData(i,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<s)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+s+".\n")}else t=s;const o=X3(t,r,i),a=L3.getSymbolSize(t),c=new H3(a);return function(e,t){const r=e.size,n=F3.getPositions(t);for(let t=0;t<n.length;t++){const i=n[t][0],s=n[t][1];for(let t=-1;t<=7;t++)if(!(i+t<=-1||r<=i+t))for(let n=-1;n<=7;n++)s+n<=-1||r<=s+n||(t>=0&&t<=6&&(0===n||6===n)||n>=0&&n<=6&&(0===t||6===t)||t>=2&&t<=4&&n>=2&&n<=4?e.set(i+t,s+n,!0,!0):e.set(i+t,s+n,!1,!0))}}(c,t),function(e){const t=e.size;for(let r=8;r<t-8;r++){const t=r%2==0;e.set(r,6,t,!0),e.set(6,r,t,!0)}}(c),function(e,t){const r=z3.getPositions(t);for(let t=0;t<r.length;t++){const n=r[t][0],i=r[t][1];for(let t=-2;t<=2;t++)for(let r=-2;r<=2;r++)-2===t||2===t||-2===r||2===r||0===t&&0===r?e.set(n+t,i+r,!0,!0):e.set(n+t,i+r,!1,!0)}}(c,t),J3(c,r,0),t>=7&&function(e,t){const r=e.size,n=W3.getEncodedBits(t);let i,s,o;for(let t=0;t<18;t++)i=Math.floor(t/3),s=t%3+r-8-3,o=1==(n>>t&1),e.set(i,s,o,!0),e.set(s,i,o,!0)}(c,t),function(e,t){const r=e.size;let n=-1,i=r-1,s=7,o=0;for(let a=r-1;a>0;a-=2)for(6===a&&a--;;){for(let r=0;r<2;r++)if(!e.isReserved(i,a-r)){let n=!1;o<t.length&&(n=1==(t[o]>>>s&1)),e.set(i,a-r,n),s--,-1===s&&(o++,s=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}(c,o),isNaN(n)&&(n=V3.getBestMask(c,J3.bind(null,c,r))),V3.applyMask(n,c),J3(c,r,n),{modules:c,version:t,errorCorrectionLevel:r,maskPattern:n,segments:i}}L5.create=function(e,t){if(typeof e>"u"||""===e)throw new Error("No input text");let r,n,i=D3.M;return typeof t<"u"&&(i=D3.from(t.errorCorrectionLevel,D3.M),r=W3.from(t.version),n=V3.from(t.maskPattern),t.toSJISFunc&&L3.setToSJISFunction(t.toSJISFunc)),Q3(e,r,i,n)};var e9={},t9={};(function(e){function t(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);(3===t.length||4===t.length)&&(t=Array.prototype.concat.apply([],t.map((function(e){return[e,e]})))),6===t.length&&t.push("F","F");const r=parseInt(t.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:255&r,hex:"#"+t.slice(0,6).join("")}}e.getOptions=function(e){e||(e={}),e.color||(e.color={});const r=typeof e.margin>"u"||null===e.margin||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:n,scale:n?4:i,margin:r,color:{dark:t(e.color.dark||"#000000ff"),light:t(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},e.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},e.getImageWidth=function(t,r){const n=e.getScale(t,r);return Math.floor((t+2*r.margin)*n)},e.qrToImageData=function(t,r,n){const i=r.modules.size,s=r.modules.data,o=e.getScale(i,n),a=Math.floor((i+2*n.margin)*o),c=n.margin*o,l=[n.color.light,n.color.dark];for(let e=0;e<a;e++)for(let r=0;r<a;r++){let d=4*(e*a+r),u=n.color.light;if(e>=c&&r>=c&&e<a-c&&r<a-c){u=l[s[Math.floor((e-c)/o)*i+Math.floor((r-c)/o)]?1:0]}t[d++]=u.r,t[d++]=u.g,t[d++]=u.b,t[d]=u.a}}})(t9),function(e){const t=t9;e.render=function(e,r,n){let i=n,s=r;typeof i>"u"&&(!r||!r.getContext)&&(i=r,r=void 0),r||(s=function(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),i=t.getOptions(i);const o=t.getImageWidth(e.modules.size,i),a=s.getContext("2d"),c=a.createImageData(o,o);return t.qrToImageData(c.data,e,i),function(e,t,r){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=r,t.width=r,t.style.height=r+"px",t.style.width=r+"px"}(a,s,o),a.putImageData(c,0,0),s},e.renderToDataURL=function(t,r,n){let i=n;typeof i>"u"&&(!r||!r.getContext)&&(i=r,r=void 0),i||(i={});const s=e.render(t,r,i),o=i.type||"image/png",a=i.rendererOpts||{};return s.toDataURL(o,a.quality)}}(e9);var r9={};const n9=t9;function i9(e,t){const r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function s9(e,t,r){let n=e+t;return typeof r<"u"&&(n+=" "+r),n}r9.render=function(e,t,r){const n=n9.getOptions(t),i=e.modules.size,s=e.modules.data,o=i+2*n.margin,a=n.color.light.a?"<path "+i9(n.color.light,"fill")+' d="M0 0h'+o+"v"+o+'H0z"/>':"",c="<path "+i9(n.color.dark,"stroke")+' d="'+function(e,t,r){let n="",i=0,s=!1,o=0;for(let a=0;a<e.length;a++){const c=Math.floor(a%t),l=Math.floor(a/t);!c&&!s&&(s=!0),e[a]?(o++,a>0&&c>0&&e[a-1]||(n+=s?s9("M",c+r,.5+l+r):s9("m",i,0),i=0,s=!1),c+1<t&&e[a+1]||(n+=s9("h",o),o=0)):i++}return n}(s,i,n.margin)+'"/>',l='viewBox="0 0 '+o+" "+o+'"',d='<svg xmlns="http://www.w3.org/2000/svg" '+(n.width?'width="'+n.width+'" height="'+n.width+'" ':"")+l+' shape-rendering="crispEdges">'+a+c+"</svg>\n";return"function"==typeof r&&r(null,d),d};const o9=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then},a9=L5,c9=e9,l9=r9;function d9(e,t,r,n,i){const s=[].slice.call(arguments,1),o=s.length,a="function"==typeof s[o-1];if(!a&&!o9())throw new Error("Callback required as last argument");if(!a){if(o<1)throw new Error("Too few arguments provided");return 1===o?(r=t,t=n=void 0):2===o&&!t.getContext&&(n=r,r=t,t=void 0),new Promise((function(i,s){try{const s=a9.create(r,n);i(e(s,t,n))}catch(e){s(e)}}))}if(o<2)throw new Error("Too few arguments provided");2===o?(i=r,r=t,t=n=void 0):3===o&&(t.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=t,t=void 0));try{const s=a9.create(r,n);i(null,e(s,t,n))}catch(e){i(e)}}U5.create=a9.create,U5.toCanvas=d9.bind(null,c9.render),U5.toDataURL=d9.bind(null,c9.renderToDataURL),U5.toString=d9.bind(null,(function(e,t,r){return l9.render(e,r)}));function u9(e,t,r){return e!==t&&(e-t<0?t-e:e-t)<=r+.1}const h9={generate({uri:e,size:t,logoSize:r,padding:n=8,dotColor:i="var(--apkt-colors-black)"}){const s=[],o=function(e,t){const r=Array.prototype.slice.call(U5.create(e,{errorCorrectionLevel:t}).modules.data,0),n=Math.sqrt(r.length);return r.reduce(((e,t,r)=>(r%n==0?e.push([t]):e[e.length-1].push(t))&&e),[])}(e,"Q"),a=(t-2*n)/o.length,c=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];c.forEach((({x:e,y:t})=>{const r=(o.length-7)*a*e+n,l=(o.length-7)*a*t+n,d=.45;for(let e=0;e<c.length;e+=1){const t=a*(7-2*e);s.push(w6`
            <rect
              fill=${2===e?"var(--apkt-colors-black)":"var(--apkt-colors-white)"}
              width=${0===e?t-10:t}
              rx= ${0===e?(t-10)*d:t*d}
              ry= ${0===e?(t-10)*d:t*d}
              stroke=${i}
              stroke-width=${0===e?10:0}
              height=${0===e?t-10:t}
              x= ${0===e?l+a*e+5:l+a*e}
              y= ${0===e?r+a*e+5:r+a*e}
            />
          `)}}));const l=Math.floor((r+25)/a),d=o.length/2-l/2,u=o.length/2+l/2-1,h=[];o.forEach(((e,t)=>{e.forEach(((e,r)=>{if(o[t][r]&&!(t<7&&r<7||t>o.length-8&&r<7||t<7&&r>o.length-8)&&!(t>d&&t<u&&r>d&&r<u)){const e=t*a+a/2+n,i=r*a+a/2+n;h.push([e,i])}}))}));const p={};return h.forEach((([e,t])=>{p[e]?p[e]?.push(t):p[e]=[t]})),Object.entries(p).map((([e,t])=>{const r=t.filter((e=>t.every((t=>!u9(e,t,a)))));return[Number(e),r]})).forEach((([e,t])=>{t.forEach((t=>{s.push(w6`<circle cx=${e} cy=${t} fill=${i} r=${a/2.5} />`)}))})),Object.entries(p).filter((([e,t])=>t.length>1)).map((([e,t])=>{const r=t.filter((e=>t.some((t=>u9(e,t,a)))));return[Number(e),r]})).map((([e,t])=>{t.sort(((e,t)=>e<t?-1:1));const r=[];for(const e of t){const t=r.find((t=>t.some((t=>u9(e,t,a)))));t?t.push(e):r.push([e])}return[e,r.map((e=>[e[0],e[e.length-1]]))]})).forEach((([e,t])=>{t.forEach((([t,r])=>{s.push(w6`
              <line
                x1=${e}
                x2=${e}
                y1=${t}
                y2=${r}
                stroke=${i}
                stroke-width=${a/1.25}
                stroke-linecap="round"
              />
            `)}))})),s}};var p9=z6`
  :host {
    position: relative;
    user-select: none;
    display: block;
    overflow: hidden;
    aspect-ratio: 1 / 1;
    width: 100%;
    height: 100%;
    background-color: ${({colors:e})=>e.white};
    border: 1px solid ${({tokens:e})=>e.theme.borderPrimary};
  }

  :host {
    border-radius: ${({borderRadius:e})=>e[4]};
    display: flex;
    align-items: center;
    justify-content: center;
  }

  :host([data-clear='true']) > wui-icon {
    display: none;
  }

  svg:first-child,
  wui-image,
  wui-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateY(-50%) translateX(-50%);
    background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    box-shadow: inset 0 0 0 4px ${({tokens:e})=>e.theme.backgroundPrimary};
    border-radius: ${({borderRadius:e})=>e[6]};
  }

  wui-image {
    width: 25%;
    height: 25%;
    border-radius: ${({borderRadius:e})=>e[2]};
  }

  wui-icon {
    width: 100%;
    height: 100%;
    color: #3396ff !important;
    transform: translateY(-50%) translateX(-50%) scale(0.25);
  }

  wui-icon > svg {
    width: inherit;
    height: inherit;
  }
`,f9=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let g9=class extends B6{constructor(){super(...arguments),this.uri="",this.size=500,this.theme="dark",this.imageSrc=void 0,this.alt=void 0,this.arenaClear=void 0,this.farcaster=void 0}render(){return this.dataset.theme=this.theme,this.dataset.clear=String(this.arenaClear),y6`<wui-flex
      alignItems="center"
      justifyContent="center"
      class="wui-qr-code"
      direction="column"
      gap="4"
      width="100%"
      style="height: 100%"
    >
      ${this.templateVisual()} ${this.templateSvg()}
    </wui-flex>`}templateSvg(){return w6`
      <svg viewBox="0 0 ${this.size} ${this.size}" width="100%" height="100%">
        ${h9.generate({uri:this.uri,size:this.size,logoSize:this.arenaClear?0:this.size/4})}
      </svg>
    `}templateVisual(){return this.imageSrc?y6`<wui-image src=${this.imageSrc} alt=${this.alt??"logo"}></wui-image>`:this.farcaster?y6`<wui-icon
        class="farcaster"
        size="inherit"
        color="inherit"
        name="farcaster"
      ></wui-icon>`:y6`<wui-icon size="inherit" color="inherit" name="walletConnect"></wui-icon>`}};g9.styles=[X6,p9],f9([R8()],g9.prototype,"uri",void 0),f9([R8({type:Number})],g9.prototype,"size",void 0),f9([R8()],g9.prototype,"theme",void 0),f9([R8()],g9.prototype,"imageSrc",void 0),f9([R8()],g9.prototype,"alt",void 0),f9([R8({type:Boolean})],g9.prototype,"arenaClear",void 0),f9([R8({type:Boolean})],g9.prototype,"farcaster",void 0),g9=f9([r8("wui-qr-code")],g9);var m9=z6`
  :host {
    display: block;
    background: linear-gradient(
      90deg,
      ${({tokens:e})=>e.theme.foregroundSecondary} 0%,
      ${({tokens:e})=>e.theme.foregroundTertiary} 50%,
      ${({tokens:e})=>e.theme.foregroundSecondary} 100%
    );
    background-size: 200% 100%;
    animation: shimmer 1s ease-in-out infinite;
    border-radius: ${({borderRadius:e})=>e[2]};
  }

  :host([data-rounded='true']) {
    border-radius: ${({borderRadius:e})=>e[16]};
  }

  @keyframes shimmer {
    0% {
      background-position: 200% 0;
    }
    100% {
      background-position: -200% 0;
    }
  }
`,y9=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let w9=class extends B6{constructor(){super(...arguments),this.width="",this.height="",this.variant="default",this.rounded=!1}render(){return this.style.cssText=`\n      width: ${this.width};\n      height: ${this.height};\n    `,this.dataset.rounded=this.rounded?"true":"false",y6`<slot></slot>`}};w9.styles=[m9],y9([R8()],w9.prototype,"width",void 0),y9([R8()],w9.prototype,"height",void 0),y9([R8()],w9.prototype,"variant",void 0),y9([R8({type:Boolean})],w9.prototype,"rounded",void 0),w9=y9([r8("wui-shimmer")],w9);var b9=z6`
  .reown-logo {
    height: 24px;
  }

  a {
    text-decoration: none;
    cursor: pointer;
    color: ${({tokens:e})=>e.theme.textSecondary};
  }

  a:hover {
    opacity: 0.9;
  }
`;let v9=class extends B6{render(){return y6`
      <a
        data-testid="ux-branding-reown"
        href=${"https://reown.com"}
        rel="noreferrer"
        target="_blank"
        style="text-decoration: none;"
      >
        <wui-flex
          justifyContent="center"
          alignItems="center"
          gap="1"
          .padding=${["01","0","3","0"]}
        >
          <wui-text variant="sm-regular" color="inherit"> UX by </wui-text>
          <wui-icon name="reown" size="inherit" class="reown-logo"></wui-icon>
        </wui-flex>
      </a>
    `}};v9.styles=[X6,Q6,b9],v9=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}([r8("wui-ux-by-reown")],v9);var E9=z6`
  wui-shimmer {
    width: 100%;
    aspect-ratio: 1 / 1;
    border-radius: ${({borderRadius:e})=>e[4]};
  }

  wui-qr-code {
    opacity: 0;
    animation-duration: ${({durations:e})=>e.xl};
    animation-timing-function: ${({easings:e})=>e["ease-out-power-2"]};
    animation-name: fade-in;
    animation-fill-mode: forwards;
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
`,A9=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let x9=class extends N5{constructor(){super(),this.basic=!1}firstUpdated(){this.basic||K0.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet?.name??"WalletConnect",platform:"qrcode",displayIndex:this.wallet?.display_index,walletRank:this.wallet?.order,view:t1.state.view}})}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribe?.forEach((e=>e()))}render(){return this.onRenderProxy(),y6`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["0","5","5","5"]}
        gap="5"
      >
        <wui-shimmer width="100%"> ${this.qrCodeTemplate()} </wui-shimmer>
        <wui-text variant="lg-medium" color="primary"> Scan this QR Code with your phone </wui-text>
        ${this.copyTemplate()}
      </wui-flex>
      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}onRenderProxy(){!this.ready&&this.uri&&(this.ready=!0)}qrCodeTemplate(){if(!this.uri||!this.ready)return null;const e=this.wallet?this.wallet.name:void 0;return w1.setWcLinking(void 0),w1.setRecentWallet(this.wallet),y6` <wui-qr-code
      theme=${i1.state.themeMode}
      uri=${this.uri}
      imageSrc=${L8(F0.getWalletImage(this.wallet))}
      color=${L8(i1.state.themeVariables["--w3m-qr-color"])}
      alt=${L8(e)}
      data-testid="wui-qr-code"
    ></wui-qr-code>`}copyTemplate(){const e=!this.uri||!this.ready;return y6`<wui-button
      .disabled=${e}
      @click=${this.onCopyUri}
      variant="neutral-secondary"
      size="sm"
      data-testid="copy-wc2-uri"
    >
      Copy link
      <wui-icon size="sm" color="inherit" name="copy" slot="iconRight"></wui-icon>
    </wui-button>`}};x9.styles=E9,A9([R8({type:Boolean})],x9.prototype,"basic",void 0),x9=A9([r8("w3m-connecting-wc-qrcode")],x9);let C9=class extends B6{constructor(){if(super(),this.wallet=t1.state.data?.wallet,!this.wallet)throw new Error("w3m-connecting-wc-unsupported: No wallet provided");K0.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser",displayIndex:this.wallet?.display_index,walletRank:this.wallet?.order,view:t1.state.view}})}render(){return y6`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["10","5","5","5"]}
        gap="5"
      >
        <wui-wallet-image
          size="lg"
          imageSrc=${L8(F0.getWalletImage(this.wallet))}
        ></wui-wallet-image>

        <wui-text variant="md-regular" color="primary">Not Detected</wui-text>
      </wui-flex>

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}};C9=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}([r8("w3m-connecting-wc-unsupported")],C9);var S9=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let I9=class extends N5{constructor(){if(super(),this.isLoading=!0,!this.wallet)throw new Error("w3m-connecting-wc-web: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.secondaryBtnLabel="Open",this.secondaryLabel=R$.CONNECT_LABELS.MOBILE,this.secondaryBtnIcon="externalLink",this.updateLoadingState(),this.unsubscribe.push(w1.subscribeKey("wcUri",(()=>{this.updateLoadingState()}))),K0.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"web",displayIndex:this.wallet?.display_index,walletRank:this.wallet?.order,view:t1.state.view}})}updateLoadingState(){this.isLoading=!this.uri}onConnectProxy(){if(this.wallet?.webapp_link&&this.uri)try{this.error=!1;const{webapp_link:e,name:t}=this.wallet,{redirect:r,href:n}=B$.formatUniversalUrl(e,this.uri);w1.setWcLinking({name:t,href:n}),w1.setRecentWallet(this.wallet),B$.openHref(r,"_blank")}catch{this.error=!0}}};S9([$8()],I9.prototype,"isLoading",void 0),I9=S9([r8("w3m-connecting-wc-web")],I9);var _9=z6`
  :host([data-mobile-fullscreen='true']) {
    height: 100%;
    display: flex;
    flex-direction: column;
  }

  :host([data-mobile-fullscreen='true']) wui-ux-by-reown {
    margin-top: auto;
  }
`,k9=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let P9=class extends B6{constructor(){super(),this.wallet=t1.state.data?.wallet,this.unsubscribe=[],this.platform=void 0,this.platforms=[],this.isSiwxEnabled=!!A0.state.siwx,this.remoteFeatures=A0.state.remoteFeatures,this.displayBranding=!0,this.basic=!1,this.determinePlatforms(),this.initializeConnection(),this.unsubscribe.push(A0.subscribeKey("remoteFeatures",(e=>this.remoteFeatures=e)))}disconnectedCallback(){this.unsubscribe.forEach((e=>e()))}render(){return A0.state.enableMobileFullScreen&&this.setAttribute("data-mobile-fullscreen","true"),y6`
      ${this.headerTemplate()}
      <div class="platform-container">${this.platformTemplate()}</div>
      ${this.reownBrandingTemplate()}
    `}reownBrandingTemplate(){return this.remoteFeatures?.reownBranding&&this.displayBranding?y6`<wui-ux-by-reown></wui-ux-by-reown>`:null}async initializeConnection(e=!1){if("browser"!==this.platform&&(!A0.state.manualWCControl||e))try{const{wcPairingExpiry:t,status:r}=w1.state,{redirectView:n}=t1.state.data??{};if(e||A0.state.enableEmbedded||B$.isPairingExpired(t)||"connecting"===r){const e=w1.getConnections(L1.state.activeChain),t=this.remoteFeatures?.multiWallet,r=e.length>0;await w1.connectWalletConnect({cache:"never"}),this.isSiwxEnabled||(r&&t?(t1.replace("ProfileWallets"),S0.showSuccess("New Wallet Added")):n?t1.replace(n):H1.close())}}catch(e){if(e instanceof Error&&e.message.includes("An error occurred when attempting to switch chain")&&!A0.state.enableNetworkSwitch&&L1.state.activeChain)return L1.setActiveCaipNetwork(x2.getUnsupportedNetwork(`${L1.state.activeChain}:${L1.state.activeCaipNetwork?.id}`)),void L1.showUnsupportedChainUI();e instanceof M0&&e.originalName===OR.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST?K0.sendEvent({type:"track",event:"USER_REJECTED",properties:{message:e.message}}):K0.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:e?.message??"Unknown"}}),w1.setWcError(!0),S0.showError(e.message??"Connection error"),w1.resetWcConnection(),t1.goBack()}}determinePlatforms(){if(!this.wallet)return this.platforms.push("qrcode"),void(this.platform="qrcode");if(this.platform)return;const{mobile_link:e,desktop_link:t,webapp_link:r,injected:n,rdns:i}=this.wallet,s=n?.map((({injected_id:e})=>e)).filter(Boolean),o=[...i?[i]:s??[]],a=!A0.state.isUniversalProvider&&o.length,c=e,l=r,d=w1.checkInstalled(o),u=a&&d,h=t&&!B$.isMobile();u&&!L1.state.noAdapters&&this.platforms.push("browser"),c&&this.platforms.push(B$.isMobile()?"mobile":"qrcode"),l&&this.platforms.push("web"),h&&this.platforms.push("desktop"),!u&&a&&!L1.state.noAdapters&&this.platforms.push("unsupported"),this.platform=this.platforms[0]}platformTemplate(){switch(this.platform){case"browser":return y6`<w3m-connecting-wc-browser></w3m-connecting-wc-browser>`;case"web":return y6`<w3m-connecting-wc-web></w3m-connecting-wc-web>`;case"desktop":return y6`
          <w3m-connecting-wc-desktop .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-desktop>
        `;case"mobile":return y6`
          <w3m-connecting-wc-mobile isMobile .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-mobile>
        `;case"qrcode":return y6`<w3m-connecting-wc-qrcode ?basic=${this.basic}></w3m-connecting-wc-qrcode>`;default:return y6`<w3m-connecting-wc-unsupported></w3m-connecting-wc-unsupported>`}}headerTemplate(){return this.platforms.length>1?y6`
      <w3m-connecting-header
        .platforms=${this.platforms}
        .onSelectPlatfrom=${this.onSelectPlatform.bind(this)}
      >
      </w3m-connecting-header>
    `:null}async onSelectPlatform(e){const t=this.shadowRoot?.querySelector("div");t&&(await t.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.platform=e,t.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}};P9.styles=_9,k9([$8()],P9.prototype,"platform",void 0),k9([$8()],P9.prototype,"platforms",void 0),k9([$8()],P9.prototype,"isSiwxEnabled",void 0),k9([$8()],P9.prototype,"remoteFeatures",void 0),k9([R8({type:Boolean})],P9.prototype,"displayBranding",void 0),k9([R8({type:Boolean})],P9.prototype,"basic",void 0),P9=k9([r8("w3m-connecting-wc-view")],P9);var T9=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let O9=class extends B6{constructor(){super(),this.unsubscribe=[],this.isMobile=B$.isMobile(),this.remoteFeatures=A0.state.remoteFeatures,this.unsubscribe.push(A0.subscribeKey("remoteFeatures",(e=>this.remoteFeatures=e)))}disconnectedCallback(){this.unsubscribe.forEach((e=>e()))}render(){if(this.isMobile){const{featured:e,recommended:t}=X0.state,{customWallets:r}=A0.state,n=$$.getRecentWallets(),i=e.length||t.length||r?.length||n.length;return y6`<wui-flex flexDirection="column" gap="2" .margin=${["1","3","3","3"]}>
        ${i?y6`<w3m-connector-list></w3m-connector-list>`:null}
        <w3m-all-wallets-widget></w3m-all-wallets-widget>
      </wui-flex>`}return y6`<wui-flex flexDirection="column" .padding=${["0","0","4","0"]}>
        <w3m-connecting-wc-view ?basic=${!0} .displayBranding=${!1}></w3m-connecting-wc-view>
        <wui-flex flexDirection="column" .padding=${["0","3","0","3"]}>
          <w3m-all-wallets-widget></w3m-all-wallets-widget>
        </wui-flex>
      </wui-flex>
      ${this.reownBrandingTemplate()} `}reownBrandingTemplate(){return this.remoteFeatures?.reownBranding?y6` <wui-flex flexDirection="column" .padding=${["1","0","1","0"]}>
      <wui-ux-by-reown></wui-ux-by-reown>
    </wui-flex>`:null}};T9([$8()],O9.prototype,"isMobile",void 0),T9([$8()],O9.prototype,"remoteFeatures",void 0),O9=T9([r8("w3m-connecting-wc-basic-view")],O9);
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const N9=(e,t)=>{const r=e._$AN;if(void 0===r)return!1;for(const e of r)e._$AO?.(t,!1),N9(e,t);return!0},R9=e=>{let t,r;do{if(void 0===(t=e._$AM))break;r=t._$AN,r.delete(e),e=t}while(0===r?.size)},$9=e=>{for(let t;t=e._$AM;e=t){let r=t._$AN;if(void 0===r)t._$AN=r=new Set;else if(r.has(e))break;r.add(e),U9(t)}};
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function B9(e){void 0!==this._$AN?(R9(this),this._$AM=e,$9(this)):this._$AM=e}function M9(e,t=!1,r=0){const n=this._$AH,i=this._$AN;if(void 0!==i&&0!==i.size)if(t)if(Array.isArray(n))for(let e=r;e<n.length;e++)N9(n[e],!1),R9(n[e]);else null!=n&&(N9(n,!1),R9(n));else N9(this,e)}const U9=e=>{e.type==E4&&(e._$AP??=M9,e._$AQ??=B9)};class L9 extends x4{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,t,r){super._$AT(e,t,r),$9(this),this.isConnected=e._$AU}_$AO(e,t=!0){e!==this.isConnected&&(this.isConnected=e,e?this.reconnected?.():this.disconnected?.()),t&&(N9(this,e),R9(this))}setValue(e){if((e=>void 0===e.strings)(this._$Ct))this._$Ct._$AI(e,this);else{const t=[...this._$Ct._$AH];t[this._$Ci]=e,this._$Ct._$AI(t,this,0)}}disconnected(){}reconnected(){}}
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const D9=()=>new j9;class j9{}const H9=new WeakMap,z9=A4(class extends L9{render(e){return v6}update(e,[t]){const r=t!==this.G;return r&&void 0!==this.G&&this.rt(void 0),(r||this.lt!==this.ct)&&(this.G=t,this.ht=e.options?.host,this.rt(this.ct=e.element)),v6}rt(e){if(this.isConnected||(e=void 0),"function"==typeof this.G){const t=this.ht??globalThis;let r=H9.get(t);void 0===r&&(r=new WeakMap,H9.set(t,r)),void 0!==r.get(this.G)&&this.G.call(this.ht,void 0),r.set(this.G,e),void 0!==e&&this.G.call(this.ht,e)}else this.G.value=e}get lt(){return"function"==typeof this.G?H9.get(this.ht??globalThis)?.get(this.G):this.G?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});var F9=z6`
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  label {
    position: relative;
    display: inline-block;
    user-select: none;
    transition:
      background-color ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      color ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      border ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      box-shadow ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      width ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      height ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      transform ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      opacity ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]};
    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
  }

  input {
    width: 0;
    height: 0;
    opacity: 0;
  }

  span {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: ${({colors:e})=>e.neutrals300};
    border-radius: ${({borderRadius:e})=>e.round};
    border: 1px solid transparent;
    will-change: border;
    transition:
      background-color ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      color ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      border ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      box-shadow ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      width ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      height ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      transform ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      opacity ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]};
    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
  }

  span:before {
    content: '';
    position: absolute;
    background-color: ${({colors:e})=>e.white};
    border-radius: 50%;
  }

  /* -- Sizes --------------------------------------------------------- */
  label[data-size='lg'] {
    width: 48px;
    height: 32px;
  }

  label[data-size='md'] {
    width: 40px;
    height: 28px;
  }

  label[data-size='sm'] {
    width: 32px;
    height: 22px;
  }

  label[data-size='lg'] > span:before {
    height: 24px;
    width: 24px;
    left: 4px;
    top: 3px;
  }

  label[data-size='md'] > span:before {
    height: 20px;
    width: 20px;
    left: 4px;
    top: 3px;
  }

  label[data-size='sm'] > span:before {
    height: 16px;
    width: 16px;
    left: 3px;
    top: 2px;
  }

  /* -- Focus states --------------------------------------------------- */
  input:focus-visible:not(:checked) + span,
  input:focus:not(:checked) + span {
    border: 1px solid ${({tokens:e})=>e.core.iconAccentPrimary};
    background-color: ${({tokens:e})=>e.theme.textTertiary};
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  input:focus-visible:checked + span,
  input:focus:checked + span {
    border: 1px solid ${({tokens:e})=>e.core.iconAccentPrimary};
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  /* -- Checked states --------------------------------------------------- */
  input:checked + span {
    background-color: ${({tokens:e})=>e.core.iconAccentPrimary};
  }

  label[data-size='lg'] > input:checked + span:before {
    transform: translateX(calc(100% - 9px));
  }

  label[data-size='md'] > input:checked + span:before {
    transform: translateX(calc(100% - 9px));
  }

  label[data-size='sm'] > input:checked + span:before {
    transform: translateX(calc(100% - 7px));
  }

  /* -- Hover states ------------------------------------------------------- */
  label:hover > input:not(:checked):not(:disabled) + span {
    background-color: ${({colors:e})=>e.neutrals400};
  }

  label:hover > input:checked:not(:disabled) + span {
    background-color: ${({colors:e})=>e.accent080};
  }

  /* -- Disabled state --------------------------------------------------- */
  label:has(input:disabled) {
    pointer-events: none;
    user-select: none;
  }

  input:not(:checked):disabled + span {
    background-color: ${({colors:e})=>e.neutrals700};
  }

  input:checked:disabled + span {
    background-color: ${({colors:e})=>e.neutrals700};
  }

  input:not(:checked):disabled + span::before {
    background-color: ${({colors:e})=>e.neutrals400};
  }

  input:checked:disabled + span::before {
    background-color: ${({tokens:e})=>e.theme.textTertiary};
  }
`,V9=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let Z9=class extends B6{constructor(){super(...arguments),this.inputElementRef=D9(),this.checked=!1,this.disabled=!1,this.size="md"}render(){return y6`
      <label data-size=${this.size}>
        <input
          ${z9(this.inputElementRef)}
          type="checkbox"
          ?checked=${this.checked}
          ?disabled=${this.disabled}
          @change=${this.dispatchChangeEvent.bind(this)}
        />
        <span></span>
      </label>
    `}dispatchChangeEvent(){this.dispatchEvent(new CustomEvent("switchChange",{detail:this.inputElementRef.value?.checked,bubbles:!0,composed:!0}))}};Z9.styles=[X6,Q6,F9],V9([R8({type:Boolean})],Z9.prototype,"checked",void 0),V9([R8({type:Boolean})],Z9.prototype,"disabled",void 0),V9([R8()],Z9.prototype,"size",void 0),Z9=V9([r8("wui-toggle")],Z9);var q9=z6`
  :host {
    height: auto;
  }

  :host > wui-flex {
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    column-gap: ${({spacing:e})=>e[2]};
    padding: ${({spacing:e})=>e[2]} ${({spacing:e})=>e[3]};
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    border-radius: ${({borderRadius:e})=>e[4]};
    box-shadow: inset 0 0 0 1px ${({tokens:e})=>e.theme.foregroundPrimary};
    transition: background-color ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-2"]};
    will-change: background-color;
    cursor: pointer;
  }

  wui-switch {
    pointer-events: none;
  }
`,W9=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let K9=class extends B6{constructor(){super(...arguments),this.checked=!1}render(){return y6`
      <wui-flex>
        <wui-icon size="xl" name="walletConnectBrown"></wui-icon>
        <wui-toggle
          ?checked=${this.checked}
          size="sm"
          @switchChange=${this.handleToggleChange.bind(this)}
        ></wui-toggle>
      </wui-flex>
    `}handleToggleChange(e){e.stopPropagation(),this.checked=e.detail,this.dispatchSwitchEvent()}dispatchSwitchEvent(){this.dispatchEvent(new CustomEvent("certifiedSwitchChange",{detail:this.checked,bubbles:!0,composed:!0}))}};K9.styles=[X6,Q6,q9],W9([R8({type:Boolean})],K9.prototype,"checked",void 0),K9=W9([r8("wui-certified-switch")],K9);var G9=z6`
  :host {
    position: relative;
    width: 100%;
    display: inline-flex;
    flex-direction: column;
    gap: ${({spacing:e})=>e[3]};
    color: ${({tokens:e})=>e.theme.textPrimary};
    caret-color: ${({tokens:e})=>e.core.textAccentPrimary};
  }

  .wui-input-text-container {
    position: relative;
    display: flex;
  }

  input {
    width: 100%;
    border-radius: ${({borderRadius:e})=>e[4]};
    color: inherit;
    background: transparent;
    border: 1px solid ${({tokens:e})=>e.theme.borderPrimary};
    caret-color: ${({tokens:e})=>e.core.textAccentPrimary};
    padding: ${({spacing:e})=>e[3]} ${({spacing:e})=>e[3]}
      ${({spacing:e})=>e[3]} ${({spacing:e})=>e[10]};
    font-size: ${({textSize:e})=>e.large};
    line-height: ${({typography:e})=>e["lg-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["lg-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
  }

  input[data-size='lg'] {
    padding: ${({spacing:e})=>e[4]} ${({spacing:e})=>e[3]}
      ${({spacing:e})=>e[4]} ${({spacing:e})=>e[10]};
  }

  @media (hover: hover) and (pointer: fine) {
    input:hover:enabled {
      border: 1px solid ${({tokens:e})=>e.theme.borderSecondary};
    }
  }

  input:disabled {
    cursor: unset;
    border: 1px solid ${({tokens:e})=>e.theme.borderPrimary};
  }

  input::placeholder {
    color: ${({tokens:e})=>e.theme.textSecondary};
  }

  input:focus:enabled {
    border: 1px solid ${({tokens:e})=>e.theme.borderSecondary};
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    -webkit-box-shadow: 0px 0px 0px 4px ${({tokens:e})=>e.core.foregroundAccent040};
    -moz-box-shadow: 0px 0px 0px 4px ${({tokens:e})=>e.core.foregroundAccent040};
    box-shadow: 0px 0px 0px 4px ${({tokens:e})=>e.core.foregroundAccent040};
  }

  div.wui-input-text-container:has(input:disabled) {
    opacity: 0.5;
  }

  wui-icon.wui-input-text-left-icon {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
    left: ${({spacing:e})=>e[4]};
    color: ${({tokens:e})=>e.theme.iconDefault};
  }

  button.wui-input-text-submit-button {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    right: ${({spacing:e})=>e[3]};
    width: 24px;
    height: 24px;
    border: none;
    background: transparent;
    border-radius: ${({borderRadius:e})=>e[2]};
    color: ${({tokens:e})=>e.core.textAccentPrimary};
  }

  button.wui-input-text-submit-button:disabled {
    opacity: 1;
  }

  button.wui-input-text-submit-button.loading wui-icon {
    animation: spin 1s linear infinite;
  }

  button.wui-input-text-submit-button:hover {
    background: ${({tokens:e})=>e.core.foregroundAccent010};
  }

  input:has(+ .wui-input-text-submit-button) {
    padding-right: ${({spacing:e})=>e[12]};
  }

  input[type='number'] {
    -moz-appearance: textfield;
  }

  input[type='search']::-webkit-search-decoration,
  input[type='search']::-webkit-search-cancel-button,
  input[type='search']::-webkit-search-results-button,
  input[type='search']::-webkit-search-results-decoration {
    -webkit-appearance: none;
  }

  /* -- Keyframes --------------------------------------------------- */
  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
`,Y9=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let J9=class extends B6{constructor(){super(...arguments),this.inputElementRef=D9(),this.disabled=!1,this.loading=!1,this.placeholder="",this.type="text",this.value="",this.size="md"}render(){return y6` <div class="wui-input-text-container">
        ${this.templateLeftIcon()}
        <input
          data-size=${this.size}
          ${z9(this.inputElementRef)}
          data-testid="wui-input-text"
          type=${this.type}
          enterkeyhint=${L8(this.enterKeyHint)}
          ?disabled=${this.disabled}
          placeholder=${this.placeholder}
          @input=${this.dispatchInputChangeEvent.bind(this)}
          @keydown=${this.onKeyDown}
          .value=${this.value||""}
        />
        ${this.templateSubmitButton()}
        <slot class="wui-input-text-slot"></slot>
      </div>
      ${this.templateError()} ${this.templateWarning()}`}templateLeftIcon(){return this.icon?y6`<wui-icon
        class="wui-input-text-left-icon"
        size="md"
        data-size=${this.size}
        color="inherit"
        name=${this.icon}
      ></wui-icon>`:null}templateSubmitButton(){return this.onSubmit?y6`<button
        class="wui-input-text-submit-button ${this.loading?"loading":""}"
        @click=${this.onSubmit?.bind(this)}
        ?disabled=${this.disabled||this.loading}
      >
        ${this.loading?y6`<wui-icon name="spinner" size="md"></wui-icon>`:y6`<wui-icon name="chevronRight" size="md"></wui-icon>`}
      </button>`:null}templateError(){return this.errorText?y6`<wui-text variant="sm-regular" color="error">${this.errorText}</wui-text>`:null}templateWarning(){return this.warningText?y6`<wui-text variant="sm-regular" color="warning">${this.warningText}</wui-text>`:null}dispatchInputChangeEvent(){this.dispatchEvent(new CustomEvent("inputChange",{detail:this.inputElementRef.value?.value,bubbles:!0,composed:!0}))}};J9.styles=[X6,Q6,G9],Y9([R8()],J9.prototype,"icon",void 0),Y9([R8({type:Boolean})],J9.prototype,"disabled",void 0),Y9([R8({type:Boolean})],J9.prototype,"loading",void 0),Y9([R8()],J9.prototype,"placeholder",void 0),Y9([R8()],J9.prototype,"type",void 0),Y9([R8()],J9.prototype,"value",void 0),Y9([R8()],J9.prototype,"errorText",void 0),Y9([R8()],J9.prototype,"warningText",void 0),Y9([R8()],J9.prototype,"onSubmit",void 0),Y9([R8()],J9.prototype,"size",void 0),Y9([R8({attribute:!1})],J9.prototype,"onKeyDown",void 0),J9=Y9([r8("wui-input-text")],J9);var X9=z6`
  :host {
    position: relative;
    display: inline-block;
    width: 100%;
  }

  wui-icon {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    right: ${({spacing:e})=>e[3]};
    color: ${({tokens:e})=>e.theme.iconDefault};
    cursor: pointer;
    padding: ${({spacing:e})=>e[2]};
    background-color: transparent;
    border-radius: ${({borderRadius:e})=>e[4]};
    transition: background-color ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-2"]};
  }

  @media (hover: hover) {
    wui-icon:hover {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }
  }
`,Q9=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let e7=class extends B6{constructor(){super(...arguments),this.inputComponentRef=D9(),this.inputValue=""}render(){return y6`
      <wui-input-text
        ${z9(this.inputComponentRef)}
        placeholder="Search wallet"
        icon="search"
        type="search"
        enterKeyHint="search"
        size="sm"
        @inputChange=${this.onInputChange}
      >
        ${this.inputValue?y6`<wui-icon
              @click=${this.clearValue}
              color="inherit"
              size="sm"
              name="close"
            ></wui-icon>`:null}
      </wui-input-text>
    `}onInputChange(e){this.inputValue=e.detail||""}clearValue(){const e=this.inputComponentRef.value?.inputElementRef.value;e&&(e.value="",this.inputValue="",e.focus(),e.dispatchEvent(new Event("input")))}};e7.styles=[X6,X9],Q9([R8()],e7.prototype,"inputValue",void 0),e7=Q9([r8("wui-search-bar")],e7);const t7=w6`<svg  viewBox="0 0 48 54" fill="none">
  <path
    d="M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z"
  />
</svg>`;var r7=z6`
  :host {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 104px;
    width: 104px;
    row-gap: ${({spacing:e})=>e[2]};
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    border-radius: ${({borderRadius:e})=>e[5]};
    position: relative;
  }

  wui-shimmer[data-type='network'] {
    border: none;
    -webkit-clip-path: var(--apkt-path-network);
    clip-path: var(--apkt-path-network);
  }

  svg {
    position: absolute;
    width: 48px;
    height: 54px;
    z-index: 1;
  }

  svg > path {
    stroke: ${({tokens:e})=>e.theme.foregroundSecondary};
    stroke-width: 1px;
  }

  @media (max-width: 350px) {
    :host {
      width: 100%;
    }
  }
`,n7=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let i7=class extends B6{constructor(){super(...arguments),this.type="wallet"}render(){return y6`
      ${this.shimmerTemplate()}
      <wui-shimmer width="80px" height="20px"></wui-shimmer>
    `}shimmerTemplate(){return"network"===this.type?y6` <wui-shimmer data-type=${this.type} width="48px" height="54px"></wui-shimmer>
        ${t7}`:y6`<wui-shimmer width="56px" height="56px"></wui-shimmer>`}};i7.styles=[X6,Q6,r7],n7([R8()],i7.prototype,"type",void 0),i7=n7([r8("wui-card-select-loader")],i7);var s7=$2`
  :host {
    display: grid;
    width: inherit;
    height: inherit;
  }
`,o7=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let a7=class extends B6{render(){return this.style.cssText=`\n      grid-template-rows: ${this.gridTemplateRows};\n      grid-template-columns: ${this.gridTemplateColumns};\n      justify-items: ${this.justifyItems};\n      align-items: ${this.alignItems};\n      justify-content: ${this.justifyContent};\n      align-content: ${this.alignContent};\n      column-gap: ${this.columnGap&&`var(--apkt-spacing-${this.columnGap})`};\n      row-gap: ${this.rowGap&&`var(--apkt-spacing-${this.rowGap})`};\n      gap: ${this.gap&&`var(--apkt-spacing-${this.gap})`};\n      padding-top: ${this.padding&&t8.getSpacingStyles(this.padding,0)};\n      padding-right: ${this.padding&&t8.getSpacingStyles(this.padding,1)};\n      padding-bottom: ${this.padding&&t8.getSpacingStyles(this.padding,2)};\n      padding-left: ${this.padding&&t8.getSpacingStyles(this.padding,3)};\n      margin-top: ${this.margin&&t8.getSpacingStyles(this.margin,0)};\n      margin-right: ${this.margin&&t8.getSpacingStyles(this.margin,1)};\n      margin-bottom: ${this.margin&&t8.getSpacingStyles(this.margin,2)};\n      margin-left: ${this.margin&&t8.getSpacingStyles(this.margin,3)};\n    `,y6`<slot></slot>`}};a7.styles=[X6,s7],o7([R8()],a7.prototype,"gridTemplateRows",void 0),o7([R8()],a7.prototype,"gridTemplateColumns",void 0),o7([R8()],a7.prototype,"justifyItems",void 0),o7([R8()],a7.prototype,"alignItems",void 0),o7([R8()],a7.prototype,"justifyContent",void 0),o7([R8()],a7.prototype,"alignContent",void 0),o7([R8()],a7.prototype,"columnGap",void 0),o7([R8()],a7.prototype,"rowGap",void 0),o7([R8()],a7.prototype,"gap",void 0),o7([R8()],a7.prototype,"padding",void 0),o7([R8()],a7.prototype,"margin",void 0),a7=o7([r8("wui-grid")],a7);var c7=z6`
  button {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    width: 104px;
    row-gap: ${({spacing:e})=>e[2]};
    padding: ${({spacing:e})=>e[3]} ${({spacing:e})=>e[0]};
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    border-radius: clamp(0px, ${({borderRadius:e})=>e[4]}, 20px);
    transition:
      color ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-1"]},
      background-color ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-1"]},
      border-radius ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-1"]};
    will-change: background-color, color, border-radius;
    outline: none;
    border: none;
  }

  button > wui-flex > wui-text {
    color: ${({tokens:e})=>e.theme.textPrimary};
    max-width: 86px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    justify-content: center;
  }

  button > wui-flex > wui-text.certified {
    max-width: 66px;
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }
  }

  button:disabled > wui-flex > wui-text {
    color: ${({tokens:e})=>e.core.glass010};
  }

  [data-selected='true'] {
    background-color: ${({colors:e})=>e.accent020};
  }

  @media (hover: hover) and (pointer: fine) {
    [data-selected='true']:hover:enabled {
      background-color: ${({colors:e})=>e.accent010};
    }
  }

  [data-selected='true']:active:enabled {
    background-color: ${({colors:e})=>e.accent010};
  }

  @media (max-width: 350px) {
    button {
      width: 100%;
    }
  }
`,l7=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let d7=class extends B6{constructor(){super(),this.observer=new IntersectionObserver((()=>{})),this.visible=!1,this.imageSrc=void 0,this.imageLoading=!1,this.isImpressed=!1,this.explorerId="",this.walletQuery="",this.certified=!1,this.displayIndex=0,this.wallet=void 0,this.observer=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?(this.visible=!0,this.fetchImageSrc(),this.sendImpressionEvent()):this.visible=!1}))}),{threshold:.01})}firstUpdated(){this.observer.observe(this)}disconnectedCallback(){this.observer.disconnect()}render(){const e="certified"===this.wallet?.badge_type;return y6`
      <button>
        ${this.imageTemplate()}
        <wui-flex flexDirection="row" alignItems="center" justifyContent="center" gap="1">
          <wui-text
            variant="md-regular"
            color="inherit"
            class=${L8(e?"certified":void 0)}
            >${this.wallet?.name}</wui-text
          >
          ${e?y6`<wui-icon size="sm" name="walletConnectBrown"></wui-icon>`:null}
        </wui-flex>
      </button>
    `}imageTemplate(){return!this.visible&&!this.imageSrc||this.imageLoading?this.shimmerTemplate():y6`
      <wui-wallet-image
        size="lg"
        imageSrc=${L8(this.imageSrc)}
        name=${L8(this.wallet?.name)}
        .installed=${this.wallet?.installed??!1}
        badgeSize="sm"
      >
      </wui-wallet-image>
    `}shimmerTemplate(){return y6`<wui-shimmer width="56px" height="56px"></wui-shimmer>`}async fetchImageSrc(){this.wallet&&(this.imageSrc=F0.getWalletImage(this.wallet),!this.imageSrc&&(this.imageLoading=!0,this.imageSrc=await F0.fetchWalletImage(this.wallet.image_id),this.imageLoading=!1))}sendImpressionEvent(){!this.wallet||this.isImpressed||(this.isImpressed=!0,K0.sendWalletImpressionEvent({name:this.wallet.name,walletRank:this.wallet.order,explorerId:this.explorerId,view:t1.state.view,query:this.walletQuery,certified:this.certified,displayIndex:this.displayIndex}))}};d7.styles=c7,l7([$8()],d7.prototype,"visible",void 0),l7([$8()],d7.prototype,"imageSrc",void 0),l7([$8()],d7.prototype,"imageLoading",void 0),l7([$8()],d7.prototype,"isImpressed",void 0),l7([R8()],d7.prototype,"explorerId",void 0),l7([R8()],d7.prototype,"walletQuery",void 0),l7([R8()],d7.prototype,"certified",void 0),l7([R8()],d7.prototype,"displayIndex",void 0),l7([R8({type:Object})],d7.prototype,"wallet",void 0),d7=l7([r8("w3m-all-wallets-list-item")],d7);var u7=z6`
  wui-grid {
    max-height: clamp(360px, 400px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  :host([data-mobile-fullscreen='true']) wui-grid {
    max-height: none;
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  w3m-all-wallets-list-item {
    opacity: 0;
    animation-duration: ${({durations:e})=>e.xl};
    animation-timing-function: ${({easings:e})=>e["ease-inout-power-2"]};
    animation-name: fade-in;
    animation-fill-mode: forwards;
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  wui-loading-spinner {
    padding-top: ${({spacing:e})=>e[4]};
    padding-bottom: ${({spacing:e})=>e[4]};
    justify-content: center;
    grid-column: 1 / span 4;
  }
`,h7=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};const p7="local-paginator";let f7=class extends B6{constructor(){super(),this.unsubscribe=[],this.paginationObserver=void 0,this.loading=!X0.state.wallets.length,this.wallets=X0.state.wallets,this.recommended=X0.state.recommended,this.featured=X0.state.featured,this.filteredWallets=X0.state.filteredWallets,this.mobileFullScreen=A0.state.enableMobileFullScreen,this.unsubscribe.push(X0.subscribeKey("wallets",(e=>this.wallets=e)),X0.subscribeKey("recommended",(e=>this.recommended=e)),X0.subscribeKey("featured",(e=>this.featured=e)),X0.subscribeKey("filteredWallets",(e=>this.filteredWallets=e)))}firstUpdated(){this.initialFetch(),this.createPaginationObserver()}disconnectedCallback(){this.unsubscribe.forEach((e=>e())),this.paginationObserver?.disconnect()}render(){return this.mobileFullScreen&&this.setAttribute("data-mobile-fullscreen","true"),y6`
      <wui-grid
        data-scroll=${!this.loading}
        .padding=${["0","3","3","3"]}
        gap="2"
        justifyContent="space-between"
      >
        ${this.loading?this.shimmerTemplate(16):this.walletsTemplate()}
        ${this.paginationLoaderTemplate()}
      </wui-grid>
    `}async initialFetch(){this.loading=!0;const e=this.shadowRoot?.querySelector("wui-grid");e&&(await X0.fetchWalletsByPage({page:1}),await e.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.loading=!1,e.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}shimmerTemplate(e,t){return[...Array(e)].map((()=>y6`
        <wui-card-select-loader type="wallet" id=${L8(t)}></wui-card-select-loader>
      `))}getWallets(){const e=[...this.featured,...this.recommended];this.filteredWallets?.length>0?e.push(...this.filteredWallets):e.push(...this.wallets);const t=B$.uniqueBy(e,"id"),r=I2.markWalletsAsInstalled(t);return I2.markWalletsWithDisplayIndex(r)}walletsTemplate(){return this.getWallets().map(((e,t)=>y6`
        <w3m-all-wallets-list-item
          data-testid="wallet-search-item-${e.id}"
          @click=${()=>this.onConnectWallet(e)}
          .wallet=${e}
          explorerId=${e.id}
          certified=${"certified"===this.badge}
          displayIndex=${t}
        ></w3m-all-wallets-list-item>
      `))}paginationLoaderTemplate(){const{wallets:e,recommended:t,featured:r,count:n,mobileFilteredOutWalletsLength:i}=X0.state,s=window.innerWidth<352?3:4,o=e.length+t.length;let a=Math.ceil(o/s)*s-o+s;return a-=e.length?r.length%s:0,0===n&&r.length>0?null:0===n||[...r,...e,...t].length<n-(i??0)?this.shimmerTemplate(a,p7):null}createPaginationObserver(){const e=this.shadowRoot?.querySelector(`#${p7}`);e&&(this.paginationObserver=new IntersectionObserver((([e])=>{if(e?.isIntersecting&&!this.loading){const{page:e,count:t,wallets:r}=X0.state;r.length<t&&X0.fetchWalletsByPage({page:e+1})}})),this.paginationObserver.observe(e))}onConnectWallet(e){c1.selectWalletConnector(e)}};f7.styles=u7,h7([$8()],f7.prototype,"loading",void 0),h7([$8()],f7.prototype,"wallets",void 0),h7([$8()],f7.prototype,"recommended",void 0),h7([$8()],f7.prototype,"featured",void 0),h7([$8()],f7.prototype,"filteredWallets",void 0),h7([$8()],f7.prototype,"badge",void 0),h7([$8()],f7.prototype,"mobileFullScreen",void 0),f7=h7([r8("w3m-all-wallets-list")],f7);var g7=$2`
  wui-grid,
  wui-loading-spinner,
  wui-flex {
    height: 360px;
  }

  wui-grid {
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  :host([data-mobile-fullscreen='true']) wui-grid {
    max-height: none;
    height: auto;
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-loading-spinner {
    justify-content: center;
    align-items: center;
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
`,m7=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let y7=class extends B6{constructor(){super(...arguments),this.prevQuery="",this.prevBadge=void 0,this.loading=!0,this.mobileFullScreen=A0.state.enableMobileFullScreen,this.query=""}render(){return this.mobileFullScreen&&this.setAttribute("data-mobile-fullscreen","true"),this.onSearch(),this.loading?y6`<wui-loading-spinner color="accent-primary"></wui-loading-spinner>`:this.walletsTemplate()}async onSearch(){(this.query.trim()!==this.prevQuery.trim()||this.badge!==this.prevBadge)&&(this.prevQuery=this.query,this.prevBadge=this.badge,this.loading=!0,await X0.searchWallet({search:this.query,badge:this.badge}),this.loading=!1)}walletsTemplate(){const{search:e}=X0.state,t=I2.markWalletsAsInstalled(e);return e.length?y6`
      <wui-grid
        data-testid="wallet-list"
        .padding=${["0","3","3","3"]}
        rowGap="4"
        columngap="2"
        justifyContent="space-between"
      >
        ${t.map(((e,t)=>y6`
            <w3m-all-wallets-list-item
              @click=${()=>this.onConnectWallet(e)}
              .wallet=${e}
              data-testid="wallet-search-item-${e.id}"
              explorerId=${e.id}
              certified=${"certified"===this.badge}
              walletQuery=${this.query}
              displayIndex=${t}
            ></w3m-all-wallets-list-item>
          `))}
      </wui-grid>
    `:y6`
        <wui-flex
          data-testid="no-wallet-found"
          justifyContent="center"
          alignItems="center"
          gap="3"
          flexDirection="column"
        >
          <wui-icon-box size="lg" color="default" icon="wallet"></wui-icon-box>
          <wui-text data-testid="no-wallet-found-text" color="secondary" variant="md-medium">
            No Wallet found
          </wui-text>
        </wui-flex>
      `}onConnectWallet(e){c1.selectWalletConnector(e)}};y7.styles=g7,m7([$8()],y7.prototype,"loading",void 0),m7([$8()],y7.prototype,"mobileFullScreen",void 0),m7([R8()],y7.prototype,"query",void 0),m7([R8()],y7.prototype,"badge",void 0),y7=m7([r8("w3m-all-wallets-search")],y7);var w7=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let b7=class extends B6{constructor(){super(...arguments),this.search="",this.badge=void 0,this.onDebouncedSearch=B$.debounce((e=>{this.search=e}))}render(){const e=this.search.length>=2;return y6`
      <wui-flex .padding=${["1","3","3","3"]} gap="2" alignItems="center">
        <wui-search-bar @inputChange=${this.onInputChange.bind(this)}></wui-search-bar>
        <wui-certified-switch
          ?checked=${"certified"===this.badge}
          @certifiedSwitchChange=${this.onCertifiedSwitchChange.bind(this)}
          data-testid="wui-certified-switch"
        ></wui-certified-switch>
        ${this.qrButtonTemplate()}
      </wui-flex>
      ${e||this.badge?y6`<w3m-all-wallets-search
            query=${this.search}
            .badge=${this.badge}
          ></w3m-all-wallets-search>`:y6`<w3m-all-wallets-list .badge=${this.badge}></w3m-all-wallets-list>`}
    `}onInputChange(e){this.onDebouncedSearch(e.detail)}onCertifiedSwitchChange(e){e.detail?(this.badge="certified",S0.showSvg("Only WalletConnect certified",{icon:"walletConnectBrown",iconColor:"accent-100"})):this.badge=void 0}qrButtonTemplate(){return B$.isMobile()?y6`
        <wui-icon-box
          size="xl"
          iconSize="xl"
          color="accent-primary"
          icon="qrCode"
          border
          borderColor="wui-accent-glass-010"
          @click=${this.onWalletConnectQr.bind(this)}
        ></wui-icon-box>
      `:null}onWalletConnectQr(){t1.push("ConnectingWalletConnect")}};w7([$8()],b7.prototype,"search",void 0),w7([$8()],b7.prototype,"badge",void 0),b7=w7([r8("w3m-all-wallets-view")],b7);var v7=z6`
  :host {
    width: 100%;
  }

  button {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: ${({spacing:e})=>e[3]};
    width: 100%;
    background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    border-radius: ${({borderRadius:e})=>e[4]};
    transition:
      background-color ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      scale ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]};
    will-change: background-color, scale;
  }

  wui-text {
    text-transform: capitalize;
  }

  wui-image {
    color: ${({tokens:e})=>e.theme.textPrimary};
  }

  @media (hover: hover) {
    button:hover:enabled {
      background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    }
  }

  button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,E7=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let A7=class extends B6{constructor(){super(...arguments),this.imageSrc="google",this.loading=!1,this.disabled=!1,this.rightIcon=!0,this.rounded=!1,this.fullSize=!1}render(){return this.dataset.rounded=this.rounded?"true":"false",y6`
      <button
        ?disabled=${!!this.loading||!!this.disabled}
        data-loading=${this.loading}
        tabindex=${L8(this.tabIdx)}
      >
        <wui-flex gap="2" alignItems="center">
          ${this.templateLeftIcon()}
          <wui-flex gap="1">
            <slot></slot>
          </wui-flex>
        </wui-flex>
        ${this.templateRightIcon()}
      </button>
    `}templateLeftIcon(){return this.icon?y6`<wui-image
        icon=${this.icon}
        iconColor=${L8(this.iconColor)}
        ?boxed=${!0}
        ?rounded=${this.rounded}
      ></wui-image>`:y6`<wui-image
      ?boxed=${!0}
      ?rounded=${this.rounded}
      ?fullSize=${this.fullSize}
      src=${this.imageSrc}
    ></wui-image>`}templateRightIcon(){return this.rightIcon?this.loading?y6`<wui-loading-spinner size="md" color="accent-primary"></wui-loading-spinner>`:y6`<wui-icon name="chevronRight" size="lg" color="default"></wui-icon>`:null}};A7.styles=[X6,Q6,v7],E7([R8()],A7.prototype,"imageSrc",void 0),E7([R8()],A7.prototype,"icon",void 0),E7([R8()],A7.prototype,"iconColor",void 0),E7([R8({type:Boolean})],A7.prototype,"loading",void 0),E7([R8()],A7.prototype,"tabIdx",void 0),E7([R8({type:Boolean})],A7.prototype,"disabled",void 0),E7([R8({type:Boolean})],A7.prototype,"rightIcon",void 0),E7([R8({type:Boolean})],A7.prototype,"rounded",void 0),E7([R8({type:Boolean})],A7.prototype,"fullSize",void 0),A7=E7([r8("wui-list-item")],A7);let x7=class extends B6{constructor(){super(...arguments),this.wallet=t1.state.data?.wallet}render(){if(!this.wallet)throw new Error("w3m-downloads-view");return y6`
      <wui-flex gap="2" flexDirection="column" .padding=${["3","3","4","3"]}>
        ${this.chromeTemplate()} ${this.iosTemplate()} ${this.androidTemplate()}
        ${this.homepageTemplate()}
      </wui-flex>
    `}chromeTemplate(){return this.wallet?.chrome_store?y6`<wui-list-item
      variant="icon"
      icon="chromeStore"
      iconVariant="square"
      @click=${this.onChromeStore.bind(this)}
      chevron
    >
      <wui-text variant="md-medium" color="primary">Chrome Extension</wui-text>
    </wui-list-item>`:null}iosTemplate(){return this.wallet?.app_store?y6`<wui-list-item
      variant="icon"
      icon="appStore"
      iconVariant="square"
      @click=${this.onAppStore.bind(this)}
      chevron
    >
      <wui-text variant="md-medium" color="primary">iOS App</wui-text>
    </wui-list-item>`:null}androidTemplate(){return this.wallet?.play_store?y6`<wui-list-item
      variant="icon"
      icon="playStore"
      iconVariant="square"
      @click=${this.onPlayStore.bind(this)}
      chevron
    >
      <wui-text variant="md-medium" color="primary">Android App</wui-text>
    </wui-list-item>`:null}homepageTemplate(){return this.wallet?.homepage?y6`
      <wui-list-item
        variant="icon"
        icon="browser"
        iconVariant="square-blue"
        @click=${this.onHomePage.bind(this)}
        chevron
      >
        <wui-text variant="md-medium" color="primary">Website</wui-text>
      </wui-list-item>
    `:null}openStore(e){e.href&&this.wallet&&(K0.sendEvent({type:"track",event:"GET_WALLET",properties:{name:this.wallet.name,walletRank:this.wallet.order,explorerId:this.wallet.id,type:e.type}}),B$.openHref(e.href,"_blank"))}onChromeStore(){this.wallet?.chrome_store&&this.openStore({href:this.wallet.chrome_store,type:"chrome_store"})}onAppStore(){this.wallet?.app_store&&this.openStore({href:this.wallet.app_store,type:"app_store"})}onPlayStore(){this.wallet?.play_store&&this.openStore({href:this.wallet.play_store,type:"play_store"})}onHomePage(){this.wallet?.homepage&&this.openStore({href:this.wallet.homepage,type:"homepage"})}};x7=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}([r8("w3m-downloads-view")],x7);var C7=Object.freeze({__proto__:null,get W3mConnectingWcBasicView(){return O9},get W3mAllWalletsView(){return b7},get W3mDownloadsView(){return x7}}),S7=z6`
  :host {
    display: block;
    border-radius: clamp(0px, ${({borderRadius:e})=>e[8]}, 44px);
    box-shadow: 0 0 0 1px ${({tokens:e})=>e.theme.foregroundPrimary};
    overflow: hidden;
  }
`;let I7=class extends B6{render(){return y6`<slot></slot>`}};I7.styles=[X6,S7],I7=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}([r8("wui-card")],I7);var _7=z6`
  :host {
    width: 100%;
  }

  :host > wui-flex {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: ${({spacing:e})=>e[2]};
    padding: ${({spacing:e})=>e[3]};
    border-radius: ${({borderRadius:e})=>e[6]};
    border: 1px solid ${({tokens:e})=>e.theme.borderPrimary};
    box-sizing: border-box;
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    box-shadow: 0px 0px 16px 0px rgba(0, 0, 0, 0.25);
    color: ${({tokens:e})=>e.theme.textPrimary};
  }

  :host > wui-flex[data-type='info'] {
    .icon-box {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};

      wui-icon {
        color: ${({tokens:e})=>e.theme.iconDefault};
      }
    }
  }
  :host > wui-flex[data-type='success'] {
    .icon-box {
      background-color: ${({tokens:e})=>e.core.backgroundSuccess};

      wui-icon {
        color: ${({tokens:e})=>e.core.borderSuccess};
      }
    }
  }
  :host > wui-flex[data-type='warning'] {
    .icon-box {
      background-color: ${({tokens:e})=>e.core.backgroundWarning};

      wui-icon {
        color: ${({tokens:e})=>e.core.borderWarning};
      }
    }
  }
  :host > wui-flex[data-type='error'] {
    .icon-box {
      background-color: ${({tokens:e})=>e.core.backgroundError};

      wui-icon {
        color: ${({tokens:e})=>e.core.borderError};
      }
    }
  }

  wui-flex {
    width: 100%;
  }

  wui-text {
    word-break: break-word;
    flex: 1;
  }

  .close {
    cursor: pointer;
    color: ${({tokens:e})=>e.theme.iconDefault};
  }

  .icon-box {
    height: 40px;
    width: 40px;
    border-radius: ${({borderRadius:e})=>e[2]};
    background-color: var(--local-icon-bg-value);
  }
`,k7=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};const P7={info:"info",success:"checkmark",warning:"warningCircle",error:"warning"};let T7=class extends B6{constructor(){super(...arguments),this.message="",this.type="info"}render(){return y6`
      <wui-flex
        data-type=${L8(this.type)}
        flexDirection="row"
        justifyContent="space-between"
        alignItems="center"
        gap="2"
      >
        <wui-flex columnGap="2" flexDirection="row" alignItems="center">
          <wui-flex
            flexDirection="row"
            alignItems="center"
            justifyContent="center"
            class="icon-box"
          >
            <wui-icon color="inherit" size="md" name=${P7[this.type]}></wui-icon>
          </wui-flex>
          <wui-text variant="md-medium" color="inherit" data-testid="wui-alertbar-text"
            >${this.message}</wui-text
          >
        </wui-flex>
        <wui-icon
          class="close"
          color="inherit"
          size="sm"
          name="close"
          @click=${this.onClose}
        ></wui-icon>
      </wui-flex>
    `}onClose(){o2.close()}};T7.styles=[X6,_7],k7([R8()],T7.prototype,"message",void 0),k7([R8()],T7.prototype,"type",void 0),T7=k7([r8("wui-alertbar")],T7);var O7=z6`
  :host {
    display: block;
    position: absolute;
    top: ${({spacing:e})=>e[3]};
    left: ${({spacing:e})=>e[4]};
    right: ${({spacing:e})=>e[4]};
    opacity: 0;
    pointer-events: none;
  }
`,N7=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};const R7={info:{backgroundColor:"fg-350",iconColor:"fg-325",icon:"info"},success:{backgroundColor:"success-glass-reown-020",iconColor:"success-125",icon:"checkmark"},warning:{backgroundColor:"warning-glass-reown-020",iconColor:"warning-100",icon:"warningCircle"},error:{backgroundColor:"error-glass-reown-020",iconColor:"error-125",icon:"warning"}};let $7=class extends B6{constructor(){super(),this.unsubscribe=[],this.open=o2.state.open,this.onOpen(!0),this.unsubscribe.push(o2.subscribeKey("open",(e=>{this.open=e,this.onOpen(!1)})))}disconnectedCallback(){this.unsubscribe.forEach((e=>e()))}render(){const{message:e,variant:t}=o2.state,r=R7[t];return y6`
      <wui-alertbar
        message=${e}
        backgroundColor=${r?.backgroundColor}
        iconColor=${r?.iconColor}
        icon=${r?.icon}
        type=${t}
      ></wui-alertbar>
    `}onOpen(e){this.open?(this.animate([{opacity:0,transform:"scale(0.85)"},{opacity:1,transform:"scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: auto"):e||(this.animate([{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: none")}};$7.styles=O7,N7([$8()],$7.prototype,"open",void 0),$7=N7([r8("w3m-alertbar")],$7);var B7=z6`
  :host {
    position: relative;
  }

  button {
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: transparent;
    padding: ${({spacing:e})=>e[1]};
  }

  /* -- Colors --------------------------------------------------- */
  button[data-type='accent'] wui-icon {
    color: ${({tokens:e})=>e.core.iconAccentPrimary};
  }

  button[data-type='neutral'][data-variant='primary'] wui-icon {
    color: ${({tokens:e})=>e.theme.iconInverse};
  }

  button[data-type='neutral'][data-variant='secondary'] wui-icon {
    color: ${({tokens:e})=>e.theme.iconDefault};
  }

  button[data-type='success'] wui-icon {
    color: ${({tokens:e})=>e.core.iconSuccess};
  }

  button[data-type='error'] wui-icon {
    color: ${({tokens:e})=>e.core.iconError};
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='xs'] {
    width: 16px;
    height: 16px;

    border-radius: ${({borderRadius:e})=>e[1]};
  }

  button[data-size='sm'] {
    width: 20px;
    height: 20px;
    border-radius: ${({borderRadius:e})=>e[1]};
  }

  button[data-size='md'] {
    width: 24px;
    height: 24px;
    border-radius: ${({borderRadius:e})=>e[2]};
  }

  button[data-size='lg'] {
    width: 28px;
    height: 28px;
    border-radius: ${({borderRadius:e})=>e[2]};
  }

  button[data-size='xs'] wui-icon {
    width: 8px;
    height: 8px;
  }

  button[data-size='sm'] wui-icon {
    width: 12px;
    height: 12px;
  }

  button[data-size='md'] wui-icon {
    width: 16px;
    height: 16px;
  }

  button[data-size='lg'] wui-icon {
    width: 20px;
    height: 20px;
  }

  /* -- Hover --------------------------------------------------- */
  @media (hover: hover) {
    button[data-type='accent']:hover:enabled {
      background-color: ${({tokens:e})=>e.core.foregroundAccent010};
    }

    button[data-variant='primary'][data-type='neutral']:hover:enabled {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }

    button[data-variant='secondary'][data-type='neutral']:hover:enabled {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }

    button[data-type='success']:hover:enabled {
      background-color: ${({tokens:e})=>e.core.backgroundSuccess};
    }

    button[data-type='error']:hover:enabled {
      background-color: ${({tokens:e})=>e.core.backgroundError};
    }
  }

  /* -- Focus --------------------------------------------------- */
  button:focus-visible {
    box-shadow: 0 0 0 4px ${({tokens:e})=>e.core.foregroundAccent020};
  }

  /* -- Properties --------------------------------------------------- */
  button[data-full-width='true'] {
    width: 100%;
  }

  :host([fullWidth]) {
    width: 100%;
  }

  button[disabled] {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,M7=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let U7=class extends B6{constructor(){super(...arguments),this.icon="card",this.variant="primary",this.type="accent",this.size="md",this.iconSize=void 0,this.fullWidth=!1,this.disabled=!1}render(){return y6`<button
      data-variant=${this.variant}
      data-type=${this.type}
      data-size=${this.size}
      data-full-width=${this.fullWidth}
      ?disabled=${this.disabled}
    >
      <wui-icon color="inherit" name=${this.icon} size=${L8(this.iconSize)}></wui-icon>
    </button>`}};U7.styles=[X6,Q6,B7],M7([R8()],U7.prototype,"icon",void 0),M7([R8()],U7.prototype,"variant",void 0),M7([R8()],U7.prototype,"type",void 0),M7([R8()],U7.prototype,"size",void 0),M7([R8()],U7.prototype,"iconSize",void 0),M7([R8({type:Boolean})],U7.prototype,"fullWidth",void 0),M7([R8({type:Boolean})],U7.prototype,"disabled",void 0),U7=M7([r8("wui-icon-button")],U7);var L7=z6`
  button {
    display: block;
    display: flex;
    align-items: center;
    padding: ${({spacing:e})=>e[1]};
    transition: background-color ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-2"]};
    will-change: background-color;
    border-radius: ${({borderRadius:e})=>e[32]};
  }

  wui-image {
    border-radius: 100%;
  }

  wui-text {
    padding-left: ${({spacing:e})=>e[1]};
  }

  .left-icon-container,
  .right-icon-container {
    width: 24px;
    height: 24px;
    justify-content: center;
    align-items: center;
  }

  wui-icon {
    color: ${({tokens:e})=>e.theme.iconDefault};
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='lg'] {
    height: 32px;
  }

  button[data-size='md'] {
    height: 28px;
  }

  button[data-size='sm'] {
    height: 24px;
  }

  button[data-size='lg'] wui-image {
    width: 24px;
    height: 24px;
  }

  button[data-size='md'] wui-image {
    width: 20px;
    height: 20px;
  }

  button[data-size='sm'] wui-image {
    width: 16px;
    height: 16px;
  }

  button[data-size='lg'] .left-icon-container {
    width: 24px;
    height: 24px;
  }

  button[data-size='md'] .left-icon-container {
    width: 20px;
    height: 20px;
  }

  button[data-size='sm'] .left-icon-container {
    width: 16px;
    height: 16px;
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-type='filled-dropdown'] {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  button[data-type='text-dropdown'] {
    background-color: transparent;
  }

  /* -- Focus states --------------------------------------------------- */
  button:focus-visible:enabled {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    box-shadow: 0 0 0 4px ${({tokens:e})=>e.core.foregroundAccent040};
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled,
    button:active:enabled {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }
  }

  /* -- Disabled states --------------------------------------------------- */
  button:disabled {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    opacity: 0.5;
  }
`,D7=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};const j7={lg:"lg-regular",md:"md-regular",sm:"sm-regular"},H7={lg:"lg",md:"md",sm:"sm"};let z7=class extends B6{constructor(){super(...arguments),this.imageSrc="",this.text="",this.size="lg",this.type="text-dropdown",this.disabled=!1}render(){return y6`<button ?disabled=${this.disabled} data-size=${this.size} data-type=${this.type}>
      ${this.imageTemplate()} ${this.textTemplate()}
      <wui-flex class="right-icon-container">
        <wui-icon name="chevronBottom"></wui-icon>
      </wui-flex>
    </button>`}textTemplate(){const e=j7[this.size];return this.text?y6`<wui-text color="primary" variant=${e}>${this.text}</wui-text>`:null}imageTemplate(){if(this.imageSrc)return y6`<wui-image src=${this.imageSrc} alt="select visual"></wui-image>`;const e=H7[this.size];return y6` <wui-flex class="left-icon-container">
      <wui-icon size=${e} name="networkPlaceholder"></wui-icon>
    </wui-flex>`}};z7.styles=[X6,Q6,L7],D7([R8()],z7.prototype,"imageSrc",void 0),D7([R8()],z7.prototype,"text",void 0),D7([R8()],z7.prototype,"size",void 0),D7([R8()],z7.prototype,"type",void 0),D7([R8({type:Boolean})],z7.prototype,"disabled",void 0),z7=D7([r8("wui-select")],z7);var F7=z6`
  :host {
    height: 60px;
  }

  :host > wui-flex {
    box-sizing: border-box;
    background-color: var(--local-header-background-color);
  }

  wui-text {
    background-color: var(--local-header-background-color);
  }

  wui-flex.w3m-header-title {
    transform: translateY(0);
    opacity: 1;
  }

  wui-flex.w3m-header-title[view-direction='prev'] {
    animation:
      slide-down-out 120ms forwards ${({easings:e})=>e["ease-out-power-2"]},
      slide-down-in 120ms forwards ${({easings:e})=>e["ease-out-power-2"]};
    animation-delay: 0ms, 200ms;
  }

  wui-flex.w3m-header-title[view-direction='next'] {
    animation:
      slide-up-out 120ms forwards ${({easings:e})=>e["ease-out-power-2"]},
      slide-up-in 120ms forwards ${({easings:e})=>e["ease-out-power-2"]};
    animation-delay: 0ms, 200ms;
  }

  wui-icon-button[data-hidden='true'] {
    opacity: 0 !important;
    pointer-events: none;
  }

  @keyframes slide-up-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(3px);
      opacity: 0;
    }
  }

  @keyframes slide-up-in {
    from {
      transform: translateY(-3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes slide-down-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(-3px);
      opacity: 0;
    }
  }

  @keyframes slide-down-in {
    from {
      transform: translateY(3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
`,V7=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};const Z7=["SmartSessionList"],q7={PayWithExchange:H6.tokens.theme.foregroundPrimary};function W7(){const e=t1.state.data?.connector?.name,t=t1.state.data?.wallet?.name,r=t1.state.data?.network?.name,n=t??e,i=c1.getConnectors(),s=1===i.length&&"w3m-email"===i[0]?.id,o=L1.getAccountData()?.socialProvider;return{Connect:`Connect ${s?"Email":""} Wallet`,Create:"Create Wallet",ChooseAccountName:void 0,Account:void 0,AccountSettings:void 0,AllWallets:"All Wallets",ApproveTransaction:"Approve Transaction",BuyInProgress:"Buy",UsageExceeded:"Usage Exceeded",ConnectingExternal:n??"Connect Wallet",ConnectingWalletConnect:n??"WalletConnect",ConnectingWalletConnectBasic:"WalletConnect",ConnectingSiwe:"Sign In",Convert:"Convert",ConvertSelectToken:"Select token",ConvertPreview:"Preview Convert",Downloads:n?`Get ${n}`:"Downloads",EmailLogin:"Email Login",EmailVerifyOtp:"Confirm Email",EmailVerifyDevice:"Register Device",GetWallet:"Get a Wallet",Networks:"Choose Network",OnRampProviders:"Choose Provider",OnRampActivity:"Activity",OnRampTokenSelect:"Select Token",OnRampFiatSelect:"Select Currency",Pay:"How you pay",ProfileWallets:"Wallets",SwitchNetwork:r??"Switch Network",Transactions:"Activity",UnsupportedChain:"Switch Network",UpgradeEmailWallet:"Upgrade Your Wallet",UpdateEmailWallet:"Edit Email",UpdateEmailPrimaryOtp:"Confirm Current Email",UpdateEmailSecondaryOtp:"Confirm New Email",WhatIsABuy:"What is Buy?",RegisterAccountName:"Choose Name",RegisterAccountNameSuccess:"",WalletReceive:"Receive",WalletCompatibleNetworks:"Compatible Networks",Swap:"Swap",SwapSelectToken:"Select Token",SwapPreview:"Preview Swap",WalletSend:"Send",WalletSendPreview:"Review Send",WalletSendSelectToken:"Select Token",WalletSendConfirmed:"Confirmed",WhatIsANetwork:"What is a network?",WhatIsAWallet:"What is a Wallet?",ConnectWallets:"Connect Wallet",ConnectSocials:"All Socials",ConnectingSocial:o?o.charAt(0).toUpperCase()+o.slice(1):"Connect Social",ConnectingMultiChain:"Select Chain",ConnectingFarcaster:"Farcaster",SwitchActiveChain:"Switch Chain",SmartSessionCreated:void 0,SmartSessionList:"Smart Sessions",SIWXSignMessage:"Sign In",PayLoading:"Payment in Progress",DataCapture:"Profile",DataCaptureOtpConfirm:"Confirm Email",FundWallet:"Fund Wallet",PayWithExchange:"Deposit from Exchange",PayWithExchangeSelectAsset:"Select Asset"}}let K7=class extends B6{constructor(){super(),this.unsubscribe=[],this.heading=W7()[t1.state.view],this.network=L1.state.activeCaipNetwork,this.networkImage=F0.getNetworkImage(this.network),this.showBack=!1,this.prevHistoryLength=1,this.view=t1.state.view,this.viewDirection="",this.unsubscribe.push(j0.subscribeNetworkImages((()=>{this.networkImage=F0.getNetworkImage(this.network)})),t1.subscribeKey("view",(e=>{setTimeout((()=>{this.view=e,this.heading=W7()[e]}),S2.ANIMATION_DURATIONS.HeaderText),this.onViewChange(),this.onHistoryChange()})),L1.subscribeKey("activeCaipNetwork",(e=>{this.network=e,this.networkImage=F0.getNetworkImage(this.network)})))}disconnectCallback(){this.unsubscribe.forEach((e=>e()))}render(){const e=q7[t1.state.view]??H6.tokens.theme.backgroundPrimary;return this.style.setProperty("--local-header-background-color",e),y6`
      <wui-flex
        .padding=${["0","4","0","4"]}
        justifyContent="space-between"
        alignItems="center"
      >
        ${this.leftHeaderTemplate()} ${this.titleTemplate()} ${this.rightHeaderTemplate()}
      </wui-flex>
    `}onWalletHelp(){K0.sendEvent({type:"track",event:"CLICK_WALLET_HELP"}),t1.push("WhatIsAWallet")}async onClose(){await f2.safeClose()}rightHeaderTemplate(){const e=A0?.state?.features?.smartSessions;return"Account"===t1.state.view&&e?y6`<wui-flex>
      <wui-icon-button
        icon="clock"
        size="lg"
        iconSize="lg"
        type="neutral"
        variant="primary"
        @click=${()=>t1.push("SmartSessionList")}
        data-testid="w3m-header-smart-sessions"
      ></wui-icon-button>
      ${this.closeButtonTemplate()}
    </wui-flex> `:this.closeButtonTemplate()}closeButtonTemplate(){return y6`
      <wui-icon-button
        icon="close"
        size="lg"
        type="neutral"
        variant="primary"
        iconSize="lg"
        @click=${this.onClose.bind(this)}
        data-testid="w3m-header-close"
      ></wui-icon-button>
    `}titleTemplate(){const e=Z7.includes(this.view);return y6`
      <wui-flex
        view-direction="${this.viewDirection}"
        class="w3m-header-title"
        alignItems="center"
        gap="2"
      >
        <wui-text
          display="inline"
          variant="lg-regular"
          color="primary"
          data-testid="w3m-header-text"
        >
          ${this.heading}
        </wui-text>
        ${e?y6`<wui-tag variant="accent" size="md">Beta</wui-tag>`:null}
      </wui-flex>
    `}leftHeaderTemplate(){const{view:e}=t1.state,t="Connect"===e,r=A0.state.enableEmbedded,n="ApproveTransaction"===e,i="ConnectingSiwe"===e,s="Account"===e,o=A0.state.enableNetworkSwitch,a=n||i||t&&r;return s&&o?y6`<wui-select
        id="dynamic"
        data-testid="w3m-account-select-network"
        active-network=${L8(this.network?.name)}
        @click=${this.onNetworks.bind(this)}
        imageSrc=${L8(this.networkImage)}
      ></wui-select>`:this.showBack&&!a?y6`<wui-icon-button
        data-testid="header-back"
        id="dynamic"
        icon="chevronLeft"
        size="lg"
        iconSize="lg"
        type="neutral"
        variant="primary"
        @click=${this.onGoBack.bind(this)}
      ></wui-icon-button>`:y6`<wui-icon-button
      data-hidden=${!t}
      id="dynamic"
      icon="helpCircle"
      size="lg"
      iconSize="lg"
      type="neutral"
      variant="primary"
      @click=${this.onWalletHelp.bind(this)}
    ></wui-icon-button>`}onNetworks(){this.isAllowedNetworkSwitch()&&(K0.sendEvent({type:"track",event:"CLICK_NETWORKS"}),t1.push("Networks"))}isAllowedNetworkSwitch(){const e=L1.getAllRequestedCaipNetworks(),t=!!e&&e.length>1,r=e?.find((({id:e})=>e===this.network?.id));return t||!r}onViewChange(){const{history:e}=t1.state;let t=S2.VIEW_DIRECTION.Next;e.length<this.prevHistoryLength&&(t=S2.VIEW_DIRECTION.Prev),this.prevHistoryLength=e.length,this.viewDirection=t}async onHistoryChange(){const{history:e}=t1.state,t=this.shadowRoot?.querySelector("#dynamic");e.length>1&&!this.showBack&&t?(await t.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!0,t.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"})):e.length<=1&&this.showBack&&t&&(await t.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!1,t.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}onGoBack(){t1.goBack()}};K7.styles=F7,V7([$8()],K7.prototype,"heading",void 0),V7([$8()],K7.prototype,"network",void 0),V7([$8()],K7.prototype,"networkImage",void 0),V7([$8()],K7.prototype,"showBack",void 0),V7([$8()],K7.prototype,"prevHistoryLength",void 0),V7([$8()],K7.prototype,"view",void 0),V7([$8()],K7.prototype,"viewDirection",void 0),K7=V7([r8("w3m-header")],K7);var G7=z6`
  :host {
    display: flex;
    align-items: center;
    gap: ${({spacing:e})=>e[1]};
    padding: ${({spacing:e})=>e[2]} ${({spacing:e})=>e[3]}
      ${({spacing:e})=>e[2]} ${({spacing:e})=>e[2]};
    border-radius: ${({borderRadius:e})=>e[20]};
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    box-shadow:
      0px 0px 8px 0px rgba(0, 0, 0, 0.1),
      inset 0 0 0 1px ${({tokens:e})=>e.theme.borderPrimary};
    max-width: 320px;
  }

  wui-icon-box {
    border-radius: ${({borderRadius:e})=>e.round} !important;
    overflow: hidden;
  }

  wui-loading-spinner {
    padding: ${({spacing:e})=>e[1]};
    background-color: ${({tokens:e})=>e.core.foregroundAccent010};
    border-radius: ${({borderRadius:e})=>e.round} !important;
  }
`,Y7=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let J7=class extends B6{constructor(){super(...arguments),this.message="",this.variant="success"}render(){return y6`
      ${this.templateIcon()}
      <wui-text variant="lg-regular" color="primary" data-testid="wui-snackbar-message"
        >${this.message}</wui-text
      >
    `}templateIcon(){return"loading"===this.variant?y6`<wui-loading-spinner size="md" color="accent-primary"></wui-loading-spinner>`:y6`<wui-icon-box
      size="md"
      color=${{success:"success",error:"error",warning:"warning",info:"default"}[this.variant]}
      icon=${{success:"checkmark",error:"warning",warning:"warningCircle",info:"info"}[this.variant]}
    ></wui-icon-box>`}};J7.styles=[X6,G7],Y7([R8()],J7.prototype,"message",void 0),Y7([R8()],J7.prototype,"variant",void 0),J7=Y7([r8("wui-snackbar")],J7);var X7=$2`
  :host {
    display: block;
    position: absolute;
    opacity: 0;
    pointer-events: none;
    top: 11px;
    left: 50%;
    width: max-content;
  }
`,Q7=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let eee=class extends B6{constructor(){super(),this.unsubscribe=[],this.timeout=void 0,this.open=S0.state.open,this.unsubscribe.push(S0.subscribeKey("open",(e=>{this.open=e,this.onOpen()})))}disconnectedCallback(){clearTimeout(this.timeout),this.unsubscribe.forEach((e=>e()))}render(){const{message:e,variant:t}=S0.state;return y6` <wui-snackbar message=${e} variant=${t}></wui-snackbar> `}onOpen(){clearTimeout(this.timeout),this.open?(this.animate([{opacity:0,transform:"translateX(-50%) scale(0.85)"},{opacity:1,transform:"translateX(-50%) scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.timeout&&clearTimeout(this.timeout),S0.state.autoClose&&(this.timeout=setTimeout((()=>S0.hide()),2500))):this.animate([{opacity:1,transform:"translateX(-50%) scale(1)"},{opacity:0,transform:"translateX(-50%) scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"})}};eee.styles=X7,Q7([$8()],eee.prototype,"open",void 0),eee=Q7([r8("w3m-snackbar")],eee);var tee=z6`
  :host {
    pointer-events: none;
  }

  :host > wui-flex {
    display: var(--w3m-tooltip-display);
    opacity: var(--w3m-tooltip-opacity);
    padding: 9px ${({spacing:e})=>e[3]} 10px ${({spacing:e})=>e[3]};
    border-radius: ${({borderRadius:e})=>e[3]};
    color: ${({tokens:e})=>e.theme.backgroundPrimary};
    position: absolute;
    top: var(--w3m-tooltip-top);
    left: var(--w3m-tooltip-left);
    transform: translate(calc(-50% + var(--w3m-tooltip-parent-width)), calc(-100% - 8px));
    max-width: calc(var(--apkt-modal-width) - ${({spacing:e})=>e[5]});
    transition: opacity ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-2"]};
    will-change: opacity;
    opacity: 0;
    animation-duration: ${({durations:e})=>e.xl};
    animation-timing-function: ${({easings:e})=>e["ease-out-power-2"]};
    animation-name: fade-in;
    animation-fill-mode: forwards;
  }

  :host([data-variant='shade']) > wui-flex {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  :host([data-variant='shade']) > wui-flex > wui-text {
    color: ${({tokens:e})=>e.theme.textSecondary};
  }

  :host([data-variant='fill']) > wui-flex {
    background-color: ${({tokens:e})=>e.theme.textPrimary};
    border: none;
  }

  wui-icon {
    position: absolute;
    width: 12px !important;
    height: 4px !important;
    color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  wui-icon[data-placement='top'] {
    bottom: 0px;
    left: 50%;
    transform: translate(-50%, 95%);
  }

  wui-icon[data-placement='bottom'] {
    top: 0;
    left: 50%;
    transform: translate(-50%, -95%) rotate(180deg);
  }

  wui-icon[data-placement='right'] {
    top: 50%;
    left: 0;
    transform: translate(-65%, -50%) rotate(90deg);
  }

  wui-icon[data-placement='left'] {
    top: 50%;
    right: 0%;
    transform: translate(65%, -50%) rotate(270deg);
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
`,ree=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let nee=class extends B6{constructor(){super(),this.unsubscribe=[],this.open=p2.state.open,this.message=p2.state.message,this.triggerRect=p2.state.triggerRect,this.variant=p2.state.variant,this.unsubscribe.push(p2.subscribe((e=>{this.open=e.open,this.message=e.message,this.triggerRect=e.triggerRect,this.variant=e.variant})))}disconnectedCallback(){this.unsubscribe.forEach((e=>e()))}render(){this.dataset.variant=this.variant;const e=this.triggerRect.top,t=this.triggerRect.left;return this.style.cssText=`\n    --w3m-tooltip-top: ${e}px;\n    --w3m-tooltip-left: ${t}px;\n    --w3m-tooltip-parent-width: ${this.triggerRect.width/2}px;\n    --w3m-tooltip-display: ${this.open?"flex":"none"};\n    --w3m-tooltip-opacity: ${this.open?1:0};\n    `,y6`<wui-flex>
      <wui-icon data-placement="top" size="inherit" name="cursor"></wui-icon>
      <wui-text color="primary" variant="sm-regular">${this.message}</wui-text>
    </wui-flex>`}};nee.styles=[tee],ree([$8()],nee.prototype,"open",void 0),ree([$8()],nee.prototype,"message",void 0),ree([$8()],nee.prototype,"triggerRect",void 0),ree([$8()],nee.prototype,"variant",void 0),nee=ree([r8("w3m-tooltip")],nee);const iee={getTabsByNamespace:e=>e&&e===dR.CHAIN.EVM?!1===A0.state.remoteFeatures?.activity?S2.ACCOUNT_TABS.filter((e=>"Activity"!==e.label)):S2.ACCOUNT_TABS:[],isValidReownName:e=>/^[a-zA-Z0-9]+$/gu.test(e),isValidEmail:e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/gu.test(e),validateReownName:e=>e.replace(/\^/gu,"").toLowerCase().replace(/[^a-zA-Z0-9]/gu,""),hasFooter(){const e=t1.state.view;if(S2.VIEWS_WITH_LEGAL_FOOTER.includes(e)){const{termsConditionsUrl:e,privacyPolicyUrl:t}=A0.state,r=A0.state.features?.legalCheckbox;return!(!e&&!t||r)}return S2.VIEWS_WITH_DEFAULT_FOOTER.includes(e)}};var see=z6`
  :host wui-ux-by-reown {
    padding-top: 0;
  }

  :host wui-ux-by-reown.branding-only {
    padding-top: ${({spacing:e})=>e[3]};
  }

  a {
    text-decoration: none;
    color: ${({tokens:e})=>e.core.textAccentPrimary};
    font-weight: 500;
  }
`,oee=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let aee=class extends B6{constructor(){super(),this.unsubscribe=[],this.remoteFeatures=A0.state.remoteFeatures,this.unsubscribe.push(A0.subscribeKey("remoteFeatures",(e=>this.remoteFeatures=e)))}disconnectedCallback(){this.unsubscribe.forEach((e=>e()))}render(){const{termsConditionsUrl:e,privacyPolicyUrl:t}=A0.state,r=A0.state.features?.legalCheckbox;return!e&&!t||r?y6`
        <wui-flex flexDirection="column"> ${this.reownBrandingTemplate(!0)} </wui-flex>
      `:y6`
      <wui-flex flexDirection="column">
        <wui-flex .padding=${["4","3","3","3"]} justifyContent="center">
          <wui-text color="secondary" variant="md-regular" align="center">
            By connecting your wallet, you agree to our <br />
            ${this.termsTemplate()} ${this.andTemplate()} ${this.privacyTemplate()}
          </wui-text>
        </wui-flex>
        ${this.reownBrandingTemplate()}
      </wui-flex>
    `}andTemplate(){const{termsConditionsUrl:e,privacyPolicyUrl:t}=A0.state;return e&&t?"and":""}termsTemplate(){const{termsConditionsUrl:e}=A0.state;return e?y6`<a href=${e} target="_blank" rel="noopener noreferrer"
      >Terms of Service</a
    >`:null}privacyTemplate(){const{privacyPolicyUrl:e}=A0.state;return e?y6`<a href=${e} target="_blank" rel="noopener noreferrer"
      >Privacy Policy</a
    >`:null}reownBrandingTemplate(e=!1){return this.remoteFeatures?.reownBranding?e?y6`<wui-ux-by-reown class="branding-only"></wui-ux-by-reown>`:y6`<wui-ux-by-reown></wui-ux-by-reown>`:null}};aee.styles=[see],oee([$8()],aee.prototype,"remoteFeatures",void 0),aee=oee([r8("w3m-legal-footer")],aee);var cee=$2``;let lee=class extends B6{render(){const{termsConditionsUrl:e,privacyPolicyUrl:t}=A0.state;return e||t?y6`
      <wui-flex
        .padding=${["4","3","3","3"]}
        flexDirection="column"
        alignItems="center"
        justifyContent="center"
        gap="3"
      >
        <wui-text color="secondary" variant="md-regular" align="center">
          We work with the best providers to give you the lowest fees and best support. More options
          coming soon!
        </wui-text>

        ${this.howDoesItWorkTemplate()}
      </wui-flex>
    `:null}howDoesItWorkTemplate(){return y6` <wui-link @click=${this.onWhatIsBuy.bind(this)}>
      <wui-icon size="xs" color="accent-primary" slot="iconLeft" name="helpCircle"></wui-icon>
      How does it work?
    </wui-link>`}onWhatIsBuy(){K0.sendEvent({type:"track",event:"SELECT_WHAT_IS_A_BUY",properties:{isSmartAccount:u1(L1.state.activeChain)===K$.ACCOUNT_TYPES.SMART_ACCOUNT}}),t1.push("WhatIsABuy")}};lee.styles=[cee],lee=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}([r8("w3m-onramp-providers-footer")],lee);var dee=z6`
  :host {
    display: block;
  }

  div.container {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    overflow: hidden;
    height: auto;
    display: block;
  }

  div.container[status='hide'] {
    animation: fade-out;
    animation-duration: var(--apkt-duration-dynamic);
    animation-timing-function: ${({easings:e})=>e["ease-out-power-2"]};
    animation-fill-mode: both;
    animation-delay: 0s;
  }

  div.container[status='show'] {
    animation: fade-in;
    animation-duration: var(--apkt-duration-dynamic);
    animation-timing-function: ${({easings:e})=>e["ease-out-power-2"]};
    animation-fill-mode: both;
    animation-delay: var(--apkt-duration-dynamic);
  }

  @keyframes fade-in {
    from {
      opacity: 0;
      filter: blur(6px);
    }
    to {
      opacity: 1;
      filter: blur(0px);
    }
  }

  @keyframes fade-out {
    from {
      opacity: 1;
      filter: blur(0px);
    }
    to {
      opacity: 0;
      filter: blur(6px);
    }
  }
`,uee=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let hee=class extends B6{constructor(){super(...arguments),this.resizeObserver=void 0,this.unsubscribe=[],this.status="hide",this.view=t1.state.view}firstUpdated(){this.status=iee.hasFooter()?"show":"hide",this.unsubscribe.push(t1.subscribeKey("view",(e=>{this.view=e,this.status=iee.hasFooter()?"show":"hide","hide"===this.status&&document.documentElement.style.setProperty("--apkt-footer-height","0px")}))),this.resizeObserver=new ResizeObserver((e=>{for(const t of e)if(t.target===this.getWrapper()){const e=`${t.contentRect.height}px`;document.documentElement.style.setProperty("--apkt-footer-height",e)}})),this.resizeObserver.observe(this.getWrapper())}render(){return y6`
      <div class="container" status=${this.status}>${this.templatePageContainer()}</div>
    `}templatePageContainer(){return iee.hasFooter()?y6` ${this.templateFooter()}`:null}templateFooter(){switch(this.view){case"Networks":return this.templateNetworksFooter();case"Connect":case"ConnectWallets":case"OnRampFiatSelect":case"OnRampTokenSelect":return y6`<w3m-legal-footer></w3m-legal-footer>`;case"OnRampProviders":return y6`<w3m-onramp-providers-footer></w3m-onramp-providers-footer>`;default:return null}}templateNetworksFooter(){return y6` <wui-flex
      class="footer-in"
      padding="3"
      flexDirection="column"
      gap="3"
      alignItems="center"
    >
      <wui-text variant="md-regular" color="secondary" align="center">
        Your connected wallet may not support some of the networks available for this dApp
      </wui-text>
      <wui-link @click=${this.onNetworkHelp.bind(this)}>
        <wui-icon size="sm" color="accent-primary" slot="iconLeft" name="helpCircle"></wui-icon>
        What is a network
      </wui-link>
    </wui-flex>`}onNetworkHelp(){K0.sendEvent({type:"track",event:"CLICK_NETWORK_HELP"}),t1.push("WhatIsANetwork")}getWrapper(){return this.shadowRoot?.querySelector("div.container")}};hee.styles=[dee],uee([$8()],hee.prototype,"status",void 0),uee([$8()],hee.prototype,"view",void 0),hee=uee([r8("w3m-footer")],hee);var pee=z6`
  :host {
    display: block;
    width: inherit;
  }
`,fee=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let gee=class extends B6{constructor(){super(),this.unsubscribe=[],this.viewState=t1.state.view,this.history=t1.state.history.join(","),this.unsubscribe.push(t1.subscribeKey("view",(()=>{this.history=t1.state.history.join(","),document.documentElement.style.setProperty("--apkt-duration-dynamic","var(--apkt-durations-lg)")})))}disconnectedCallback(){this.unsubscribe.forEach((e=>e())),document.documentElement.style.setProperty("--apkt-duration-dynamic","0s")}render(){return y6`${this.templatePageContainer()}`}templatePageContainer(){return y6`<w3m-router-container
      history=${this.history}
      .setView=${()=>{this.viewState=t1.state.view}}
    >
      ${this.viewTemplate(this.viewState)}
    </w3m-router-container>`}viewTemplate(e){switch(e){case"AccountSettings":return y6`<w3m-account-settings-view></w3m-account-settings-view>`;case"Account":return y6`<w3m-account-view></w3m-account-view>`;case"AllWallets":return y6`<w3m-all-wallets-view></w3m-all-wallets-view>`;case"ApproveTransaction":return y6`<w3m-approve-transaction-view></w3m-approve-transaction-view>`;case"BuyInProgress":return y6`<w3m-buy-in-progress-view></w3m-buy-in-progress-view>`;case"ChooseAccountName":return y6`<w3m-choose-account-name-view></w3m-choose-account-name-view>`;case"Connect":default:return y6`<w3m-connect-view></w3m-connect-view>`;case"Create":return y6`<w3m-connect-view walletGuide="explore"></w3m-connect-view>`;case"ConnectingWalletConnect":return y6`<w3m-connecting-wc-view></w3m-connecting-wc-view>`;case"ConnectingWalletConnectBasic":return y6`<w3m-connecting-wc-basic-view></w3m-connecting-wc-basic-view>`;case"ConnectingExternal":return y6`<w3m-connecting-external-view></w3m-connecting-external-view>`;case"ConnectingSiwe":return y6`<w3m-connecting-siwe-view></w3m-connecting-siwe-view>`;case"ConnectWallets":return y6`<w3m-connect-wallets-view></w3m-connect-wallets-view>`;case"ConnectSocials":return y6`<w3m-connect-socials-view></w3m-connect-socials-view>`;case"ConnectingSocial":return y6`<w3m-connecting-social-view></w3m-connecting-social-view>`;case"DataCapture":return y6`<w3m-data-capture-view></w3m-data-capture-view>`;case"DataCaptureOtpConfirm":return y6`<w3m-data-capture-otp-confirm-view></w3m-data-capture-otp-confirm-view>`;case"Downloads":return y6`<w3m-downloads-view></w3m-downloads-view>`;case"EmailLogin":return y6`<w3m-email-login-view></w3m-email-login-view>`;case"EmailVerifyOtp":return y6`<w3m-email-verify-otp-view></w3m-email-verify-otp-view>`;case"EmailVerifyDevice":return y6`<w3m-email-verify-device-view></w3m-email-verify-device-view>`;case"GetWallet":return y6`<w3m-get-wallet-view></w3m-get-wallet-view>`;case"Networks":return y6`<w3m-networks-view></w3m-networks-view>`;case"SwitchNetwork":return y6`<w3m-network-switch-view></w3m-network-switch-view>`;case"ProfileWallets":return y6`<w3m-profile-wallets-view></w3m-profile-wallets-view>`;case"Transactions":return y6`<w3m-transactions-view></w3m-transactions-view>`;case"OnRampProviders":return y6`<w3m-onramp-providers-view></w3m-onramp-providers-view>`;case"OnRampTokenSelect":return y6`<w3m-onramp-token-select-view></w3m-onramp-token-select-view>`;case"OnRampFiatSelect":return y6`<w3m-onramp-fiat-select-view></w3m-onramp-fiat-select-view>`;case"UpgradeEmailWallet":return y6`<w3m-upgrade-wallet-view></w3m-upgrade-wallet-view>`;case"UpdateEmailWallet":return y6`<w3m-update-email-wallet-view></w3m-update-email-wallet-view>`;case"UpdateEmailPrimaryOtp":return y6`<w3m-update-email-primary-otp-view></w3m-update-email-primary-otp-view>`;case"UpdateEmailSecondaryOtp":return y6`<w3m-update-email-secondary-otp-view></w3m-update-email-secondary-otp-view>`;case"UnsupportedChain":return y6`<w3m-unsupported-chain-view></w3m-unsupported-chain-view>`;case"Swap":return y6`<w3m-swap-view></w3m-swap-view>`;case"SwapSelectToken":return y6`<w3m-swap-select-token-view></w3m-swap-select-token-view>`;case"SwapPreview":return y6`<w3m-swap-preview-view></w3m-swap-preview-view>`;case"WalletSend":return y6`<w3m-wallet-send-view></w3m-wallet-send-view>`;case"WalletSendSelectToken":return y6`<w3m-wallet-send-select-token-view></w3m-wallet-send-select-token-view>`;case"WalletSendPreview":return y6`<w3m-wallet-send-preview-view></w3m-wallet-send-preview-view>`;case"WalletSendConfirmed":return y6`<w3m-send-confirmed-view></w3m-send-confirmed-view>`;case"WhatIsABuy":return y6`<w3m-what-is-a-buy-view></w3m-what-is-a-buy-view>`;case"WalletReceive":return y6`<w3m-wallet-receive-view></w3m-wallet-receive-view>`;case"WalletCompatibleNetworks":return y6`<w3m-wallet-compatible-networks-view></w3m-wallet-compatible-networks-view>`;case"WhatIsAWallet":return y6`<w3m-what-is-a-wallet-view></w3m-what-is-a-wallet-view>`;case"ConnectingMultiChain":return y6`<w3m-connecting-multi-chain-view></w3m-connecting-multi-chain-view>`;case"WhatIsANetwork":return y6`<w3m-what-is-a-network-view></w3m-what-is-a-network-view>`;case"ConnectingFarcaster":return y6`<w3m-connecting-farcaster-view></w3m-connecting-farcaster-view>`;case"SwitchActiveChain":return y6`<w3m-switch-active-chain-view></w3m-switch-active-chain-view>`;case"RegisterAccountName":return y6`<w3m-register-account-name-view></w3m-register-account-name-view>`;case"RegisterAccountNameSuccess":return y6`<w3m-register-account-name-success-view></w3m-register-account-name-success-view>`;case"SmartSessionCreated":return y6`<w3m-smart-session-created-view></w3m-smart-session-created-view>`;case"SmartSessionList":return y6`<w3m-smart-session-list-view></w3m-smart-session-list-view>`;case"SIWXSignMessage":return y6`<w3m-siwx-sign-message-view></w3m-siwx-sign-message-view>`;case"Pay":return y6`<w3m-pay-view></w3m-pay-view>`;case"PayLoading":return y6`<w3m-pay-loading-view></w3m-pay-loading-view>`;case"FundWallet":return y6`<w3m-fund-wallet-view></w3m-fund-wallet-view>`;case"PayWithExchange":return y6`<w3m-deposit-from-exchange-view></w3m-deposit-from-exchange-view>`;case"PayWithExchangeSelectAsset":return y6`<w3m-deposit-from-exchange-select-asset-view></w3m-deposit-from-exchange-select-asset-view>`;case"UsageExceeded":return y6`<w3m-usage-exceeded-view></w3m-usage-exceeded-view>`}}};gee.styles=[pee],fee([$8()],gee.prototype,"viewState",void 0),fee([$8()],gee.prototype,"history",void 0),gee=fee([r8("w3m-router")],gee);var mee=z6`
  :host {
    z-index: ${({tokens:e})=>e.core.zIndex};
    display: block;
    backface-visibility: hidden;
    will-change: opacity;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    opacity: 0;
    background-color: ${({tokens:e})=>e.theme.overlay};
    backdrop-filter: blur(0px);
    transition:
      opacity ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      backdrop-filter ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]};
    will-change: opacity;
  }

  :host(.open) {
    opacity: 1;
    backdrop-filter: blur(8px);
  }

  :host(.appkit-modal) {
    position: relative;
    pointer-events: unset;
    background: none;
    width: 100%;
    opacity: 1;
  }

  wui-card {
    max-width: var(--apkt-modal-width);
    width: 100%;
    position: relative;
    outline: none;
    transform: translateY(4px);
    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.05);
    transition:
      transform ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      border-radius ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-1"]},
      background-color ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-1"]},
      box-shadow ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-1"]};
    will-change: border-radius, background-color, transform, box-shadow;
    background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    padding: var(--local-modal-padding);
    box-sizing: border-box;
  }

  :host(.open) wui-card {
    transform: translateY(0px);
  }

  wui-card::before {
    z-index: 1;
    pointer-events: none;
    content: '';
    position: absolute;
    inset: 0;
    border-radius: clamp(0px, var(--apkt-borderRadius-8), 44px);
    transition: box-shadow ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-2"]};
    transition-delay: ${({durations:e})=>e.md};
    will-change: box-shadow;
  }

  :host([data-mobile-fullscreen='true']) wui-card::before {
    border-radius: 0px;
  }

  :host([data-border='true']) wui-card::before {
    box-shadow: inset 0px 0px 0px 4px ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  :host([data-border='false']) wui-card::before {
    box-shadow: inset 0px 0px 0px 1px ${({tokens:e})=>e.theme.borderPrimaryDark};
  }

  :host([data-border='true']) wui-card {
    animation:
      fade-in ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      card-background-border var(--apkt-duration-dynamic)
        ${({easings:e})=>e["ease-out-power-2"]};
    animation-fill-mode: backwards, both;
    animation-delay: var(--apkt-duration-dynamic);
  }

  :host([data-border='false']) wui-card {
    animation:
      fade-in ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      card-background-default var(--apkt-duration-dynamic)
        ${({easings:e})=>e["ease-out-power-2"]};
    animation-fill-mode: backwards, both;
    animation-delay: 0s;
  }

  :host(.appkit-modal) wui-card {
    max-width: var(--apkt-modal-width);
  }

  wui-card[shake='true'] {
    animation:
      fade-in ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      w3m-shake ${({durations:e})=>e.xl}
        ${({easings:e})=>e["ease-out-power-2"]};
  }

  wui-flex {
    overflow-x: hidden;
    overflow-y: auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
  }

  @media (max-height: 700px) and (min-width: 431px) {
    wui-flex {
      align-items: flex-start;
    }

    wui-card {
      margin: var(--apkt-spacing-6) 0px;
    }
  }

  @media (max-width: 430px) {
    :host([data-mobile-fullscreen='true']) {
      height: 100dvh;
    }
    :host([data-mobile-fullscreen='true']) wui-flex {
      align-items: stretch;
    }
    :host([data-mobile-fullscreen='true']) wui-card {
      max-width: 100%;
      height: 100%;
      border-radius: 0;
      border: none;
    }
    :host(:not([data-mobile-fullscreen='true'])) wui-flex {
      align-items: flex-end;
    }

    :host(:not([data-mobile-fullscreen='true'])) wui-card {
      max-width: 100%;
      border-bottom: none;
    }

    :host(:not([data-mobile-fullscreen='true'])) wui-card[data-embedded='true'] {
      border-bottom-left-radius: clamp(0px, var(--apkt-borderRadius-8), 44px);
      border-bottom-right-radius: clamp(0px, var(--apkt-borderRadius-8), 44px);
    }

    :host(:not([data-mobile-fullscreen='true'])) wui-card:not([data-embedded='true']) {
      border-bottom-left-radius: 0px;
      border-bottom-right-radius: 0px;
    }

    wui-card[shake='true'] {
      animation: w3m-shake 0.5s ${({easings:e})=>e["ease-out-power-2"]};
    }
  }

  @keyframes fade-in {
    0% {
      transform: scale(0.99) translateY(4px);
    }
    100% {
      transform: scale(1) translateY(0);
    }
  }

  @keyframes w3m-shake {
    0% {
      transform: scale(1) rotate(0deg);
    }
    20% {
      transform: scale(1) rotate(-1deg);
    }
    40% {
      transform: scale(1) rotate(1.5deg);
    }
    60% {
      transform: scale(1) rotate(-1.5deg);
    }
    80% {
      transform: scale(1) rotate(1deg);
    }
    100% {
      transform: scale(1) rotate(0deg);
    }
  }

  @keyframes card-background-border {
    from {
      background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    }
    to {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }
  }

  @keyframes card-background-default {
    from {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }
    to {
      background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    }
  }
`,yee=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};const wee="scroll-lock",bee={PayWithExchange:"0",PayWithExchangeSelectAsset:"0"};class vee extends B6{constructor(){super(),this.unsubscribe=[],this.abortController=void 0,this.hasPrefetched=!1,this.enableEmbedded=A0.state.enableEmbedded,this.open=H1.state.open,this.caipAddress=L1.state.activeCaipAddress,this.caipNetwork=L1.state.activeCaipNetwork,this.shake=H1.state.shake,this.filterByNamespace=c1.state.filterByNamespace,this.padding=H6.spacing[1],this.mobileFullScreen=A0.state.enableMobileFullScreen,this.initializeTheming(),X0.prefetchAnalyticsConfig(),this.unsubscribe.push(H1.subscribeKey("open",(e=>e?this.onOpen():this.onClose())),H1.subscribeKey("shake",(e=>this.shake=e)),L1.subscribeKey("activeCaipNetwork",(e=>this.onNewNetwork(e))),L1.subscribeKey("activeCaipAddress",(e=>this.onNewAddress(e))),A0.subscribeKey("enableEmbedded",(e=>this.enableEmbedded=e)),c1.subscribeKey("filterByNamespace",(e=>{this.filterByNamespace!==e&&!L1.getAccountData(e)?.caipAddress&&(X0.fetchRecommendedWallets(),this.filterByNamespace=e)})),t1.subscribeKey("view",(()=>{this.dataset.border=iee.hasFooter()?"true":"false",this.padding=bee[t1.state.view]??H6.spacing[1]})))}firstUpdated(){if(this.dataset.border=iee.hasFooter()?"true":"false",this.mobileFullScreen&&this.setAttribute("data-mobile-fullscreen","true"),this.caipAddress){if(this.enableEmbedded)return H1.close(),void this.prefetch();this.onNewAddress(this.caipAddress)}this.open&&this.onOpen(),this.enableEmbedded&&this.prefetch()}disconnectedCallback(){this.unsubscribe.forEach((e=>e())),this.onRemoveKeyboardListener()}render(){return this.style.setProperty("--local-modal-padding",this.padding),this.enableEmbedded?y6`${this.contentTemplate()}
        <w3m-tooltip></w3m-tooltip> `:this.open?y6`
          <wui-flex @click=${this.onOverlayClick.bind(this)} data-testid="w3m-modal-overlay">
            ${this.contentTemplate()}
          </wui-flex>
          <w3m-tooltip></w3m-tooltip>
        `:null}contentTemplate(){return y6` <wui-card
      shake="${this.shake}"
      data-embedded="${L8(this.enableEmbedded)}"
      role="alertdialog"
      aria-modal="true"
      tabindex="0"
      data-testid="w3m-modal-card"
    >
      <w3m-header></w3m-header>
      <w3m-router></w3m-router>
      <w3m-footer></w3m-footer>
      <w3m-snackbar></w3m-snackbar>
      <w3m-alertbar></w3m-alertbar>
    </wui-card>`}async onOverlayClick(e){if(e.target===e.currentTarget){if(this.mobileFullScreen)return;await this.handleClose()}}async handleClose(){await f2.safeClose()}initializeTheming(){const{themeVariables:e,themeMode:t}=i1.state;!function(e,t="dark"){if(W6=e,V6=document.createElement("style"),Z6=document.createElement("style"),q6=document.createElement("style"),V6.textContent=J6(e).core.cssText,Z6.textContent=J6(e).dark.cssText,q6.textContent=J6(e).light.cssText,document.head.appendChild(V6),document.head.appendChild(Z6),document.head.appendChild(q6),G6(e,t),Y6(t),!e?.["--w3m-font-family"])for(const[e,t]of Object.entries(K6)){const r=document.createElement("link");r.rel="preload",r.href=t,r.as="font",r.type=e.includes("woff2")?"font/woff2":"font/woff",r.crossOrigin="anonymous",document.head.appendChild(r)}Y6(t)}(e,t8.getColorTheme(t))}onClose(){this.open=!1,this.classList.remove("open"),this.onScrollUnlock(),S0.hide(),this.onRemoveKeyboardListener()}onOpen(){this.open=!0,this.classList.add("open"),this.onScrollLock(),this.onAddKeyboardListener()}onScrollLock(){const e=document.createElement("style");e.dataset.w3m=wee,e.textContent="\n      body {\n        touch-action: none;\n        overflow: hidden;\n        overscroll-behavior: contain;\n      }\n      w3m-modal {\n        pointer-events: auto;\n      }\n    ",document.head.appendChild(e)}onScrollUnlock(){const e=document.head.querySelector(`style[data-w3m="${wee}"]`);e&&e.remove()}onAddKeyboardListener(){this.abortController=new AbortController;const e=this.shadowRoot?.querySelector("wui-card");e?.focus(),window.addEventListener("keydown",(t=>{if("Escape"===t.key)this.handleClose();else if("Tab"===t.key){const{tagName:r}=t.target;r&&!r.includes("W3M-")&&!r.includes("WUI-")&&e?.focus()}}),this.abortController)}onRemoveKeyboardListener(){this.abortController?.abort(),this.abortController=void 0}async onNewAddress(e){const t=L1.state.isSwitchingNamespace,r="ProfileWallets"===t1.state.view;!e&&!t&&!r&&H1.close(),await t2.initializeIfEnabled(e),this.caipAddress=e,L1.setIsSwitchingNamespace(!1)}onNewNetwork(e){const t=this.caipNetwork?.caipNetworkId?.toString(),r=e?.caipNetworkId?.toString(),n=t!==r,i="UnsupportedChain"===t1.state.view,s=H1.state.open;let o=!1;this.enableEmbedded&&"SwitchNetwork"===t1.state.view&&(o=!0),n&&u2.resetState(),s&&i&&(o=!0),o&&"SIWXSignMessage"!==t1.state.view&&t1.goBack(),this.caipNetwork=e}prefetch(){this.hasPrefetched||(X0.prefetch(),X0.fetchWalletsByPage({page:1}),this.hasPrefetched=!0)}}vee.styles=mee,yee([R8({type:Boolean})],vee.prototype,"enableEmbedded",void 0),yee([$8()],vee.prototype,"open",void 0),yee([$8()],vee.prototype,"caipAddress",void 0),yee([$8()],vee.prototype,"caipNetwork",void 0),yee([$8()],vee.prototype,"shake",void 0),yee([$8()],vee.prototype,"filterByNamespace",void 0),yee([$8()],vee.prototype,"padding",void 0),yee([$8()],vee.prototype,"mobileFullScreen",void 0);let Eee=class extends vee{};Eee=yee([r8("w3m-modal")],Eee);let Aee=class extends vee{};Aee=yee([r8("appkit-modal")],Aee);var xee=z6`
  .icon-box {
    width: 64px;
    height: 64px;
    border-radius: ${({borderRadius:e})=>e[5]};
    background-color: ${({colors:e})=>e.semanticError010};
  }
`;let Cee=class extends B6{constructor(){super()}render(){return y6`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        gap="4"
        .padding="${["1","3","4","3"]}"
      >
        <wui-flex justifyContent="center" alignItems="center" class="icon-box">
          <wui-icon size="xxl" color="error" name="warningCircle"></wui-icon>
        </wui-flex>

        <wui-text variant="lg-medium" color="primary" align="center">
          The app isn't responding as expected
        </wui-text>
        <wui-text variant="md-regular" color="secondary" align="center">
          Try again or reach out to the app team for help.
        </wui-text>

        <wui-button
          variant="neutral-secondary"
          size="md"
          @click=${this.onTryAgainClick.bind(this)}
          data-testid="w3m-usage-exceeded-button"
        >
          <wui-icon color="inherit" slot="iconLeft" name="refresh"></wui-icon>
          Try Again
        </wui-button>
      </wui-flex>
    `}onTryAgainClick(){t1.goBack()}};Cee.styles=xee,Cee=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}([r8("w3m-usage-exceeded-view")],Cee);var See=z6`
  :host {
    width: 100%;
  }
`,Iee=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let _ee=class extends B6{constructor(){super(...arguments),this.hasImpressionSent=!1,this.walletImages=[],this.imageSrc="",this.name="",this.size="md",this.tabIdx=void 0,this.disabled=!1,this.showAllWallets=!1,this.loading=!1,this.loadingSpinnerColor="accent-100",this.rdnsId="",this.displayIndex=void 0,this.walletRank=void 0}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this.cleanupIntersectionObserver()}updated(e){super.updated(e),(e.has("name")||e.has("imageSrc")||e.has("walletRank"))&&(this.hasImpressionSent=!1),e.has("walletRank")&&this.walletRank&&!this.intersectionObserver&&this.setupIntersectionObserver()}setupIntersectionObserver(){this.intersectionObserver=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&!this.loading&&!this.hasImpressionSent&&this.sendImpressionEvent()}))}),{threshold:.1}),this.intersectionObserver.observe(this)}cleanupIntersectionObserver(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0)}sendImpressionEvent(){!this.name||this.hasImpressionSent||!this.walletRank||(this.hasImpressionSent=!0,(this.rdnsId||this.name)&&K0.sendWalletImpressionEvent({name:this.name,walletRank:this.walletRank,rdnsId:this.rdnsId,view:t1.state.view,displayIndex:this.displayIndex}))}render(){return y6`
      <wui-list-wallet
        .walletImages=${this.walletImages}
        imageSrc=${L8(this.imageSrc)}
        name=${this.name}
        size=${L8(this.size)}
        tagLabel=${L8(this.tagLabel)}
        .tagVariant=${this.tagVariant}
        .walletIcon=${this.walletIcon}
        .tabIdx=${this.tabIdx}
        .disabled=${this.disabled}
        .showAllWallets=${this.showAllWallets}
        .loading=${this.loading}
        loadingSpinnerColor=${this.loadingSpinnerColor}
      ></wui-list-wallet>
    `}};_ee.styles=See,Iee([R8({type:Array})],_ee.prototype,"walletImages",void 0),Iee([R8()],_ee.prototype,"imageSrc",void 0),Iee([R8()],_ee.prototype,"name",void 0),Iee([R8()],_ee.prototype,"size",void 0),Iee([R8()],_ee.prototype,"tagLabel",void 0),Iee([R8()],_ee.prototype,"tagVariant",void 0),Iee([R8()],_ee.prototype,"walletIcon",void 0),Iee([R8()],_ee.prototype,"tabIdx",void 0),Iee([R8({type:Boolean})],_ee.prototype,"disabled",void 0),Iee([R8({type:Boolean})],_ee.prototype,"showAllWallets",void 0),Iee([R8({type:Boolean})],_ee.prototype,"loading",void 0),Iee([R8({type:String})],_ee.prototype,"loadingSpinnerColor",void 0),Iee([R8()],_ee.prototype,"rdnsId",void 0),Iee([R8()],_ee.prototype,"displayIndex",void 0),Iee([R8()],_ee.prototype,"walletRank",void 0),_ee=Iee([r8("w3m-list-wallet")],_ee);var kee=z6`
  :host {
    --local-duration-height: 0s;
    --local-duration: ${({durations:e})=>e.lg};
    --local-transition: ${({easings:e})=>e["ease-out-power-2"]};
  }

  .container {
    display: block;
    overflow: hidden;
    overflow: hidden;
    position: relative;
    height: var(--local-container-height);
    transition: height var(--local-duration-height) var(--local-transition);
    will-change: height, padding-bottom;
  }

  .container[data-mobile-fullscreen='true'] {
    overflow: scroll;
  }

  .page {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    width: 100%;
    height: auto;
    width: inherit;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    border-bottom-left-radius: var(--local-border-bottom-radius);
    border-bottom-right-radius: var(--local-border-bottom-radius);
    transition: border-bottom-left-radius var(--local-duration) var(--local-transition);
  }

  .page[data-mobile-fullscreen='true'] {
    height: 100%;
  }

  .page-content {
    display: flex;
    flex-direction: column;
    min-height: 100%;
  }

  .footer {
    height: var(--apkt-footer-height);
  }

  div.page[view-direction^='prev-'] .page-content {
    animation:
      slide-left-out var(--local-duration) forwards var(--local-transition),
      slide-left-in var(--local-duration) forwards var(--local-transition);
    animation-delay: 0ms, var(--local-duration, ${({durations:e})=>e.lg});
  }

  div.page[view-direction^='next-'] .page-content {
    animation:
      slide-right-out var(--local-duration) forwards var(--local-transition),
      slide-right-in var(--local-duration) forwards var(--local-transition);
    animation-delay: 0ms, var(--local-duration, ${({durations:e})=>e.lg});
  }

  @keyframes slide-left-out {
    from {
      transform: translateX(0px) scale(1);
      opacity: 1;
      filter: blur(0px);
    }
    to {
      transform: translateX(8px) scale(0.99);
      opacity: 0;
      filter: blur(4px);
    }
  }

  @keyframes slide-left-in {
    from {
      transform: translateX(-8px) scale(0.99);
      opacity: 0;
      filter: blur(4px);
    }
    to {
      transform: translateX(0) translateY(0) scale(1);
      opacity: 1;
      filter: blur(0px);
    }
  }

  @keyframes slide-right-out {
    from {
      transform: translateX(0px) scale(1);
      opacity: 1;
      filter: blur(0px);
    }
    to {
      transform: translateX(-8px) scale(0.99);
      opacity: 0;
      filter: blur(4px);
    }
  }

  @keyframes slide-right-in {
    from {
      transform: translateX(8px) scale(0.99);
      opacity: 0;
      filter: blur(4px);
    }
    to {
      transform: translateX(0) translateY(0) scale(1);
      opacity: 1;
      filter: blur(0px);
    }
  }
`,Pee=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let Tee=class extends B6{constructor(){super(...arguments),this.resizeObserver=void 0,this.transitionDuration="0.15s",this.transitionFunction="",this.history="",this.view="",this.setView=void 0,this.viewDirection="",this.historyState="",this.previousHeight="0px",this.mobileFullScreen=A0.state.enableMobileFullScreen,this.onViewportResize=()=>{this.updateContainerHeight()}}updated(e){if(e.has("history")){const e=this.history;""!==this.historyState&&this.historyState!==e&&this.onViewChange(e)}e.has("transitionDuration")&&this.style.setProperty("--local-duration",this.transitionDuration),e.has("transitionFunction")&&this.style.setProperty("--local-transition",this.transitionFunction)}firstUpdated(){this.transitionFunction&&this.style.setProperty("--local-transition",this.transitionFunction),this.style.setProperty("--local-duration",this.transitionDuration),this.historyState=this.history,this.resizeObserver=new ResizeObserver((e=>{for(const t of e)if(t.target===this.getWrapper()){let e=t.contentRect.height;const r=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--apkt-footer-height")||"0");if(this.mobileFullScreen){e=(window.visualViewport?.height||window.innerHeight)-this.getHeaderHeight()-r,this.style.setProperty("--local-border-bottom-radius","0px")}else e+=r,this.style.setProperty("--local-border-bottom-radius",r?"var(--apkt-borderRadius-5)":"0px");this.style.setProperty("--local-container-height",`${e}px`),"0px"!==this.previousHeight&&this.style.setProperty("--local-duration-height",this.transitionDuration),this.previousHeight=`${e}px`}})),this.resizeObserver.observe(this.getWrapper()),this.updateContainerHeight(),window.addEventListener("resize",this.onViewportResize),window.visualViewport?.addEventListener("resize",this.onViewportResize)}disconnectedCallback(){const e=this.getWrapper();e&&this.resizeObserver&&this.resizeObserver.unobserve(e),window.removeEventListener("resize",this.onViewportResize),window.visualViewport?.removeEventListener("resize",this.onViewportResize)}render(){return y6`
      <div class="container" data-mobile-fullscreen="${L8(this.mobileFullScreen)}">
        <div
          class="page"
          data-mobile-fullscreen="${L8(this.mobileFullScreen)}"
          view-direction="${this.viewDirection}"
        >
          <div class="page-content">
            <slot></slot>
          </div>
        </div>
      </div>
    `}onViewChange(e){const t=e.split(",").filter(Boolean),r=this.historyState.split(",").filter(Boolean),n=r.length,i=t.length,s=t[t.length-1]||"",o=t8.cssDurationToNumber(this.transitionDuration);let a="";i>n?a="next":i<n?a="prev":i===n&&t[i-1]!==r[n-1]&&(a="next"),this.viewDirection=`${a}-${s}`,setTimeout((()=>{this.historyState=e,this.setView?.(s)}),o),setTimeout((()=>{this.viewDirection=""}),2*o)}getWrapper(){return this.shadowRoot?.querySelector("div.page")}updateContainerHeight(){const e=this.getWrapper();if(!e)return;const t=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--apkt-footer-height")||"0");let r=0;if(this.mobileFullScreen){r=(window.visualViewport?.height||window.innerHeight)-this.getHeaderHeight()-t,this.style.setProperty("--local-border-bottom-radius","0px")}else r=e.getBoundingClientRect().height+t,this.style.setProperty("--local-border-bottom-radius",t?"var(--apkt-borderRadius-5)":"0px");this.style.setProperty("--local-container-height",`${r}px`),"0px"!==this.previousHeight&&this.style.setProperty("--local-duration-height",this.transitionDuration),this.previousHeight=`${r}px`}getHeaderHeight(){return 60}};Tee.styles=[kee],Pee([R8({type:String})],Tee.prototype,"transitionDuration",void 0),Pee([R8({type:String})],Tee.prototype,"transitionFunction",void 0),Pee([R8({type:String})],Tee.prototype,"history",void 0),Pee([R8({type:String})],Tee.prototype,"view",void 0),Pee([R8({attribute:!1})],Tee.prototype,"setView",void 0),Pee([$8()],Tee.prototype,"viewDirection",void 0),Pee([$8()],Tee.prototype,"historyState",void 0),Pee([$8()],Tee.prototype,"previousHeight",void 0),Pee([$8()],Tee.prototype,"mobileFullScreen",void 0),Tee=Pee([r8("w3m-router-container")],Tee);var Oee=Object.freeze({__proto__:null,W3mModalBase:vee,get W3mModal(){return Eee},get AppKitModal(){return Aee},get W3mUsageExceededView(){return Cee},get W3mListWallet(){return _ee},get W3mRouterContainer(){return Tee}});
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Nee=globalThis,Ree=Nee.ShadowRoot&&(void 0===Nee.ShadyCSS||Nee.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,$ee=Symbol(),Bee=new WeakMap;class Mee{constructor(e,t,r){if(this._$cssResult$=!0,r!==$ee)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(Ree&&void 0===e){const r=void 0!==t&&1===t.length;r&&(e=Bee.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&Bee.set(t,e))}return e}toString(){return this.cssText}}const Uee=(e,...t)=>{const r=1===e.length?e[0]:t.reduce(((t,r,n)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(r)+e[n+1]),e[0]);return new Mee(r,e,$ee)},Lee=Ree?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const r of e.cssRules)t+=r.cssText;return(e=>new Mee("string"==typeof e?e:e+"",void 0,$ee))(t)})(e):e
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,{is:Dee,defineProperty:jee,getOwnPropertyDescriptor:Hee,getOwnPropertyNames:zee,getOwnPropertySymbols:Fee,getPrototypeOf:Vee}=Object,Zee=globalThis,qee=Zee.trustedTypes,Wee=qee?qee.emptyScript:"",Kee=Zee.reactiveElementPolyfillSupport,Gee=(e,t)=>e,Yee={toAttribute(e,t){switch(t){case Boolean:e=e?Wee:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let r=e;switch(t){case Boolean:r=null!==e;break;case Number:r=null===e?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch{r=null}}return r}},Jee=(e,t)=>!Dee(e,t),Xee={attribute:!0,type:String,converter:Yee,reflect:!1,hasChanged:Jee};null!=Symbol.metadata||(Symbol.metadata=Symbol("metadata")),null!=Zee.litPropertyMetadata||(Zee.litPropertyMetadata=new WeakMap);class Qee extends HTMLElement{static addInitializer(e){var t;this._$Ei(),(null!=(t=this.l)?t:this.l=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=Xee){if(t.state&&(t.attribute=!1),this._$Ei(),this.elementProperties.set(e,t),!t.noAccessor){const r=Symbol(),n=this.getPropertyDescriptor(e,r,t);void 0!==n&&jee(this.prototype,e,n)}}static getPropertyDescriptor(e,t,r){var n;const{get:i,set:s}=null!=(n=Hee(this.prototype,e))?n:{get(){return this[t]},set(e){this[t]=e}};return{get(){return i?.call(this)},set(t){const n=i?.call(this);s.call(this,t),this.requestUpdate(e,n,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){var t;return null!=(t=this.elementProperties.get(e))?t:Xee}static _$Ei(){if(this.hasOwnProperty(Gee("elementProperties")))return;const e=Vee(this);e.finalize(),void 0!==e.l&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Gee("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Gee("properties"))){const e=this.properties,t=[...zee(e),...Fee(e)];for(const r of t)this.createProperty(r,e[r])}const e=this[Symbol.metadata];if(null!==e){const t=litPropertyMetadata.get(e);if(void 0!==t)for(const[e,r]of t)this.elementProperties.set(e,r)}this._$Eh=new Map;for(const[e,t]of this.elementProperties){const r=this._$Eu(e,t);void 0!==r&&this._$Eh.set(r,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const e of r)t.unshift(Lee(e))}else void 0!==e&&t.push(Lee(e));return t}static _$Eu(e,t){const r=t.attribute;return!1===r?void 0:"string"==typeof r?r:"string"==typeof e?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$E_(),this.requestUpdate(),null==(e=this.constructor.l)||e.forEach((e=>e(this)))}addController(e){var t,r;(null!=(t=this._$EO)?t:this._$EO=new Set).add(e),void 0!==this.renderRoot&&this.isConnected&&(null==(r=e.hostConnected)||r.call(e))}removeController(e){var t;null==(t=this._$EO)||t.delete(e)}_$E_(){const e=new Map,t=this.constructor.elementProperties;for(const r of t.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){var e;const t=null!=(e=this.shadowRoot)?e:this.attachShadow(this.constructor.shadowRootOptions);return((e,t)=>{if(Ree)e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet));else for(const r of t){const t=document.createElement("style"),n=Nee.litNonce;void 0!==n&&t.setAttribute("nonce",n),t.textContent=r.cssText,e.appendChild(t)}})(t,this.constructor.elementStyles),t}connectedCallback(){var e;null!=this.renderRoot||(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null==(e=this._$EO)||e.forEach((e=>{var t;return null==(t=e.hostConnected)?void 0:t.call(e)}))}enableUpdating(e){}disconnectedCallback(){var e;null==(e=this._$EO)||e.forEach((e=>{var t;return null==(t=e.hostDisconnected)?void 0:t.call(e)}))}attributeChangedCallback(e,t,r){this._$AK(e,r)}_$EC(e,t){var r;const n=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,n);if(void 0!==i&&!0===n.reflect){const s=(void 0!==(null==(r=n.converter)?void 0:r.toAttribute)?n.converter:Yee).toAttribute(t,n.type);this._$Em=e,null==s?this.removeAttribute(i):this.setAttribute(i,s),this._$Em=null}}_$AK(e,t){var r;const n=this.constructor,i=n._$Eh.get(e);if(void 0!==i&&this._$Em!==i){const e=n.getPropertyOptions(i),s="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==(null==(r=e.converter)?void 0:r.fromAttribute)?e.converter:Yee;this._$Em=i,this[i]=s.fromAttribute(t,e.type),this._$Em=null}}requestUpdate(e,t,r){var n;if(void 0!==e){if(null!=r||(r=this.constructor.getPropertyOptions(e)),!(null!=(n=r.hasChanged)?n:Jee)(this[e],t))return;this.P(e,t,r)}!1===this.isUpdatePending&&(this._$ES=this._$ET())}P(e,t,r){var n;this._$AL.has(e)||this._$AL.set(e,t),!0===r.reflect&&this._$Em!==e&&(null!=(n=this._$Ej)?n:this._$Ej=new Set).add(e)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(null!=this.renderRoot||(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[e,t]of this._$Ep)this[e]=t;this._$Ep=void 0}const e=this.constructor.elementProperties;if(e.size>0)for(const[t,r]of e)!0!==r.wrapped||this._$AL.has(t)||void 0===this[t]||this.P(t,this[t],r)}let t=!1;const r=this._$AL;try{t=this.shouldUpdate(r),t?(this.willUpdate(r),null==(e=this._$EO)||e.forEach((e=>{var t;return null==(t=e.hostUpdate)?void 0:t.call(e)})),this.update(r)):this._$EU()}catch(e){throw t=!1,this._$EU(),e}t&&this._$AE(r)}willUpdate(e){}_$AE(e){var t;null==(t=this._$EO)||t.forEach((e=>{var t;return null==(t=e.hostUpdated)?void 0:t.call(e)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Ej&&(this._$Ej=this._$Ej.forEach((e=>this._$EC(e,this[e])))),this._$EU()}updated(e){}firstUpdated(e){}}var ete;Qee.elementStyles=[],Qee.shadowRootOptions={mode:"open"},Qee[Gee("elementProperties")]=new Map,Qee[Gee("finalized")]=new Map,Kee?.({ReactiveElement:Qee}),(null!=(ete=Zee.reactiveElementVersions)?ete:Zee.reactiveElementVersions=[]).push("2.0.4");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const tte=globalThis,rte=tte.trustedTypes,nte=rte?rte.createPolicy("lit-html",{createHTML:e=>e}):void 0,ite="$lit$",ste=`lit$${Math.random().toFixed(9).slice(2)}$`,ote="?"+ste,ate=`<${ote}>`,cte=document,lte=()=>cte.createComment(""),dte=e=>null===e||"object"!=typeof e&&"function"!=typeof e,ute=Array.isArray,hte="[ \t\n\f\r]",pte=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,fte=/-->/g,gte=/>/g,mte=RegExp(`>|${hte}(?:([^\\s"'>=/]+)(${hte}*=${hte}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),yte=/'/g,wte=/"/g,bte=/^(?:script|style|textarea|title)$/i,vte=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),Ete=vte(1),Ate=vte(2),xte=Symbol.for("lit-noChange"),Cte=Symbol.for("lit-nothing"),Ste=new WeakMap,Ite=cte.createTreeWalker(cte,129);function _te(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==nte?nte.createHTML(t):t}class kte{constructor({strings:e,_$litType$:t},r){let n;this.parts=[];let i=0,s=0;const o=e.length-1,a=this.parts,[c,l]=((e,t)=>{const r=e.length-1,n=[];let i,s=2===t?"<svg>":"",o=pte;for(let t=0;t<r;t++){const r=e[t];let a,c,l=-1,d=0;for(;d<r.length&&(o.lastIndex=d,c=o.exec(r),null!==c);)d=o.lastIndex,o===pte?"!--"===c[1]?o=fte:void 0!==c[1]?o=gte:void 0!==c[2]?(bte.test(c[2])&&(i=RegExp("</"+c[2],"g")),o=mte):void 0!==c[3]&&(o=mte):o===mte?">"===c[0]?(o=i??pte,l=-1):void 0===c[1]?l=-2:(l=o.lastIndex-c[2].length,a=c[1],o=void 0===c[3]?mte:'"'===c[3]?wte:yte):o===wte||o===yte?o=mte:o===fte||o===gte?o=pte:(o=mte,i=void 0);const u=o===mte&&e[t+1].startsWith("/>")?" ":"";s+=o===pte?r+ate:l>=0?(n.push(a),r.slice(0,l)+ite+r.slice(l)+ste+u):r+ste+(-2===l?t:u)}return[_te(e,s+(e[r]||"<?>")+(2===t?"</svg>":"")),n]})(e,t);if(this.el=kte.createElement(c,r),Ite.currentNode=this.el.content,2===t){const e=this.el.content.firstChild;e.replaceWith(...e.childNodes)}for(;null!==(n=Ite.nextNode())&&a.length<o;){if(1===n.nodeType){if(n.hasAttributes())for(const e of n.getAttributeNames())if(e.endsWith(ite)){const t=l[s++],r=n.getAttribute(e).split(ste),o=/([.?@])?(.*)/.exec(t);a.push({type:1,index:i,name:o[2],strings:r,ctor:"."===o[1]?Rte:"?"===o[1]?$te:"@"===o[1]?Bte:Nte}),n.removeAttribute(e)}else e.startsWith(ste)&&(a.push({type:6,index:i}),n.removeAttribute(e));if(bte.test(n.tagName)){const e=n.textContent.split(ste),t=e.length-1;if(t>0){n.textContent=rte?rte.emptyScript:"";for(let r=0;r<t;r++)n.append(e[r],lte()),Ite.nextNode(),a.push({type:2,index:++i});n.append(e[t],lte())}}}else if(8===n.nodeType)if(n.data===ote)a.push({type:2,index:i});else{let e=-1;for(;-1!==(e=n.data.indexOf(ste,e+1));)a.push({type:7,index:i}),e+=ste.length-1}i++}}static createElement(e,t){const r=cte.createElement("template");return r.innerHTML=e,r}}function Pte(e,t,r=e,n){var i,s,o;if(t===xte)return t;let a=void 0!==n?null==(i=r._$Co)?void 0:i[n]:r._$Cl;const c=dte(t)?void 0:t._$litDirective$;return a?.constructor!==c&&(null==(s=a?._$AO)||s.call(a,!1),void 0===c?a=void 0:(a=new c(e),a._$AT(e,r,n)),void 0!==n?(null!=(o=r._$Co)?o:r._$Co=[])[n]=a:r._$Cl=a),void 0!==a&&(t=Pte(e,a._$AS(e,t.values),a,n)),t}class Tte{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;const{el:{content:r},parts:n}=this._$AD,i=(null!=(t=e?.creationScope)?t:cte).importNode(r,!0);Ite.currentNode=i;let s=Ite.nextNode(),o=0,a=0,c=n[0];for(;void 0!==c;){if(o===c.index){let t;2===c.type?t=new Ote(s,s.nextSibling,this,e):1===c.type?t=new c.ctor(s,c.name,c.strings,this,e):6===c.type&&(t=new Mte(s,this,e)),this._$AV.push(t),c=n[++a]}o!==c?.index&&(s=Ite.nextNode(),o++)}return Ite.currentNode=cte,i}p(e){let t=0;for(const r of this._$AV)void 0!==r&&(void 0!==r.strings?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}}class Ote{get _$AU(){var e,t;return null!=(t=null==(e=this._$AM)?void 0:e._$AU)?t:this._$Cv}constructor(e,t,r,n){var i;this.type=2,this._$AH=Cte,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=r,this.options=n,this._$Cv=null==(i=n?.isConnected)||i}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===e?.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=Pte(this,e,t),dte(e)?e===Cte||null==e||""===e?(this._$AH!==Cte&&this._$AR(),this._$AH=Cte):e!==this._$AH&&e!==xte&&this._(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):(e=>ute(e)||"function"==typeof e?.[Symbol.iterator])(e)?this.k(e):this._(e)}S(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.S(e))}_(e){this._$AH!==Cte&&dte(this._$AH)?this._$AA.nextSibling.data=e:this.T(cte.createTextNode(e)),this._$AH=e}$(e){var t;const{values:r,_$litType$:n}=e,i="number"==typeof n?this._$AC(e):(void 0===n.el&&(n.el=kte.createElement(_te(n.h,n.h[0]),this.options)),n);if((null==(t=this._$AH)?void 0:t._$AD)===i)this._$AH.p(r);else{const e=new Tte(i,this),t=e.u(this.options);e.p(r),this.T(t),this._$AH=e}}_$AC(e){let t=Ste.get(e.strings);return void 0===t&&Ste.set(e.strings,t=new kte(e)),t}k(e){ute(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let r,n=0;for(const i of e)n===t.length?t.push(r=new Ote(this.S(lte()),this.S(lte()),this,this.options)):r=t[n],r._$AI(i),n++;n<t.length&&(this._$AR(r&&r._$AB.nextSibling,n),t.length=n)}_$AR(e=this._$AA.nextSibling,t){var r;for(null==(r=this._$AP)||r.call(this,!1,!0,t);e&&e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){var t;void 0===this._$AM&&(this._$Cv=e,null==(t=this._$AP)||t.call(this,e))}}class Nte{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,r,n,i){this.type=1,this._$AH=Cte,this._$AN=void 0,this.element=e,this.name=t,this._$AM=n,this.options=i,r.length>2||""!==r[0]||""!==r[1]?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Cte}_$AI(e,t=this,r,n){const i=this.strings;let s=!1;if(void 0===i)e=Pte(this,e,t,0),s=!dte(e)||e!==this._$AH&&e!==xte,s&&(this._$AH=e);else{const n=e;let o,a;for(e=i[0],o=0;o<i.length-1;o++)a=Pte(this,n[r+o],t,o),a===xte&&(a=this._$AH[o]),s||(s=!dte(a)||a!==this._$AH[o]),a===Cte?e=Cte:e!==Cte&&(e+=(a??"")+i[o+1]),this._$AH[o]=a}s&&!n&&this.j(e)}j(e){e===Cte?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class Rte extends Nte{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Cte?void 0:e}}class $te extends Nte{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Cte)}}class Bte extends Nte{constructor(e,t,r,n,i){super(e,t,r,n,i),this.type=5}_$AI(e,t=this){var r;if((e=null!=(r=Pte(this,e,t,0))?r:Cte)===xte)return;const n=this._$AH,i=e===Cte&&n!==Cte||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,s=e!==Cte&&(n===Cte||i);i&&this.element.removeEventListener(this.name,this,n),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;"function"==typeof this._$AH?this._$AH.call(null!=(r=null==(t=this.options)?void 0:t.host)?r:this.element,e):this._$AH.handleEvent(e)}}class Mte{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Pte(this,e)}}const Ute=tte.litHtmlPolyfillSupport;var Lte;Ute?.(kte,Ote),(null!=(Lte=tte.litHtmlVersions)?Lte:tte.litHtmlVersions=[]).push("3.1.4");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class Dte extends Qee{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e;const t=super.createRenderRoot();return null!=(e=this.renderOptions).renderBefore||(e.renderBefore=t.firstChild),t}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=((e,t,r)=>{var n,i;const s=null!=(n=r?.renderBefore)?n:t;let o=s._$litPart$;if(void 0===o){const e=null!=(i=r?.renderBefore)?i:null;s._$litPart$=o=new Ote(t.insertBefore(lte(),e),e,void 0,r??{})}return o._$AI(e),o})(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),null==(e=this._$Do)||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),null==(e=this._$Do)||e.setConnected(!1)}render(){return xte}}var jte;Dte._$litElement$=!0,Dte.finalized=!0,null==(jte=globalThis.litElementHydrateSupport)||jte.call(globalThis,{LitElement:Dte});const Hte=globalThis.litElementPolyfillSupport;var zte;Hte?.({LitElement:Dte}),(null!=(zte=globalThis.litElementVersions)?zte:globalThis.litElementVersions=[]).push("4.0.6");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const Fte=e=>(t,r)=>{void 0!==r?r.addInitializer((()=>{customElements.define(e,t)})):customElements.define(e,t)};var Vte=Object.defineProperty,Zte=Object.defineProperties,qte=Object.getOwnPropertyDescriptors,Wte=Object.getOwnPropertySymbols,Kte=Object.prototype.hasOwnProperty,Gte=Object.prototype.propertyIsEnumerable,Yte=(e,t,r)=>t in e?Vte(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Jte={attribute:!0,type:String,converter:Yee,reflect:!1,hasChanged:Jee},Xte=(e=Jte,t,r)=>{const{kind:n,metadata:i}=r;let s=globalThis.litPropertyMetadata.get(i);if(void 0===s&&globalThis.litPropertyMetadata.set(i,s=new Map),s.set(r.name,e),"accessor"===n){const{name:n}=r;return{set(r){const i=t.get.call(this);t.set.call(this,r),this.requestUpdate(n,i,e)},init(t){return void 0!==t&&this.P(n,void 0,e),t}}}if("setter"===n){const{name:n}=r;return function(r){const i=this[n];t.call(this,r),this.requestUpdate(n,i,e)}}throw Error("Unsupported decorator location: "+n)};function Qte(e){return(t,r)=>"object"==typeof r?Xte(e,t,r):((e,t,r)=>{const n=t.hasOwnProperty(r);return t.constructor.createProperty(r,n?((e,t)=>Zte(e,qte(t)))(((e,t)=>{for(var r in t||(t={}))Kte.call(t,r)&&Yte(e,r,t[r]);if(Wte)for(var r of Wte(t))Gte.call(t,r)&&Yte(e,r,t[r]);return e})({},e),{wrapped:!0}):e),n?Object.getOwnPropertyDescriptor(t,r):void 0})(e,t,r)}var ere=Object.defineProperty,tre=Object.getOwnPropertyDescriptor,rre=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?tre(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&ere(t,r,s),s};let nre=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${nre.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};nre.weightsMap=new Map([["thin",Ate`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm34.83-86.83a4,4,0,0,1,0,5.66l-32,32a4,4,0,0,1-5.66,0l-32-32a4,4,0,0,1,5.66-5.66L124,158.34V88a4,4,0,0,1,8,0v70.34l25.17-25.17A4,4,0,0,1,162.83,133.17Z"/>`],["light",Ate`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm36.24-86.24a6,6,0,0,1,0,8.48l-32,32a6,6,0,0,1-8.48,0l-32-32a6,6,0,0,1,8.48-8.48L122,153.51V88a6,6,0,0,1,12,0v65.51l21.76-21.75A6,6,0,0,1,164.24,131.76Z"/>`],["regular",Ate`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm37.66-85.66a8,8,0,0,1,0,11.32l-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L120,148.69V88a8,8,0,0,1,16,0v60.69l18.34-18.35A8,8,0,0,1,165.66,130.34Z"/>`],["bold",Ate`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm40.49-84.49a12,12,0,0,1,0,17l-32,32a12,12,0,0,1-17,0l-32-32a12,12,0,1,1,17-17L116,139V88a12,12,0,0,1,24,0v51l11.51-11.52A12,12,0,0,1,168.49,127.51Z"/>`],["fill",Ate`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm37.66,117.66-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L120,148.69V88a8,8,0,0,1,16,0v60.69l18.34-18.35a8,8,0,0,1,11.32,11.32Z"/>`],["duotone",Ate`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm37.66-85.66a8,8,0,0,1,0,11.32l-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L120,148.69V88a8,8,0,0,1,16,0v60.69l18.34-18.35A8,8,0,0,1,165.66,130.34Z"/>`]]),nre.styles=Uee`
    :host {
      display: contents;
    }
  `,rre([Qte({type:String,reflect:!0})],nre.prototype,"size",2),rre([Qte({type:String,reflect:!0})],nre.prototype,"weight",2),rre([Qte({type:String,reflect:!0})],nre.prototype,"color",2),rre([Qte({type:Boolean,reflect:!0})],nre.prototype,"mirrored",2),nre=rre([Fte("ph-arrow-circle-down")],nre);var ire=Object.freeze({__proto__:null,get PhArrowCircleDown(){return nre}}),sre=Object.defineProperty,ore=Object.getOwnPropertyDescriptor,are=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?ore(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&sre(t,r,s),s};let cre=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${cre.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};cre.weightsMap=new Map([["thin",Ate`<path d="M236,56v48a4,4,0,0,1-4,4H184a4,4,0,0,1,0-8h37.7L187.53,68.69l-.13-.12a84,84,0,1,0-1.75,120.51,4,4,0,0,1,5.5,5.82A91.43,91.43,0,0,1,128,220h-1.26A92,92,0,1,1,193,62.84l35,32.05V56a4,4,0,1,1,8,0Z"/>`],["light",Ate`<path d="M238,56v48a6,6,0,0,1-6,6H184a6,6,0,0,1,0-12h32.55l-30.38-27.8c-.06-.06-.12-.13-.19-.19a82,82,0,1,0-1.7,117.65,6,6,0,0,1,8.24,8.73A93.46,93.46,0,0,1,128,222h-1.28A94,94,0,1,1,194.37,61.4L226,90.35V56a6,6,0,1,1,12,0Z"/>`],["regular",Ate`<path d="M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1,0-16H211.4L184.81,71.64l-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,0,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60L224,85.8V56a8,8,0,1,1,16,0Z"/>`],["bold",Ate`<path d="M244,56v48a12,12,0,0,1-12,12H184a12,12,0,1,1,0-24H201.1l-19-17.38c-.13-.12-.26-.24-.38-.37A76,76,0,1,0,127,204h1a75.53,75.53,0,0,0,52.15-20.72,12,12,0,0,1,16.49,17.45A99.45,99.45,0,0,1,128,228h-1.37A100,100,0,1,1,198.51,57.06L220,76.72V56a12,12,0,0,1,24,0Z"/>`],["fill",Ate`<path d="M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1-5.66-13.66l17-17-10.55-9.65-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,1,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60l10.93,10L226.34,50.3A8,8,0,0,1,240,56Z"/>`],["duotone",Ate`<path d="M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z" opacity="0.2"/><path d="M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1,0-16H211.4L184.81,71.64l-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,0,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60L224,85.8V56a8,8,0,1,1,16,0Z"/>`]]),cre.styles=Uee`
    :host {
      display: contents;
    }
  `,are([Qte({type:String,reflect:!0})],cre.prototype,"size",2),are([Qte({type:String,reflect:!0})],cre.prototype,"weight",2),are([Qte({type:String,reflect:!0})],cre.prototype,"color",2),are([Qte({type:Boolean,reflect:!0})],cre.prototype,"mirrored",2),cre=are([Fte("ph-arrow-clockwise")],cre);var lre=Object.freeze({__proto__:null,get PhArrowClockwise(){return cre}}),dre=Object.defineProperty,ure=Object.getOwnPropertyDescriptor,hre=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?ure(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&dre(t,r,s),s};let pre=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${pre.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};pre.weightsMap=new Map([["thin",Ate`<path d="M202.83,146.83l-72,72a4,4,0,0,1-5.66,0l-72-72a4,4,0,0,1,5.66-5.66L124,206.34V40a4,4,0,0,1,8,0V206.34l65.17-65.17a4,4,0,0,1,5.66,5.66Z"/>`],["light",Ate`<path d="M204.24,148.24l-72,72a6,6,0,0,1-8.48,0l-72-72a6,6,0,0,1,8.48-8.48L122,201.51V40a6,6,0,0,1,12,0V201.51l61.76-61.75a6,6,0,0,1,8.48,8.48Z"/>`],["regular",Ate`<path d="M205.66,149.66l-72,72a8,8,0,0,1-11.32,0l-72-72a8,8,0,0,1,11.32-11.32L120,196.69V40a8,8,0,0,1,16,0V196.69l58.34-58.35a8,8,0,0,1,11.32,11.32Z"/>`],["bold",Ate`<path d="M208.49,152.49l-72,72a12,12,0,0,1-17,0l-72-72a12,12,0,0,1,17-17L116,187V40a12,12,0,0,1,24,0V187l51.51-51.52a12,12,0,0,1,17,17Z"/>`],["fill",Ate`<path d="M205.66,149.66l-72,72a8,8,0,0,1-11.32,0l-72-72A8,8,0,0,1,56,136h64V40a8,8,0,0,1,16,0v96h64a8,8,0,0,1,5.66,13.66Z"/>`],["duotone",Ate`<path d="M200,144l-72,72L56,144Z" opacity="0.2"/><path d="M207.39,140.94A8,8,0,0,0,200,136H136V40a8,8,0,0,0-16,0v96H56a8,8,0,0,0-5.66,13.66l72,72a8,8,0,0,0,11.32,0l72-72A8,8,0,0,0,207.39,140.94ZM128,204.69,75.31,152H180.69Z"/>`]]),pre.styles=Uee`
    :host {
      display: contents;
    }
  `,hre([Qte({type:String,reflect:!0})],pre.prototype,"size",2),hre([Qte({type:String,reflect:!0})],pre.prototype,"weight",2),hre([Qte({type:String,reflect:!0})],pre.prototype,"color",2),hre([Qte({type:Boolean,reflect:!0})],pre.prototype,"mirrored",2),pre=hre([Fte("ph-arrow-down")],pre);var fre=Object.freeze({__proto__:null,get PhArrowDown(){return pre}}),gre=Object.defineProperty,mre=Object.getOwnPropertyDescriptor,yre=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?mre(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&gre(t,r,s),s};let wre=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${wre.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};wre.weightsMap=new Map([["thin",Ate`<path d="M220,128a4,4,0,0,1-4,4H49.66l65.17,65.17a4,4,0,0,1-5.66,5.66l-72-72a4,4,0,0,1,0-5.66l72-72a4,4,0,0,1,5.66,5.66L49.66,124H216A4,4,0,0,1,220,128Z"/>`],["light",Ate`<path d="M222,128a6,6,0,0,1-6,6H54.49l61.75,61.76a6,6,0,1,1-8.48,8.48l-72-72a6,6,0,0,1,0-8.48l72-72a6,6,0,0,1,8.48,8.48L54.49,122H216A6,6,0,0,1,222,128Z"/>`],["regular",Ate`<path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"/>`],["bold",Ate`<path d="M228,128a12,12,0,0,1-12,12H69l51.52,51.51a12,12,0,0,1-17,17l-72-72a12,12,0,0,1,0-17l72-72a12,12,0,0,1,17,17L69,116H216A12,12,0,0,1,228,128Z"/>`],["fill",Ate`<path d="M224,128a8,8,0,0,1-8,8H120v64a8,8,0,0,1-13.66,5.66l-72-72a8,8,0,0,1,0-11.32l72-72A8,8,0,0,1,120,56v64h96A8,8,0,0,1,224,128Z"/>`],["duotone",Ate`<path d="M112,56V200L40,128Z" opacity="0.2"/><path d="M216,120H120V56a8,8,0,0,0-13.66-5.66l-72,72a8,8,0,0,0,0,11.32l72,72A8,8,0,0,0,120,200V136h96a8,8,0,0,0,0-16ZM104,180.69,51.31,128,104,75.31Z"/>`]]),wre.styles=Uee`
    :host {
      display: contents;
    }
  `,yre([Qte({type:String,reflect:!0})],wre.prototype,"size",2),yre([Qte({type:String,reflect:!0})],wre.prototype,"weight",2),yre([Qte({type:String,reflect:!0})],wre.prototype,"color",2),yre([Qte({type:Boolean,reflect:!0})],wre.prototype,"mirrored",2),wre=yre([Fte("ph-arrow-left")],wre);var bre=Object.freeze({__proto__:null,get PhArrowLeft(){return wre}}),vre=Object.defineProperty,Ere=Object.getOwnPropertyDescriptor,Are=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?Ere(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&vre(t,r,s),s};let xre=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${xre.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};xre.weightsMap=new Map([["thin",Ate`<path d="M218.83,130.83l-72,72a4,4,0,0,1-5.66-5.66L206.34,132H40a4,4,0,0,1,0-8H206.34L141.17,58.83a4,4,0,0,1,5.66-5.66l72,72A4,4,0,0,1,218.83,130.83Z"/>`],["light",Ate`<path d="M220.24,132.24l-72,72a6,6,0,0,1-8.48-8.48L201.51,134H40a6,6,0,0,1,0-12H201.51L139.76,60.24a6,6,0,0,1,8.48-8.48l72,72A6,6,0,0,1,220.24,132.24Z"/>`],["regular",Ate`<path d="M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z"/>`],["bold",Ate`<path d="M224.49,136.49l-72,72a12,12,0,0,1-17-17L187,140H40a12,12,0,0,1,0-24H187L135.51,64.48a12,12,0,0,1,17-17l72,72A12,12,0,0,1,224.49,136.49Z"/>`],["fill",Ate`<path d="M221.66,133.66l-72,72A8,8,0,0,1,136,200V136H40a8,8,0,0,1,0-16h96V56a8,8,0,0,1,13.66-5.66l72,72A8,8,0,0,1,221.66,133.66Z"/>`],["duotone",Ate`<path d="M216,128l-72,72V56Z" opacity="0.2"/><path d="M221.66,122.34l-72-72A8,8,0,0,0,136,56v64H40a8,8,0,0,0,0,16h96v64a8,8,0,0,0,13.66,5.66l72-72A8,8,0,0,0,221.66,122.34ZM152,180.69V75.31L204.69,128Z"/>`]]),xre.styles=Uee`
    :host {
      display: contents;
    }
  `,Are([Qte({type:String,reflect:!0})],xre.prototype,"size",2),Are([Qte({type:String,reflect:!0})],xre.prototype,"weight",2),Are([Qte({type:String,reflect:!0})],xre.prototype,"color",2),Are([Qte({type:Boolean,reflect:!0})],xre.prototype,"mirrored",2),xre=Are([Fte("ph-arrow-right")],xre);var Cre=Object.freeze({__proto__:null,get PhArrowRight(){return xre}}),Sre=Object.defineProperty,Ire=Object.getOwnPropertyDescriptor,_re=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?Ire(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Sre(t,r,s),s};let kre=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${kre.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};kre.weightsMap=new Map([["thin",Ate`<path d="M220,104a4,4,0,0,1-8,0V49.66l-73.16,73.17a4,4,0,0,1-5.66-5.66L206.34,44H152a4,4,0,0,1,0-8h64a4,4,0,0,1,4,4Zm-36,28a4,4,0,0,0-4,4v72a4,4,0,0,1-4,4H48a4,4,0,0,1-4-4V80a4,4,0,0,1,4-4h72a4,4,0,0,0,0-8H48A12,12,0,0,0,36,80V208a12,12,0,0,0,12,12H176a12,12,0,0,0,12-12V136A4,4,0,0,0,184,132Z"/>`],["light",Ate`<path d="M222,104a6,6,0,0,1-12,0V54.49l-69.75,69.75a6,6,0,0,1-8.48-8.48L201.51,46H152a6,6,0,0,1,0-12h64a6,6,0,0,1,6,6Zm-38,26a6,6,0,0,0-6,6v72a2,2,0,0,1-2,2H48a2,2,0,0,1-2-2V80a2,2,0,0,1,2-2h72a6,6,0,0,0,0-12H48A14,14,0,0,0,34,80V208a14,14,0,0,0,14,14H176a14,14,0,0,0,14-14V136A6,6,0,0,0,184,130Z"/>`],["regular",Ate`<path d="M224,104a8,8,0,0,1-16,0V59.32l-66.33,66.34a8,8,0,0,1-11.32-11.32L196.68,48H152a8,8,0,0,1,0-16h64a8,8,0,0,1,8,8Zm-40,24a8,8,0,0,0-8,8v72H48V80h72a8,8,0,0,0,0-16H48A16,16,0,0,0,32,80V208a16,16,0,0,0,16,16H176a16,16,0,0,0,16-16V136A8,8,0,0,0,184,128Z"/>`],["bold",Ate`<path d="M228,104a12,12,0,0,1-24,0V69l-59.51,59.51a12,12,0,0,1-17-17L187,52H152a12,12,0,0,1,0-24h64a12,12,0,0,1,12,12Zm-44,24a12,12,0,0,0-12,12v64H52V84h64a12,12,0,0,0,0-24H48A20,20,0,0,0,28,80V208a20,20,0,0,0,20,20H176a20,20,0,0,0,20-20V140A12,12,0,0,0,184,128Z"/>`],["fill",Ate`<path d="M192,136v72a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V80A16,16,0,0,1,48,64h72a8,8,0,0,1,0,16H48V208H176V136a8,8,0,0,1,16,0Zm32-96a8,8,0,0,0-8-8H152a8,8,0,0,0-5.66,13.66L172.69,72l-42.35,42.34a8,8,0,0,0,11.32,11.32L184,83.31l26.34,26.35A8,8,0,0,0,224,104Z"/>`],["duotone",Ate`<path d="M184,80V208a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V80a8,8,0,0,1,8-8H176A8,8,0,0,1,184,80Z" opacity="0.2"/><path d="M224,104a8,8,0,0,1-16,0V59.32l-66.33,66.34a8,8,0,0,1-11.32-11.32L196.68,48H152a8,8,0,0,1,0-16h64a8,8,0,0,1,8,8Zm-40,24a8,8,0,0,0-8,8v72H48V80h72a8,8,0,0,0,0-16H48A16,16,0,0,0,32,80V208a16,16,0,0,0,16,16H176a16,16,0,0,0,16-16V136A8,8,0,0,0,184,128Z"/>`]]),kre.styles=Uee`
    :host {
      display: contents;
    }
  `,_re([Qte({type:String,reflect:!0})],kre.prototype,"size",2),_re([Qte({type:String,reflect:!0})],kre.prototype,"weight",2),_re([Qte({type:String,reflect:!0})],kre.prototype,"color",2),_re([Qte({type:Boolean,reflect:!0})],kre.prototype,"mirrored",2),kre=_re([Fte("ph-arrow-square-out")],kre);var Pre=Object.freeze({__proto__:null,get PhArrowSquareOut(){return kre}}),Tre=Object.defineProperty,Ore=Object.getOwnPropertyDescriptor,Nre=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?Ore(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Tre(t,r,s),s};let Rre=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Rre.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};Rre.weightsMap=new Map([["thin",Ate`<path d="M114.83,173.17a4,4,0,0,1,0,5.66l-32,32a4,4,0,0,1-5.66,0l-32-32a4,4,0,0,1,5.66-5.66L76,198.34V48a4,4,0,0,1,8,0V198.34l25.17-25.17A4,4,0,0,1,114.83,173.17Zm96-96-32-32a4,4,0,0,0-5.66,0l-32,32a4,4,0,0,0,5.66,5.66L172,57.66V208a4,4,0,0,0,8,0V57.66l25.17,25.17a4,4,0,1,0,5.66-5.66Z"/>`],["light",Ate`<path d="M116.24,171.76a6,6,0,0,1,0,8.48l-32,32a6,6,0,0,1-8.48,0l-32-32a6,6,0,0,1,8.48-8.48L74,193.51V48a6,6,0,0,1,12,0V193.51l21.76-21.75A6,6,0,0,1,116.24,171.76Zm96-96-32-32a6,6,0,0,0-8.48,0l-32,32a6,6,0,0,0,8.48,8.48L170,62.49V208a6,6,0,0,0,12,0V62.49l21.76,21.75a6,6,0,0,0,8.48-8.48Z"/>`],["regular",Ate`<path d="M117.66,170.34a8,8,0,0,1,0,11.32l-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L72,188.69V48a8,8,0,0,1,16,0V188.69l18.34-18.35A8,8,0,0,1,117.66,170.34Zm96-96-32-32a8,8,0,0,0-11.32,0l-32,32a8,8,0,0,0,11.32,11.32L168,67.31V208a8,8,0,0,0,16,0V67.31l18.34,18.35a8,8,0,0,0,11.32-11.32Z"/>`],["bold",Ate`<path d="M120.49,167.51a12,12,0,0,1,0,17l-32,32a12,12,0,0,1-17,0l-32-32a12,12,0,1,1,17-17L68,179V48a12,12,0,0,1,24,0V179l11.51-11.52A12,12,0,0,1,120.49,167.51Zm96-96-32-32a12,12,0,0,0-17,0l-32,32a12,12,0,0,0,17,17L164,77V208a12,12,0,0,0,24,0V77l11.51,11.52a12,12,0,0,0,17-17Z"/>`],["fill",Ate`<path d="M119.39,172.94a8,8,0,0,1-1.73,8.72l-32,32a8,8,0,0,1-11.32,0l-32-32A8,8,0,0,1,48,168H72V48a8,8,0,0,1,16,0V168h24A8,8,0,0,1,119.39,172.94Zm94.27-98.6-32-32a8,8,0,0,0-11.32,0l-32,32A8,8,0,0,0,144,88h24V208a8,8,0,0,0,16,0V88h24a8,8,0,0,0,5.66-13.66Z"/>`],["duotone",Ate`<path d="M176,48V208H80V48Z" opacity="0.2"/><path d="M117.66,170.34a8,8,0,0,1,0,11.32l-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L72,188.69V48a8,8,0,0,1,16,0V188.69l18.34-18.35A8,8,0,0,1,117.66,170.34Zm96-96-32-32a8,8,0,0,0-11.32,0l-32,32a8,8,0,0,0,11.32,11.32L168,67.31V208a8,8,0,0,0,16,0V67.31l18.34,18.35a8,8,0,0,0,11.32-11.32Z"/>`]]),Rre.styles=Uee`
    :host {
      display: contents;
    }
  `,Nre([Qte({type:String,reflect:!0})],Rre.prototype,"size",2),Nre([Qte({type:String,reflect:!0})],Rre.prototype,"weight",2),Nre([Qte({type:String,reflect:!0})],Rre.prototype,"color",2),Nre([Qte({type:Boolean,reflect:!0})],Rre.prototype,"mirrored",2),Rre=Nre([Fte("ph-arrows-down-up")],Rre);var $re=Object.freeze({__proto__:null,get PhArrowsDownUp(){return Rre}}),Bre=Object.defineProperty,Mre=Object.getOwnPropertyDescriptor,Ure=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?Mre(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Bre(t,r,s),s};let Lre=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Lre.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};Lre.weightsMap=new Map([["thin",Ate`<path d="M210.83,173.17a4,4,0,0,1,0,5.66l-32,32a4,4,0,0,1-5.66-5.66L198.34,180H48a4,4,0,0,1,0-8H198.34l-25.17-25.17a4,4,0,0,1,5.66-5.66ZM77.17,114.83a4,4,0,0,0,5.66-5.66L57.66,84H208a4,4,0,0,0,0-8H57.66L82.83,50.83a4,4,0,0,0-5.66-5.66l-32,32a4,4,0,0,0,0,5.66Z"/>`],["light",Ate`<path d="M212.24,171.76a6,6,0,0,1,0,8.48l-32,32a6,6,0,0,1-8.48-8.48L193.51,182H48a6,6,0,0,1,0-12H193.51l-21.75-21.76a6,6,0,0,1,8.48-8.48ZM75.76,116.24a6,6,0,0,0,8.48-8.48L62.49,86H208a6,6,0,0,0,0-12H62.49L84.24,52.24a6,6,0,0,0-8.48-8.48l-32,32a6,6,0,0,0,0,8.48Z"/>`],["regular",Ate`<path d="M213.66,181.66l-32,32a8,8,0,0,1-11.32-11.32L188.69,184H48a8,8,0,0,1,0-16H188.69l-18.35-18.34a8,8,0,0,1,11.32-11.32l32,32A8,8,0,0,1,213.66,181.66Zm-139.32-64a8,8,0,0,0,11.32-11.32L67.31,88H208a8,8,0,0,0,0-16H67.31L85.66,53.66A8,8,0,0,0,74.34,42.34l-32,32a8,8,0,0,0,0,11.32Z"/>`],["bold",Ate`<path d="M216.49,184.49l-32,32a12,12,0,0,1-17-17L179,188H48a12,12,0,0,1,0-24H179l-11.52-11.51a12,12,0,0,1,17-17l32,32A12,12,0,0,1,216.49,184.49Zm-145-64a12,12,0,0,0,17-17L77,92H208a12,12,0,0,0,0-24H77L88.49,56.49a12,12,0,0,0-17-17l-32,32a12,12,0,0,0,0,17Z"/>`],["fill",Ate`<path d="M42.34,85.66a8,8,0,0,1,0-11.32l32-32A8,8,0,0,1,88,48V72H208a8,8,0,0,1,0,16H88v24a8,8,0,0,1-13.66,5.66Zm171.32,84.68-32-32A8,8,0,0,0,168,144v24H48a8,8,0,0,0,0,16H168v24a8,8,0,0,0,13.66,5.66l32-32A8,8,0,0,0,213.66,170.34Z"/>`],["duotone",Ate`<path d="M208,80v96H48V80Z" opacity="0.2"/><path d="M213.66,181.66l-32,32a8,8,0,0,1-11.32-11.32L188.69,184H48a8,8,0,0,1,0-16H188.69l-18.35-18.34a8,8,0,0,1,11.32-11.32l32,32A8,8,0,0,1,213.66,181.66Zm-139.32-64a8,8,0,0,0,11.32-11.32L67.31,88H208a8,8,0,0,0,0-16H67.31L85.66,53.66A8,8,0,0,0,74.34,42.34l-32,32a8,8,0,0,0,0,11.32Z"/>`]]),Lre.styles=Uee`
    :host {
      display: contents;
    }
  `,Ure([Qte({type:String,reflect:!0})],Lre.prototype,"size",2),Ure([Qte({type:String,reflect:!0})],Lre.prototype,"weight",2),Ure([Qte({type:String,reflect:!0})],Lre.prototype,"color",2),Ure([Qte({type:Boolean,reflect:!0})],Lre.prototype,"mirrored",2),Lre=Ure([Fte("ph-arrows-left-right")],Lre);var Dre=Object.freeze({__proto__:null,get PhArrowsLeftRight(){return Lre}}),jre=Object.defineProperty,Hre=Object.getOwnPropertyDescriptor,zre=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?Hre(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&jre(t,r,s),s};let Fre=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Fre.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};Fre.weightsMap=new Map([["thin",Ate`<path d="M202.83,114.83a4,4,0,0,1-5.66,0L132,49.66V216a4,4,0,0,1-8,0V49.66L58.83,114.83a4,4,0,0,1-5.66-5.66l72-72a4,4,0,0,1,5.66,0l72,72A4,4,0,0,1,202.83,114.83Z"/>`],["light",Ate`<path d="M204.24,116.24a6,6,0,0,1-8.48,0L134,54.49V216a6,6,0,0,1-12,0V54.49L60.24,116.24a6,6,0,0,1-8.48-8.48l72-72a6,6,0,0,1,8.48,0l72,72A6,6,0,0,1,204.24,116.24Z"/>`],["regular",Ate`<path d="M205.66,117.66a8,8,0,0,1-11.32,0L136,59.31V216a8,8,0,0,1-16,0V59.31L61.66,117.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0l72,72A8,8,0,0,1,205.66,117.66Z"/>`],["bold",Ate`<path d="M208.49,120.49a12,12,0,0,1-17,0L140,69V216a12,12,0,0,1-24,0V69L64.49,120.49a12,12,0,0,1-17-17l72-72a12,12,0,0,1,17,0l72,72A12,12,0,0,1,208.49,120.49Z"/>`],["fill",Ate`<path d="M207.39,115.06A8,8,0,0,1,200,120H136v96a8,8,0,0,1-16,0V120H56a8,8,0,0,1-5.66-13.66l72-72a8,8,0,0,1,11.32,0l72,72A8,8,0,0,1,207.39,115.06Z"/>`],["duotone",Ate`<path d="M200,112H56l72-72Z" opacity="0.2"/><path d="M205.66,106.34l-72-72a8,8,0,0,0-11.32,0l-72,72A8,8,0,0,0,56,120h64v96a8,8,0,0,0,16,0V120h64a8,8,0,0,0,5.66-13.66ZM75.31,104,128,51.31,180.69,104Z"/>`]]),Fre.styles=Uee`
    :host {
      display: contents;
    }
  `,zre([Qte({type:String,reflect:!0})],Fre.prototype,"size",2),zre([Qte({type:String,reflect:!0})],Fre.prototype,"weight",2),zre([Qte({type:String,reflect:!0})],Fre.prototype,"color",2),zre([Qte({type:Boolean,reflect:!0})],Fre.prototype,"mirrored",2),Fre=zre([Fte("ph-arrow-up")],Fre);var Vre=Object.freeze({__proto__:null,get PhArrowUp(){return Fre}}),Zre=Object.defineProperty,qre=Object.getOwnPropertyDescriptor,Wre=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?qre(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Zre(t,r,s),s};let Kre=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Kre.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};Kre.weightsMap=new Map([["thin",Ate`<path d="M196,64V168a4,4,0,0,1-8,0V73.66L66.83,194.83a4,4,0,0,1-5.66-5.66L182.34,68H88a4,4,0,0,1,0-8H192A4,4,0,0,1,196,64Z"/>`],["light",Ate`<path d="M198,64V168a6,6,0,0,1-12,0V78.48L68.24,196.24a6,6,0,0,1-8.48-8.48L177.52,70H88a6,6,0,0,1,0-12H192A6,6,0,0,1,198,64Z"/>`],["regular",Ate`<path d="M200,64V168a8,8,0,0,1-16,0V83.31L69.66,197.66a8,8,0,0,1-11.32-11.32L172.69,72H88a8,8,0,0,1,0-16H192A8,8,0,0,1,200,64Z"/>`],["bold",Ate`<path d="M204,64V168a12,12,0,0,1-24,0V93L72.49,200.49a12,12,0,0,1-17-17L163,76H88a12,12,0,0,1,0-24H192A12,12,0,0,1,204,64Z"/>`],["fill",Ate`<path d="M200,64V168a8,8,0,0,1-13.66,5.66L140,127.31,69.66,197.66a8,8,0,0,1-11.32-11.32L128.69,116,82.34,69.66A8,8,0,0,1,88,56H192A8,8,0,0,1,200,64Z"/>`],["duotone",Ate`<path d="M192,64V168L88,64Z" opacity="0.2"/><path d="M192,56H88a8,8,0,0,0-5.66,13.66L128.69,116,58.34,186.34a8,8,0,0,0,11.32,11.32L140,127.31l46.34,46.35A8,8,0,0,0,200,168V64A8,8,0,0,0,192,56Zm-8,92.69-38.34-38.34h0L107.31,72H184Z"/>`]]),Kre.styles=Uee`
    :host {
      display: contents;
    }
  `,Wre([Qte({type:String,reflect:!0})],Kre.prototype,"size",2),Wre([Qte({type:String,reflect:!0})],Kre.prototype,"weight",2),Wre([Qte({type:String,reflect:!0})],Kre.prototype,"color",2),Wre([Qte({type:Boolean,reflect:!0})],Kre.prototype,"mirrored",2),Kre=Wre([Fte("ph-arrow-up-right")],Kre);var Gre=Object.freeze({__proto__:null,get PhArrowUpRight(){return Kre}}),Yre=Object.defineProperty,Jre=Object.getOwnPropertyDescriptor,Xre=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?Jre(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Yre(t,r,s),s};let Qre=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Qre.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};Qre.weightsMap=new Map([["thin",Ate`<path d="M220,48V96a4,4,0,0,1-4,4H168a4,4,0,0,1,0-8h38.34L184.89,70.54A84,84,0,0,0,66.8,69.85a4,4,0,1,1-5.6-5.72,92,92,0,0,1,129.34.76L212,86.34V48a4,4,0,0,1,8,0ZM189.2,186.15a83.44,83.44,0,0,1-58.68,23.91h-.47a83.52,83.52,0,0,1-58.94-24.6L49.66,164H88a4,4,0,0,0,0-8H40a4,4,0,0,0-4,4v48a4,4,0,0,0,8,0V169.66l21.46,21.45A91.43,91.43,0,0,0,130,218.06h.51a91.45,91.45,0,0,0,64.28-26.19,4,4,0,1,0-5.6-5.72Z"/>`],["light",Ate`<path d="M222,48V96a6,6,0,0,1-6,6H168a6,6,0,0,1,0-12h33.52L183.47,72a81.51,81.51,0,0,0-57.53-24h-.46A81.5,81.5,0,0,0,68.19,71.28a6,6,0,1,1-8.38-8.58,93.38,93.38,0,0,1,65.67-26.76H126a93.45,93.45,0,0,1,66,27.53l18,18V48a6,6,0,0,1,12,0ZM187.81,184.72a81.5,81.5,0,0,1-57.29,23.34h-.46a81.51,81.51,0,0,1-57.53-24L54.48,166H88a6,6,0,0,0,0-12H40a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V174.48l18,18.05a93.45,93.45,0,0,0,66,27.53h.52a93.38,93.38,0,0,0,65.67-26.76,6,6,0,1,0-8.38-8.58Z"/>`],["regular",Ate`<path d="M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h28.69L182.06,73.37a79.56,79.56,0,0,0-56.13-23.43h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27a96,96,0,0,1,135,.79L208,76.69V48a8,8,0,0,1,16,0ZM186.41,183.29a80,80,0,0,1-112.47-.66L59.31,168H88a8,8,0,0,0,0-16H40a8,8,0,0,0-8,8v48a8,8,0,0,0,16,0V179.31l14.63,14.63A95.43,95.43,0,0,0,130,222.06h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"/>`],["bold",Ate`<path d="M228,48V96a12,12,0,0,1-12,12H168a12,12,0,0,1,0-24h19l-7.8-7.8a75.55,75.55,0,0,0-53.32-22.26h-.43A75.49,75.49,0,0,0,72.39,75.57,12,12,0,1,1,55.61,58.41a99.38,99.38,0,0,1,69.87-28.47H126A99.42,99.42,0,0,1,196.2,59.23L204,67V48a12,12,0,0,1,24,0ZM183.61,180.43a75.49,75.49,0,0,1-53.09,21.63h-.43A75.55,75.55,0,0,1,76.77,179.8L69,172H88a12,12,0,0,0,0-24H40a12,12,0,0,0-12,12v48a12,12,0,0,0,24,0V189l7.8,7.8A99.42,99.42,0,0,0,130,226.06h.56a99.38,99.38,0,0,0,69.87-28.47,12,12,0,0,0-16.78-17.16Z"/>`],["fill",Ate`<path d="M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1-5.66-13.66L180.65,72a79.48,79.48,0,0,0-54.72-22.09h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27,96,96,0,0,1,192,60.7l18.36-18.36A8,8,0,0,1,224,48ZM186.41,183.29A80,80,0,0,1,75.35,184l18.31-18.31A8,8,0,0,0,88,152H40a8,8,0,0,0-8,8v48a8,8,0,0,0,13.66,5.66L64,195.3a95.42,95.42,0,0,0,66,26.76h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"/>`],["duotone",Ate`<path d="M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z" opacity="0.2"/><path d="M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h28.69L182.06,73.37a79.56,79.56,0,0,0-56.13-23.43h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27a96,96,0,0,1,135,.79L208,76.69V48a8,8,0,0,1,16,0ZM186.41,183.29a80,80,0,0,1-112.47-.66L59.31,168H88a8,8,0,0,0,0-16H40a8,8,0,0,0-8,8v48a8,8,0,0,0,16,0V179.31l14.63,14.63A95.43,95.43,0,0,0,130,222.06h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"/>`]]),Qre.styles=Uee`
    :host {
      display: contents;
    }
  `,Xre([Qte({type:String,reflect:!0})],Qre.prototype,"size",2),Xre([Qte({type:String,reflect:!0})],Qre.prototype,"weight",2),Xre([Qte({type:String,reflect:!0})],Qre.prototype,"color",2),Xre([Qte({type:Boolean,reflect:!0})],Qre.prototype,"mirrored",2),Qre=Xre([Fte("ph-arrows-clockwise")],Qre);var ene=Object.freeze({__proto__:null,get PhArrowsClockwise(){return Qre}}),tne=Object.defineProperty,rne=Object.getOwnPropertyDescriptor,nne=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?rne(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&tne(t,r,s),s};let ine=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ine.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};ine.weightsMap=new Map([["thin",Ate`<path d="M24,100H52v72H32a4,4,0,0,0,0,8H224a4,4,0,0,0,0-8H204V100h28a4,4,0,0,0,2.1-7.41l-104-64a4,4,0,0,0-4.2,0l-104,64A4,4,0,0,0,24,100Zm36,0h40v72H60Zm88,0v72H108V100Zm48,72H156V100h40ZM128,36.7,217.87,92H38.13ZM244,208a4,4,0,0,1-4,4H16a4,4,0,0,1,0-8H240A4,4,0,0,1,244,208Z"/>`],["light",Ate`<path d="M24,102H50v68H32a6,6,0,0,0,0,12H224a6,6,0,0,0,0-12H206V102h26a6,6,0,0,0,3.14-11.11l-104-64a6,6,0,0,0-6.28,0l-104,64A6,6,0,0,0,24,102Zm38,0H98v68H62Zm84,0v68H110V102Zm48,68H158V102h36ZM128,39l82.8,51H45.2ZM246,208a6,6,0,0,1-6,6H16a6,6,0,0,1,0-12H240A6,6,0,0,1,246,208Z"/>`],["regular",Ate`<path d="M24,104H48v64H32a8,8,0,0,0,0,16H224a8,8,0,0,0,0-16H208V104h24a8,8,0,0,0,4.19-14.81l-104-64a8,8,0,0,0-8.38,0l-104,64A8,8,0,0,0,24,104Zm40,0H96v64H64Zm80,0v64H112V104Zm48,64H160V104h32ZM128,41.39,203.74,88H52.26ZM248,208a8,8,0,0,1-8,8H16a8,8,0,0,1,0-16H240A8,8,0,0,1,248,208Z"/>`],["bold",Ate`<path d="M24,108H44v48H32a12,12,0,0,0,0,24H224a12,12,0,0,0,0-24H212V108h20a12,12,0,0,0,6.29-22.22l-104-64a12,12,0,0,0-12.58,0l-104,64A12,12,0,0,0,24,108Zm44,0H92v48H68Zm72,0v48H116V108Zm48,48H164V108h24ZM128,46.09,189.6,84H66.4ZM252,208a12,12,0,0,1-12,12H16a12,12,0,0,1,0-24H240A12,12,0,0,1,252,208Z"/>`],["fill",Ate`<path d="M248,208a8,8,0,0,1-8,8H16a8,8,0,0,1,0-16H240A8,8,0,0,1,248,208ZM16.3,98.18a8,8,0,0,1,3.51-9l104-64a8,8,0,0,1,8.38,0l104,64A8,8,0,0,1,232,104H208v64h16a8,8,0,0,1,0,16H32a8,8,0,0,1,0-16H48V104H24A8,8,0,0,1,16.3,98.18ZM144,160a8,8,0,0,0,16,0V112a8,8,0,0,0-16,0Zm-48,0a8,8,0,0,0,16,0V112a8,8,0,0,0-16,0Z"/>`],["duotone",Ate`<path d="M232,96H24L128,32Z" opacity="0.2"/><path d="M24,104H48v64H32a8,8,0,0,0,0,16H224a8,8,0,0,0,0-16H208V104h24a8,8,0,0,0,4.19-14.81l-104-64a8,8,0,0,0-8.38,0l-104,64A8,8,0,0,0,24,104Zm40,0H96v64H64Zm80,0v64H112V104Zm48,64H160V104h32ZM128,41.39,203.74,88H52.26ZM248,208a8,8,0,0,1-8,8H16a8,8,0,0,1,0-16H240A8,8,0,0,1,248,208Z"/>`]]),ine.styles=Uee`
    :host {
      display: contents;
    }
  `,nne([Qte({type:String,reflect:!0})],ine.prototype,"size",2),nne([Qte({type:String,reflect:!0})],ine.prototype,"weight",2),nne([Qte({type:String,reflect:!0})],ine.prototype,"color",2),nne([Qte({type:Boolean,reflect:!0})],ine.prototype,"mirrored",2),ine=nne([Fte("ph-bank")],ine);var sne=Object.freeze({__proto__:null,get PhBank(){return ine}}),one=Object.defineProperty,ane=Object.getOwnPropertyDescriptor,cne=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?ane(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&one(t,r,s),s};let lne=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${lne.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};lne.weightsMap=new Map([["thin",Ate`<path d="M216,44H40A12,12,0,0,0,28,56V200a12,12,0,0,0,12,12H216a12,12,0,0,0,12-12V56A12,12,0,0,0,216,44ZM40,52H216a4,4,0,0,1,4,4V92H36V56A4,4,0,0,1,40,52ZM216,204H40a4,4,0,0,1-4-4V100H220V200A4,4,0,0,1,216,204Z"/>`],["light",Ate`<path d="M216,42H40A14,14,0,0,0,26,56V200a14,14,0,0,0,14,14H216a14,14,0,0,0,14-14V56A14,14,0,0,0,216,42ZM40,54H216a2,2,0,0,1,2,2V90H38V56A2,2,0,0,1,40,54ZM216,202H40a2,2,0,0,1-2-2V102H218v98A2,2,0,0,1,216,202Z"/>`],["regular",Ate`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V88H40V56Zm0,144H40V104H216v96Z"/>`],["bold",Ate`<path d="M216,36H40A20,20,0,0,0,20,56V200a20,20,0,0,0,20,20H216a20,20,0,0,0,20-20V56A20,20,0,0,0,216,36Zm-4,24V84H44V60ZM44,196V108H212v88Z"/>`],["fill",Ate`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V88H40V56Z"/>`],["duotone",Ate`<path d="M224,56V96H32V56a8,8,0,0,1,8-8H216A8,8,0,0,1,224,56Z" opacity="0.2"/><path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V88H40V56Zm0,144H40V104H216v96Z"/>`]]),lne.styles=Uee`
    :host {
      display: contents;
    }
  `,cne([Qte({type:String,reflect:!0})],lne.prototype,"size",2),cne([Qte({type:String,reflect:!0})],lne.prototype,"weight",2),cne([Qte({type:String,reflect:!0})],lne.prototype,"color",2),cne([Qte({type:Boolean,reflect:!0})],lne.prototype,"mirrored",2),lne=cne([Fte("ph-browser")],lne);var dne=Object.freeze({__proto__:null,get PhBrowser(){return lne}}),une=Object.defineProperty,hne=Object.getOwnPropertyDescriptor,pne=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?hne(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&une(t,r,s),s};let fne=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${fne.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};fne.weightsMap=new Map([["thin",Ate`<path d="M210.83,98.83l-80,80a4,4,0,0,1-5.66,0l-80-80a4,4,0,0,1,5.66-5.66L128,170.34l77.17-77.17a4,4,0,1,1,5.66,5.66Z"/>`],["light",Ate`<path d="M212.24,100.24l-80,80a6,6,0,0,1-8.48,0l-80-80a6,6,0,0,1,8.48-8.48L128,167.51l75.76-75.75a6,6,0,0,1,8.48,8.48Z"/>`],["regular",Ate`<path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"/>`],["bold",Ate`<path d="M216.49,104.49l-80,80a12,12,0,0,1-17,0l-80-80a12,12,0,0,1,17-17L128,159l71.51-71.52a12,12,0,0,1,17,17Z"/>`],["fill",Ate`<path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,48,88H208a8,8,0,0,1,5.66,13.66Z"/>`],["duotone",Ate`<path d="M208,96l-80,80L48,96Z" opacity="0.2"/><path d="M215.39,92.94A8,8,0,0,0,208,88H48a8,8,0,0,0-5.66,13.66l80,80a8,8,0,0,0,11.32,0l80-80A8,8,0,0,0,215.39,92.94ZM128,164.69,67.31,104H188.69Z"/>`]]),fne.styles=Uee`
    :host {
      display: contents;
    }
  `,pne([Qte({type:String,reflect:!0})],fne.prototype,"size",2),pne([Qte({type:String,reflect:!0})],fne.prototype,"weight",2),pne([Qte({type:String,reflect:!0})],fne.prototype,"color",2),pne([Qte({type:Boolean,reflect:!0})],fne.prototype,"mirrored",2),fne=pne([Fte("ph-caret-down")],fne);var gne=Object.freeze({__proto__:null,get PhCaretDown(){return fne}}),mne=Object.defineProperty,yne=Object.getOwnPropertyDescriptor,wne=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?yne(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&mne(t,r,s),s};let bne=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${bne.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};bne.weightsMap=new Map([["thin",Ate`<path d="M162.83,205.17a4,4,0,0,1-5.66,5.66l-80-80a4,4,0,0,1,0-5.66l80-80a4,4,0,1,1,5.66,5.66L85.66,128Z"/>`],["light",Ate`<path d="M164.24,203.76a6,6,0,1,1-8.48,8.48l-80-80a6,6,0,0,1,0-8.48l80-80a6,6,0,0,1,8.48,8.48L88.49,128Z"/>`],["regular",Ate`<path d="M165.66,202.34a8,8,0,0,1-11.32,11.32l-80-80a8,8,0,0,1,0-11.32l80-80a8,8,0,0,1,11.32,11.32L91.31,128Z"/>`],["bold",Ate`<path d="M168.49,199.51a12,12,0,0,1-17,17l-80-80a12,12,0,0,1,0-17l80-80a12,12,0,0,1,17,17L97,128Z"/>`],["fill",Ate`<path d="M168,48V208a8,8,0,0,1-13.66,5.66l-80-80a8,8,0,0,1,0-11.32l80-80A8,8,0,0,1,168,48Z"/>`],["duotone",Ate`<path d="M160,48V208L80,128Z" opacity="0.2"/><path d="M163.06,40.61a8,8,0,0,0-8.72,1.73l-80,80a8,8,0,0,0,0,11.32l80,80A8,8,0,0,0,168,208V48A8,8,0,0,0,163.06,40.61ZM152,188.69,91.31,128,152,67.31Z"/>`]]),bne.styles=Uee`
    :host {
      display: contents;
    }
  `,wne([Qte({type:String,reflect:!0})],bne.prototype,"size",2),wne([Qte({type:String,reflect:!0})],bne.prototype,"weight",2),wne([Qte({type:String,reflect:!0})],bne.prototype,"color",2),wne([Qte({type:Boolean,reflect:!0})],bne.prototype,"mirrored",2),bne=wne([Fte("ph-caret-left")],bne);var vne=Object.freeze({__proto__:null,get PhCaretLeft(){return bne}}),Ene=Object.defineProperty,Ane=Object.getOwnPropertyDescriptor,xne=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?Ane(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Ene(t,r,s),s};let Cne=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Cne.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};Cne.weightsMap=new Map([["thin",Ate`<path d="M178.83,130.83l-80,80a4,4,0,0,1-5.66-5.66L170.34,128,93.17,50.83a4,4,0,0,1,5.66-5.66l80,80A4,4,0,0,1,178.83,130.83Z"/>`],["light",Ate`<path d="M180.24,132.24l-80,80a6,6,0,0,1-8.48-8.48L167.51,128,91.76,52.24a6,6,0,0,1,8.48-8.48l80,80A6,6,0,0,1,180.24,132.24Z"/>`],["regular",Ate`<path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"/>`],["bold",Ate`<path d="M184.49,136.49l-80,80a12,12,0,0,1-17-17L159,128,87.51,56.49a12,12,0,1,1,17-17l80,80A12,12,0,0,1,184.49,136.49Z"/>`],["fill",Ate`<path d="M181.66,133.66l-80,80A8,8,0,0,1,88,208V48a8,8,0,0,1,13.66-5.66l80,80A8,8,0,0,1,181.66,133.66Z"/>`],["duotone",Ate`<path d="M176,128,96,208V48Z" opacity="0.2"/><path d="M181.66,122.34l-80-80A8,8,0,0,0,88,48V208a8,8,0,0,0,13.66,5.66l80-80A8,8,0,0,0,181.66,122.34ZM104,188.69V67.31L164.69,128Z"/>`]]),Cne.styles=Uee`
    :host {
      display: contents;
    }
  `,xne([Qte({type:String,reflect:!0})],Cne.prototype,"size",2),xne([Qte({type:String,reflect:!0})],Cne.prototype,"weight",2),xne([Qte({type:String,reflect:!0})],Cne.prototype,"color",2),xne([Qte({type:Boolean,reflect:!0})],Cne.prototype,"mirrored",2),Cne=xne([Fte("ph-caret-right")],Cne);var Sne=Object.freeze({__proto__:null,get PhCaretRight(){return Cne}}),Ine=Object.defineProperty,_ne=Object.getOwnPropertyDescriptor,kne=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?_ne(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Ine(t,r,s),s};let Pne=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Pne.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};Pne.weightsMap=new Map([["thin",Ate`<path d="M210.83,162.83a4,4,0,0,1-5.66,0L128,85.66,50.83,162.83a4,4,0,0,1-5.66-5.66l80-80a4,4,0,0,1,5.66,0l80,80A4,4,0,0,1,210.83,162.83Z"/>`],["light",Ate`<path d="M212.24,164.24a6,6,0,0,1-8.48,0L128,88.49,52.24,164.24a6,6,0,0,1-8.48-8.48l80-80a6,6,0,0,1,8.48,0l80,80A6,6,0,0,1,212.24,164.24Z"/>`],["regular",Ate`<path d="M213.66,165.66a8,8,0,0,1-11.32,0L128,91.31,53.66,165.66a8,8,0,0,1-11.32-11.32l80-80a8,8,0,0,1,11.32,0l80,80A8,8,0,0,1,213.66,165.66Z"/>`],["bold",Ate`<path d="M216.49,168.49a12,12,0,0,1-17,0L128,97,56.49,168.49a12,12,0,0,1-17-17l80-80a12,12,0,0,1,17,0l80,80A12,12,0,0,1,216.49,168.49Z"/>`],["fill",Ate`<path d="M215.39,163.06A8,8,0,0,1,208,168H48a8,8,0,0,1-5.66-13.66l80-80a8,8,0,0,1,11.32,0l80,80A8,8,0,0,1,215.39,163.06Z"/>`],["duotone",Ate`<path d="M208,160H48l80-80Z" opacity="0.2"/><path d="M213.66,154.34l-80-80a8,8,0,0,0-11.32,0l-80,80A8,8,0,0,0,48,168H208a8,8,0,0,0,5.66-13.66ZM67.31,152,128,91.31,188.69,152Z"/>`]]),Pne.styles=Uee`
    :host {
      display: contents;
    }
  `,kne([Qte({type:String,reflect:!0})],Pne.prototype,"size",2),kne([Qte({type:String,reflect:!0})],Pne.prototype,"weight",2),kne([Qte({type:String,reflect:!0})],Pne.prototype,"color",2),kne([Qte({type:Boolean,reflect:!0})],Pne.prototype,"mirrored",2),Pne=kne([Fte("ph-caret-up")],Pne);var Tne=Object.freeze({__proto__:null,get PhCaretUp(){return Pne}}),One=Object.defineProperty,Nne=Object.getOwnPropertyDescriptor,Rne=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?Nne(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&One(t,r,s),s};let $ne=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${$ne.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};$ne.weightsMap=new Map([["thin",Ate`<path d="M226.83,74.83l-128,128a4,4,0,0,1-5.66,0l-56-56a4,4,0,0,1,5.66-5.66L96,194.34,221.17,69.17a4,4,0,1,1,5.66,5.66Z"/>`],["light",Ate`<path d="M228.24,76.24l-128,128a6,6,0,0,1-8.48,0l-56-56a6,6,0,0,1,8.48-8.48L96,191.51,219.76,67.76a6,6,0,0,1,8.48,8.48Z"/>`],["regular",Ate`<path d="M229.66,77.66l-128,128a8,8,0,0,1-11.32,0l-56-56a8,8,0,0,1,11.32-11.32L96,188.69,218.34,66.34a8,8,0,0,1,11.32,11.32Z"/>`],["bold",Ate`<path d="M232.49,80.49l-128,128a12,12,0,0,1-17,0l-56-56a12,12,0,1,1,17-17L96,183,215.51,63.51a12,12,0,0,1,17,17Z"/>`],["fill",Ate`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM205.66,85.66l-96,96a8,8,0,0,1-11.32,0l-40-40a8,8,0,0,1,11.32-11.32L104,164.69l90.34-90.35a8,8,0,0,1,11.32,11.32Z"/>`],["duotone",Ate`<path d="M232,56V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56Z" opacity="0.2"/><path d="M205.66,85.66l-96,96a8,8,0,0,1-11.32,0l-40-40a8,8,0,0,1,11.32-11.32L104,164.69l90.34-90.35a8,8,0,0,1,11.32,11.32Z"/>`]]),$ne.styles=Uee`
    :host {
      display: contents;
    }
  `,Rne([Qte({type:String,reflect:!0})],$ne.prototype,"size",2),Rne([Qte({type:String,reflect:!0})],$ne.prototype,"weight",2),Rne([Qte({type:String,reflect:!0})],$ne.prototype,"color",2),Rne([Qte({type:Boolean,reflect:!0})],$ne.prototype,"mirrored",2),$ne=Rne([Fte("ph-check")],$ne);var Bne=Object.freeze({__proto__:null,get PhCheck(){return $ne}}),Mne=Object.defineProperty,Une=Object.getOwnPropertyDescriptor,Lne=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?Une(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Mne(t,r,s),s};let Dne=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Dne.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};Dne.weightsMap=new Map([["thin",Ate`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm4,8.09a91.58,91.58,0,0,1,24,4.27V215.64a91.58,91.58,0,0,1-24,4.27Zm32,7.25a92.21,92.21,0,0,1,24,15V197.69a92.21,92.21,0,0,1-24,15ZM36,128a92.11,92.11,0,0,1,88-91.91V219.91A92.11,92.11,0,0,1,36,128Zm160,61.9V66.1a91.83,91.83,0,0,1,0,123.8Z"/>`],["light",Ate`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm6,12.2a89.86,89.86,0,0,1,20,3.63V214.17a89.86,89.86,0,0,1-20,3.63Zm32,8.23a90.48,90.48,0,0,1,20,12.81V196.76a90.48,90.48,0,0,1-20,12.81ZM38,128a90.12,90.12,0,0,1,84-89.8V217.8A90.12,90.12,0,0,1,38,128Zm160,56.5V71.5a89.81,89.81,0,0,1,0,113Z"/>`],["regular",Ate`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm8,16.37a86.4,86.4,0,0,1,16,3V212.67a86.4,86.4,0,0,1-16,3Zm32,9.26a87.81,87.81,0,0,1,16,10.54V195.83a87.81,87.81,0,0,1-16,10.54ZM40,128a88.11,88.11,0,0,1,80-87.63V215.63A88.11,88.11,0,0,1,40,128Zm160,50.54V77.46a87.82,87.82,0,0,1,0,101.08Z"/>`],["bold",Ate`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm12,24.87a83.53,83.53,0,0,1,24,7.25V203.88a83.53,83.53,0,0,1-24,7.25ZM44,128a84.12,84.12,0,0,1,72-83.13V211.13A84.12,84.12,0,0,1,44,128Zm144,58.71V69.29a83.81,83.81,0,0,1,0,117.42Z"/>`],["fill",Ate`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24ZM40,128a88.1,88.1,0,0,1,88-88V216A88.1,88.1,0,0,1,40,128Z"/>`],["duotone",Ate`<path d="M224,128a96,96,0,0,1-96,96V32A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24ZM40,128a88.11,88.11,0,0,1,80-87.63V215.63A88.11,88.11,0,0,1,40,128Zm96,87.63V40.37a88,88,0,0,1,0,175.26Z"/>`]]),Dne.styles=Uee`
    :host {
      display: contents;
    }
  `,Lne([Qte({type:String,reflect:!0})],Dne.prototype,"size",2),Lne([Qte({type:String,reflect:!0})],Dne.prototype,"weight",2),Lne([Qte({type:String,reflect:!0})],Dne.prototype,"color",2),Lne([Qte({type:Boolean,reflect:!0})],Dne.prototype,"mirrored",2),Dne=Lne([Fte("ph-circle-half")],Dne);var jne=Object.freeze({__proto__:null,get PhCircleHalf(){return Dne}}),Hne=Object.defineProperty,zne=Object.getOwnPropertyDescriptor,Fne=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?zne(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Hne(t,r,s),s};let Vne=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Vne.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};Vne.weightsMap=new Map([["thin",Ate`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm60-92a4,4,0,0,1-4,4H128a4,4,0,0,1-4-4V72a4,4,0,0,1,8,0v52h52A4,4,0,0,1,188,128Z"/>`],["light",Ate`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm62-90a6,6,0,0,1-6,6H128a6,6,0,0,1-6-6V72a6,6,0,0,1,12,0v50h50A6,6,0,0,1,190,128Z"/>`],["regular",Ate`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm64-88a8,8,0,0,1-8,8H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48A8,8,0,0,1,192,128Z"/>`],["bold",Ate`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm68-84a12,12,0,0,1-12,12H128a12,12,0,0,1-12-12V72a12,12,0,0,1,24,0v44h44A12,12,0,0,1,196,128Z"/>`],["fill",Ate`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm56,112H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48a8,8,0,0,1,0,16Z"/>`],["duotone",Ate`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm64-88a8,8,0,0,1-8,8H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48A8,8,0,0,1,192,128Z"/>`]]),Vne.styles=Uee`
    :host {
      display: contents;
    }
  `,Fne([Qte({type:String,reflect:!0})],Vne.prototype,"size",2),Fne([Qte({type:String,reflect:!0})],Vne.prototype,"weight",2),Fne([Qte({type:String,reflect:!0})],Vne.prototype,"color",2),Fne([Qte({type:Boolean,reflect:!0})],Vne.prototype,"mirrored",2),Vne=Fne([Fte("ph-clock")],Vne);var Zne=Object.freeze({__proto__:null,get PhClock(){return Vne}}),qne=Object.defineProperty,Wne=Object.getOwnPropertyDescriptor,Kne=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?Wne(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&qne(t,r,s),s};let Gne=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Gne.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};Gne.weightsMap=new Map([["thin",Ate`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220ZM174.21,76.42l-64,32a4.08,4.08,0,0,0-1.79,1.79l-32,64A4,4,0,0,0,80,180a4.05,4.05,0,0,0,1.79-.42l64-32a4.08,4.08,0,0,0,1.79-1.79l32-64a4,4,0,0,0-5.37-5.37ZM141,141l-52.08,26L115,115l52.08-26Z"/>`],["light",Ate`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218ZM173.32,74.63l-64,32a6,6,0,0,0-2.69,2.69l-32,64A6,6,0,0,0,80,182a6.06,6.06,0,0,0,2.68-.63l64-32a6,6,0,0,0,2.69-2.69l32-64a6,6,0,0,0-8.05-8.05Zm-33.79,64.9L93.42,162.58l23-46.11,46.11-23Z"/>`],["regular",Ate`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM172.42,72.84l-64,32a8.05,8.05,0,0,0-3.58,3.58l-32,64A8,8,0,0,0,80,184a8.1,8.1,0,0,0,3.58-.84l64-32a8.05,8.05,0,0,0,3.58-3.58l32-64a8,8,0,0,0-10.74-10.74ZM138,138,97.89,158.11,118,118l40.15-20.07Z"/>`],["bold",Ate`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212ZM163.27,77l-56,24a12,12,0,0,0-6.3,6.3l-24,56A12,12,0,0,0,92.73,179l56-24a12,12,0,0,0,6.3-6.3l24-56A12,12,0,0,0,163.27,77Zm-28.41,57.89-24,10.29,10.29-24,24-10.29Z"/>`],["fill",Ate`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm51.58,57.79-32,64a4.08,4.08,0,0,1-1.79,1.79l-64,32a4,4,0,0,1-5.37-5.37l32-64a4.08,4.08,0,0,1,1.79-1.79l64-32A4,4,0,0,1,179.58,81.79Z"/>`],["duotone",Ate`<path d="M128,32a96,96,0,1,0,96,96A96,96,0,0,0,128,32Zm16,112L80,176l32-64,64-32Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM172.42,72.84l-64,32a8.05,8.05,0,0,0-3.58,3.58l-32,64A8,8,0,0,0,80,184a8.1,8.1,0,0,0,3.58-.84l64-32a8.05,8.05,0,0,0,3.58-3.58l32-64a8,8,0,0,0-10.74-10.74ZM138,138,97.89,158.11,118,118l40.15-20.07Z"/>`]]),Gne.styles=Uee`
    :host {
      display: contents;
    }
  `,Kne([Qte({type:String,reflect:!0})],Gne.prototype,"size",2),Kne([Qte({type:String,reflect:!0})],Gne.prototype,"weight",2),Kne([Qte({type:String,reflect:!0})],Gne.prototype,"color",2),Kne([Qte({type:Boolean,reflect:!0})],Gne.prototype,"mirrored",2),Gne=Kne([Fte("ph-compass")],Gne);var Yne=Object.freeze({__proto__:null,get PhCompass(){return Gne}}),Jne=Object.defineProperty,Xne=Object.getOwnPropertyDescriptor,Qne=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?Xne(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Jne(t,r,s),s};let eie=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${eie.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};eie.weightsMap=new Map([["thin",Ate`<path d="M216,36H88a4,4,0,0,0-4,4V84H40a4,4,0,0,0-4,4V216a4,4,0,0,0,4,4H168a4,4,0,0,0,4-4V172h44a4,4,0,0,0,4-4V40A4,4,0,0,0,216,36ZM164,212H44V92H164Zm48-48H172V88a4,4,0,0,0-4-4H92V44H212Z"/>`],["light",Ate`<path d="M216,34H88a6,6,0,0,0-6,6V82H40a6,6,0,0,0-6,6V216a6,6,0,0,0,6,6H168a6,6,0,0,0,6-6V174h42a6,6,0,0,0,6-6V40A6,6,0,0,0,216,34ZM162,210H46V94H162Zm48-48H174V88a6,6,0,0,0-6-6H94V46H210Z"/>`],["regular",Ate`<path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"/>`],["bold",Ate`<path d="M216,28H88A12,12,0,0,0,76,40V76H40A12,12,0,0,0,28,88V216a12,12,0,0,0,12,12H168a12,12,0,0,0,12-12V180h36a12,12,0,0,0,12-12V40A12,12,0,0,0,216,28ZM156,204H52V100H156Zm48-48H180V88a12,12,0,0,0-12-12H100V52H204Z"/>`],["fill",Ate`<path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32Zm-8,128H176V88a8,8,0,0,0-8-8H96V48H208Z"/>`],["duotone",Ate`<path d="M216,40V168H168V88H88V40Z" opacity="0.2"/><path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"/>`]]),eie.styles=Uee`
    :host {
      display: contents;
    }
  `,Qne([Qte({type:String,reflect:!0})],eie.prototype,"size",2),Qne([Qte({type:String,reflect:!0})],eie.prototype,"weight",2),Qne([Qte({type:String,reflect:!0})],eie.prototype,"color",2),Qne([Qte({type:Boolean,reflect:!0})],eie.prototype,"mirrored",2),eie=Qne([Fte("ph-copy")],eie);var tie=Object.freeze({__proto__:null,get PhCopy(){return eie}}),rie=Object.defineProperty,nie=Object.getOwnPropertyDescriptor,iie=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?nie(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&rie(t,r,s),s};let sie=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${sie.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};sie.weightsMap=new Map([["thin",Ate`<path d="M224,52H32A12,12,0,0,0,20,64V192a12,12,0,0,0,12,12H224a12,12,0,0,0,12-12V64A12,12,0,0,0,224,52ZM32,60H224a4,4,0,0,1,4,4V92H28V64A4,4,0,0,1,32,60ZM224,196H32a4,4,0,0,1-4-4V100H228v92A4,4,0,0,1,224,196Zm-20-28a4,4,0,0,1-4,4H168a4,4,0,0,1,0-8h32A4,4,0,0,1,204,168Zm-64,0a4,4,0,0,1-4,4H120a4,4,0,0,1,0-8h16A4,4,0,0,1,140,168Z"/>`],["light",Ate`<path d="M224,50H32A14,14,0,0,0,18,64V192a14,14,0,0,0,14,14H224a14,14,0,0,0,14-14V64A14,14,0,0,0,224,50ZM32,62H224a2,2,0,0,1,2,2V90H30V64A2,2,0,0,1,32,62ZM224,194H32a2,2,0,0,1-2-2V102H226v90A2,2,0,0,1,224,194Zm-18-26a6,6,0,0,1-6,6H168a6,6,0,0,1,0-12h32A6,6,0,0,1,206,168Zm-64,0a6,6,0,0,1-6,6H120a6,6,0,0,1,0-12h16A6,6,0,0,1,142,168Z"/>`],["regular",Ate`<path d="M224,48H32A16,16,0,0,0,16,64V192a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V64A16,16,0,0,0,224,48Zm0,16V88H32V64Zm0,128H32V104H224v88Zm-16-24a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h32A8,8,0,0,1,208,168Zm-64,0a8,8,0,0,1-8,8H120a8,8,0,0,1,0-16h16A8,8,0,0,1,144,168Z"/>`],["bold",Ate`<path d="M224,44H32A20,20,0,0,0,12,64V192a20,20,0,0,0,20,20H224a20,20,0,0,0,20-20V64A20,20,0,0,0,224,44Zm-4,24V88H36V68ZM36,188V112H220v76Zm172-24a12,12,0,0,1-12,12H164a12,12,0,0,1,0-24h32A12,12,0,0,1,208,164Zm-68,0a12,12,0,0,1-12,12H116a12,12,0,0,1,0-24h12A12,12,0,0,1,140,164Z"/>`],["fill",Ate`<path d="M224,48H32A16,16,0,0,0,16,64V192a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V64A16,16,0,0,0,224,48ZM136,176H120a8,8,0,0,1,0-16h16a8,8,0,0,1,0,16Zm64,0H168a8,8,0,0,1,0-16h32a8,8,0,0,1,0,16ZM32,88V64H224V88Z"/>`],["duotone",Ate`<path d="M232,96v96a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V96Z" opacity="0.2"/><path d="M224,48H32A16,16,0,0,0,16,64V192a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V64A16,16,0,0,0,224,48Zm0,16V88H32V64Zm0,128H32V104H224v88Zm-16-24a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h32A8,8,0,0,1,208,168Zm-64,0a8,8,0,0,1-8,8H120a8,8,0,0,1,0-16h16A8,8,0,0,1,144,168Z"/>`]]),sie.styles=Uee`
    :host {
      display: contents;
    }
  `,iie([Qte({type:String,reflect:!0})],sie.prototype,"size",2),iie([Qte({type:String,reflect:!0})],sie.prototype,"weight",2),iie([Qte({type:String,reflect:!0})],sie.prototype,"color",2),iie([Qte({type:Boolean,reflect:!0})],sie.prototype,"mirrored",2),sie=iie([Fte("ph-credit-card")],sie);var oie=Object.freeze({__proto__:null,get PhCreditCard(){return sie}}),aie=Object.defineProperty,cie=Object.getOwnPropertyDescriptor,lie=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?cie(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&aie(t,r,s),s};let die=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${die.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};die.weightsMap=new Map([["thin",Ate`<path d="M152,124H132V52h12a36,36,0,0,1,36,36,4,4,0,0,0,8,0,44.05,44.05,0,0,0-44-44H132V24a4,4,0,0,0-8,0V44H112a44,44,0,0,0,0,88h12v72H104a36,36,0,0,1-36-36,4,4,0,0,0-8,0,44.05,44.05,0,0,0,44,44h20v20a4,4,0,0,0,8,0V212h20a44,44,0,0,0,0-88Zm-40,0a36,36,0,0,1,0-72h12v72Zm40,80H132V132h20a36,36,0,0,1,0,72Z"/>`],["light",Ate`<path d="M152,122H134V54h10a34,34,0,0,1,34,34,6,6,0,0,0,12,0,46.06,46.06,0,0,0-46-46H134V24a6,6,0,0,0-12,0V42H112a46,46,0,0,0,0,92h10v68H104a34,34,0,0,1-34-34,6,6,0,0,0-12,0,46.06,46.06,0,0,0,46,46h18v18a6,6,0,0,0,12,0V214h18a46,46,0,0,0,0-92Zm-40,0a34,34,0,0,1,0-68h10v68Zm40,80H134V134h18a34,34,0,0,1,0,68Z"/>`],["regular",Ate`<path d="M152,120H136V56h8a32,32,0,0,1,32,32,8,8,0,0,0,16,0,48.05,48.05,0,0,0-48-48h-8V24a8,8,0,0,0-16,0V40h-8a48,48,0,0,0,0,96h8v64H104a32,32,0,0,1-32-32,8,8,0,0,0-16,0,48.05,48.05,0,0,0,48,48h16v16a8,8,0,0,0,16,0V216h16a48,48,0,0,0,0-96Zm-40,0a32,32,0,0,1,0-64h8v64Zm40,80H136V136h16a32,32,0,0,1,0,64Z"/>`],["bold",Ate`<path d="M152,116H140V60h4a28,28,0,0,1,28,28,12,12,0,0,0,24,0,52.06,52.06,0,0,0-52-52h-4V24a12,12,0,0,0-24,0V36h-4a52,52,0,0,0,0,104h4v56H104a28,28,0,0,1-28-28,12,12,0,0,0-24,0,52.06,52.06,0,0,0,52,52h12v12a12,12,0,0,0,24,0V220h12a52,52,0,0,0,0-104Zm-40,0a28,28,0,0,1,0-56h4v56Zm40,80H140V140h12a28,28,0,0,1,0,56Z"/>`],["fill",Ate`<path d="M160,152a16,16,0,0,1-16,16h-8V136h8A16,16,0,0,1,160,152Zm72-24A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-56,24a32,32,0,0,0-32-32h-8V88h4a16,16,0,0,1,16,16,8,8,0,0,0,16,0,32,32,0,0,0-32-32h-4V64a8,8,0,0,0-16,0v8h-4a32,32,0,0,0,0,64h4v32h-8a16,16,0,0,1-16-16,8,8,0,0,0-16,0,32,32,0,0,0,32,32h8v8a8,8,0,0,0,16,0v-8h8A32,32,0,0,0,176,152Zm-76-48a16,16,0,0,0,16,16h4V88h-4A16,16,0,0,0,100,104Z"/>`],["duotone",Ate`<path d="M192,168a40,40,0,0,1-40,40H128V128h24A40,40,0,0,1,192,168ZM112,48a40,40,0,0,0,0,80h16V48Z" opacity="0.2"/><path d="M152,120H136V56h8a32,32,0,0,1,32,32,8,8,0,0,0,16,0,48.05,48.05,0,0,0-48-48h-8V24a8,8,0,0,0-16,0V40h-8a48,48,0,0,0,0,96h8v64H104a32,32,0,0,1-32-32,8,8,0,0,0-16,0,48.05,48.05,0,0,0,48,48h16v16a8,8,0,0,0,16,0V216h16a48,48,0,0,0,0-96Zm-40,0a32,32,0,0,1,0-64h8v64Zm40,80H136V136h16a32,32,0,0,1,0,64Z"/>`]]),die.styles=Uee`
    :host {
      display: contents;
    }
  `,lie([Qte({type:String,reflect:!0})],die.prototype,"size",2),lie([Qte({type:String,reflect:!0})],die.prototype,"weight",2),lie([Qte({type:String,reflect:!0})],die.prototype,"color",2),lie([Qte({type:Boolean,reflect:!0})],die.prototype,"mirrored",2),die=lie([Fte("ph-currency-dollar")],die);var uie=Object.freeze({__proto__:null,get PhCurrencyDollar(){return die}}),hie=Object.defineProperty,pie=Object.getOwnPropertyDescriptor,fie=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?pie(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&hie(t,r,s),s};let gie=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${gie.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};gie.weightsMap=new Map([["thin",Ate`<path d="M208,44H48A20,20,0,0,0,28,64V176a20,20,0,0,0,20,20h76v24H96a4,4,0,0,0,0,8h64a4,4,0,0,0,0-8H132V196h76a20,20,0,0,0,20-20V64A20,20,0,0,0,208,44ZM48,52H208a12,12,0,0,1,12,12v84H36V64A12,12,0,0,1,48,52ZM208,188H48a12,12,0,0,1-12-12V156H220v20A12,12,0,0,1,208,188Z"/>`],["light",Ate`<path d="M208,42H48A22,22,0,0,0,26,64V176a22,22,0,0,0,22,22h74v20H96a6,6,0,0,0,0,12h64a6,6,0,0,0,0-12H134V198h74a22,22,0,0,0,22-22V64A22,22,0,0,0,208,42ZM48,54H208a10,10,0,0,1,10,10v82H38V64A10,10,0,0,1,48,54ZM208,186H48a10,10,0,0,1-10-10V158H218v18A10,10,0,0,1,208,186Z"/>`],["regular",Ate`<path d="M208,40H48A24,24,0,0,0,24,64V176a24,24,0,0,0,24,24h72v16H96a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16H136V200h72a24,24,0,0,0,24-24V64A24,24,0,0,0,208,40ZM48,56H208a8,8,0,0,1,8,8v80H40V64A8,8,0,0,1,48,56ZM208,184H48a8,8,0,0,1-8-8V160H216v16A8,8,0,0,1,208,184Z"/>`],["bold",Ate`<path d="M208,36H48A28,28,0,0,0,20,64V172a28,28,0,0,0,28,28h68v12H96a12,12,0,0,0,0,24h64a12,12,0,0,0,0-24H140V200h68a28,28,0,0,0,28-28V64A28,28,0,0,0,208,36ZM48,60H208a4,4,0,0,1,4,4v72H44V64A4,4,0,0,1,48,60ZM208,176H48a4,4,0,0,1-4-4V160H212v12A4,4,0,0,1,208,176Z"/>`],["fill",Ate`<path d="M208,40H48A24,24,0,0,0,24,64V176a24,24,0,0,0,24,24h72v16H96a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16H136V200h72a24,24,0,0,0,24-24V64A24,24,0,0,0,208,40Zm0,144H48a8,8,0,0,1-8-8V160H216v16A8,8,0,0,1,208,184Z"/>`],["duotone",Ate`<path d="M224,64v88H32V64A16,16,0,0,1,48,48H208A16,16,0,0,1,224,64Z" opacity="0.2"/><path d="M208,40H48A24,24,0,0,0,24,64V176a24,24,0,0,0,24,24h72v16H96a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16H136V200h72a24,24,0,0,0,24-24V64A24,24,0,0,0,208,40ZM48,56H208a8,8,0,0,1,8,8v80H40V64A8,8,0,0,1,48,56ZM208,184H48a8,8,0,0,1-8-8V160H216v16A8,8,0,0,1,208,184Z"/>`]]),gie.styles=Uee`
    :host {
      display: contents;
    }
  `,fie([Qte({type:String,reflect:!0})],gie.prototype,"size",2),fie([Qte({type:String,reflect:!0})],gie.prototype,"weight",2),fie([Qte({type:String,reflect:!0})],gie.prototype,"color",2),fie([Qte({type:Boolean,reflect:!0})],gie.prototype,"mirrored",2),gie=fie([Fte("ph-desktop")],gie);var mie=Object.freeze({__proto__:null,get PhDesktop(){return gie}}),yie=Object.defineProperty,wie=Object.getOwnPropertyDescriptor,bie=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?wie(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&yie(t,r,s),s};let vie=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${vie.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};vie.weightsMap=new Map([["thin",Ate`<path d="M176,20H80A20,20,0,0,0,60,40V216a20,20,0,0,0,20,20h96a20,20,0,0,0,20-20V40A20,20,0,0,0,176,20ZM68,60H188V196H68ZM80,28h96a12,12,0,0,1,12,12V52H68V40A12,12,0,0,1,80,28Zm96,200H80a12,12,0,0,1-12-12V204H188v12A12,12,0,0,1,176,228Z"/>`],["light",Ate`<path d="M176,18H80A22,22,0,0,0,58,40V216a22,22,0,0,0,22,22h96a22,22,0,0,0,22-22V40A22,22,0,0,0,176,18ZM70,62H186V194H70ZM80,30h96a10,10,0,0,1,10,10V50H70V40A10,10,0,0,1,80,30Zm96,196H80a10,10,0,0,1-10-10V206H186v10A10,10,0,0,1,176,226Z"/>`],["regular",Ate`<path d="M176,16H80A24,24,0,0,0,56,40V216a24,24,0,0,0,24,24h96a24,24,0,0,0,24-24V40A24,24,0,0,0,176,16ZM72,64H184V192H72Zm8-32h96a8,8,0,0,1,8,8v8H72V40A8,8,0,0,1,80,32Zm96,192H80a8,8,0,0,1-8-8v-8H184v8A8,8,0,0,1,176,224Z"/>`],["bold",Ate`<path d="M176,12H80A28,28,0,0,0,52,40V216a28,28,0,0,0,28,28h96a28,28,0,0,0,28-28V40A28,28,0,0,0,176,12ZM76,76H180V180H76Zm4-40h96a4,4,0,0,1,4,4V52H76V40A4,4,0,0,1,80,36Zm96,184H80a4,4,0,0,1-4-4V204H180v12A4,4,0,0,1,176,220Z"/>`],["fill",Ate`<path d="M176,16H80A24,24,0,0,0,56,40V216a24,24,0,0,0,24,24h96a24,24,0,0,0,24-24V40A24,24,0,0,0,176,16ZM80,32h96a8,8,0,0,1,8,8v8H72V40A8,8,0,0,1,80,32Zm96,192H80a8,8,0,0,1-8-8v-8H184v8A8,8,0,0,1,176,224Z"/>`],["duotone",Ate`<path d="M192,56V200H64V56Z" opacity="0.2"/><path d="M176,16H80A24,24,0,0,0,56,40V216a24,24,0,0,0,24,24h96a24,24,0,0,0,24-24V40A24,24,0,0,0,176,16ZM72,64H184V192H72Zm8-32h96a8,8,0,0,1,8,8v8H72V40A8,8,0,0,1,80,32Zm96,192H80a8,8,0,0,1-8-8v-8H184v8A8,8,0,0,1,176,224Z"/>`]]),vie.styles=Uee`
    :host {
      display: contents;
    }
  `,bie([Qte({type:String,reflect:!0})],vie.prototype,"size",2),bie([Qte({type:String,reflect:!0})],vie.prototype,"weight",2),bie([Qte({type:String,reflect:!0})],vie.prototype,"color",2),bie([Qte({type:Boolean,reflect:!0})],vie.prototype,"mirrored",2),vie=bie([Fte("ph-device-mobile")],vie);var Eie=Object.freeze({__proto__:null,get PhDeviceMobile(){return vie}}),Aie=Object.defineProperty,xie=Object.getOwnPropertyDescriptor,Cie=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?xie(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Aie(t,r,s),s};let Sie=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Sie.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};Sie.weightsMap=new Map([["thin",Ate`<path d="M136,128a8,8,0,1,1-8-8A8,8,0,0,1,136,128Zm-76-8a8,8,0,1,0,8,8A8,8,0,0,0,60,120Zm136,0a8,8,0,1,0,8,8A8,8,0,0,0,196,120Z"/>`],["light",Ate`<path d="M138,128a10,10,0,1,1-10-10A10,10,0,0,1,138,128ZM60,118a10,10,0,1,0,10,10A10,10,0,0,0,60,118Zm136,0a10,10,0,1,0,10,10A10,10,0,0,0,196,118Z"/>`],["regular",Ate`<path d="M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128Zm56-12a12,12,0,1,0,12,12A12,12,0,0,0,196,116ZM60,116a12,12,0,1,0,12,12A12,12,0,0,0,60,116Z"/>`],["bold",Ate`<path d="M144,128a16,16,0,1,1-16-16A16,16,0,0,1,144,128ZM60,112a16,16,0,1,0,16,16A16,16,0,0,0,60,112Zm136,0a16,16,0,1,0,16,16A16,16,0,0,0,196,112Z"/>`],["fill",Ate`<path d="M224,80H32A16,16,0,0,0,16,96v64a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V96A16,16,0,0,0,224,80ZM60,140a12,12,0,1,1,12-12A12,12,0,0,1,60,140Zm68,0a12,12,0,1,1,12-12A12,12,0,0,1,128,140Zm68,0a12,12,0,1,1,12-12A12,12,0,0,1,196,140Z"/>`],["duotone",Ate`<path d="M240,96v64a16,16,0,0,1-16,16H32a16,16,0,0,1-16-16V96A16,16,0,0,1,32,80H224A16,16,0,0,1,240,96Z" opacity="0.2"/><path d="M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128Zm56-12a12,12,0,1,0,12,12A12,12,0,0,0,196,116ZM60,116a12,12,0,1,0,12,12A12,12,0,0,0,60,116Z"/>`]]),Sie.styles=Uee`
    :host {
      display: contents;
    }
  `,Cie([Qte({type:String,reflect:!0})],Sie.prototype,"size",2),Cie([Qte({type:String,reflect:!0})],Sie.prototype,"weight",2),Cie([Qte({type:String,reflect:!0})],Sie.prototype,"color",2),Cie([Qte({type:Boolean,reflect:!0})],Sie.prototype,"mirrored",2),Sie=Cie([Fte("ph-dots-three")],Sie);var Iie=Object.freeze({__proto__:null,get PhDotsThree(){return Sie}}),_ie=Object.defineProperty,kie=Object.getOwnPropertyDescriptor,Pie=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?kie(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&_ie(t,r,s),s};let Tie=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Tie.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};Tie.weightsMap=new Map([["thin",Ate`<path d="M216,44H40A12,12,0,0,0,28,56V192a12,12,0,0,0,12,12H60v20a4,4,0,0,0,8,0V204H188v20a4,4,0,0,0,8,0V204h20a12,12,0,0,0,12-12V56A12,12,0,0,0,216,44Zm0,152H40a4,4,0,0,1-4-4V56a4,4,0,0,1,4-4H216a4,4,0,0,1,4,4v68H195.81a44,44,0,1,0,0,8H220v60A4,4,0,0,1,216,196Zm-52.7-72a12,12,0,1,0,0,8h24.47a36,36,0,1,1,0-8Z"/>`],["light",Ate`<path d="M216,42H40A14,14,0,0,0,26,56V192a14,14,0,0,0,14,14H58v18a6,6,0,0,0,12,0V206H186v18a6,6,0,0,0,12,0V206h18a14,14,0,0,0,14-14V56A14,14,0,0,0,216,42Zm0,152H40a2,2,0,0,1-2-2V56a2,2,0,0,1,2-2H216a2,2,0,0,1,2,2v66H197.6a46,46,0,1,0,0,12H218v58A2,2,0,0,1,216,194Zm-51.37-72a14,14,0,1,0,0,12h20.83a34,34,0,1,1,0-12Z"/>`],["regular",Ate`<path d="M216,40H40A16,16,0,0,0,24,56V192a16,16,0,0,0,16,16H56v16a8,8,0,0,0,16,0V208H184v16a8,8,0,0,0,16,0V208h16a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,152H40V56H216v64H199.32a48,48,0,1,0,0,16H216v56Zm-50.16-72a16,16,0,1,0,0,16H183a32,32,0,1,1,0-16Z"/>`],["bold",Ate`<path d="M216,36H40A20,20,0,0,0,20,56V192a20,20,0,0,0,20,20H52v12a12,12,0,0,0,24,0V212H180v12a12,12,0,0,0,24,0V212h12a20,20,0,0,0,20-20V56A20,20,0,0,0,216,36ZM44,188V60H212v52H190.32a44,44,0,1,0,0,24H212v52Zm124-64a20,20,0,1,1-20-20A20,20,0,0,1,168,124Z"/>`],["fill",Ate`<path d="M216,40H40A16,16,0,0,0,24,56V192a16,16,0,0,0,16,16H56v16a8,8,0,0,0,16,0V208H184v16a8,8,0,0,0,16,0V208h16a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm-8,96H179.09a36,36,0,1,1,0-16H208a8,8,0,0,1,0,16Zm-44-8a20,20,0,1,1-20-20A20,20,0,0,1,164,128Z"/>`],["duotone",Ate`<path d="M216,48H40a8,8,0,0,0-8,8V192a8,8,0,0,0,8,8H216a8,8,0,0,0,8-8V56A8,8,0,0,0,216,48ZM152,168a40,40,0,1,1,40-40A40,40,0,0,1,152,168Z" opacity="0.2"/><path d="M216,40H40A16,16,0,0,0,24,56V192a16,16,0,0,0,16,16H56v16a8,8,0,0,0,16,0V208H184v16a8,8,0,0,0,16,0V208h16a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,152H40V56H216v64H199.32a48,48,0,1,0,0,16H216v56Zm-50.16-72a16,16,0,1,0,0,16H183a32,32,0,1,1,0-16Z"/>`]]),Tie.styles=Uee`
    :host {
      display: contents;
    }
  `,Pie([Qte({type:String,reflect:!0})],Tie.prototype,"size",2),Pie([Qte({type:String,reflect:!0})],Tie.prototype,"weight",2),Pie([Qte({type:String,reflect:!0})],Tie.prototype,"color",2),Pie([Qte({type:Boolean,reflect:!0})],Tie.prototype,"mirrored",2),Tie=Pie([Fte("ph-vault")],Tie);var Oie=Object.freeze({__proto__:null,get PhVault(){return Tie}}),Nie=Object.defineProperty,Rie=Object.getOwnPropertyDescriptor,$ie=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?Rie(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Nie(t,r,s),s};let Bie=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Bie.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};Bie.weightsMap=new Map([["thin",Ate`<path d="M224,52H32a4,4,0,0,0-4,4V192a12,12,0,0,0,12,12H216a12,12,0,0,0,12-12V56A4,4,0,0,0,224,52Zm-96,86.57L42.28,60H213.72ZM104.63,128,36,190.91V65.09Zm5.92,5.43L125.3,147a4,4,0,0,0,5.4,0l14.75-13.52L213.72,196H42.28ZM151.37,128,220,65.09V190.91Z"/>`],["light",Ate`<path d="M224,50H32a6,6,0,0,0-6,6V192a14,14,0,0,0,14,14H216a14,14,0,0,0,14-14V56A6,6,0,0,0,224,50Zm-96,85.86L47.42,62H208.58ZM101.67,128,38,186.36V69.64Zm8.88,8.14L124,148.42a6,6,0,0,0,8.1,0l13.4-12.28L208.58,194H47.43ZM154.33,128,218,69.64V186.36Z"/>`],["regular",Ate`<path d="M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48Zm-96,85.15L52.57,64H203.43ZM98.71,128,40,181.81V74.19Zm11.84,10.85,12,11.05a8,8,0,0,0,10.82,0l12-11.05,58,53.15H52.57ZM157.29,128,216,74.18V181.82Z"/>`],["bold",Ate`<path d="M224,44H32A12,12,0,0,0,20,56V192a20,20,0,0,0,20,20H216a20,20,0,0,0,20-20V56A12,12,0,0,0,224,44Zm-96,83.72L62.85,68h130.3ZM92.79,128,44,172.72V83.28Zm17.76,16.28,9.34,8.57a12,12,0,0,0,16.22,0l9.34-8.57L193.15,188H62.85ZM163.21,128,212,83.28v89.44Z"/>`],["fill",Ate`<path d="M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48ZM98.71,128,40,181.81V74.19Zm11.84,10.85,12,11.05a8,8,0,0,0,10.82,0l12-11.05,58,53.15H52.57ZM157.29,128,216,74.18V181.82Z"/>`],["duotone",Ate`<path d="M224,56l-96,88L32,56Z" opacity="0.2"/><path d="M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48Zm-96,85.15L52.57,64H203.43ZM98.71,128,40,181.81V74.19Zm11.84,10.85,12,11.05a8,8,0,0,0,10.82,0l12-11.05,58,53.15H52.57ZM157.29,128,216,74.18V181.82Z"/>`]]),Bie.styles=Uee`
    :host {
      display: contents;
    }
  `,$ie([Qte({type:String,reflect:!0})],Bie.prototype,"size",2),$ie([Qte({type:String,reflect:!0})],Bie.prototype,"weight",2),$ie([Qte({type:String,reflect:!0})],Bie.prototype,"color",2),$ie([Qte({type:Boolean,reflect:!0})],Bie.prototype,"mirrored",2),Bie=$ie([Fte("ph-envelope")],Bie);var Mie=Object.freeze({__proto__:null,get PhEnvelope(){return Bie}}),Uie=Object.defineProperty,Lie=Object.getOwnPropertyDescriptor,Die=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?Lie(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Uie(t,r,s),s};let jie=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${jie.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};jie.weightsMap=new Map([["thin",Ate`<path d="M196,136a4,4,0,0,1-4,4H64a4,4,0,0,1,0-8H192A4,4,0,0,1,196,136Zm36-52H24a4,4,0,0,0,0,8H232a4,4,0,0,0,0-8Zm-80,96H104a4,4,0,0,0,0,8h48a4,4,0,0,0,0-8Z"/>`],["light",Ate`<path d="M198,136a6,6,0,0,1-6,6H64a6,6,0,0,1,0-12H192A6,6,0,0,1,198,136Zm34-54H24a6,6,0,0,0,0,12H232a6,6,0,0,0,0-12Zm-80,96H104a6,6,0,0,0,0,12h48a6,6,0,0,0,0-12Z"/>`],["regular",Ate`<path d="M200,136a8,8,0,0,1-8,8H64a8,8,0,0,1,0-16H192A8,8,0,0,1,200,136Zm32-56H24a8,8,0,0,0,0,16H232a8,8,0,0,0,0-16Zm-80,96H104a8,8,0,0,0,0,16h48a8,8,0,0,0,0-16Z"/>`],["bold",Ate`<path d="M204,136a12,12,0,0,1-12,12H64a12,12,0,0,1,0-24H192A12,12,0,0,1,204,136Zm28-60H24a12,12,0,0,0,0,24H232a12,12,0,0,0,0-24Zm-80,96H104a12,12,0,0,0,0,24h48a12,12,0,0,0,0-24Z"/>`],["fill",Ate`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM144,176H112a8,8,0,0,1,0-16h32a8,8,0,0,1,0,16Zm32-40H80a8,8,0,0,1,0-16h96a8,8,0,0,1,0,16Zm32-40H48a8,8,0,0,1,0-16H208a8,8,0,0,1,0,16Z"/>`],["duotone",Ate`<path d="M232,56V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56Z" opacity="0.2"/><path d="M200,136a8,8,0,0,1-8,8H64a8,8,0,0,1,0-16H192A8,8,0,0,1,200,136Zm32-56H24a8,8,0,0,0,0,16H232a8,8,0,0,0,0-16Zm-80,96H104a8,8,0,0,0,0,16h48a8,8,0,0,0,0-16Z"/>`]]),jie.styles=Uee`
    :host {
      display: contents;
    }
  `,Die([Qte({type:String,reflect:!0})],jie.prototype,"size",2),Die([Qte({type:String,reflect:!0})],jie.prototype,"weight",2),Die([Qte({type:String,reflect:!0})],jie.prototype,"color",2),Die([Qte({type:Boolean,reflect:!0})],jie.prototype,"mirrored",2),jie=Die([Fte("ph-funnel-simple")],jie);var Hie=Object.freeze({__proto__:null,get PhFunnelSimple(){return jie}}),zie=Object.defineProperty,Fie=Object.getOwnPropertyDescriptor,Vie=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?Fie(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&zie(t,r,s),s};let Zie=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Zie.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};Zie.weightsMap=new Map([["thin",Ate`<path d="M128,28h0A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,190.61c-6.33-6.09-23-24.41-31.27-54.61h62.54C151,194.2,134.33,212.52,128,218.61ZM94.82,156a140.42,140.42,0,0,1,0-56h66.36a140.42,140.42,0,0,1,0,56ZM128,37.39c6.33,6.09,23,24.41,31.27,54.61H96.73C105,61.8,121.67,43.48,128,37.39ZM169.41,100h46.23a92.09,92.09,0,0,1,0,56H169.41a152.65,152.65,0,0,0,0-56Zm43.25-8h-45a129.39,129.39,0,0,0-29.19-55.4A92.25,92.25,0,0,1,212.66,92ZM117.54,36.6A129.39,129.39,0,0,0,88.35,92h-45A92.25,92.25,0,0,1,117.54,36.6ZM40.36,100H86.59a152.65,152.65,0,0,0,0,56H40.36a92.09,92.09,0,0,1,0-56Zm3,64h45a129.39,129.39,0,0,0,29.19,55.4A92.25,92.25,0,0,1,43.34,164Zm95.12,55.4A129.39,129.39,0,0,0,167.65,164h45A92.25,92.25,0,0,1,138.46,219.4Z"/>`],["light",Ate`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm81.57,64H169.19a132.58,132.58,0,0,0-25.73-50.67A90.29,90.29,0,0,1,209.57,90ZM218,128a89.7,89.7,0,0,1-3.83,26H171.81a155.43,155.43,0,0,0,0-52h42.36A89.7,89.7,0,0,1,218,128Zm-90,87.83a110,110,0,0,1-15.19-19.45A124.24,124.24,0,0,1,99.35,166h57.3a124.24,124.24,0,0,1-13.46,30.38A110,110,0,0,1,128,215.83ZM96.45,154a139.18,139.18,0,0,1,0-52h63.1a139.18,139.18,0,0,1,0,52ZM38,128a89.7,89.7,0,0,1,3.83-26H84.19a155.43,155.43,0,0,0,0,52H41.83A89.7,89.7,0,0,1,38,128Zm90-87.83a110,110,0,0,1,15.19,19.45A124.24,124.24,0,0,1,156.65,90H99.35a124.24,124.24,0,0,1,13.46-30.38A110,110,0,0,1,128,40.17Zm-15.46-.84A132.58,132.58,0,0,0,86.81,90H46.43A90.29,90.29,0,0,1,112.54,39.33ZM46.43,166H86.81a132.58,132.58,0,0,0,25.73,50.67A90.29,90.29,0,0,1,46.43,166Zm97,50.67A132.58,132.58,0,0,0,169.19,166h40.38A90.29,90.29,0,0,1,143.46,216.67Z"/>`],["regular",Ate`<path d="M128,24h0A104,104,0,1,0,232,128,104.12,104.12,0,0,0,128,24Zm88,104a87.61,87.61,0,0,1-3.33,24H174.16a157.44,157.44,0,0,0,0-48h38.51A87.61,87.61,0,0,1,216,128ZM102,168H154a115.11,115.11,0,0,1-26,45A115.27,115.27,0,0,1,102,168Zm-3.9-16a140.84,140.84,0,0,1,0-48h59.88a140.84,140.84,0,0,1,0,48ZM40,128a87.61,87.61,0,0,1,3.33-24H81.84a157.44,157.44,0,0,0,0,48H43.33A87.61,87.61,0,0,1,40,128ZM154,88H102a115.11,115.11,0,0,1,26-45A115.27,115.27,0,0,1,154,88Zm52.33,0H170.71a135.28,135.28,0,0,0-22.3-45.6A88.29,88.29,0,0,1,206.37,88ZM107.59,42.4A135.28,135.28,0,0,0,85.29,88H49.63A88.29,88.29,0,0,1,107.59,42.4ZM49.63,168H85.29a135.28,135.28,0,0,0,22.3,45.6A88.29,88.29,0,0,1,49.63,168Zm98.78,45.6a135.28,135.28,0,0,0,22.3-45.6h35.66A88.29,88.29,0,0,1,148.41,213.6Z"/>`],["bold",Ate`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,187a113.4,113.4,0,0,1-20.39-35h40.82a116.94,116.94,0,0,1-10,20.77A108.61,108.61,0,0,1,128,207Zm-26.49-59a135.42,135.42,0,0,1,0-40h53a135.42,135.42,0,0,1,0,40ZM44,128a83.49,83.49,0,0,1,2.43-20H77.25a160.63,160.63,0,0,0,0,40H46.43A83.49,83.49,0,0,1,44,128Zm84-79a113.4,113.4,0,0,1,20.39,35H107.59a116.94,116.94,0,0,1,10-20.77A108.61,108.61,0,0,1,128,49Zm50.73,59h30.82a83.52,83.52,0,0,1,0,40H178.75a160.63,160.63,0,0,0,0-40Zm20.77-24H173.71a140.82,140.82,0,0,0-15.5-34.36A84.51,84.51,0,0,1,199.52,84ZM97.79,49.64A140.82,140.82,0,0,0,82.29,84H56.48A84.51,84.51,0,0,1,97.79,49.64ZM56.48,172H82.29a140.82,140.82,0,0,0,15.5,34.36A84.51,84.51,0,0,1,56.48,172Zm101.73,34.36A140.82,140.82,0,0,0,173.71,172h25.81A84.51,84.51,0,0,1,158.21,206.36Z"/>`],["fill",Ate`<path d="M128,24h0A104,104,0,1,0,232,128,104.12,104.12,0,0,0,128,24Zm78.36,64H170.71a135.28,135.28,0,0,0-22.3-45.6A88.29,88.29,0,0,1,206.37,88ZM216,128a87.61,87.61,0,0,1-3.33,24H174.16a157.44,157.44,0,0,0,0-48h38.51A87.61,87.61,0,0,1,216,128ZM128,43a115.27,115.27,0,0,1,26,45H102A115.11,115.11,0,0,1,128,43ZM102,168H154a115.11,115.11,0,0,1-26,45A115.27,115.27,0,0,1,102,168Zm-3.9-16a140.84,140.84,0,0,1,0-48h59.88a140.84,140.84,0,0,1,0,48Zm50.35,61.6a135.28,135.28,0,0,0,22.3-45.6h35.66A88.29,88.29,0,0,1,148.41,213.6Z"/>`],["duotone",Ate`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M128,24h0A104,104,0,1,0,232,128,104.12,104.12,0,0,0,128,24Zm88,104a87.61,87.61,0,0,1-3.33,24H174.16a157.44,157.44,0,0,0,0-48h38.51A87.61,87.61,0,0,1,216,128ZM102,168H154a115.11,115.11,0,0,1-26,45A115.27,115.27,0,0,1,102,168Zm-3.9-16a140.84,140.84,0,0,1,0-48h59.88a140.84,140.84,0,0,1,0,48ZM40,128a87.61,87.61,0,0,1,3.33-24H81.84a157.44,157.44,0,0,0,0,48H43.33A87.61,87.61,0,0,1,40,128ZM154,88H102a115.11,115.11,0,0,1,26-45A115.27,115.27,0,0,1,154,88Zm52.33,0H170.71a135.28,135.28,0,0,0-22.3-45.6A88.29,88.29,0,0,1,206.37,88ZM107.59,42.4A135.28,135.28,0,0,0,85.29,88H49.63A88.29,88.29,0,0,1,107.59,42.4ZM49.63,168H85.29a135.28,135.28,0,0,0,22.3,45.6A88.29,88.29,0,0,1,49.63,168Zm98.78,45.6a135.28,135.28,0,0,0,22.3-45.6h35.66A88.29,88.29,0,0,1,148.41,213.6Z"/>`]]),Zie.styles=Uee`
    :host {
      display: contents;
    }
  `,Vie([Qte({type:String,reflect:!0})],Zie.prototype,"size",2),Vie([Qte({type:String,reflect:!0})],Zie.prototype,"weight",2),Vie([Qte({type:String,reflect:!0})],Zie.prototype,"color",2),Vie([Qte({type:Boolean,reflect:!0})],Zie.prototype,"mirrored",2),Zie=Vie([Fte("ph-globe")],Zie);var qie=Object.freeze({__proto__:null,get PhGlobe(){return Zie}}),Wie=Object.defineProperty,Kie=Object.getOwnPropertyDescriptor,Gie=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?Kie(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Wie(t,r,s),s};let Yie=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Yie.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};Yie.weightsMap=new Map([["thin",Ate`<path d="M196,112a4,4,0,0,1-4,4H152a4,4,0,0,1,0-8h40A4,4,0,0,1,196,112Zm-4,28H152a4,4,0,0,0,0,8h40a4,4,0,0,0,0-8Zm36-84V200a12,12,0,0,1-12,12H40a12,12,0,0,1-12-12V56A12,12,0,0,1,40,44H216A12,12,0,0,1,228,56Zm-8,0a4,4,0,0,0-4-4H40a4,4,0,0,0-4,4V200a4,4,0,0,0,4,4H216a4,4,0,0,0,4-4ZM131.87,167a4,4,0,1,1-7.74,2C121.06,157,109,148,96,148s-25,9-28.13,21A4,4,0,0,1,64,172a3.87,3.87,0,0,1-1-.13A4,4,0,0,1,60.13,167a36.28,36.28,0,0,1,20.43-23.66,28,28,0,1,1,30.88,0A36.2,36.2,0,0,1,131.87,167ZM96,140a20,20,0,1,0-20-20A20,20,0,0,0,96,140Z"/>`],["light",Ate`<path d="M198,112a6,6,0,0,1-6,6H152a6,6,0,0,1,0-12h40A6,6,0,0,1,198,112Zm-6,26H152a6,6,0,0,0,0,12h40a6,6,0,0,0,0-12Zm38-82V200a14,14,0,0,1-14,14H40a14,14,0,0,1-14-14V56A14,14,0,0,1,40,42H216A14,14,0,0,1,230,56Zm-12,0a2,2,0,0,0-2-2H40a2,2,0,0,0-2,2V200a2,2,0,0,0,2,2H216a2,2,0,0,0,2-2ZM133.81,166.51a6,6,0,0,1-11.62,3C119.34,158.38,108.08,150,96,150s-23.33,8.38-26.19,19.5a6,6,0,0,1-11.62-3A38,38,0,0,1,76.78,143a30,30,0,1,1,38.45,0A38,38,0,0,1,133.81,166.51ZM96,138a18,18,0,1,0-18-18A18,18,0,0,0,96,138Z"/>`],["regular",Ate`<path d="M200,112a8,8,0,0,1-8,8H152a8,8,0,0,1,0-16h40A8,8,0,0,1,200,112Zm-8,24H152a8,8,0,0,0,0,16h40a8,8,0,0,0,0-16Zm40-80V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56ZM216,200V56H40V200H216Zm-80.26-34a8,8,0,1,1-15.5,4c-2.63-10.26-13.06-18-24.25-18s-21.61,7.74-24.25,18a8,8,0,1,1-15.5-4,39.84,39.84,0,0,1,17.19-23.34,32,32,0,1,1,45.12,0A39.76,39.76,0,0,1,135.75,166ZM96,136a16,16,0,1,0-16-16A16,16,0,0,0,96,136Z"/>`],["bold",Ate`<path d="M148,108a12,12,0,0,1,12-12h28a12,12,0,0,1,0,24H160A12,12,0,0,1,148,108Zm40,28H168a12,12,0,0,0,0,24h20a12,12,0,0,0,0-24Zm48-80V200a20,20,0,0,1-20,20H40a20,20,0,0,1-20-20V56A20,20,0,0,1,40,36H216A20,20,0,0,1,236,56Zm-24,4H44V196H212ZM58.28,159.37A43.82,43.82,0,0,1,71.53,142a36,36,0,1,1,56.94,0,43.84,43.84,0,0,1,13.26,17.37,12,12,0,0,1-22.15,9.26C116.48,161.19,108.42,156,100,156s-16.47,5.2-19.59,12.63a12,12,0,1,1-22.13-9.26ZM88,120a12,12,0,1,0,12-12A12,12,0,0,0,88,120Z"/>`],["fill",Ate`<path d="M112,120a16,16,0,1,1-16-16A16,16,0,0,1,112,120ZM232,56V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56ZM135.75,166a39.76,39.76,0,0,0-17.19-23.34,32,32,0,1,0-45.12,0A39.84,39.84,0,0,0,56.25,166a8,8,0,0,0,15.5,4c2.64-10.25,13.06-18,24.25-18s21.62,7.73,24.25,18a8,8,0,1,0,15.5-4ZM200,144a8,8,0,0,0-8-8H152a8,8,0,0,0,0,16h40A8,8,0,0,0,200,144Zm0-32a8,8,0,0,0-8-8H152a8,8,0,0,0,0,16h40A8,8,0,0,0,200,112Z"/>`],["duotone",Ate`<path d="M216,48H40a8,8,0,0,0-8,8V200a8,8,0,0,0,8,8H216a8,8,0,0,0,8-8V56A8,8,0,0,0,216,48ZM96,144a24,24,0,1,1,24-24A24,24,0,0,1,96,144Z" opacity="0.2"/><path d="M200,112a8,8,0,0,1-8,8H152a8,8,0,0,1,0-16h40A8,8,0,0,1,200,112Zm-8,24H152a8,8,0,0,0,0,16h40a8,8,0,0,0,0-16Zm40-80V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56ZM216,200V56H40V200H216Zm-80.26-34a8,8,0,1,1-15.5,4c-2.63-10.26-13.06-18-24.25-18s-21.61,7.74-24.25,18a8,8,0,1,1-15.5-4,39.84,39.84,0,0,1,17.19-23.34,32,32,0,1,1,45.12,0A39.76,39.76,0,0,1,135.75,166ZM96,136a16,16,0,1,0-16-16A16,16,0,0,0,96,136Z"/>`]]),Yie.styles=Uee`
    :host {
      display: contents;
    }
  `,Gie([Qte({type:String,reflect:!0})],Yie.prototype,"size",2),Gie([Qte({type:String,reflect:!0})],Yie.prototype,"weight",2),Gie([Qte({type:String,reflect:!0})],Yie.prototype,"color",2),Gie([Qte({type:Boolean,reflect:!0})],Yie.prototype,"mirrored",2),Yie=Gie([Fte("ph-identification-card")],Yie);var Jie=Object.freeze({__proto__:null,get PhIdentificationCard(){return Yie}}),Xie=Object.defineProperty,Qie=Object.getOwnPropertyDescriptor,ese=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?Qie(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Xie(t,r,s),s};let tse=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${tse.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};tse.weightsMap=new Map([["thin",Ate`<path d="M216,44H40A12,12,0,0,0,28,56V200a12,12,0,0,0,12,12H216a12,12,0,0,0,12-12V56A12,12,0,0,0,216,44ZM40,52H216a4,4,0,0,1,4,4V168.4l-32.89-32.89a12,12,0,0,0-17,0l-22.83,22.83-46.82-46.83a12,12,0,0,0-17,0L36,159V56A4,4,0,0,1,40,52ZM36,200V170.34l53.17-53.17a4,4,0,0,1,5.66,0L181.66,204H40A4,4,0,0,1,36,200Zm180,4H193l-40-40,22.83-22.83a4,4,0,0,1,5.66,0L220,179.71V200A4,4,0,0,1,216,204ZM148,100a8,8,0,1,1,8,8A8,8,0,0,1,148,100Z"/>`],["light",Ate`<path d="M216,42H40A14,14,0,0,0,26,56V200a14,14,0,0,0,14,14H216a14,14,0,0,0,14-14V56A14,14,0,0,0,216,42ZM40,54H216a2,2,0,0,1,2,2V163.57L188.53,134.1a14,14,0,0,0-19.8,0l-21.42,21.42L101.9,110.1a14,14,0,0,0-19.8,0L38,154.2V56A2,2,0,0,1,40,54ZM38,200V171.17l52.58-52.58a2,2,0,0,1,2.84,0L176.83,202H40A2,2,0,0,1,38,200Zm178,2H193.8l-38-38,21.41-21.42a2,2,0,0,1,2.83,0l38,38V200A2,2,0,0,1,216,202ZM146,100a10,10,0,1,1,10,10A10,10,0,0,1,146,100Z"/>`],["regular",Ate`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V158.75l-26.07-26.06a16,16,0,0,0-22.63,0l-20,20-44-44a16,16,0,0,0-22.62,0L40,149.37V56ZM40,172l52-52,80,80H40Zm176,28H194.63l-36-36,20-20L216,181.38V200ZM144,100a12,12,0,1,1,12,12A12,12,0,0,1,144,100Z"/>`],["bold",Ate`<path d="M144,96a16,16,0,1,1,16,16A16,16,0,0,1,144,96Zm92-40V200a20,20,0,0,1-20,20H40a20,20,0,0,1-20-20V56A20,20,0,0,1,40,36H216A20,20,0,0,1,236,56ZM44,60v79.72l33.86-33.86a20,20,0,0,1,28.28,0L147.31,147l17.18-17.17a20,20,0,0,1,28.28,0L212,149.09V60Zm0,136H162.34L92,125.66l-48,48Zm168,0V183l-33.37-33.37L164.28,164l32,32Z"/>`],["fill",Ate`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM156,88a12,12,0,1,1-12,12A12,12,0,0,1,156,88Zm60,112H40V160.69l46.34-46.35a8,8,0,0,1,11.32,0h0L165,181.66a8,8,0,0,0,11.32-11.32l-17.66-17.65L173,138.34a8,8,0,0,1,11.31,0L216,170.07V200Z"/>`],["duotone",Ate`<path d="M224,56V178.06l-39.72-39.72a8,8,0,0,0-11.31,0L147.31,164,97.66,114.34a8,8,0,0,0-11.32,0L32,168.69V56a8,8,0,0,1,8-8H216A8,8,0,0,1,224,56Z" opacity="0.2"/><path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V158.75l-26.07-26.06a16,16,0,0,0-22.63,0l-20,20-44-44a16,16,0,0,0-22.62,0L40,149.37V56ZM40,172l52-52,80,80H40Zm176,28H194.63l-36-36,20-20L216,181.38V200ZM144,100a12,12,0,1,1,12,12A12,12,0,0,1,144,100Z"/>`]]),tse.styles=Uee`
    :host {
      display: contents;
    }
  `,ese([Qte({type:String,reflect:!0})],tse.prototype,"size",2),ese([Qte({type:String,reflect:!0})],tse.prototype,"weight",2),ese([Qte({type:String,reflect:!0})],tse.prototype,"color",2),ese([Qte({type:Boolean,reflect:!0})],tse.prototype,"mirrored",2),tse=ese([Fte("ph-image")],tse);var rse=Object.freeze({__proto__:null,get PhImage(){return tse}}),nse=Object.defineProperty,ise=Object.getOwnPropertyDescriptor,sse=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?ise(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&nse(t,r,s),s};let ose=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ose.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};ose.weightsMap=new Map([["thin",Ate`<path d="M140,176a4,4,0,0,1-4,4,12,12,0,0,1-12-12V128a4,4,0,0,0-4-4,4,4,0,0,1,0-8,12,12,0,0,1,12,12v40a4,4,0,0,0,4,4A4,4,0,0,1,140,176ZM124,92a8,8,0,1,0-8-8A8,8,0,0,0,124,92Zm104,36A100,100,0,1,1,128,28,100.11,100.11,0,0,1,228,128Zm-8,0a92,92,0,1,0-92,92A92.1,92.1,0,0,0,220,128Z"/>`],["light",Ate`<path d="M142,176a6,6,0,0,1-6,6,14,14,0,0,1-14-14V128a2,2,0,0,0-2-2,6,6,0,0,1,0-12,14,14,0,0,1,14,14v40a2,2,0,0,0,2,2A6,6,0,0,1,142,176ZM124,94a10,10,0,1,0-10-10A10,10,0,0,0,124,94Zm106,34A102,102,0,1,1,128,26,102.12,102.12,0,0,1,230,128Zm-12,0a90,90,0,1,0-90,90A90.1,90.1,0,0,0,218,128Z"/>`],["regular",Ate`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm16-40a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176ZM112,84a12,12,0,1,1,12,12A12,12,0,0,1,112,84Z"/>`],["bold",Ate`<path d="M108,84a16,16,0,1,1,16,16A16,16,0,0,1,108,84Zm128,44A108,108,0,1,1,128,20,108.12,108.12,0,0,1,236,128Zm-24,0a84,84,0,1,0-84,84A84.09,84.09,0,0,0,212,128Zm-72,36.68V132a20,20,0,0,0-20-20,12,12,0,0,0-4,23.32V168a20,20,0,0,0,20,20,12,12,0,0,0,4-23.32Z"/>`],["fill",Ate`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm-4,48a12,12,0,1,1-12,12A12,12,0,0,1,124,72Zm12,112a16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40a8,8,0,0,1,0,16Z"/>`],["duotone",Ate`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M144,176a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176Zm88-48A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128ZM124,96a12,12,0,1,0-12-12A12,12,0,0,0,124,96Z"/>`]]),ose.styles=Uee`
    :host {
      display: contents;
    }
  `,sse([Qte({type:String,reflect:!0})],ose.prototype,"size",2),sse([Qte({type:String,reflect:!0})],ose.prototype,"weight",2),sse([Qte({type:String,reflect:!0})],ose.prototype,"color",2),sse([Qte({type:Boolean,reflect:!0})],ose.prototype,"mirrored",2),ose=sse([Fte("ph-info")],ose);var ase=Object.freeze({__proto__:null,get PhInfo(){return ose}}),cse=Object.defineProperty,lse=Object.getOwnPropertyDescriptor,dse=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?lse(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&cse(t,r,s),s};let use=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${use.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};use.weightsMap=new Map([["thin",Ate`<path d="M172,232a4,4,0,0,1-4,4H88a4,4,0,0,1,0-8h80A4,4,0,0,1,172,232Zm40-128a83.59,83.59,0,0,1-32.11,66.06A20.2,20.2,0,0,0,172,186v6a12,12,0,0,1-12,12H96a12,12,0,0,1-12-12v-6a20,20,0,0,0-7.76-15.81A83.58,83.58,0,0,1,44,104.47C43.75,59,80.52,21.09,126,20a84,84,0,0,1,86,84Zm-8,0a76,76,0,0,0-77.83-76C85,29,51.77,63.27,52,104.43a75.62,75.62,0,0,0,29.17,59.43A28,28,0,0,1,92,186v6a4,4,0,0,0,4,4h64a4,4,0,0,0,4-4v-6a28.14,28.14,0,0,1,10.94-22.2A75.62,75.62,0,0,0,204,104ZM136.66,52.06a4,4,0,0,0-1.32,7.88C153.53,63,169,78.45,172.06,96.67A4,4,0,0,0,176,100a3.88,3.88,0,0,0,.67-.06,4,4,0,0,0,3.27-4.61A53.51,53.51,0,0,0,136.66,52.06Z"/>`],["light",Ate`<path d="M174,232a6,6,0,0,1-6,6H88a6,6,0,0,1,0-12h80A6,6,0,0,1,174,232Zm40-128a85.56,85.56,0,0,1-32.88,67.64A18.23,18.23,0,0,0,174,186v6a14,14,0,0,1-14,14H96a14,14,0,0,1-14-14v-6a18,18,0,0,0-7-14.23h0a85.59,85.59,0,0,1-33-67.24C41.74,57.91,79.39,19.12,125.93,18A86,86,0,0,1,214,104Zm-12,0a74,74,0,0,0-75.79-74C86.17,31,53.78,64.34,54,104.42a73.67,73.67,0,0,0,28.4,57.87A29.92,29.92,0,0,1,94,186v6a2,2,0,0,0,2,2h64a2,2,0,0,0,2-2v-6a30.18,30.18,0,0,1,11.7-23.78A73.59,73.59,0,0,0,202,104Zm-20.08-9A55.58,55.58,0,0,0,137,50.08a6,6,0,1,0-2,11.84C152.38,64.84,167.13,79.6,170.08,97a6,6,0,0,0,5.91,5,6.87,6.87,0,0,0,1-.08A6,6,0,0,0,181.92,95Z"/>`],["regular",Ate`<path d="M176,232a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h80A8,8,0,0,1,176,232Zm40-128a87.55,87.55,0,0,1-33.64,69.21A16.24,16.24,0,0,0,176,186v6a16,16,0,0,1-16,16H96a16,16,0,0,1-16-16v-6a16,16,0,0,0-6.23-12.66A87.59,87.59,0,0,1,40,104.49C39.74,56.83,78.26,17.14,125.88,16A88,88,0,0,1,216,104Zm-16,0a72,72,0,0,0-73.74-72c-39,.92-70.47,33.39-70.26,72.39a71.65,71.65,0,0,0,27.64,56.3A32,32,0,0,1,96,186v6h64v-6a32.15,32.15,0,0,1,12.47-25.35A71.65,71.65,0,0,0,200,104Zm-16.11-9.34a57.6,57.6,0,0,0-46.56-46.55,8,8,0,0,0-2.66,15.78c16.57,2.79,30.63,16.85,33.44,33.45A8,8,0,0,0,176,104a9,9,0,0,0,1.35-.11A8,8,0,0,0,183.89,94.66Z"/>`],["bold",Ate`<path d="M180,232a12,12,0,0,1-12,12H88a12,12,0,0,1,0-24h80A12,12,0,0,1,180,232Zm40-128a91.51,91.51,0,0,1-35.17,72.35A12.26,12.26,0,0,0,180,186v2a20,20,0,0,1-20,20H96a20,20,0,0,1-20-20v-2a12,12,0,0,0-4.7-9.51A91.57,91.57,0,0,1,36,104.52C35.73,54.69,76,13.2,125.79,12A92,92,0,0,1,220,104Zm-24,0a68,68,0,0,0-69.65-68C89.56,36.88,59.8,67.55,60,104.38a67.71,67.71,0,0,0,26.1,53.19A35.87,35.87,0,0,1,100,184h56.1A36.13,36.13,0,0,1,170,157.49,67.68,67.68,0,0,0,196,104Zm-20.07-5.32a48.5,48.5,0,0,0-31.91-40,12,12,0,0,0-8,22.62,24.31,24.31,0,0,1,16.09,20,12,12,0,0,0,23.86-2.64Z"/>`],["fill",Ate`<path d="M176,232a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h80A8,8,0,0,1,176,232Zm40-128a87.55,87.55,0,0,1-33.64,69.21A16.24,16.24,0,0,0,176,186v6a16,16,0,0,1-16,16H96a16,16,0,0,1-16-16v-6a16,16,0,0,0-6.23-12.66A87.59,87.59,0,0,1,40,104.49C39.74,56.83,78.26,17.14,125.88,16A88,88,0,0,1,216,104Zm-32.11-9.34a57.6,57.6,0,0,0-46.56-46.55,8,8,0,0,0-2.66,15.78c16.57,2.79,30.63,16.85,33.44,33.45A8,8,0,0,0,176,104a9,9,0,0,0,1.35-.11A8,8,0,0,0,183.89,94.66Z"/>`],["duotone",Ate`<path d="M208,104a79.86,79.86,0,0,1-30.59,62.92A24.29,24.29,0,0,0,168,186v6a8,8,0,0,1-8,8H96a8,8,0,0,1-8-8v-6a24.11,24.11,0,0,0-9.3-19A79.87,79.87,0,0,1,48,104.45C47.76,61.09,82.72,25,126.07,24A80,80,0,0,1,208,104Z" opacity="0.2"/><path d="M176,232a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h80A8,8,0,0,1,176,232Zm40-128a87.55,87.55,0,0,1-33.64,69.21A16.24,16.24,0,0,0,176,186v6a16,16,0,0,1-16,16H96a16,16,0,0,1-16-16v-6a16,16,0,0,0-6.23-12.66A87.59,87.59,0,0,1,40,104.49C39.74,56.83,78.26,17.14,125.88,16A88,88,0,0,1,216,104Zm-16,0a72,72,0,0,0-73.74-72c-39,.92-70.47,33.39-70.26,72.39a71.65,71.65,0,0,0,27.64,56.3A32,32,0,0,1,96,186v6h64v-6a32.15,32.15,0,0,1,12.47-25.35A71.65,71.65,0,0,0,200,104Zm-16.11-9.34a57.6,57.6,0,0,0-46.56-46.55,8,8,0,0,0-2.66,15.78c16.57,2.79,30.63,16.85,33.44,33.45A8,8,0,0,0,176,104a9,9,0,0,0,1.35-.11A8,8,0,0,0,183.89,94.66Z"/>`]]),use.styles=Uee`
    :host {
      display: contents;
    }
  `,dse([Qte({type:String,reflect:!0})],use.prototype,"size",2),dse([Qte({type:String,reflect:!0})],use.prototype,"weight",2),dse([Qte({type:String,reflect:!0})],use.prototype,"color",2),dse([Qte({type:Boolean,reflect:!0})],use.prototype,"mirrored",2),use=dse([Fte("ph-lightbulb")],use);var hse=Object.freeze({__proto__:null,get PhLightbulb(){return use}}),pse=Object.defineProperty,fse=Object.getOwnPropertyDescriptor,gse=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?fse(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&pse(t,r,s),s};let mse=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${mse.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};mse.weightsMap=new Map([["thin",Ate`<path d="M226.83,221.17l-52.7-52.7a84.1,84.1,0,1,0-5.66,5.66l52.7,52.7a4,4,0,0,0,5.66-5.66ZM36,112a76,76,0,1,1,76,76A76.08,76.08,0,0,1,36,112Z"/>`],["light",Ate`<path d="M228.24,219.76l-51.38-51.38a86.15,86.15,0,1,0-8.48,8.48l51.38,51.38a6,6,0,0,0,8.48-8.48ZM38,112a74,74,0,1,1,74,74A74.09,74.09,0,0,1,38,112Z"/>`],["regular",Ate`<path d="M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"/>`],["bold",Ate`<path d="M232.49,215.51,185,168a92.12,92.12,0,1,0-17,17l47.53,47.54a12,12,0,0,0,17-17ZM44,112a68,68,0,1,1,68,68A68.07,68.07,0,0,1,44,112Z"/>`],["fill",Ate`<path d="M168,112a56,56,0,1,1-56-56A56,56,0,0,1,168,112Zm61.66,117.66a8,8,0,0,1-11.32,0l-50.06-50.07a88,88,0,1,1,11.32-11.31l50.06,50.06A8,8,0,0,1,229.66,229.66ZM112,184a72,72,0,1,0-72-72A72.08,72.08,0,0,0,112,184Z"/>`],["duotone",Ate`<path d="M192,112a80,80,0,1,1-80-80A80,80,0,0,1,192,112Z" opacity="0.2"/><path d="M229.66,218.34,179.6,168.28a88.21,88.21,0,1,0-11.32,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"/>`]]),mse.styles=Uee`
    :host {
      display: contents;
    }
  `,gse([Qte({type:String,reflect:!0})],mse.prototype,"size",2),gse([Qte({type:String,reflect:!0})],mse.prototype,"weight",2),gse([Qte({type:String,reflect:!0})],mse.prototype,"color",2),gse([Qte({type:Boolean,reflect:!0})],mse.prototype,"mirrored",2),mse=gse([Fte("ph-magnifying-glass")],mse);var yse=Object.freeze({__proto__:null,get PhMagnifyingGlass(){return mse}}),wse=Object.defineProperty,bse=Object.getOwnPropertyDescriptor,vse=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?bse(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&wse(t,r,s),s};let Ese=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ese.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};Ese.weightsMap=new Map([["thin",Ate`<path d="M229.89,117.43l-168-95.88A12,12,0,0,0,44.7,36l31.08,92L44.71,220A12,12,0,0,0,56,236a12.13,12.13,0,0,0,5.93-1.57l167.94-96.08a12,12,0,0,0,0-20.92Zm-4,14L58,227.47a4,4,0,0,1-5.72-4.83l0-.07L82.87,132H144a4,4,0,0,0,0-8H82.87L52.26,33.37A3.89,3.89,0,0,1,53.44,29,4.13,4.13,0,0,1,56,28a3.88,3.88,0,0,1,1.93.54l168,95.87a4,4,0,0,1,0,7Z"/>`],["light",Ate`<path d="M230.88,115.69l-168-95.88a14,14,0,0,0-20,16.87L73.66,128,42.81,219.33A14,14,0,0,0,56,238a14.15,14.15,0,0,0,6.93-1.83L230.84,140.1a14,14,0,0,0,0-24.41Zm-5.95,14L57,225.73a2,2,0,0,1-2.86-2.42.42.42,0,0,0,0-.1L84.3,134H144a6,6,0,0,0,0-12H84.3L54.17,32.8a.3.3,0,0,0,0-.1,1.87,1.87,0,0,1,.6-2.2A1.85,1.85,0,0,1,57,30.25l168,95.89a1.93,1.93,0,0,1,1,1.74A2,2,0,0,1,224.93,129.66Z"/>`],["regular",Ate`<path d="M231.87,114l-168-95.89A16,16,0,0,0,40.92,37.34L71.55,128,40.92,218.67A16,16,0,0,0,56,240a16.15,16.15,0,0,0,7.93-2.1l167.92-96.05a16,16,0,0,0,.05-27.89ZM56,224a.56.56,0,0,0,0-.12L85.74,136H144a8,8,0,0,0,0-16H85.74L56.06,32.16A.46.46,0,0,0,56,32l168,95.83Z"/>`],["bold",Ate`<path d="M233.86,110.48,65.8,14.58A20,20,0,0,0,37.15,38.64L67.33,128,37.15,217.36A20,20,0,0,0,56,244a20.1,20.1,0,0,0,9.81-2.58l.09-.06,168-96.07a20,20,0,0,0,0-34.81ZM63.19,215.26,88.61,140H144a12,12,0,0,0,0-24H88.61L63.18,40.72l152.76,87.17Z"/>`],["fill",Ate`<path d="M240,127.89a16,16,0,0,1-8.18,14L63.9,237.9A16.15,16.15,0,0,1,56,240a16,16,0,0,1-15-21.33l27-79.95A4,4,0,0,1,71.72,136H144a8,8,0,0,0,8-8.53,8.19,8.19,0,0,0-8.26-7.47h-72a4,4,0,0,1-3.79-2.72l-27-79.94A16,16,0,0,1,63.84,18.07l168,95.89A16,16,0,0,1,240,127.89Z"/>`],["duotone",Ate`<path d="M227.91,134.86,59.93,231a8,8,0,0,1-11.44-9.67L80,128,48.49,34.72a8,8,0,0,1,11.44-9.67l168,95.85A8,8,0,0,1,227.91,134.86Z" opacity="0.2"/><path d="M231.87,114l-168-95.89A16,16,0,0,0,40.92,37.34L71.55,128,40.92,218.67A16,16,0,0,0,56,240a16.15,16.15,0,0,0,7.93-2.1l167.92-96.05a16,16,0,0,0,.05-27.89ZM56,224a.56.56,0,0,0,0-.12L85.74,136H144a8,8,0,0,0,0-16H85.74L56.06,32.16A.46.46,0,0,0,56,32l168,95.83Z"/>`]]),Ese.styles=Uee`
    :host {
      display: contents;
    }
  `,vse([Qte({type:String,reflect:!0})],Ese.prototype,"size",2),vse([Qte({type:String,reflect:!0})],Ese.prototype,"weight",2),vse([Qte({type:String,reflect:!0})],Ese.prototype,"color",2),vse([Qte({type:Boolean,reflect:!0})],Ese.prototype,"mirrored",2),Ese=vse([Fte("ph-paper-plane-right")],Ese);var Ase=Object.freeze({__proto__:null,get PhPaperPlaneRight(){return Ese}}),xse=Object.defineProperty,Cse=Object.getOwnPropertyDescriptor,Sse=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?Cse(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&xse(t,r,s),s};let Ise=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ise.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};Ise.weightsMap=new Map([["thin",Ate`<path d="M220,128a4,4,0,0,1-4,4H132v84a4,4,0,0,1-8,0V132H40a4,4,0,0,1,0-8h84V40a4,4,0,0,1,8,0v84h84A4,4,0,0,1,220,128Z"/>`],["light",Ate`<path d="M222,128a6,6,0,0,1-6,6H134v82a6,6,0,0,1-12,0V134H40a6,6,0,0,1,0-12h82V40a6,6,0,0,1,12,0v82h82A6,6,0,0,1,222,128Z"/>`],["regular",Ate`<path d="M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"/>`],["bold",Ate`<path d="M228,128a12,12,0,0,1-12,12H140v76a12,12,0,0,1-24,0V140H40a12,12,0,0,1,0-24h76V40a12,12,0,0,1,24,0v76h76A12,12,0,0,1,228,128Z"/>`],["fill",Ate`<path d="M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM184,136H136v48a8,8,0,0,1-16,0V136H72a8,8,0,0,1,0-16h48V72a8,8,0,0,1,16,0v48h48a8,8,0,0,1,0,16Z"/>`],["duotone",Ate`<path d="M216,56V200a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40H200A16,16,0,0,1,216,56Z" opacity="0.2"/><path d="M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"/>`]]),Ise.styles=Uee`
    :host {
      display: contents;
    }
  `,Sse([Qte({type:String,reflect:!0})],Ise.prototype,"size",2),Sse([Qte({type:String,reflect:!0})],Ise.prototype,"weight",2),Sse([Qte({type:String,reflect:!0})],Ise.prototype,"color",2),Sse([Qte({type:Boolean,reflect:!0})],Ise.prototype,"mirrored",2),Ise=Sse([Fte("ph-plus")],Ise);var _se=Object.freeze({__proto__:null,get PhPlus(){return Ise}}),kse=Object.defineProperty,Pse=Object.getOwnPropertyDescriptor,Tse=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?Pse(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&kse(t,r,s),s};let Ose=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ose.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};Ose.weightsMap=new Map([["thin",Ate`<path d="M124,128V48a4,4,0,0,1,8,0v80a4,4,0,0,1-8,0Zm54.18-75.35a4,4,0,1,0-4.36,6.7C198.08,75.17,212,100.2,212,128a84,84,0,0,1-168,0c0-27.8,13.92-52.83,38.18-68.65a4,4,0,0,0-4.36-6.7C51.24,70,36,97.44,36,128a92,92,0,0,0,184,0C220,97.44,204.76,70,178.18,52.65Z"/>`],["light",Ate`<path d="M122,128V48a6,6,0,0,1,12,0v80a6,6,0,0,1-12,0Zm57.28-77A6,6,0,0,0,172.72,61C196.41,76.47,210,100.88,210,128a82,82,0,0,1-164,0c0-27.12,13.59-51.53,37.28-67A6,6,0,0,0,76.72,51C49.57,68.68,34,96.75,34,128a94,94,0,0,0,188,0C222,96.75,206.43,68.68,179.28,51Z"/>`],["regular",Ate`<path d="M120,128V48a8,8,0,0,1,16,0v80a8,8,0,0,1-16,0Zm60.37-78.7a8,8,0,0,0-8.74,13.4C194.74,77.77,208,101.57,208,128a80,80,0,0,1-160,0c0-26.43,13.26-50.23,36.37-65.3a8,8,0,0,0-8.74-13.4C47.9,67.38,32,96.06,32,128a96,96,0,0,0,192,0C224,96.06,208.1,67.38,180.37,49.3Z"/>`],["bold",Ate`<path d="M116,128V48a12,12,0,0,1,24,0v80a12,12,0,0,1-24,0Zm66.55-82a12,12,0,0,0-13.1,20.1C191.41,80.37,204,103,204,128a76,76,0,0,1-152,0c0-25,12.59-47.63,34.55-61.95A12,12,0,0,0,73.45,46C44.56,64.78,28,94.69,28,128a100,100,0,0,0,200,0C228,94.69,211.44,64.78,182.55,46Z"/>`],["fill",Ate`<path d="M128,24A104,104,0,1,0,232,128,104,104,0,0,0,128,24Zm-8,40a8,8,0,0,1,16,0v64a8,8,0,0,1-16,0Zm8,144A80,80,0,0,1,83.55,61.48a8,8,0,1,1,8.9,13.29,64,64,0,1,0,71.1,0,8,8,0,1,1,8.9-13.29A80,80,0,0,1,128,208Z"/>`],["duotone",Ate`<path d="M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z" opacity="0.2"/><path d="M120,128V48a8,8,0,0,1,16,0v80a8,8,0,0,1-16,0Zm60.37-78.7a8,8,0,0,0-8.74,13.4C194.74,77.77,208,101.57,208,128a80,80,0,0,1-160,0c0-26.43,13.26-50.23,36.37-65.3a8,8,0,0,0-8.74-13.4C47.9,67.38,32,96.06,32,128a96,96,0,0,0,192,0C224,96.06,208.1,67.38,180.37,49.3Z"/>`]]),Ose.styles=Uee`
    :host {
      display: contents;
    }
  `,Tse([Qte({type:String,reflect:!0})],Ose.prototype,"size",2),Tse([Qte({type:String,reflect:!0})],Ose.prototype,"weight",2),Tse([Qte({type:String,reflect:!0})],Ose.prototype,"color",2),Tse([Qte({type:Boolean,reflect:!0})],Ose.prototype,"mirrored",2),Ose=Tse([Fte("ph-power")],Ose);var Nse=Object.freeze({__proto__:null,get PhPower(){return Ose}}),Rse=Object.defineProperty,$se=Object.getOwnPropertyDescriptor,Bse=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?$se(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Rse(t,r,s),s};let Mse=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Mse.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};Mse.weightsMap=new Map([["thin",Ate`<path d="M218.14,161.93a4,4,0,0,0-3.86-.24,24,24,0,0,1-34.23-23.25,24,24,0,0,1,34.23-20.13A4,4,0,0,0,220,114.7V72a12,12,0,0,0-12-12H167a32,32,0,1,0-62.91-10.33A32.57,32.57,0,0,0,105,60H64A12,12,0,0,0,52,72v37a32,32,0,1,0-10.33,62.91A32.28,32.28,0,0,0,52,171v37a12,12,0,0,0,12,12H208a12,12,0,0,0,12-12V165.31A4,4,0,0,0,218.14,161.93ZM212,208a4,4,0,0,1-4,4H64a4,4,0,0,1-4-4V165.31a4,4,0,0,0-1.86-3.38,4,4,0,0,0-3.85-.24,24,24,0,0,1-34.24-20.13,24,24,0,0,1,34.24-23.25A4,4,0,0,0,60,114.7V72a4,4,0,0,1,4-4h46.69a4,4,0,0,0,3.62-5.71,24,24,0,0,1,20.13-34.24,24,24,0,0,1,23.25,34.24A4,4,0,0,0,161.31,68H208a4,4,0,0,1,4,4v37a32.57,32.57,0,0,0-10.33-.94A32,32,0,1,0,212,171Z"/>`],["light",Ate`<path d="M219.21,160.24a6,6,0,0,0-5.78-.35,22,22,0,1,1-11.05-41.83,22.15,22.15,0,0,1,11.05,2.06A6,6,0,0,0,222,114.7V72a14,14,0,0,0-14-14H169.48a35,35,0,0,0,.52-6,34.1,34.1,0,0,0-10.73-24.78,33.64,33.64,0,0,0-25.45-9.15A34,34,0,0,0,102.54,58H64A14,14,0,0,0,50,72v34.53a34,34,0,0,0-30.79,10.2,34,34,0,0,0,22.31,57.18,34.34,34.34,0,0,0,8.48-.44V208a14,14,0,0,0,14,14H208a14,14,0,0,0,14-14V165.31A6,6,0,0,0,219.21,160.24ZM210,208a2,2,0,0,1-2,2H64a2,2,0,0,1-2-2V165.31a6,6,0,0,0-6-6,5.92,5.92,0,0,0-2.57.58,22,22,0,0,1-31.38-18.46,22,22,0,0,1,31.38-21.31A6,6,0,0,0,62,114.7V72a2,2,0,0,1,2-2h46.69a6,6,0,0,0,5.42-8.57,22.25,22.25,0,0,1-2-11,22,22,0,1,1,41.83,11A6,6,0,0,0,161.3,70H208a2,2,0,0,1,2,2v34.54a34,34,0,0,0-39.93,31.28,33.71,33.71,0,0,0,9.14,25.45A34.15,34.15,0,0,0,210,173.48Z"/>`],["regular",Ate`<path d="M220.27,158.54a8,8,0,0,0-7.7-.46,20,20,0,1,1,0-36.16A8,8,0,0,0,224,114.69V72a16,16,0,0,0-16-16H171.78a35.36,35.36,0,0,0,.22-4,36.11,36.11,0,0,0-11.36-26.24,36,36,0,0,0-60.55,23.62,36.56,36.56,0,0,0,.14,6.62H64A16,16,0,0,0,48,72v32.22a35.36,35.36,0,0,0-4-.22,36.12,36.12,0,0,0-26.24,11.36,35.7,35.7,0,0,0-9.69,27,36.08,36.08,0,0,0,33.31,33.6,35.68,35.68,0,0,0,6.62-.14V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V165.31A8,8,0,0,0,220.27,158.54ZM208,208H64V165.31a8,8,0,0,0-11.43-7.23,20,20,0,1,1,0-36.16A8,8,0,0,0,64,114.69V72h46.69a8,8,0,0,0,7.23-11.43,20,20,0,1,1,36.16,0A8,8,0,0,0,161.31,72H208v32.23a35.68,35.68,0,0,0-6.62-.14A36,36,0,0,0,204,176a35.36,35.36,0,0,0,4-.22Z"/>`],["bold",Ate`<path d="M222.41,155.16a12,12,0,0,0-11.56-.69A16,16,0,0,1,188,139,16.2,16.2,0,0,1,202.8,124a15.83,15.83,0,0,1,8,1.5A12,12,0,0,0,228,114.7V72a20,20,0,0,0-20-20H176a40.15,40.15,0,0,0-12.62-29.16,39.67,39.67,0,0,0-29.94-10.76,40.08,40.08,0,0,0-37.34,37C96,50.07,96,51,96,52H64A20,20,0,0,0,44,72v28a40.15,40.15,0,0,0-29.16,12.62A40,40,0,0,0,41.1,179.9a28.3,28.3,0,0,0,2.9.1v28a20,20,0,0,0,20,20H208a20,20,0,0,0,20-20V165.31A12,12,0,0,0,222.41,155.16ZM204,204H68V165.31a12,12,0,0,0-17.15-10.84A15.9,15.9,0,0,1,42.8,156,16.2,16.2,0,0,1,28,141.06a16,16,0,0,1,22.82-15.52A12,12,0,0,0,68,114.7V76h42.7a12,12,0,0,0,10.83-17.15A15.9,15.9,0,0,1,120,50.8,16.19,16.19,0,0,1,134.94,36a16,16,0,0,1,15.53,22.81A12,12,0,0,0,161.31,76H204v24c-1,0-1.93,0-2.9.11A40,40,0,0,0,204,180h0Z"/>`],["fill",Ate`<path d="M165.78,224H208a16,16,0,0,0,16-16V170.35A8,8,0,0,0,212.94,163a23.37,23.37,0,0,1-8.94,1.77c-13.23,0-24-11.1-24-24.73s10.77-24.73,24-24.73a23.37,23.37,0,0,1,8.94,1.77A8,8,0,0,0,224,109.65V72a16,16,0,0,0-16-16H171.78a35.36,35.36,0,0,0,.22-4,36,36,0,0,0-72,0,35.36,35.36,0,0,0,.22,4H64A16,16,0,0,0,48,72v32.22a35.36,35.36,0,0,0-4-.22,36,36,0,0,0,0,72,35.36,35.36,0,0,0,4-.22V208a16,16,0,0,0,16,16h42.22"/>`],["duotone",Ate`<path d="M204,168a28,28,0,0,0,12-2.69V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V165.31a28,28,0,1,1,0-50.62V72a8,8,0,0,1,8-8h46.69a28,28,0,1,1,50.61,0H208a8,8,0,0,1,8,8v42.69A28,28,0,1,0,204,168Z" opacity="0.2"/><path d="M220.27,158.54a8,8,0,0,0-7.7-.46,20,20,0,1,1,0-36.16A8,8,0,0,0,224,114.69V72a16,16,0,0,0-16-16H171.78a35.36,35.36,0,0,0,.22-4,36.15,36.15,0,0,0-11.36-26.25,36,36,0,0,0-60.55,23.63,36.56,36.56,0,0,0,.14,6.62H64A16,16,0,0,0,48,72v32.22a35.36,35.36,0,0,0-4-.22,36.12,36.12,0,0,0-26.24,11.36,35.7,35.7,0,0,0-9.69,27,36.08,36.08,0,0,0,33.31,33.6,36.56,36.56,0,0,0,6.62-.14V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V165.31A8,8,0,0,0,220.27,158.54ZM208,208H64V165.31a8,8,0,0,0-11.43-7.23,20,20,0,1,1,0-36.16A8,8,0,0,0,64,114.69V72h46.69a8,8,0,0,0,7.23-11.43,20,20,0,1,1,36.16,0A8,8,0,0,0,161.31,72H208v32.23a35.68,35.68,0,0,0-6.62-.14A36,36,0,0,0,204,176a35.36,35.36,0,0,0,4-.22Z"/>`]]),Mse.styles=Uee`
    :host {
      display: contents;
    }
  `,Bse([Qte({type:String,reflect:!0})],Mse.prototype,"size",2),Bse([Qte({type:String,reflect:!0})],Mse.prototype,"weight",2),Bse([Qte({type:String,reflect:!0})],Mse.prototype,"color",2),Bse([Qte({type:Boolean,reflect:!0})],Mse.prototype,"mirrored",2),Mse=Bse([Fte("ph-puzzle-piece")],Mse);var Use=Object.freeze({__proto__:null,get PhPuzzlePiece(){return Mse}}),Lse=Object.defineProperty,Dse=Object.getOwnPropertyDescriptor,jse=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?Dse(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Lse(t,r,s),s};let Hse=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Hse.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};Hse.weightsMap=new Map([["thin",Ate`<path d="M104,44H56A12,12,0,0,0,44,56v48a12,12,0,0,0,12,12h48a12,12,0,0,0,12-12V56A12,12,0,0,0,104,44Zm4,60a4,4,0,0,1-4,4H56a4,4,0,0,1-4-4V56a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4Zm-4,36H56a12,12,0,0,0-12,12v48a12,12,0,0,0,12,12h48a12,12,0,0,0,12-12V152A12,12,0,0,0,104,140Zm4,60a4,4,0,0,1-4,4H56a4,4,0,0,1-4-4V152a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4ZM200,44H152a12,12,0,0,0-12,12v48a12,12,0,0,0,12,12h48a12,12,0,0,0,12-12V56A12,12,0,0,0,200,44Zm4,60a4,4,0,0,1-4,4H152a4,4,0,0,1-4-4V56a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4Zm-64,72V144a4,4,0,0,1,8,0v32a4,4,0,0,1-8,0Zm72-16a4,4,0,0,1-4,4H180v44a4,4,0,0,1-4,4H144a4,4,0,0,1,0-8h28V144a4,4,0,0,1,8,0v12h28A4,4,0,0,1,212,160Zm0,32v16a4,4,0,0,1-8,0V192a4,4,0,0,1,8,0Z"/>`],["light",Ate`<path d="M104,42H56A14,14,0,0,0,42,56v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V56A14,14,0,0,0,104,42Zm2,62a2,2,0,0,1-2,2H56a2,2,0,0,1-2-2V56a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2Zm-2,34H56a14,14,0,0,0-14,14v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V152A14,14,0,0,0,104,138Zm2,62a2,2,0,0,1-2,2H56a2,2,0,0,1-2-2V152a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2ZM200,42H152a14,14,0,0,0-14,14v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V56A14,14,0,0,0,200,42Zm2,62a2,2,0,0,1-2,2H152a2,2,0,0,1-2-2V56a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2Zm-64,72V144a6,6,0,0,1,12,0v32a6,6,0,0,1-12,0Zm76-16a6,6,0,0,1-6,6H182v42a6,6,0,0,1-6,6H144a6,6,0,0,1,0-12h26V144a6,6,0,0,1,12,0v10h26A6,6,0,0,1,214,160Zm0,32v16a6,6,0,0,1-12,0V192a6,6,0,0,1,12,0Z"/>`],["regular",Ate`<path d="M104,40H56A16,16,0,0,0,40,56v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,104,40Zm0,64H56V56h48v48Zm0,32H56a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,104,136Zm0,64H56V152h48v48ZM200,40H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,200,40Zm0,64H152V56h48v48Zm-64,72V144a8,8,0,0,1,16,0v32a8,8,0,0,1-16,0Zm80-16a8,8,0,0,1-8,8H184v40a8,8,0,0,1-8,8H144a8,8,0,0,1,0-16h24V144a8,8,0,0,1,16,0v8h24A8,8,0,0,1,216,160Zm0,32v16a8,8,0,0,1-16,0V192a8,8,0,0,1,16,0Z"/>`],["bold",Ate`<path d="M100,36H56A20,20,0,0,0,36,56v44a20,20,0,0,0,20,20h44a20,20,0,0,0,20-20V56A20,20,0,0,0,100,36ZM96,96H60V60H96Zm4,40H56a20,20,0,0,0-20,20v44a20,20,0,0,0,20,20h44a20,20,0,0,0,20-20V156A20,20,0,0,0,100,136Zm-4,60H60V160H96ZM200,36H156a20,20,0,0,0-20,20v44a20,20,0,0,0,20,20h44a20,20,0,0,0,20-20V56A20,20,0,0,0,200,36Zm-4,60H160V60h36Zm-60,76V148a12,12,0,0,1,24,0v24a12,12,0,0,1-24,0Zm84-8a12,12,0,0,1-12,12H196v32a12,12,0,0,1-12,12H148a12,12,0,0,1,0-24h24V148a12,12,0,0,1,24,0v4h12A12,12,0,0,1,220,164Z"/>`],["fill",Ate`<path d="M120,56v48a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40h48A16,16,0,0,1,120,56Zm-16,80H56a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,104,136Zm96-96H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,200,40ZM144,184a8,8,0,0,0,8-8V144a8,8,0,0,0-16,0v32A8,8,0,0,0,144,184Zm64-32H184v-8a8,8,0,0,0-16,0v56H144a8,8,0,0,0,0,16h32a8,8,0,0,0,8-8V168h24a8,8,0,0,0,0-16Zm0,32a8,8,0,0,0-8,8v16a8,8,0,0,0,16,0V192A8,8,0,0,0,208,184Z"/>`],["duotone",Ate`<path d="M112,56v48a8,8,0,0,1-8,8H56a8,8,0,0,1-8-8V56a8,8,0,0,1,8-8h48A8,8,0,0,1,112,56Zm-8,88H56a8,8,0,0,0-8,8v48a8,8,0,0,0,8,8h48a8,8,0,0,0,8-8V152A8,8,0,0,0,104,144Zm96-96H152a8,8,0,0,0-8,8v48a8,8,0,0,0,8,8h48a8,8,0,0,0,8-8V56A8,8,0,0,0,200,48Z" opacity="0.2"/><path d="M104,40H56A16,16,0,0,0,40,56v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,104,40Zm0,64H56V56h48v48Zm0,32H56a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,104,136Zm0,64H56V152h48v48ZM200,40H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,200,40Zm0,64H152V56h48v48Zm-64,72V144a8,8,0,0,1,16,0v32a8,8,0,0,1-16,0Zm80-16a8,8,0,0,1-8,8H184v40a8,8,0,0,1-8,8H144a8,8,0,0,1,0-16h24V144a8,8,0,0,1,16,0v8h24A8,8,0,0,1,216,160Zm0,32v16a8,8,0,0,1-16,0V192a8,8,0,0,1,16,0Z"/>`]]),Hse.styles=Uee`
    :host {
      display: contents;
    }
  `,jse([Qte({type:String,reflect:!0})],Hse.prototype,"size",2),jse([Qte({type:String,reflect:!0})],Hse.prototype,"weight",2),jse([Qte({type:String,reflect:!0})],Hse.prototype,"color",2),jse([Qte({type:Boolean,reflect:!0})],Hse.prototype,"mirrored",2),Hse=jse([Fte("ph-qr-code")],Hse);var zse=Object.freeze({__proto__:null,get PhQrCode(){return Hse}}),Fse=Object.defineProperty,Vse=Object.getOwnPropertyDescriptor,Zse=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?Vse(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Fse(t,r,s),s};let qse=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${qse.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};qse.weightsMap=new Map([["thin",Ate`<path d="M136,180a8,8,0,1,1-8-8A8,8,0,0,1,136,180ZM128,76c-19.85,0-36,14.36-36,32v4a4,4,0,0,0,8,0v-4c0-13.23,12.56-24,28-24s28,10.77,28,24-12.56,24-28,24a4,4,0,0,0-4,4v8a4,4,0,0,0,8,0v-4.2c18-1.77,32-15.36,32-31.8C164,90.36,147.85,76,128,76Zm100,52A100,100,0,1,1,128,28,100.11,100.11,0,0,1,228,128Zm-8,0a92,92,0,1,0-92,92A92.1,92.1,0,0,0,220,128Z"/>`],["light",Ate`<path d="M138,180a10,10,0,1,1-10-10A10,10,0,0,1,138,180ZM128,74c-21,0-38,15.25-38,34v4a6,6,0,0,0,12,0v-4c0-12.13,11.66-22,26-22s26,9.87,26,22-11.66,22-26,22a6,6,0,0,0-6,6v8a6,6,0,0,0,12,0v-2.42c18.11-2.58,32-16.66,32-33.58C166,89.25,149,74,128,74Zm102,54A102,102,0,1,1,128,26,102.12,102.12,0,0,1,230,128Zm-12,0a90,90,0,1,0-90,90A90.1,90.1,0,0,0,218,128Z"/>`],["regular",Ate`<path d="M140,180a12,12,0,1,1-12-12A12,12,0,0,1,140,180ZM128,72c-22.06,0-40,16.15-40,36v4a8,8,0,0,0,16,0v-4c0-11,10.77-20,24-20s24,9,24,20-10.77,20-24,20a8,8,0,0,0-8,8v8a8,8,0,0,0,16,0v-.72c18.24-3.35,32-17.9,32-35.28C168,88.15,150.06,72,128,72Zm104,56A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"/>`],["bold",Ate`<path d="M144,180a16,16,0,1,1-16-16A16,16,0,0,1,144,180Zm92-52A108,108,0,1,1,128,20,108.12,108.12,0,0,1,236,128Zm-24,0a84,84,0,1,0-84,84A84.09,84.09,0,0,0,212,128ZM128,64c-24.26,0-44,17.94-44,40v4a12,12,0,0,0,24,0v-4c0-8.82,9-16,20-16s20,7.18,20,16-9,16-20,16a12,12,0,0,0-12,12v8a12,12,0,0,0,23.73,2.56C158.31,137.88,172,122.37,172,104,172,81.94,152.26,64,128,64Z"/>`],["fill",Ate`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,168a12,12,0,1,1,12-12A12,12,0,0,1,128,192Zm8-48.72V144a8,8,0,0,1-16,0v-8a8,8,0,0,1,8-8c13.23,0,24-9,24-20s-10.77-20-24-20-24,9-24,20v4a8,8,0,0,1-16,0v-4c0-19.85,17.94-36,40-36s40,16.15,40,36C168,125.38,154.24,139.93,136,143.28Z"/>`],["duotone",Ate`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M140,180a12,12,0,1,1-12-12A12,12,0,0,1,140,180ZM128,72c-22.06,0-40,16.15-40,36v4a8,8,0,0,0,16,0v-4c0-11,10.77-20,24-20s24,9,24,20-10.77,20-24,20a8,8,0,0,0-8,8v8a8,8,0,0,0,16,0v-.72c18.24-3.35,32-17.9,32-35.28C168,88.15,150.06,72,128,72Zm104,56A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"/>`]]),qse.styles=Uee`
    :host {
      display: contents;
    }
  `,Zse([Qte({type:String,reflect:!0})],qse.prototype,"size",2),Zse([Qte({type:String,reflect:!0})],qse.prototype,"weight",2),Zse([Qte({type:String,reflect:!0})],qse.prototype,"color",2),Zse([Qte({type:Boolean,reflect:!0})],qse.prototype,"mirrored",2),qse=Zse([Fte("ph-question")],qse);var Wse=Object.freeze({__proto__:null,get PhQuestion(){return qse}}),Kse=Object.defineProperty,Gse=Object.getOwnPropertyDescriptor,Yse=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?Gse(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Kse(t,r,s),s};let Jse=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Jse.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};Jse.weightsMap=new Map([["thin",Ate`<path d="M188,96c0,27.51-24.77,50.09-56,51.89V160a4,4,0,0,1-8,0V144a4,4,0,0,1,4-4c28.67,0,52-19.74,52-44s-23.33-44-52-44S76,71.74,76,96a4,4,0,0,1-8,0c0-28.67,26.92-52,60-52S188,67.33,188,96ZM128,196a12,12,0,1,0,12,12A12,12,0,0,0,128,196Z"/>`],["light",Ate`<path d="M190,96c0,28-24.62,51.11-56,53.75V160a6,6,0,0,1-12,0V144a6,6,0,0,1,6-6c27.57,0,50-18.84,50-42s-22.43-42-50-42S78,72.84,78,96a6,6,0,0,1-12,0c0-29.78,27.81-54,62-54S190,66.22,190,96Zm-62,98a14,14,0,1,0,14,14A14,14,0,0,0,128,194Z"/>`],["regular",Ate`<path d="M192,96c0,28.51-24.47,52.11-56,55.56V160a8,8,0,0,1-16,0V144a8,8,0,0,1,8-8c26.47,0,48-17.94,48-40s-21.53-40-48-40S80,73.94,80,96a8,8,0,0,1-16,0c0-30.88,28.71-56,64-56S192,65.12,192,96Zm-64,96a16,16,0,1,0,16,16A16,16,0,0,0,128,192Z"/>`],["bold",Ate`<path d="M196,96c0,29.47-24.21,54.05-56,59.06V156a12,12,0,0,1-24,0V144a12,12,0,0,1,12-12c24.26,0,44-16.15,44-36s-19.74-36-44-36S84,76.15,84,96a12,12,0,0,1-24,0c0-33.08,30.5-60,68-60S196,62.92,196,96Zm-68,92a20,20,0,1,0,20,20A20,20,0,0,0,128,188Z"/>`],["fill",Ate`<path d="M200,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V40A16,16,0,0,0,200,24ZM136,143.28V144a8,8,0,0,1-16,0v-8a8,8,0,0,1,8-8c13.23,0,24-9,24-20s-10.77-20-24-20-24,9-24,20v4a8,8,0,0,1-16,0v-4c0-19.85,17.94-36,40-36s40,16.15,40,36C168,125.38,154.23,139.93,136,143.28ZM140,180a12,12,0,1,1-12-12A12,12,0,0,1,140,180Z"/>`],["duotone",Ate`<path d="M216,40V216a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V40A16,16,0,0,1,56,24H200A16,16,0,0,1,216,40Z" opacity="0.2"/><path d="M192,96c0,28.51-24.47,52.11-56,55.56V160a8,8,0,0,1-16,0V144a8,8,0,0,1,8-8c26.47,0,48-17.94,48-40s-21.53-40-48-40S80,73.94,80,96a8,8,0,0,1-16,0c0-30.88,28.71-56,64-56S192,65.12,192,96Zm-64,96a16,16,0,1,0,16,16A16,16,0,0,0,128,192Z"/>`]]),Jse.styles=Uee`
    :host {
      display: contents;
    }
  `,Yse([Qte({type:String,reflect:!0})],Jse.prototype,"size",2),Yse([Qte({type:String,reflect:!0})],Jse.prototype,"weight",2),Yse([Qte({type:String,reflect:!0})],Jse.prototype,"color",2),Yse([Qte({type:Boolean,reflect:!0})],Jse.prototype,"mirrored",2),Jse=Yse([Fte("ph-question-mark")],Jse);var Xse=Object.freeze({__proto__:null,get PhQuestionMark(){return Jse}}),Qse=Object.defineProperty,eoe=Object.getOwnPropertyDescriptor,toe=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?eoe(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Qse(t,r,s),s};let roe=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${roe.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};roe.weightsMap=new Map([["thin",Ate`<path d="M223,105.58c-4-4.2-8.2-8.54-10-12.8-1.65-4-1.73-9.53-1.82-15.41-.14-9-.29-19.19-6.83-25.74s-16.74-6.69-25.74-6.83c-5.88-.09-11.43-.17-15.41-1.82-4.26-1.76-8.6-5.93-12.8-9.95-6.68-6.41-13.59-13-22.42-13s-15.74,6.62-22.42,13c-4.2,4-8.54,8.2-12.8,10-4,1.65-9.53,1.73-15.41,1.82-9,.14-19.19.29-25.74,6.83S44.94,68.37,44.8,77.37c-.09,5.88-.17,11.43-1.82,15.41-1.76,4.26-5.93,8.6-9.95,12.8-6.41,6.68-13,13.59-13,22.42s6.62,15.74,13,22.42c4,4.2,8.2,8.54,10,12.8,1.65,4,1.73,9.53,1.82,15.41.14,9,.29,19.19,6.83,25.74s16.74,6.69,25.74,6.83c5.88.09,11.43.17,15.41,1.82,4.26,1.76,8.6,5.93,12.8,9.95,6.68,6.41,13.59,13,22.42,13s15.74-6.62,22.42-13c4.2-4,8.54-8.2,12.8-10,4-1.65,9.53-1.73,15.41-1.82,9-.14,19.19-.29,25.74-6.83s6.69-16.74,6.83-25.74c.09-5.88.17-11.43,1.82-15.41,1.76-4.26,5.93-8.6,9.95-12.8,6.41-6.68,13-13.59,13-22.42S229.38,112.26,223,105.58Zm-5.78,39.3c-4.54,4.73-9.24,9.63-11.57,15.28-2.23,5.39-2.33,12-2.43,18.35-.12,8.2-.24,16-4.49,20.2s-12,4.37-20.2,4.49c-6.37.1-13,.2-18.35,2.43-5.65,2.33-10.55,7-15.28,11.57C139.09,222.75,133.62,228,128,228s-11.09-5.25-16.88-10.8c-4.73-4.54-9.63-9.24-15.28-11.57-5.39-2.23-12-2.33-18.35-2.43-8.2-.12-15.95-.24-20.2-4.49s-4.37-12-4.49-20.2c-.1-6.37-.2-13-2.43-18.35-2.33-5.65-7-10.55-11.57-15.28C33.25,139.09,28,133.62,28,128s5.25-11.09,10.8-16.88c4.54-4.73,9.24-9.63,11.57-15.28,2.23-5.39,2.33-12,2.43-18.35.12-8.2.24-15.95,4.49-20.2s12-4.37,20.2-4.49c6.37-.1,13-.2,18.35-2.43,5.65-2.33,10.55-7,15.28-11.57C116.91,33.25,122.38,28,128,28s11.09,5.25,16.88,10.8c4.73,4.54,9.63,9.24,15.28,11.57,5.39,2.23,12,2.33,18.35,2.43,8.2.12,16,.24,20.2,4.49s4.37,12,4.49,20.2c.1,6.37.2,13,2.43,18.35,2.33,5.65,7,10.55,11.57,15.28,5.55,5.79,10.8,11.26,10.8,16.88S222.75,139.09,217.2,144.88Zm-46.37-43.71a4,4,0,0,1,0,5.66l-56,56a4,4,0,0,1-5.66,0l-24-24a4,4,0,0,1,5.66-5.66L112,154.34l53.17-53.17A4,4,0,0,1,170.83,101.17Z"/>`],["light",Ate`<path d="M224.42,104.2c-3.9-4.07-7.93-8.27-9.55-12.18-1.5-3.63-1.58-9-1.67-14.68-.14-9.38-.3-20-7.42-27.12S188,42.94,178.66,42.8c-5.68-.09-11-.17-14.68-1.67-3.91-1.62-8.11-5.65-12.18-9.55C145.16,25.22,137.64,18,128,18s-17.16,7.22-23.8,13.58c-4.07,3.9-8.27,7.93-12.18,9.55-3.63,1.5-9,1.58-14.68,1.67-9.38.14-20,.3-27.12,7.42S42.94,68,42.8,77.34c-.09,5.68-.17,11-1.67,14.68-1.62,3.91-5.65,8.11-9.55,12.18C25.22,110.84,18,118.36,18,128s7.22,17.16,13.58,23.8c3.9,4.07,7.93,8.27,9.55,12.18,1.5,3.63,1.58,9,1.67,14.68.14,9.38.3,20,7.42,27.12S68,213.06,77.34,213.2c5.68.09,11,.17,14.68,1.67,3.91,1.62,8.11,5.65,12.18,9.55C110.84,230.78,118.36,238,128,238s17.16-7.22,23.8-13.58c4.07-3.9,8.27-7.93,12.18-9.55,3.63-1.5,9-1.58,14.68-1.67,9.38-.14,20-.3,27.12-7.42s7.28-17.74,7.42-27.12c.09-5.68.17-11,1.67-14.68,1.62-3.91,5.65-8.11,9.55-12.18C230.78,145.16,238,137.64,238,128S230.78,110.84,224.42,104.2Zm-8.66,39.3c-4.67,4.86-9.5,9.9-12,15.9-2.38,5.74-2.48,12.52-2.58,19.08-.11,7.44-.23,15.14-3.9,18.82s-11.38,3.79-18.82,3.9c-6.56.1-13.34.2-19.08,2.58-6,2.48-11,7.31-15.91,12-5.25,5-10.68,10.24-15.49,10.24s-10.24-5.21-15.5-10.24c-4.86-4.67-9.9-9.5-15.9-12-5.74-2.38-12.52-2.48-19.08-2.58-7.44-.11-15.14-.23-18.82-3.9s-3.79-11.38-3.9-18.82c-.1-6.56-.2-13.34-2.58-19.08-2.48-6-7.31-11-12-15.91C35.21,138.24,30,132.81,30,128s5.21-10.24,10.24-15.5c4.67-4.86,9.5-9.9,12-15.9,2.38-5.74,2.48-12.52,2.58-19.08.11-7.44.23-15.14,3.9-18.82s11.38-3.79,18.82-3.9c6.56-.1,13.34-.2,19.08-2.58,6-2.48,11-7.31,15.91-12C117.76,35.21,123.19,30,128,30s10.24,5.21,15.5,10.24c4.86,4.67,9.9,9.5,15.9,12,5.74,2.38,12.52,2.48,19.08,2.58,7.44.11,15.14.23,18.82,3.9s3.79,11.38,3.9,18.82c.1,6.56.2,13.34,2.58,19.08,2.48,6,7.31,11,12,15.91,5,5.25,10.24,10.68,10.24,15.49S220.79,138.24,215.76,143.5ZM172.24,99.76a6,6,0,0,1,0,8.48l-56,56a6,6,0,0,1-8.48,0l-24-24a6,6,0,0,1,8.48-8.48L112,151.51l51.76-51.75A6,6,0,0,1,172.24,99.76Z"/>`],["regular",Ate`<path d="M225.86,102.82c-3.77-3.94-7.67-8-9.14-11.57-1.36-3.27-1.44-8.69-1.52-13.94-.15-9.76-.31-20.82-8-28.51s-18.75-7.85-28.51-8c-5.25-.08-10.67-.16-13.94-1.52-3.56-1.47-7.63-5.37-11.57-9.14C146.28,23.51,138.44,16,128,16s-18.27,7.51-25.18,14.14c-3.94,3.77-8,7.67-11.57,9.14C88,40.64,82.56,40.72,77.31,40.8c-9.76.15-20.82.31-28.51,8S41,67.55,40.8,77.31c-.08,5.25-.16,10.67-1.52,13.94-1.47,3.56-5.37,7.63-9.14,11.57C23.51,109.72,16,117.56,16,128s7.51,18.27,14.14,25.18c3.77,3.94,7.67,8,9.14,11.57,1.36,3.27,1.44,8.69,1.52,13.94.15,9.76.31,20.82,8,28.51s18.75,7.85,28.51,8c5.25.08,10.67.16,13.94,1.52,3.56,1.47,7.63,5.37,11.57,9.14C109.72,232.49,117.56,240,128,240s18.27-7.51,25.18-14.14c3.94-3.77,8-7.67,11.57-9.14,3.27-1.36,8.69-1.44,13.94-1.52,9.76-.15,20.82-.31,28.51-8s7.85-18.75,8-28.51c.08-5.25.16-10.67,1.52-13.94,1.47-3.56,5.37-7.63,9.14-11.57C232.49,146.28,240,138.44,240,128S232.49,109.73,225.86,102.82Zm-11.55,39.29c-4.79,5-9.75,10.17-12.38,16.52-2.52,6.1-2.63,13.07-2.73,19.82-.1,7-.21,14.33-3.32,17.43s-10.39,3.22-17.43,3.32c-6.75.1-13.72.21-19.82,2.73-6.35,2.63-11.52,7.59-16.52,12.38S132,224,128,224s-9.15-4.92-14.11-9.69-10.17-9.75-16.52-12.38c-6.1-2.52-13.07-2.63-19.82-2.73-7-.1-14.33-.21-17.43-3.32s-3.22-10.39-3.32-17.43c-.1-6.75-.21-13.72-2.73-19.82-2.63-6.35-7.59-11.52-12.38-16.52S32,132,32,128s4.92-9.15,9.69-14.11,9.75-10.17,12.38-16.52c2.52-6.1,2.63-13.07,2.73-19.82.1-7,.21-14.33,3.32-17.43S70.51,56.9,77.55,56.8c6.75-.1,13.72-.21,19.82-2.73,6.35-2.63,11.52-7.59,16.52-12.38S124,32,128,32s9.15,4.92,14.11,9.69,10.17,9.75,16.52,12.38c6.1,2.52,13.07,2.63,19.82,2.73,7,.1,14.33.21,17.43,3.32s3.22,10.39,3.32,17.43c.1,6.75.21,13.72,2.73,19.82,2.63,6.35,7.59,11.52,12.38,16.52S224,124,224,128,219.08,137.15,214.31,142.11ZM173.66,98.34a8,8,0,0,1,0,11.32l-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35A8,8,0,0,1,173.66,98.34Z"/>`],["bold",Ate`<path d="M228.75,100.05c-3.52-3.67-7.15-7.46-8.34-10.33-1.06-2.56-1.14-7.83-1.21-12.47-.15-10-.34-22.44-9.18-31.27s-21.27-9-31.27-9.18c-4.64-.07-9.91-.15-12.47-1.21-2.87-1.19-6.66-4.82-10.33-8.34C148.87,20.46,140.05,12,128,12s-20.87,8.46-27.95,15.25c-3.67,3.52-7.46,7.15-10.33,8.34-2.56,1.06-7.83,1.14-12.47,1.21C67.25,37,54.81,37.14,46,46S37,67.25,36.8,77.25c-.07,4.64-.15,9.91-1.21,12.47-1.19,2.87-4.82,6.66-8.34,10.33C20.46,107.13,12,116,12,128S20.46,148.87,27.25,156c3.52,3.67,7.15,7.46,8.34,10.33,1.06,2.56,1.14,7.83,1.21,12.47.15,10,.34,22.44,9.18,31.27s21.27,9,31.27,9.18c4.64.07,9.91.15,12.47,1.21,2.87,1.19,6.66,4.82,10.33,8.34C107.13,235.54,116,244,128,244s20.87-8.46,27.95-15.25c3.67-3.52,7.46-7.15,10.33-8.34,2.56-1.06,7.83-1.14,12.47-1.21,10-.15,22.44-.34,31.27-9.18s9-21.27,9.18-31.27c.07-4.64.15-9.91,1.21-12.47,1.19-2.87,4.82-6.66,8.34-10.33C235.54,148.87,244,140.05,244,128S235.54,107.13,228.75,100.05Zm-17.32,39.29c-4.82,5-10.28,10.72-13.19,17.76-2.82,6.8-2.93,14.16-3,21.29-.08,5.36-.19,12.71-2.15,14.66s-9.3,2.07-14.66,2.15c-7.13.11-14.49.22-21.29,3-7,2.91-12.73,8.37-17.76,13.19C135.78,214.84,130.4,220,128,220s-7.78-5.16-11.34-8.57c-5-4.82-10.72-10.28-17.76-13.19-6.8-2.82-14.16-2.93-21.29-3-5.36-.08-12.71-.19-14.66-2.15s-2.07-9.3-2.15-14.66c-.11-7.13-.22-14.49-3-21.29-2.91-7-8.37-12.73-13.19-17.76C41.16,135.78,36,130.4,36,128s5.16-7.78,8.57-11.34c4.82-5,10.28-10.72,13.19-17.76,2.82-6.8,2.93-14.16,3-21.29C60.88,72.25,61,64.9,63,63s9.3-2.07,14.66-2.15c7.13-.11,14.49-.22,21.29-3,7-2.91,12.73-8.37,17.76-13.19C120.22,41.16,125.6,36,128,36s7.78,5.16,11.34,8.57c5,4.82,10.72,10.28,17.76,13.19,6.8,2.82,14.16,2.93,21.29,3,5.36.08,12.71.19,14.66,2.15s2.07,9.3,2.15,14.66c.11,7.13.22,14.49,3,21.29,2.91,7,8.37,12.73,13.19,17.76,3.41,3.56,8.57,8.94,8.57,11.34S214.84,135.78,211.43,139.34ZM176.49,95.51a12,12,0,0,1,0,17l-56,56a12,12,0,0,1-17,0l-24-24a12,12,0,1,1,17-17L112,143l47.51-47.52A12,12,0,0,1,176.49,95.51Z"/>`],["fill",Ate`<path d="M225.86,102.82c-3.77-3.94-7.67-8-9.14-11.57-1.36-3.27-1.44-8.69-1.52-13.94-.15-9.76-.31-20.82-8-28.51s-18.75-7.85-28.51-8c-5.25-.08-10.67-.16-13.94-1.52-3.56-1.47-7.63-5.37-11.57-9.14C146.28,23.51,138.44,16,128,16s-18.27,7.51-25.18,14.14c-3.94,3.77-8,7.67-11.57,9.14C88,40.64,82.56,40.72,77.31,40.8c-9.76.15-20.82.31-28.51,8S41,67.55,40.8,77.31c-.08,5.25-.16,10.67-1.52,13.94-1.47,3.56-5.37,7.63-9.14,11.57C23.51,109.72,16,117.56,16,128s7.51,18.27,14.14,25.18c3.77,3.94,7.67,8,9.14,11.57,1.36,3.27,1.44,8.69,1.52,13.94.15,9.76.31,20.82,8,28.51s18.75,7.85,28.51,8c5.25.08,10.67.16,13.94,1.52,3.56,1.47,7.63,5.37,11.57,9.14C109.72,232.49,117.56,240,128,240s18.27-7.51,25.18-14.14c3.94-3.77,8-7.67,11.57-9.14,3.27-1.36,8.69-1.44,13.94-1.52,9.76-.15,20.82-.31,28.51-8s7.85-18.75,8-28.51c.08-5.25.16-10.67,1.52-13.94,1.47-3.56,5.37-7.63,9.14-11.57C232.49,146.28,240,138.44,240,128S232.49,109.73,225.86,102.82Zm-52.2,6.84-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35a8,8,0,0,1,11.32,11.32Z"/>`],["duotone",Ate`<path d="M232,128c0,12.51-17.82,21.95-22.68,33.69-4.68,11.32,1.42,30.65-7.78,39.85s-28.53,3.1-39.85,7.78C150,214.18,140.5,232,128,232s-22-17.82-33.69-22.68c-11.32-4.68-30.65,1.42-39.85-7.78s-3.1-28.53-7.78-39.85C41.82,150,24,140.5,24,128s17.82-22,22.68-33.69C51.36,83,45.26,63.66,54.46,54.46S83,51.36,94.31,46.68C106.05,41.82,115.5,24,128,24S150,41.82,161.69,46.68c11.32,4.68,30.65-1.42,39.85,7.78s3.1,28.53,7.78,39.85C214.18,106.05,232,115.5,232,128Z" opacity="0.2"/><path d="M225.86,102.82c-3.77-3.94-7.67-8-9.14-11.57-1.36-3.27-1.44-8.69-1.52-13.94-.15-9.76-.31-20.82-8-28.51s-18.75-7.85-28.51-8c-5.25-.08-10.67-.16-13.94-1.52-3.56-1.47-7.63-5.37-11.57-9.14C146.28,23.51,138.44,16,128,16s-18.27,7.51-25.18,14.14c-3.94,3.77-8,7.67-11.57,9.14C88,40.64,82.56,40.72,77.31,40.8c-9.76.15-20.82.31-28.51,8S41,67.55,40.8,77.31c-.08,5.25-.16,10.67-1.52,13.94-1.47,3.56-5.37,7.63-9.14,11.57C23.51,109.72,16,117.56,16,128s7.51,18.27,14.14,25.18c3.77,3.94,7.67,8,9.14,11.57,1.36,3.27,1.44,8.69,1.52,13.94.15,9.76.31,20.82,8,28.51s18.75,7.85,28.51,8c5.25.08,10.67.16,13.94,1.52,3.56,1.47,7.63,5.37,11.57,9.14C109.72,232.49,117.56,240,128,240s18.27-7.51,25.18-14.14c3.94-3.77,8-7.67,11.57-9.14,3.27-1.36,8.69-1.44,13.94-1.52,9.76-.15,20.82-.31,28.51-8s7.85-18.75,8-28.51c.08-5.25.16-10.67,1.52-13.94,1.47-3.56,5.37-7.63,9.14-11.57C232.49,146.28,240,138.44,240,128S232.49,109.73,225.86,102.82Zm-11.55,39.29c-4.79,5-9.75,10.17-12.38,16.52-2.52,6.1-2.63,13.07-2.73,19.82-.1,7-.21,14.33-3.32,17.43s-10.39,3.22-17.43,3.32c-6.75.1-13.72.21-19.82,2.73-6.35,2.63-11.52,7.59-16.52,12.38S132,224,128,224s-9.15-4.92-14.11-9.69-10.17-9.75-16.52-12.38c-6.1-2.52-13.07-2.63-19.82-2.73-7-.1-14.33-.21-17.43-3.32s-3.22-10.39-3.32-17.43c-.1-6.75-.21-13.72-2.73-19.82-2.63-6.35-7.59-11.52-12.38-16.52S32,132,32,128s4.92-9.15,9.69-14.11,9.75-10.17,12.38-16.52c2.52-6.1,2.63-13.07,2.73-19.82.1-7,.21-14.33,3.32-17.43S70.51,56.9,77.55,56.8c6.75-.1,13.72-.21,19.82-2.73,6.35-2.63,11.52-7.59,16.52-12.38S124,32,128,32s9.15,4.92,14.11,9.69,10.17,9.75,16.52,12.38c6.1,2.52,13.07,2.63,19.82,2.73,7,.1,14.33.21,17.43,3.32s3.22,10.39,3.32,17.43c.1,6.75.21,13.72,2.73,19.82,2.63,6.35,7.59,11.52,12.38,16.52S224,124,224,128,219.08,137.15,214.31,142.11ZM173.66,98.34a8,8,0,0,1,0,11.32l-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35A8,8,0,0,1,173.66,98.34Z"/>`]]),roe.styles=Uee`
    :host {
      display: contents;
    }
  `,toe([Qte({type:String,reflect:!0})],roe.prototype,"size",2),toe([Qte({type:String,reflect:!0})],roe.prototype,"weight",2),toe([Qte({type:String,reflect:!0})],roe.prototype,"color",2),toe([Qte({type:Boolean,reflect:!0})],roe.prototype,"mirrored",2),roe=toe([Fte("ph-seal-check")],roe);var noe=Object.freeze({__proto__:null,get PhSealCheck(){return roe}}),ioe=Object.defineProperty,soe=Object.getOwnPropertyDescriptor,ooe=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?soe(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&ioe(t,r,s),s};let aoe=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${aoe.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};aoe.weightsMap=new Map([["thin",Ate`<path d="M116,216a4,4,0,0,1-4,4H48a4,4,0,0,1-4-4V40a4,4,0,0,1,4-4h64a4,4,0,0,1,0,8H52V212h60A4,4,0,0,1,116,216Zm110.83-90.83-40-40a4,4,0,0,0-5.66,5.66L214.34,124H112a4,4,0,0,0,0,8H214.34l-33.17,33.17a4,4,0,0,0,5.66,5.66l40-40A4,4,0,0,0,226.83,125.17Z"/>`],["light",Ate`<path d="M118,216a6,6,0,0,1-6,6H48a6,6,0,0,1-6-6V40a6,6,0,0,1,6-6h64a6,6,0,0,1,0,12H54V210h58A6,6,0,0,1,118,216Zm110.24-92.24-40-40a6,6,0,0,0-8.48,8.48L209.51,122H112a6,6,0,0,0,0,12h97.51l-29.75,29.76a6,6,0,1,0,8.48,8.48l40-40A6,6,0,0,0,228.24,123.76Z"/>`],["regular",Ate`<path d="M120,216a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8h64a8,8,0,0,1,0,16H56V208h56A8,8,0,0,1,120,216Zm109.66-93.66-40-40a8,8,0,0,0-11.32,11.32L204.69,120H112a8,8,0,0,0,0,16h92.69l-26.35,26.34a8,8,0,0,0,11.32,11.32l40-40A8,8,0,0,0,229.66,122.34Z"/>`],["bold",Ate`<path d="M124,216a12,12,0,0,1-12,12H48a12,12,0,0,1-12-12V40A12,12,0,0,1,48,28h64a12,12,0,0,1,0,24H60V204h52A12,12,0,0,1,124,216Zm108.49-96.49-40-40a12,12,0,0,0-17,17L195,116H112a12,12,0,0,0,0,24h83l-19.52,19.51a12,12,0,0,0,17,17l40-40A12,12,0,0,0,232.49,119.51Z"/>`],["fill",Ate`<path d="M120,216a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8h64a8,8,0,0,1,0,16H56V208h56A8,8,0,0,1,120,216Zm109.66-93.66-40-40A8,8,0,0,0,176,88v32H112a8,8,0,0,0,0,16h64v32a8,8,0,0,0,13.66,5.66l40-40A8,8,0,0,0,229.66,122.34Z"/>`],["duotone",Ate`<path d="M224,56V200a16,16,0,0,1-16,16H48V40H208A16,16,0,0,1,224,56Z" opacity="0.2"/><path d="M120,216a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8h64a8,8,0,0,1,0,16H56V208h56A8,8,0,0,1,120,216Zm109.66-93.66-40-40a8,8,0,0,0-11.32,11.32L204.69,120H112a8,8,0,0,0,0,16h92.69l-26.35,26.34a8,8,0,0,0,11.32,11.32l40-40A8,8,0,0,0,229.66,122.34Z"/>`]]),aoe.styles=Uee`
    :host {
      display: contents;
    }
  `,ooe([Qte({type:String,reflect:!0})],aoe.prototype,"size",2),ooe([Qte({type:String,reflect:!0})],aoe.prototype,"weight",2),ooe([Qte({type:String,reflect:!0})],aoe.prototype,"color",2),ooe([Qte({type:Boolean,reflect:!0})],aoe.prototype,"mirrored",2),aoe=ooe([Fte("ph-sign-out")],aoe);var coe=Object.freeze({__proto__:null,get PhSignOut(){return aoe}}),loe=Object.defineProperty,doe=Object.getOwnPropertyDescriptor,uoe=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?doe(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&loe(t,r,s),s};let hoe=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${hoe.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};hoe.weightsMap=new Map([["thin",Ate`<path d="M132,32V64a4,4,0,0,1-8,0V32a4,4,0,0,1,8,0Zm41.25,54.75a4,4,0,0,0,2.83-1.18L198.71,63a4,4,0,0,0-5.66-5.66L170.43,79.92a4,4,0,0,0,2.82,6.83ZM224,124H192a4,4,0,0,0,0,8h32a4,4,0,0,0,0-8Zm-47.92,46.43a4,4,0,1,0-5.65,5.65l22.62,22.63a4,4,0,0,0,5.66-5.66ZM128,188a4,4,0,0,0-4,4v32a4,4,0,0,0,8,0V192A4,4,0,0,0,128,188ZM79.92,170.43,57.29,193.05A4,4,0,0,0,63,198.71l22.62-22.63a4,4,0,1,0-5.65-5.65ZM68,128a4,4,0,0,0-4-4H32a4,4,0,0,0,0,8H64A4,4,0,0,0,68,128ZM63,57.29A4,4,0,0,0,57.29,63L79.92,85.57a4,4,0,1,0,5.65-5.65Z"/>`],["light",Ate`<path d="M134,32V64a6,6,0,0,1-12,0V32a6,6,0,0,1,12,0Zm39.25,56.75A6,6,0,0,0,177.5,87l22.62-22.63a6,6,0,0,0-8.48-8.48L169,78.5a6,6,0,0,0,4.24,10.25ZM224,122H192a6,6,0,0,0,0,12h32a6,6,0,0,0,0-12Zm-46.5,47A6,6,0,0,0,169,177.5l22.63,22.62a6,6,0,0,0,8.48-8.48ZM128,186a6,6,0,0,0-6,6v32a6,6,0,0,0,12,0V192A6,6,0,0,0,128,186ZM78.5,169,55.88,191.64a6,6,0,1,0,8.48,8.48L87,177.5A6,6,0,1,0,78.5,169ZM70,128a6,6,0,0,0-6-6H32a6,6,0,0,0,0,12H64A6,6,0,0,0,70,128ZM64.36,55.88a6,6,0,0,0-8.48,8.48L78.5,87A6,6,0,1,0,87,78.5Z"/>`],["regular",Ate`<path d="M136,32V64a8,8,0,0,1-16,0V32a8,8,0,0,1,16,0Zm37.25,58.75a8,8,0,0,0,5.66-2.35l22.63-22.62a8,8,0,0,0-11.32-11.32L167.6,77.09a8,8,0,0,0,5.65,13.66ZM224,120H192a8,8,0,0,0,0,16h32a8,8,0,0,0,0-16Zm-45.09,47.6a8,8,0,0,0-11.31,11.31l22.62,22.63a8,8,0,0,0,11.32-11.32ZM128,184a8,8,0,0,0-8,8v32a8,8,0,0,0,16,0V192A8,8,0,0,0,128,184ZM77.09,167.6,54.46,190.22a8,8,0,0,0,11.32,11.32L88.4,178.91A8,8,0,0,0,77.09,167.6ZM72,128a8,8,0,0,0-8-8H32a8,8,0,0,0,0,16H64A8,8,0,0,0,72,128ZM65.78,54.46A8,8,0,0,0,54.46,65.78L77.09,88.4A8,8,0,0,0,88.4,77.09Z"/>`],["bold",Ate`<path d="M140,32V64a12,12,0,0,1-24,0V32a12,12,0,0,1,24,0Zm33.25,62.75a12,12,0,0,0,8.49-3.52L204.37,68.6a12,12,0,0,0-17-17L164.77,74.26a12,12,0,0,0,8.48,20.49ZM224,116H192a12,12,0,0,0,0,24h32a12,12,0,0,0,0-24Zm-42.26,48.77a12,12,0,1,0-17,17l22.63,22.63a12,12,0,0,0,17-17ZM128,180a12,12,0,0,0-12,12v32a12,12,0,0,0,24,0V192A12,12,0,0,0,128,180ZM74.26,164.77,51.63,187.4a12,12,0,0,0,17,17l22.63-22.63a12,12,0,1,0-17-17ZM76,128a12,12,0,0,0-12-12H32a12,12,0,0,0,0,24H64A12,12,0,0,0,76,128ZM68.6,51.63a12,12,0,1,0-17,17L74.26,91.23a12,12,0,0,0,17-17Z"/>`],["fill",Ate`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm33.94,58.75,17-17a8,8,0,0,1,11.32,11.32l-17,17a8,8,0,0,1-11.31-11.31ZM48,136a8,8,0,0,1,0-16H72a8,8,0,0,1,0,16Zm46.06,37.25-17,17a8,8,0,0,1-11.32-11.32l17-17a8,8,0,0,1,11.31,11.31Zm0-79.19a8,8,0,0,1-11.31,0l-17-17A8,8,0,0,1,77.09,65.77l17,17A8,8,0,0,1,94.06,94.06ZM136,208a8,8,0,0,1-16,0V184a8,8,0,0,1,16,0Zm0-136a8,8,0,0,1-16,0V48a8,8,0,0,1,16,0Zm54.23,118.23a8,8,0,0,1-11.32,0l-17-17a8,8,0,0,1,11.31-11.31l17,17A8,8,0,0,1,190.23,190.23ZM208,136H184a8,8,0,0,1,0-16h24a8,8,0,0,1,0,16Z"/>`],["duotone",Ate`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M136,32V64a8,8,0,0,1-16,0V32a8,8,0,0,1,16,0Zm37.25,58.75a8,8,0,0,0,5.66-2.35l22.63-22.62a8,8,0,0,0-11.32-11.32L167.6,77.09a8,8,0,0,0,5.65,13.66ZM224,120H192a8,8,0,0,0,0,16h32a8,8,0,0,0,0-16Zm-45.09,47.6a8,8,0,0,0-11.31,11.31l22.62,22.63a8,8,0,0,0,11.32-11.32ZM128,184a8,8,0,0,0-8,8v32a8,8,0,0,0,16,0V192A8,8,0,0,0,128,184ZM77.09,167.6,54.46,190.22a8,8,0,0,0,11.32,11.32L88.4,178.91A8,8,0,0,0,77.09,167.6ZM72,128a8,8,0,0,0-8-8H32a8,8,0,0,0,0,16H64A8,8,0,0,0,72,128ZM65.78,54.46A8,8,0,0,0,54.46,65.78L77.09,88.4A8,8,0,0,0,88.4,77.09Z"/>`]]),hoe.styles=Uee`
    :host {
      display: contents;
    }
  `,uoe([Qte({type:String,reflect:!0})],hoe.prototype,"size",2),uoe([Qte({type:String,reflect:!0})],hoe.prototype,"weight",2),uoe([Qte({type:String,reflect:!0})],hoe.prototype,"color",2),uoe([Qte({type:Boolean,reflect:!0})],hoe.prototype,"mirrored",2),hoe=uoe([Fte("ph-spinner")],hoe);var poe=Object.freeze({__proto__:null,get PhSpinner(){return hoe}}),foe=Object.defineProperty,goe=Object.getOwnPropertyDescriptor,moe=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?goe(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&foe(t,r,s),s};let yoe=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${yoe.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};yoe.weightsMap=new Map([["thin",Ate`<path d="M216,52H172V40a20,20,0,0,0-20-20H104A20,20,0,0,0,84,40V52H40a4,4,0,0,0,0,8H52V208a12,12,0,0,0,12,12H192a12,12,0,0,0,12-12V60h12a4,4,0,0,0,0-8ZM92,40a12,12,0,0,1,12-12h48a12,12,0,0,1,12,12V52H92ZM196,208a4,4,0,0,1-4,4H64a4,4,0,0,1-4-4V60H196ZM108,104v64a4,4,0,0,1-8,0V104a4,4,0,0,1,8,0Zm48,0v64a4,4,0,0,1-8,0V104a4,4,0,0,1,8,0Z"/>`],["light",Ate`<path d="M216,50H174V40a22,22,0,0,0-22-22H104A22,22,0,0,0,82,40V50H40a6,6,0,0,0,0,12H50V208a14,14,0,0,0,14,14H192a14,14,0,0,0,14-14V62h10a6,6,0,0,0,0-12ZM94,40a10,10,0,0,1,10-10h48a10,10,0,0,1,10,10V50H94ZM194,208a2,2,0,0,1-2,2H64a2,2,0,0,1-2-2V62H194ZM110,104v64a6,6,0,0,1-12,0V104a6,6,0,0,1,12,0Zm48,0v64a6,6,0,0,1-12,0V104a6,6,0,0,1,12,0Z"/>`],["regular",Ate`<path d="M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"/>`],["bold",Ate`<path d="M216,48H180V36A28,28,0,0,0,152,8H104A28,28,0,0,0,76,36V48H40a12,12,0,0,0,0,24h4V208a20,20,0,0,0,20,20H192a20,20,0,0,0,20-20V72h4a12,12,0,0,0,0-24ZM100,36a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4V48H100Zm88,168H68V72H188ZM116,104v64a12,12,0,0,1-24,0V104a12,12,0,0,1,24,0Zm48,0v64a12,12,0,0,1-24,0V104a12,12,0,0,1,24,0Z"/>`],["fill",Ate`<path d="M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM112,168a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm0-120H96V40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8Z"/>`],["duotone",Ate`<path d="M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56Z" opacity="0.2"/><path d="M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"/>`]]),yoe.styles=Uee`
    :host {
      display: contents;
    }
  `,moe([Qte({type:String,reflect:!0})],yoe.prototype,"size",2),moe([Qte({type:String,reflect:!0})],yoe.prototype,"weight",2),moe([Qte({type:String,reflect:!0})],yoe.prototype,"color",2),moe([Qte({type:Boolean,reflect:!0})],yoe.prototype,"mirrored",2),yoe=moe([Fte("ph-trash")],yoe);var woe=Object.freeze({__proto__:null,get PhTrash(){return yoe}}),boe=Object.defineProperty,voe=Object.getOwnPropertyDescriptor,Eoe=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?voe(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&boe(t,r,s),s};let Aoe=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Aoe.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};Aoe.weightsMap=new Map([["thin",Ate`<path d="M227.46,214c-16.52-28.56-43-48.06-73.68-55.09a68,68,0,1,0-51.56,0c-30.64,7-57.16,26.53-73.68,55.09a4,4,0,0,0,6.92,4C55,184.19,89.62,164,128,164s73,20.19,92.54,54a4,4,0,0,0,3.46,2,3.93,3.93,0,0,0,2-.54A4,4,0,0,0,227.46,214ZM68,96a60,60,0,1,1,60,60A60.07,60.07,0,0,1,68,96Z"/>`],["light",Ate`<path d="M229.19,213c-15.81-27.32-40.63-46.49-69.47-54.62a70,70,0,1,0-63.44,0C67.44,166.5,42.62,185.67,26.81,213a6,6,0,1,0,10.38,6C56.4,185.81,90.34,166,128,166s71.6,19.81,90.81,53a6,6,0,1,0,10.38-6ZM70,96a58,58,0,1,1,58,58A58.07,58.07,0,0,1,70,96Z"/>`],["regular",Ate`<path d="M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"/>`],["bold",Ate`<path d="M234.38,210a123.36,123.36,0,0,0-60.78-53.23,76,76,0,1,0-91.2,0A123.36,123.36,0,0,0,21.62,210a12,12,0,1,0,20.77,12c18.12-31.32,50.12-50,85.61-50s67.49,18.69,85.61,50a12,12,0,0,0,20.77-12ZM76,96a52,52,0,1,1,52,52A52.06,52.06,0,0,1,76,96Z"/>`],["fill",Ate`<path d="M230.93,220a8,8,0,0,1-6.93,4H32a8,8,0,0,1-6.92-12c15.23-26.33,38.7-45.21,66.09-54.16a72,72,0,1,1,73.66,0c27.39,8.95,50.86,27.83,66.09,54.16A8,8,0,0,1,230.93,220Z"/>`],["duotone",Ate`<path d="M192,96a64,64,0,1,1-64-64A64,64,0,0,1,192,96Z" opacity="0.2"/><path d="M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"/>`]]),Aoe.styles=Uee`
    :host {
      display: contents;
    }
  `,Eoe([Qte({type:String,reflect:!0})],Aoe.prototype,"size",2),Eoe([Qte({type:String,reflect:!0})],Aoe.prototype,"weight",2),Eoe([Qte({type:String,reflect:!0})],Aoe.prototype,"color",2),Eoe([Qte({type:Boolean,reflect:!0})],Aoe.prototype,"mirrored",2),Aoe=Eoe([Fte("ph-user")],Aoe);var xoe=Object.freeze({__proto__:null,get PhUser(){return Aoe}}),Coe=Object.defineProperty,Soe=Object.getOwnPropertyDescriptor,Ioe=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?Soe(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Coe(t,r,s),s};let _oe=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${_oe.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};_oe.weightsMap=new Map([["thin",Ate`<path d="M233.34,190.09,145.88,38.22h0a20.75,20.75,0,0,0-35.76,0L22.66,190.09a19.52,19.52,0,0,0,0,19.71A20.36,20.36,0,0,0,40.54,220H215.46a20.36,20.36,0,0,0,17.86-10.2A19.52,19.52,0,0,0,233.34,190.09ZM226.4,205.8a12.47,12.47,0,0,1-10.94,6.2H40.54a12.47,12.47,0,0,1-10.94-6.2,11.45,11.45,0,0,1,0-11.72L117.05,42.21a12.76,12.76,0,0,1,21.9,0L226.4,194.08A11.45,11.45,0,0,1,226.4,205.8ZM124,144V104a4,4,0,0,1,8,0v40a4,4,0,0,1-8,0Zm12,36a8,8,0,1,1-8-8A8,8,0,0,1,136,180Z"/>`],["light",Ate`<path d="M235.07,189.09,147.61,37.22h0a22.75,22.75,0,0,0-39.22,0L20.93,189.09a21.53,21.53,0,0,0,0,21.72A22.35,22.35,0,0,0,40.55,222h174.9a22.35,22.35,0,0,0,19.6-11.19A21.53,21.53,0,0,0,235.07,189.09ZM224.66,204.8a10.46,10.46,0,0,1-9.21,5.2H40.55a10.46,10.46,0,0,1-9.21-5.2,9.51,9.51,0,0,1,0-9.72L118.79,43.21a10.75,10.75,0,0,1,18.42,0l87.46,151.87A9.51,9.51,0,0,1,224.66,204.8ZM122,144V104a6,6,0,0,1,12,0v40a6,6,0,0,1-12,0Zm16,36a10,10,0,1,1-10-10A10,10,0,0,1,138,180Z"/>`],["regular",Ate`<path d="M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM222.93,203.8a8.5,8.5,0,0,1-7.48,4.2H40.55a8.5,8.5,0,0,1-7.48-4.2,7.59,7.59,0,0,1,0-7.72L120.52,44.21a8.75,8.75,0,0,1,15,0l87.45,151.87A7.59,7.59,0,0,1,222.93,203.8ZM120,144V104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,180Z"/>`],["bold",Ate`<path d="M240.26,186.1,152.81,34.23h0a28.74,28.74,0,0,0-49.62,0L15.74,186.1a27.45,27.45,0,0,0,0,27.71A28.31,28.31,0,0,0,40.55,228h174.9a28.31,28.31,0,0,0,24.79-14.19A27.45,27.45,0,0,0,240.26,186.1Zm-20.8,15.7a4.46,4.46,0,0,1-4,2.2H40.55a4.46,4.46,0,0,1-4-2.2,3.56,3.56,0,0,1,0-3.73L124,46.2a4.77,4.77,0,0,1,8,0l87.44,151.87A3.56,3.56,0,0,1,219.46,201.8ZM116,136V104a12,12,0,0,1,24,0v32a12,12,0,0,1-24,0Zm28,40a16,16,0,1,1-16-16A16,16,0,0,1,144,176Z"/>`],["fill",Ate`<path d="M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM120,104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm8,88a12,12,0,1,1,12-12A12,12,0,0,1,128,192Z"/>`],["duotone",Ate`<path d="M215.46,216H40.54C27.92,216,20,202.79,26.13,192.09L113.59,40.22c6.3-11,22.52-11,28.82,0l87.46,151.87C236,202.79,228.08,216,215.46,216Z" opacity="0.2"/><path d="M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM222.93,203.8a8.5,8.5,0,0,1-7.48,4.2H40.55a8.5,8.5,0,0,1-7.48-4.2,7.59,7.59,0,0,1,0-7.72L120.52,44.21a8.75,8.75,0,0,1,15,0l87.45,151.87A7.59,7.59,0,0,1,222.93,203.8ZM120,144V104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,180Z"/>`]]),_oe.styles=Uee`
    :host {
      display: contents;
    }
  `,Ioe([Qte({type:String,reflect:!0})],_oe.prototype,"size",2),Ioe([Qte({type:String,reflect:!0})],_oe.prototype,"weight",2),Ioe([Qte({type:String,reflect:!0})],_oe.prototype,"color",2),Ioe([Qte({type:Boolean,reflect:!0})],_oe.prototype,"mirrored",2),_oe=Ioe([Fte("ph-warning")],_oe);var koe=Object.freeze({__proto__:null,get PhWarning(){return _oe}}),Poe=Object.defineProperty,Toe=Object.getOwnPropertyDescriptor,Ooe=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?Toe(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Poe(t,r,s),s};let Noe=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Noe.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};Noe.weightsMap=new Map([["thin",Ate`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm-4-84V80a4,4,0,0,1,8,0v56a4,4,0,0,1-8,0Zm12,36a8,8,0,1,1-8-8A8,8,0,0,1,136,172Z"/>`],["light",Ate`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm-6-82V80a6,6,0,0,1,12,0v56a6,6,0,0,1-12,0Zm16,36a10,10,0,1,1-10-10A10,10,0,0,1,138,172Z"/>`],["regular",Ate`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm-8-80V80a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,172Z"/>`],["bold",Ate`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm-12-80V80a12,12,0,0,1,24,0v52a12,12,0,0,1-24,0Zm28,40a16,16,0,1,1-16-16A16,16,0,0,1,144,172Z"/>`],["fill",Ate`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm-8,56a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm8,104a12,12,0,1,1,12-12A12,12,0,0,1,128,184Z"/>`],["duotone",Ate`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm-8-80V80a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,172Z"/>`]]),Noe.styles=Uee`
    :host {
      display: contents;
    }
  `,Ooe([Qte({type:String,reflect:!0})],Noe.prototype,"size",2),Ooe([Qte({type:String,reflect:!0})],Noe.prototype,"weight",2),Ooe([Qte({type:String,reflect:!0})],Noe.prototype,"color",2),Ooe([Qte({type:Boolean,reflect:!0})],Noe.prototype,"mirrored",2),Noe=Ooe([Fte("ph-warning-circle")],Noe);var Roe=Object.freeze({__proto__:null,get PhWarningCircle(){return Noe}}),$oe=Object.defineProperty,Boe=Object.getOwnPropertyDescriptor,Moe=(e,t,r,n)=>{for(var i,s=n>1?void 0:n?Boe(t,r):t,o=e.length-1;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&$oe(t,r,s),s};let Uoe=class extends Dte{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return Ete`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Uoe.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};Uoe.weightsMap=new Map([["thin",Ate`<path d="M202.83,197.17a4,4,0,0,1-5.66,5.66L128,133.66,58.83,202.83a4,4,0,0,1-5.66-5.66L122.34,128,53.17,58.83a4,4,0,0,1,5.66-5.66L128,122.34l69.17-69.17a4,4,0,1,1,5.66,5.66L133.66,128Z"/>`],["light",Ate`<path d="M204.24,195.76a6,6,0,1,1-8.48,8.48L128,136.49,60.24,204.24a6,6,0,0,1-8.48-8.48L119.51,128,51.76,60.24a6,6,0,0,1,8.48-8.48L128,119.51l67.76-67.75a6,6,0,0,1,8.48,8.48L136.49,128Z"/>`],["regular",Ate`<path d="M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"/>`],["bold",Ate`<path d="M208.49,191.51a12,12,0,0,1-17,17L128,145,64.49,208.49a12,12,0,0,1-17-17L111,128,47.51,64.49a12,12,0,0,1,17-17L128,111l63.51-63.52a12,12,0,0,1,17,17L145,128Z"/>`],["fill",Ate`<path d="M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM181.66,170.34a8,8,0,0,1-11.32,11.32L128,139.31,85.66,181.66a8,8,0,0,1-11.32-11.32L116.69,128,74.34,85.66A8,8,0,0,1,85.66,74.34L128,116.69l42.34-42.35a8,8,0,0,1,11.32,11.32L139.31,128Z"/>`],["duotone",Ate`<path d="M216,56V200a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40H200A16,16,0,0,1,216,56Z" opacity="0.2"/><path d="M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"/>`]]),Uoe.styles=Uee`
    :host {
      display: contents;
    }
  `,Moe([Qte({type:String,reflect:!0})],Uoe.prototype,"size",2),Moe([Qte({type:String,reflect:!0})],Uoe.prototype,"weight",2),Moe([Qte({type:String,reflect:!0})],Uoe.prototype,"color",2),Moe([Qte({type:Boolean,reflect:!0})],Uoe.prototype,"mirrored",2),Uoe=Moe([Fte("ph-x")],Uoe);var Loe=Object.freeze({__proto__:null,get PhX(){return Uoe}});e.EthereumProvider=eR,e.OPTIONAL_EVENTS=jN,e.OPTIONAL_METHODS=LN,e.REQUIRED_EVENTS=DN,e.REQUIRED_METHODS=UN,e.default=QN,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=/sm/705ab703491566d2bae2436e41d27e4c18e92e0fa8508ab904f5f9644e61ff72.map